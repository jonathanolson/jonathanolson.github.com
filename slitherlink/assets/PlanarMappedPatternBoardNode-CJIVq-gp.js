import{N as p,P as h,L as W,C as k,T as m}from"./PhetioControlledVisibilityProperty-Bd0APyjs.js";import{o as v}from"./UnivariatePolynomial-CzQEP6td.js";import{S as x,h as z}from"./patternBoards-DKw4bfen.js";import{V as g}from"./Theme-B6xro5rz.js";class B extends p{constructor(c,E){const P=v()({labels:!1},E),s=c.patternBoard,i=c.planarPatternMap,o=new p({scale:30});s.faces.forEach(t=>{const e=t.isExit,a=i.faceMap.get(t),n=x.polygon(a);o.addChild(new h(n,{lineWidth:.02,fill:e?"#377":"#000"}))}),s.sectors.forEach(t=>{const e=i.sectorMap.get(t),a=e[0],n=e[1],u=e[2],l=a.minus(n),C=u.minus(n),M=l.normalized(),d=l.angle;let r=C.angle;r<d&&(r+=2*Math.PI);const f=.25,w=new x().moveToPoint(n).lineToPoint(M.timesScalar(f).plus(n)).arcPoint(n,f,d,r,!0).close().makeImmutable();o.addChild(new h(w,{stroke:"#fa6",lineWidth:.02}))}),s.edges.forEach(t=>{if(t.isExit)return;const e=i.edgeMap.get(t);o.addChild(new W(e[0],e[1],{stroke:"#fff",lineWidth:.02}))}),s.vertices.forEach(t=>{const e=t.isExit;o.addChild(new k(e?.1:.07,{center:i.vertexMap.get(t),lineWidth:.02,stroke:"#ccc",fill:e?"#222":"#ccc"}))}),P.labels&&(s.faces.forEach(t=>{const e=t.isExit,a=i.faceMap.get(t),n=z(a);o.addChild(new m(t.index,{font:g,center:n,fill:e?"#0ff":"#0f0",maxWidth:.5,maxHeight:.5}))}),s.vertices.forEach(t=>{const e=i.vertexMap.get(t);o.addChild(new m(t.index,{font:g,center:e,fill:"#fff",maxWidth:.5,maxHeight:.5}))})),super({children:[o]}),this.planarMappedPatternBoard=c}}export{B as P};
