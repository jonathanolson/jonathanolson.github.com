import{S as D,am as et}from"./patternBoards-7WmHeiIn.js";import{s as M,I as X,h as Jt,E as zt,D as Zt,i as dt,j as rt,S as ft,N as $t,A as mt,n as yt,k as it,W as ot,p as P,l as xt,t as Lt,m as te,o as Nt,q as wt,r as K}from"./TextPushButton-B0wSyc3V.js";import{o as S,V as St,d as gt,b as T,n as _t,R as ee,c as F,O as nt,D as at,I as ie}from"./UnivariatePolynomial-CzQEP6td.js";import{P as O,N as I,s as oe,R as B,B as se,o as re,m as qt,p as E,d as v,C as L,a as pt,b as J,q as bt,l as Ct,r as ne,W as ae,T as Vt,t as Ve,u as le,V as Q,H as N,c as he,K as de,v as pe}from"./PhetioControlledVisibilityProperty-C87s29LU.js";class st extends D{constructor(t,i,e,s,o){if(super(),e!==t||s!==i){const n=st.getArrowShapePoints(t,i,e,s,[],o);this.moveTo(n[0].x,n[0].y);const a=_.tail(n);_.each(a,h=>this.lineTo(h.x,h.y)),this.close()}}static getArrowShapePoints(t,i,e,s,o,n){const a=S()({tailWidth:5,headWidth:10,headHeight:10,fractionalHeadHeight:.5,doubleHead:!1,isHeadDynamic:!1,scaleTailToo:!1},n);if(o||(o=[]),e===t&&s===i)o.length=0;else{const h=new St(e-t,s-i),r=h.magnitude;let A=a.headWidth,p=a.headHeight,l=a.tailWidth;if(a.isHeadDynamic){const y=a.fractionalHeadHeight*r;a.headHeight>y&&(p=y,a.scaleTailToo&&(A=a.headWidth*p/a.headHeight,l=a.tailWidth*p/a.headHeight))}else p=Math.min(a.headHeight,a.doubleHead?.35*r:.99*r);let c=0;const g=h.normalized(),b=g.rotated(Math.PI/2),q=function(y,w){const d=g.x*y+b.x*w+t,f=g.y*y+b.y*w+i;o[c]?(o[c].x=d,o[c].y=f):o.push(new St(d,f)),c++};a.doubleHead?(q(0,0),q(p,A/2),q(p,l/2)):q(0,l/2),q(r-p,l/2),q(r-p,A/2),q(r,0),q(r-p,-A/2),q(r-p,-l/2),a.doubleHead?(q(p,-l/2),q(p,-A/2)):q(0,-l/2),c<o.length&&(o.length=c)}return o}}M.register("ArrowShape",st);class ce extends O{constructor(t,i,e,s,o){var a,h;const n=S()({headHeight:10,headWidth:10,tailWidth:5,isHeadDynamic:!1,scaleTailToo:!1,fractionalHeadHeight:.5,doubleHead:!1,fill:"black",stroke:"black",lineWidth:1},o);assert&&assert(n.headWidth>n.tailWidth),super(null),this.options=n,this.shapePoints=[],this._tailX=t,this._tailY=i,this._tipX=e,this._tipY=s,this.setTailAndTip(t,i,e,s),this.mutate(n),assert&&((h=(a=phet==null?void 0:phet.chipper)==null?void 0:a.queryParameters)!=null&&h.binder)&&X.registerDataURL("scenery-phet","ArrowNode",this)}get tailX(){return this._tailX}get tailY(){return this._tailY}get tipX(){return this._tipX}get tipY(){return this._tipY}setTailAndTip(t,i,e,s){this._tailX=t,this._tailY=i,this._tipX=e,this._tipY=s;const o=this.updateShapePoints();!this.shape||o?this.updateShape():this.shape.invalidatePoints()}updateShape(){const t=new D;if(this.shapePoints.length>1){t.moveToPoint(this.shapePoints[0]);for(let i=1;i<this.shapePoints.length;i++)t.lineToPoint(this.shapePoints[i]);t.close()}this.shape=t}setTail(t,i){this.setTailAndTip(t,i,this._tipX,this._tipY)}setTip(t,i){this.setTailAndTip(this._tailX,this._tailY,t,i)}updateShapePoints(){const t=this.shapePoints.length;return this.shapePoints=st.getArrowShapePoints(this._tailX,this._tailY,this._tipX,this._tipY,this.shapePoints,this.options),this.shapePoints.length!==t}setTailWidth(t){this.options.tailWidth=t,this.updateShapePoints(),this.updateShape()}setDoubleHead(t){this.options.doubleHead=t,this.updateShapePoints(),this.updateShape()}}M.register("ArrowNode",ce);class ue extends I{constructor(t,i){var m,j;const e=S()({size:null,cornerRadius:0,xMargin:0,yMargin:0,open:!0,handlePosition:"top",handleSize:new gt(70,20),handleCornerRadius:5,handleFill:"rgb( 230, 230, 230 )",handleTouchAreaXDilation:0,handleTouchAreaYDilation:0,handleMouseAreaXDilation:0,handleMouseAreaYDilation:0,grippyDotRadius:1,grippyDotColor:"black",grippyDotRows:2,grippyDotColumns:4,grippyDotXSpacing:9,grippyDotYSpacing:5,beforeOpen:()=>{t.visible=!0},afterClose:()=>{t.visible=!1},animationEnabled:!0,animationDuration:.5,stepEmitter:oe},i),s=t.width+2*e.xMargin,o=t.height+2*e.yMargin,n=e.size?e.size.width:s,a=e.size?e.size.height:o,h=new B(0,0,n,a,{fill:"white",cornerRadius:e.cornerRadius}),r=new B(0,0,n,a,{stroke:"black",cornerRadius:e.cornerRadius});if(e.size){const C=Math.min(1,Math.min(n/s,a/o));t.setScaleMagnitude(C)}const A=e.handlePosition==="top"?{topLeft:e.handleCornerRadius,topRight:e.handleCornerRadius}:{bottomLeft:e.handleCornerRadius,bottomRight:e.handleCornerRadius},p=D.roundedRectangleWithRadii(0,0,e.handleSize.width,e.handleSize.height,A),l=new O(p,{cursor:"pointer",fill:e.handleFill,stroke:"black"}),c=new D;let g=0,b=0;for(let C=0;C<e.grippyDotRows;C++)for(let k=0;k<e.grippyDotColumns;k++)g=k*e.grippyDotXSpacing,b=C*e.grippyDotYSpacing,c.moveTo(g,b),c.arc(g,b,e.grippyDotRadius,0,2*Math.PI);const q=new O(c,{fill:e.grippyDotColor,center:l.center});if(l.addChild(q),e.handleTouchAreaXDilation!==0||e.handleTouchAreaYDilation!==0){const C=e.handlePosition==="top"?-e.handleTouchAreaYDilation:e.handleTouchAreaYDilation;l.touchArea=l.localBounds.dilatedXY(e.handleTouchAreaXDilation,e.handleTouchAreaYDilation).shiftedY(C)}if(e.handleMouseAreaXDilation!==0||e.handleMouseAreaYDilation!==0){const C=e.handlePosition==="top"?-e.handleMouseAreaYDilation:e.handleMouseAreaYDilation;l.mouseArea=l.localBounds.dilatedXY(e.handleMouseAreaXDilation,e.handleMouseAreaYDilation).shiftedY(C)}h.x=0,l.centerX=h.centerX,e.handlePosition==="top"?(l.top=0,h.top=l.bottom-1):(h.top=0,l.top=h.bottom-1),r.center=h.center,t.center=h.center;const y=new I({children:[l,h,t,r]});e.children=[y],e.clipArea=D.bounds(y.bounds),super(e),this.contentsNode=t,this._animationEnabled=e.animationEnabled;const w=0,d=e.handlePosition==="top"?h.height:-h.height;y.y=e.open?w:d;let f=null;this.openProperty=new se(e.open),l.addInputListener(new re({press:(C,k)=>this.openProperty.set(!this.openProperty.get())}));const u=C=>{f&&f.stop(),C&&e.beforeOpen&&e.beforeOpen(),this._animationEnabled?(f=new Jt({stepEmitter:e.stepEmitter,duration:e.animationDuration,easing:zt.QUADRATIC_IN_OUT,setValue:k=>{y.y=k},getValue:()=>y.y,to:C?w:d}),f.start()):(y.y=C?w:d,!C&&e.afterClose&&e.afterClose())};this.openProperty.lazyLink(u),this.disposeDrawer=()=>{this.openProperty.unlink(u),this.openProperty.dispose()},assert&&((j=(m=phet==null?void 0:phet.chipper)==null?void 0:m.queryParameters)!=null&&j.binder)&&X.registerDataURL("scenery-phet","Drawer",this)}dispose(){this.disposeDrawer(),super.dispose()}reset(t){t=t===void 0?this.animationEnabled:t;const i=this.animationEnabled;this.animationEnabled=t,this.openProperty.reset(),this.animationEnabled=i}setAnimationEnabled(t){this._animationEnabled=t}set animationEnabled(t){this.setAnimationEnabled(t)}get animationEnabled(){return this.getAnimationEnabled()}getAnimationEnabled(){return this._animationEnabled}}M.register("Drawer",ue);class ge extends I{constructor(t,i){var a,h;const e=S()({headFill:qt.YELLOW,headStroke:null,eyeFill:"black",mouthStroke:"black",headLineWidth:1},i);super();const s=new E(e.headFill);e.headStroke=e.headStroke||new v([s],r=>r.darkerColor()),this.addChild(new L(t/2,{fill:e.headFill,stroke:e.headStroke,lineWidth:e.headLineWidth}));const o=t*.075;this.addChild(new L(o,{fill:e.eyeFill,centerX:-t*.2,centerY:-t*.1})),this.addChild(new L(o,{fill:e.eyeFill,centerX:t*.2,centerY:-t*.1}));const n=t*.05;this.smileMouth=new O(new D().arc(0,t*.05,t*.25,Math.PI*.2,Math.PI*.8),{stroke:e.mouthStroke,lineWidth:n,lineCap:"round"}),this.addChild(this.smileMouth),this.frownMouth=new O(new D().arc(0,t*.4,t*.2,-Math.PI*.75,-Math.PI*.25),{stroke:e.mouthStroke,lineWidth:n,lineCap:"round"}),this.addChild(this.frownMouth),this.smile(),this.mutate(e),assert&&((h=(a=phet==null?void 0:phet.chipper)==null?void 0:a.queryParameters)!=null&&h.binder)&&X.registerDataURL("scenery-phet","FaceNode",this)}smile(){return this.smileMouth.visible=!0,this.frownMouth.visible=!1,this}frown(){return this.smileMouth.visible=!1,this.frownMouth.visible=!0,this}}M.register("FaceNode",ge);const qe=["roundMargins","border","extension","margin","xMargin","yMargin","leftMargin","rightMargin","topMargin","bottomMargin"];class Gt extends B{constructor(t){super({}),this._leftMargin=0,this._rightMargin=0,this._topMargin=0,this._bottomMargin=0,this._extension=0,this._roundMargins=!0,this._fillProperty=new E(this.fill),this._borderOverrideProperty=new E(null),this._borderProperty=new v([this._fillProperty,this._borderOverrideProperty],(i,e)=>this._borderOverrideProperty.paint===null?i.withAlpha(0):e),this.roundedShape=new D().moveTo(0,0).arc(0,0,1,0,Math.PI/2,!1).close().makeImmutable(),this.rectangularShape=D.rectangle(0,0,1,1).makeImmutable(),this.leftSide=new B(0,0,1,1),this.rightSide=new B(0,0,1,1),this.topSide=new B(0,0,1,1),this.bottomSide=new B(0,0,1,1),this.topLeftCorner=new O(null),this.topRightCorner=new O(null),this.bottomLeftCorner=new O(null),this.bottomRightCorner=new O(null),this.invalidateGradients(),this.invalidateRoundMargins(),this.invalidateMargin(),this.mutate(t)}invalidateRoundMargins(){this._roundMargins?(this.topLeftCorner.shape=this.roundedShape,this.topRightCorner.shape=this.roundedShape,this.bottomLeftCorner.shape=this.roundedShape,this.bottomRightCorner.shape=this.roundedShape):(this.topLeftCorner.shape=this.rectangularShape,this.topRightCorner.shape=this.rectangularShape,this.bottomLeftCorner.shape=this.rectangularShape,this.bottomRightCorner.shape=this.rectangularShape)}invalidateGradients(){const t=new pt(0,0,1,0).addColorStop(this._extension,this._fillProperty).addColorStop(1,this._borderProperty),i=new J(0,0,0,0,0,1).addColorStop(this._extension,this._fillProperty).addColorStop(1,this._borderProperty);this.leftSide.fill=t,this.rightSide.fill=t,this.topSide.fill=t,this.bottomSide.fill=t,this.topLeftCorner.fill=i,this.topRightCorner.fill=i,this.bottomLeftCorner.fill=i,this.bottomRightCorner.fill=i}invalidateRectangle(){super.invalidateRectangle(),this.invalidateMargin()}invalidateMargin(){this.children=[...this._leftMargin>0&&this.rectHeight>0?[this.leftSide]:[],...this._rightMargin>0&&this.rectHeight>0?[this.rightSide]:[],...this._topMargin>0&&this.rectWidth>0?[this.topSide]:[],...this._bottomMargin>0&&this.rectWidth>0?[this.bottomSide]:[],...this._topMargin>0&&this._leftMargin>0?[this.topLeftCorner]:[],...this._topMargin>0&&this._rightMargin>0?[this.topRightCorner]:[],...this._bottomMargin>0&&this._leftMargin>0?[this.bottomLeftCorner]:[],...this._bottomMargin>0&&this._rightMargin>0?[this.bottomRightCorner]:[]];const t=this.rectWidth,i=this.rectHeight,e=this.rectX,s=this.rectY,o=this.rectX+t,n=this._rectY+i;this.leftSide.hasParent()&&(this.leftSide.matrix=new T().rowMajor(-this._leftMargin,0,e,0,i,s,0,0,1)),this.rightSide.hasParent()&&(this.rightSide.matrix=new T().rowMajor(this._rightMargin,0,o,0,i,s,0,0,1)),this.topSide.hasParent()&&(this.topSide.matrix=new T().rowMajor(0,t,e,-this._topMargin,0,s,0,0,1)),this.bottomSide.hasParent()&&(this.bottomSide.matrix=new T().rowMajor(0,t,e,this._bottomMargin,0,n,0,0,1)),this.topLeftCorner.hasParent()&&(this.topLeftCorner.matrix=new T().rowMajor(-this._leftMargin,0,e,0,-this._topMargin,s,0,0,1)),this.topRightCorner.hasParent()&&(this.topRightCorner.matrix=new T().rowMajor(this._rightMargin,0,o,0,-this._topMargin,s,0,0,1)),this.bottomLeftCorner.hasParent()&&(this.bottomLeftCorner.matrix=new T().rowMajor(-this._leftMargin,0,e,0,this._bottomMargin,n,0,0,1)),this.bottomRightCorner.hasParent()&&(this.bottomRightCorner.matrix=new T().rowMajor(this._rightMargin,0,o,0,this._bottomMargin,n,0,0,1))}dispose(){this._fillProperty.dispose(),this._borderOverrideProperty.dispose(),super.dispose()}setFill(t){return assert&&assert(bt.isColorDef(t),"GradientRectangle only supports ColorDef as a fill"),super.setFill(t),this._fillProperty.paint=t,this}setStroke(t){return assert&&assert(t===null,"GradientRectangle only supports a null stroke"),super.setStroke(t),this}set leftMargin(t){assert&&assert(isFinite(t)&&t>=0,"leftMargin should be a finite non-negative number"),this._leftMargin!==t&&(this._leftMargin=t,this.invalidateMargin())}get leftMargin(){return this._leftMargin}set rightMargin(t){assert&&assert(isFinite(t)&&t>=0,"rightMargin should be a finite non-negative number"),this._rightMargin!==t&&(this._rightMargin=t,this.invalidateMargin())}get rightMargin(){return this._rightMargin}set topMargin(t){assert&&assert(isFinite(t)&&t>=0,"topMargin should be a finite non-negative number"),this._topMargin!==t&&(this._topMargin=t,this.invalidateMargin())}get topMargin(){return this._topMargin}set bottomMargin(t){assert&&assert(isFinite(t)&&t>=0,"bottomMargin should be a finite non-negative number"),this._bottomMargin!==t&&(this._bottomMargin=t,this.invalidateMargin())}get bottomMargin(){return this._bottomMargin}set xMargin(t){assert&&assert(isFinite(t)&&t>=0,"xMargin should be a finite non-negative number"),(this._leftMargin!==t||this._rightMargin!==t)&&(this._leftMargin=t,this._rightMargin=t,this.invalidateMargin())}get xMargin(){return assert&&assert(this._leftMargin===this._rightMargin,"leftMargin and rightMargin differ, so getting xMargin is not well-defined"),this._leftMargin}set yMargin(t){assert&&assert(isFinite(t)&&t>=0,"yMargin should be a finite non-negative number"),(this._topMargin!==t||this._bottomMargin!==t)&&(this._topMargin=t,this._bottomMargin=t,this.invalidateMargin())}get yMargin(){return assert&&assert(this._topMargin===this._bottomMargin,"leftMargin and rightMargin differ, so getting yMargin is not well-defined"),this._topMargin}set margin(t){assert&&assert(isFinite(t)&&t>=0,"margin should be a finite non-negative number"),(this._leftMargin!==t||this._rightMargin!==t||this._topMargin!==t||this._bottomMargin!==t)&&(this._leftMargin=t,this._rightMargin=t,this._topMargin=t,this._bottomMargin=t,this.invalidateMargin())}get margin(){return assert&&assert(this._leftMargin===this._rightMargin&&this._rightMargin===this._topMargin&&this._topMargin===this._bottomMargin,"Some margins differ, so getting margin is not well-defined"),this._leftMargin}set roundMargins(t){this._roundMargins!==t&&(this._roundMargins=t,this.invalidateRoundMargins())}get roundMargins(){return this._roundMargins}set border(t){assert&&assert(bt.isColorDef(t)),this._borderOverrideProperty.paint!==t&&(this._borderOverrideProperty.paint=t)}get border(){return this._borderOverrideProperty.paint}set extension(t){assert&&assert(isFinite(t)&&t>=0&&t<1),this._extension!==t&&(this._extension=t,this.invalidateGradients())}get extension(){return this._extension}mutate(t){return super.mutate(t)}}Gt.prototype._mutatorKeys=[...qe,...B.prototype._mutatorKeys];M.register("GradientRectangle",Gt);class Ae extends O{constructor(t,i,e,s,o){const n=S()({stroke:"gray"},o);super(null,n),t.link(a=>{const h=new D,r=-s*i+e.x,A=s*i+e.x,p=-s*i+e.y,l=s*i+e.y;for(let c=-s;c<=s;c++){const g=c*i+e.x,b=c*i+e.y;h.moveTo(r,b).lineTo(A,b),h.moveTo(g,p).lineTo(g,l)}this.shape=a.modelToViewShape(h)})}}M.register("GridNode",Ae);const lt="italic",G=class G extends Ct{constructor(t){(typeof t=="number"||typeof t=="string")&&(t={size:t});const i=S()({family:G.FAMILY,style:lt},t);super(i)}static getRichTextMarkup(t,i=lt){return assert&&assert(Ct.isFontStyle(i),`invalid style: ${i}`),ne.fillIn("<span style='font-family: {{family}};font-style: {{style}}'>{{text}}</span>",{family:G.FAMILY,style:i,text:t})}static createDerivedProperty(t,i){const e=i||{};return new Zt([t],s=>G.getRichTextMarkup(s,e.style||lt),{tandem:e.tandem||_t.OPT_OUT})}};G.FAMILY='"Times New Roman", Times, serif';let ct=G;M.register("MathSymbolFont",ct);const fe=["startDrag","endDrag","leftStart","leftEnd","rightStart","rightEnd"],ht=new dt(new ee(0,1)),Mt=new gt(180,3),Pt=new gt(17,34),R=class R extends ae(I){constructor(t,i,e,s){var y,w;me(s||{});const o=S()({numberDisplayOptions:{},sliderOptions:{},arrowButtonOptions:{},titleNodeOptions:{},startCallback:_.noop,endCallback:_.noop,delta:1,disabledOpacity:.5,layoutFunction:R.createLayoutFunction1(),includeArrowButtons:!0,soundGenerator:ht,valueChangeSoundGeneratorOptions:{},tandem:_t.REQUIRED,tandemNameSuffix:"Control",phetioType:R.NumberControlIO,phetioEnabledPropertyInstrumented:!0,visiblePropertyOptions:{phetioFeatured:!0}},s);assert&&assert(o.groupFocusHighlight===void 0,"NumberControl sets groupFocusHighlight"),super();const n=o.arrowButtonOptions&&o.arrowButtonOptions.hasOwnProperty("scale"),a=()=>r.enabledRangeProperty?r.enabledRangeProperty.value:e,h=d=>{assert&&assert(r.delta!==void 0);const f=at.roundToInterval(d,r.delta);return a().constrainValue(f)};if(assert&&assert(o.soundGenerator===ht||_.isEmpty(o.valueChangeSoundGeneratorOptions),"options should only be supplied when using default sound generator"),o.soundGenerator===ht){let d=o.valueChangeSoundGeneratorOptions;_.isEmpty(o.valueChangeSoundGeneratorOptions)&&(d={interThresholdDelta:o.delta,constrainValue:h}),o.soundGenerator=new dt(e,d)}else o.soundGenerator===null&&(o.soundGenerator=dt.NO_SOUND);const r=F({arrowButtonOptions:{touchAreaXDilation:3.5,touchAreaYDilation:7,mouseAreaXDilation:0,mouseAreaYDilation:0,enabledEpsilon:0,leftStart:o.startCallback,leftEnd:o.endCallback,rightStart:o.startCallback,rightEnd:o.endCallback,enabledPropertyOptions:{phetioReadOnly:!0,phetioFeatured:!1}},sliderOptions:{orientation:nt.HORIZONTAL,startDrag:o.startCallback,endDrag:o.endCallback,majorTickLength:20,minorTickStroke:"rgba( 0, 0, 0, 0.3 )",majorTicks:[],minorTickSpacing:0,constrainValue:h,soundGenerator:o.soundGenerator,tandem:o.tandem.createTandem(R.SLIDER_TANDEM_NAME)},numberDisplayOptions:{textOptions:{font:new rt(12),stringPropertyOptions:{phetioFeatured:!0}},tandem:o.tandem.createTandem("numberDisplay"),visiblePropertyOptions:{phetioFeatured:!0}},titleNodeOptions:{font:new rt(12),maxWidth:null,fill:"black",tandem:o.tandem.createTandem("titleText")}},o);assert&&assert(!r.startDrag,"use options.startCallback instead of options.startDrag"),assert&&assert(!r.endDrag,"use options.endCallback instead of options.endDrag"),assert&&assert(!r.tagName,"Provide accessibility through options.sliderOptions which will be applied to the NumberControl Node."),r.enabledRangeProperty&&(r.sliderOptions.enabledRangeProperty=r.enabledRangeProperty),assert&&assert(r.arrowButtonOptions.tagName===void 0,"NumberControl's accessible content is just the slider, do not set accessible content on the buttons. Instead set a11y through options.sliderOptions."),r.arrowButtonOptions.tagName=null,this.groupFocusHighlight=r.includeArrowButtons,r.sliderOptions.trackNode||(r.sliderOptions=F({trackSize:r.sliderOptions.orientation===nt.HORIZONTAL?Mt:Mt.swapped()},r.sliderOptions)),r.sliderOptions.thumbNode||(r.sliderOptions=F({thumbSize:r.sliderOptions.orientation===nt.HORIZONTAL?Pt:Pt.swapped(),thumbTouchAreaXDilation:6},r.sliderOptions)),assert&&assert(!r.sliderOptions.hasOwnProperty("phetioType"),"NumberControl sets phetioType"),r.sliderOptions=F({shiftKeyboardStep:r.delta,phetioType:ft.SliderIO},r.sliderOptions),r.sliderOptions.thumbFill&&!r.sliderOptions.thumbFillHighlighted&&(this.thumbFillProperty=new E(r.sliderOptions.thumbFill),r.sliderOptions.thumbFillHighlighted=new v([this.thumbFillProperty],d=>d.brighterColor()));const A=new Vt(t,r.titleNodeOptions),p=new $t(i,e,r.numberDisplayOptions);this.slider=new ft(i,e,r.sliderOptions);let l=null,c=null,g=null;if(r.includeArrowButtons){const d=r.arrowButtonOptions.touchAreaXDilation,f=r.arrowButtonOptions.mouseAreaXDilation;if(assert&&assert(d!==void 0&&f!==void 0,"Should be defined, since we have defaults above"),l=new mt("left",()=>{const u=i.get();let m=i.get()-r.delta;m=at.roundToInterval(m,r.delta),m=Math.max(m,a().min),i.set(m),r.soundGenerator.playSoundForValueChange(m,u),this.slider.voicingOnEndResponse(u)},F({soundPlayer:yt,startCallback:r.arrowButtonOptions.leftStart,endCallback:r.arrowButtonOptions.leftEnd,tandem:r.tandem.createTandem("decrementButton"),touchAreaXShift:-d,mouseAreaXShift:-f},r.arrowButtonOptions)),c=new mt("right",()=>{const u=i.get();let m=i.get()+r.delta;m=at.roundToInterval(m,r.delta),m=Math.min(m,a().max),i.set(m),r.soundGenerator.playSoundForValueChange(m,u),this.slider.voicingOnEndResponse(u)},F({soundPlayer:yt,startCallback:r.arrowButtonOptions.rightStart,endCallback:r.arrowButtonOptions.rightEnd,tandem:r.tandem.createTandem("incrementButton"),touchAreaXShift:d,mouseAreaXShift:f},r.arrowButtonOptions)),!n){l.setScaleMagnitude(1);const m=p.localBounds.height/l.height;l.setScaleMagnitude(m),c.setScaleMagnitude(m)}g=()=>{const u=i.value;assert&&assert(r.arrowButtonOptions.enabledEpsilon!==void 0),l.enabled=u-r.arrowButtonOptions.enabledEpsilon>a().min&&!this.slider.isFocused(),c.enabled=u+r.arrowButtonOptions.enabledEpsilon<a().max&&!this.slider.isFocused()},i.lazyLink(g),r.enabledRangeProperty&&r.enabledRangeProperty.lazyLink(g),g(),this.slider.addInputListener({focus:()=>{l.enabled=!1,c.enabled=!1},blur:()=>g()})}const b=r.sliderOptions.majorTicks;assert&&assert(b);for(let d=0;d<b.length;d++)this.slider.addMajorTick(b[d].value,b[d].label);if(assert&&assert(r.sliderOptions.minorTickSpacing!==void 0),r.sliderOptions.minorTickSpacing>0)for(let d=e.min;d<=e.max;)_.find(b,f=>f.value===d)||this.slider.addMinorTick(d),d+=r.sliderOptions.minorTickSpacing;const q=r.layoutFunction(A,p,this.slider,l,c);if(this.widthSizable=Ve(q),le(q)){const d=u=>{this.localMinimumWidth=u};q.minimumWidthProperty.link(d);const f=u=>{q.preferredWidth=u};this.localPreferredWidthProperty.link(f),this.disposeEmitter.addListener(()=>{q.minimumWidthProperty.unlink(d),this.localPreferredWidthProperty.unlink(f)})}r.children=[q],this.mutate(r),this.numberDisplay=p,this.disposeNumberControl=()=>{A.dispose(),p.dispose(),this.slider.dispose(),this.thumbFillProperty&&this.thumbFillProperty.dispose(),l&&l.dispose(),c&&c.dispose(),g&&i.unlink(g),g&&r.enabledRangeProperty&&r.enabledRangeProperty.unlink(g)},assert&&((w=(y=phet==null?void 0:phet.chipper)==null?void 0:y.queryParameters)!=null&&w.binder)&&X.registerDataURL("scenery-phet","NumberControl",this)}dispose(){this.disposeNumberControl(),super.dispose()}static withMinMaxTicks(t,i,e,s){const o=S()({tickLabelFont:new rt(12)},s);return o.sliderOptions=F({majorTicks:[{value:e.min,label:new Vt(e.min,{font:o.tickLabelFont})},{value:e.max,label:new Vt(e.max,{font:o.tickLabelFont})}]},o.sliderOptions),new R(t,i,e,o)}static createLayoutFunction1(t){const i=S()({align:"center",titleXSpacing:5,arrowButtonsXSpacing:15,ySpacing:5},t);return(e,s,o,n,a)=>(assert&&assert(n,"There is no decrementButton!"),assert&&assert(a,"There is no incrementButton!"),o.mutateLayoutOptions({grow:1}),new Q({align:i.align,spacing:i.ySpacing,children:[new N({spacing:i.titleXSpacing,children:[e,s]}),new N({layoutOptions:{stretch:!0},spacing:i.arrowButtonsXSpacing,children:[n,o,a]})]}))}static createLayoutFunction2(t){const i=S()({align:"center",xSpacing:5,ySpacing:5},t);return(e,s,o,n,a)=>(assert&&assert(n),assert&&assert(a),o.mutateLayoutOptions({stretch:!0}),new Q({align:i.align,spacing:i.ySpacing,children:[new N({spacing:i.xSpacing,children:[e,n,s,a]}),o]}))}static createLayoutFunction3(t){const i=S()({alignTitle:"center",alignNumber:"center",titleLeftIndent:0,xSpacing:5,ySpacing:5},t);return(e,s,o,n,a)=>{assert&&assert(n),assert&&assert(a),o.mutateLayoutOptions({stretch:!0});const h=new Q({spacing:i.ySpacing,align:i.alignTitle,children:[new he(e,{leftMargin:i.titleLeftIndent}),new Q({layoutOptions:{stretch:!0},spacing:i.ySpacing,align:i.alignNumber,children:[new N({spacing:i.xSpacing,children:[n,s,a]}),o]})]});return e.boundsProperty.lazyLink(()=>{h.updateLayout()}),h}}static createLayoutFunction4(t){const i=S()({sliderPadding:0,verticalSpacing:5,arrowButtonSpacing:5,hasReadoutProperty:null,layoutInvisibleButtons:!1,createBottomContent:null},t);return(e,s,o,n,a)=>{o.mutateLayoutOptions({grow:1});const h=!!n,r=new N({spacing:i.arrowButtonSpacing,children:h?[n,o,a]:[o],excludeInvisibleChildrenFromBounds:!i.layoutInvisibleButtons}),A=i.createBottomContent?i.createBottomContent(r):r;return A.mutateLayoutOptions({stretch:!0,xMargin:i.sliderPadding}),new Q({spacing:i.verticalSpacing,children:[new N({spacing:i.sliderPadding,children:[e,new I({children:[s],visibleProperty:i.hasReadoutProperty||null,excludeInvisibleChildrenFromBounds:!0})],layoutOptions:{stretch:!0}}),A]})}}};R.NumberControlIO=new ie("NumberControlIO",{valueType:R,documentation:"A number control with a title, slider and +/- buttons",supertype:I.NodeIO}),R.SLIDER_TANDEM_NAME="slider";let ut=R;function me(V){const t=!!(V.startCallback||V.endCallback);let i=!1,e=!1;V.arrowButtonOptions&&(i=Ot(V.arrowButtonOptions)),V.sliderOptions&&(e=Ot(V.sliderOptions));const s=i||e;assert&&assert(!(t&&s),'Use general callbacks like "startCallback" or specific callbacks like "sliderOptions.startDrag" but not both.')}function Ot(V){const t=Object.keys(V);return fe.filter(e=>_.includes(t,e)).length>0}M.register("NumberControl",ut);const x={DEFAULT_BUTTON_RADIUS:20.8,PLAY_CONTROL_BUTTON_RADIUS:28,DEFAULT_DRAG_CLIP_OPTIONS:{initialOutputLevel:.4},DEFAULT_GRAB_SOUND_GENERATOR_ADD_OPTIONS:{categoryName:"user-interface"}};M.register("SceneryPhetConstants",x);class vt extends D{constructor(t){super(),this.rect(0,0,t,t)}}M.register("StopIconShape",vt);const Yt="data:audio/mpeg;base64,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",ye=it(P,Yt),we=et.createLock(Yt),Y=new ot;let Dt=!1;const z=()=>{Dt||(we(),Dt=!0)},Se=V=>{Y.audioBufferProperty.value===null&&(Y.audioBufferProperty.set(V),z())},be=V=>{console.warn("decode of audio data failed, using stubbed sound, error: "+V),Y.audioBufferProperty.set(P.createBuffer(1,1,P.sampleRate)),z()},kt=P.decodeAudioData(ye.buffer,Se,be);kt&&kt.then(V=>{Y.audioBufferProperty.value===null&&(Y.audioBufferProperty.set(V),z())}).catch(V=>{console.warn("promise rejection caught for audio decode, error = "+V),z()});const Ut=new xt(Y,{soundClipOptions:{initialOutputLevel:.7},soundManagerOptions:{categoryName:"user-interface"}});Lt.register("pauseSoundPlayer",Ut);const Ht="data:audio/mpeg;base64,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",Ce=it(P,Ht),Me=et.createLock(Ht),U=new ot;let Bt=!1;const Z=()=>{Bt||(Me(),Bt=!0)},Pe=V=>{U.audioBufferProperty.value===null&&(U.audioBufferProperty.set(V),Z())},Oe=V=>{console.warn("decode of audio data failed, using stubbed sound, error: "+V),U.audioBufferProperty.set(P.createBuffer(1,1,P.sampleRate)),Z()},Et=P.decodeAudioData(Ce.buffer,Pe,Oe);Et&&Et.then(V=>{U.audioBufferProperty.value===null&&(U.audioBufferProperty.set(V),Z())}).catch(V=>{console.warn("promise rejection caught for audio decode, error = "+V),Z()});const Wt=new xt(U,{soundClipOptions:{initialOutputLevel:.7},soundManagerOptions:{categoryName:"user-interface"}});Lt.register("playSoundPlayer",Wt);class Qt extends D{constructor(t,i){super(),this.moveTo(0,0),this.lineTo(t,i/2),this.lineTo(0,i),this.close()}}M.register("PlayIconShape",Qt);class Xt extends te{constructor(t,i,e){const s=S()({radius:x.PLAY_CONTROL_BUTTON_RADIUS,scaleFactorWhenNotPlaying:1,includeGlobalHotkey:!1,startPlayingLabel:Nt.a11y.playControlButton.playStringProperty,endPlayingLabel:null,valueOffSoundPlayer:Ut,valueOnSoundPlayer:Wt,xMargin:0,yMargin:0},e);assert&&assert(s.scaleFactorWhenNotPlaying>0,"button scale factor must be greater than 0");const o=s.radius*.8,n=s.radius,a=new O(new Qt(o,n),{fill:"black",centerX:s.radius*.05,centerY:0}),h=new L(s.radius,{children:[a]});i.centerX=0,i.centerY=0;const r=new L(s.radius,{children:[i]});super(t,r,h,s);const A=(l,c)=>{this.innerContent=l?s.endPlayingLabel:s.startPlayingLabel;const g=c===null?1:1/s.scaleFactorWhenNotPlaying;this.scale(l?g:s.scaleFactorWhenNotPlaying)};t.link(A);let p=null;s.includeGlobalHotkey&&phet.chipper.queryParameters.supportsInteractiveDescription&&(p=de.createGlobal(this,{keys:["alt+k"],fireOnDown:!1,fire:()=>{t.set(!t.get());const l=t.get()?s.valueOnSoundPlayer:s.valueOffSoundPlayer;l&&l.play()}})),this.disposePlayStopButton=()=>{t.hasListener(A)&&t.unlink(A),p&&p.dispose()}}dispose(){this.disposePlayStopButton(),super.dispose()}}M.register("PlayControlButton",Xt);class De extends Xt{constructor(t,i){var n,a;const e=S()({radius:x.PLAY_CONTROL_BUTTON_RADIUS,endPlayingLabel:Nt.a11y.playControlButton.stopStringProperty},i),s=e.radius*.75,o=new O(new vt(s),{fill:"black"});super(t,o,e),assert&&((a=(n=phet==null?void 0:phet.chipper)==null?void 0:n.queryParameters)!=null&&a.binder)&&X.registerDataURL("scenery-phet","PlayStopButton",this)}}M.register("PlayStopButton",De);class ke extends I{constructor(t,i){super();const e=S()({baseColor:new qt(80,130,230),lightFactor:.5,lighterFactor:.1,darkFactor:.5,darkerFactor:.1,cornerRadius:10,lightSource:"leftTop",lightOffset:.525,darkOffset:.375},i);assert&&assert(e.lightOffset<1,"options.lightOffset needs to be less than 1"),assert&&assert(e.darkOffset<1,"options.darkOffset needs to be less than 1");const s=e.lightSource.includes("left"),o=e.lightSource.includes("Top"),n=e.cornerRadius;this.lighterPaintProperty=new E(e.baseColor,{luminanceFactor:e.lightFactor+e.lighterFactor}),this.lightPaintProperty=new E(e.baseColor,{luminanceFactor:e.lightFactor}),this.darkPaintProperty=new E(e.baseColor,{luminanceFactor:-e.darkFactor}),this.darkerPaintProperty=new E(e.baseColor,{luminanceFactor:-e.darkFactor-e.darkerFactor});const a=o?this.lighterPaintProperty:this.darkerPaintProperty,h=s?this.lightPaintProperty:this.darkPaintProperty,r=s?this.darkPaintProperty:this.lightPaintProperty,A=o?this.darkerPaintProperty:this.lighterPaintProperty,p=e.lightOffset*n,l=e.darkOffset*n,c=o?p:l,g=s?p:l,b=s?l:p,q=o?l:p,y=B.roundedBounds(t,n,n,{pickable:!1}),w=B.roundedBounds(t,n,n,{pickable:!1});y.fill=new pt(y.left,0,y.right,0).addColorStop(0,h).addColorStop(g/w.width,e.baseColor).addColorStop(1-b/w.width,e.baseColor).addColorStop(1,r),w.fill=new pt(0,w.top,0,w.bottom).addColorStop(0,a).addColorStop(c/w.height,new v([a],k=>k.withAlpha(0))).addColorStop(1-q/w.height,new v([A],k=>k.withAlpha(0))).addColorStop(1,A);const d=new D().moveTo(0,0).arc(0,0,n,-Math.PI/2,0,!1).close(),f={leftTop:-Math.PI/2,rightTop:0,rightBottom:Math.PI/2,leftBottom:Math.PI}[e.lightSource],u=t.eroded(n),m=new O(d,{x:s?u.minX:u.maxX,y:o?u.minY:u.maxY,rotation:f,fill:new J(0,0,0,0,0,n).addColorStop(0,e.baseColor).addColorStop(1-p/n,e.baseColor).addColorStop(1,this.lighterPaintProperty),pickable:!1}),j=new O(d,{x:s?u.maxX:u.minX,y:o?u.maxY:u.minY,rotation:f+Math.PI,fill:new J(0,0,0,0,0,n).addColorStop(0,e.baseColor).addColorStop(1-l/n,e.baseColor).addColorStop(1,this.darkerPaintProperty),pickable:!1}),C=B.roundedBounds(t,n,n,{stroke:new v([r],k=>k.withAlpha(.4))});this.addChild(y),this.addChild(w),this.addChild(m),this.addChild(j),this.addChild(C),this.mutate(e)}dispose(){this.lighterPaintProperty.dispose(),this.lightPaintProperty.dispose(),this.darkPaintProperty.dispose(),this.darkerPaintProperty.dispose(),super.dispose()}}M.register("ShadedRectangle",ke);const jt="data:audio/mpeg;base64,//swxAAABognHnWRADEriei3OrACCEgYAPOkFXghY6uD++Piw3kA4B4y7hchMBxIxLKSksCwfB8Hw+7wfB8H3/E4P+GP/++D58AABoNsRiAAegAAAcAAwfGEzHKEwATU0FYIw6Dg+OLEOCqwYUAazcxYAwgAWZl5g4CTyjQM3o0EQLO/PjeedH/0g7/quk7v////9CoAAgKS3agA//syxAOACFhpYb2WADkFBWUpz2ROAUr4AUY00DNWPwkiueFpjWamdXncJm4WSUvPYHtdLyIybUkqNbEdOAeIJqJS89odMGRdRGULsKEKKu9sAAFgQA2oDCIoIgGYfBxqSpmFgSkaq7FxnJizGCsESGsoBS/52SlqFCkhXIYlBMPwLKiSRYVd1f///7f/lUfvy2gAAL45ZHAEVS5wEP/7MsQFgkd0HRVM9wJwooOhqMw8TrAOxggWZrdB4KswIKoWwjoMDKpkDpawRH8EDMvQbb5c2fQ5IXBwEGakBD9/3/5ub1lQm4/cLYHDTARtPRS+xTotNKqDqFAVBUFeVBUFU4lBYO8sDQNB3iIGqkxBTUUzLjk5LjWqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/+zLEFwPAAAGkAAAAIAAANIAAAASqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//swxFsDwAABpAAAACAAADSAAAAEqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//syxJ6DwAABpAAAACAAADSAAAAEqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==",Be=it(P,jt),Ee=et.createLock(jt),H=new ot;let Rt=!1;const $=()=>{Rt||(Ee(),Rt=!0)},Re=V=>{H.audioBufferProperty.value===null&&(H.audioBufferProperty.set(V),$())},Te=V=>{console.warn("decode of audio data failed, using stubbed sound, error: "+V),H.audioBufferProperty.set(P.createBuffer(1,1,P.sampleRate)),$()},Tt=P.decodeAudioData(Be.buffer,Re,Te);Tt&&Tt.then(V=>{H.audioBufferProperty.value===null&&(H.audioBufferProperty.set(V),$())}).catch(V=>{console.warn("promise rejection caught for audio decode, error = "+V),$()});const Kt="data:audio/mpeg;base64,//swxAAABpAhE1WQgDEChGf3OiJCAAAJRgWMA3lCIUyXzv3PfM52Qw9nimjE2HsTh+X09sHwQBB10u/y4e//+gEAQ5cP/u//4nAABASEQsFsvw9GFpIAMRiGNLEgMlRmNb+1MIjHNu4KFilyMxQYzAAc3e/P+566F6J7olttvvTZ9lv1/6++U+z1qgAJHLdLYAABaRtXAaLgn8Bq//syxAiAiaBvUb22ADjOA6MNz+wKcSQr2BxEgs/qJ0XkEPODBEPhEBEOh7HwdhJLwTjcKQmIaxUepm3yySi6sRnp0hr1J8lYfUroW0RJYrMlFAAMN5mqFGCchxplBCFCZuwLfmAFg8RsPKaZAGhqJlpCZMCBA+iTjFW///////Xb//1B2gACzEgggAM2IOQFMKEH4x1EgzS0KJMJgP/7MsQMAkZUGwtNe0BwqQNgNawkjoI6rU0xQyo8AgUADX4Q45so+ubX4c/Qr//w0AVA5axJGw1awwFk8Bk0bAWushk77jjeDg6Vcjgr38sDQNfUJZ3KgqCoK0xBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+zLEIYPAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//swxGWDwAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy45OS41VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//syxKkDwAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy45OS41VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7MsS7g8AAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+zLEu4PAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//swxLwDwAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",Ie=it(P,Kt),Fe=et.createLock(Kt),W=new ot;let It=!1;const tt=()=>{It||(Fe(),It=!0)},xe=V=>{W.audioBufferProperty.value===null&&(W.audioBufferProperty.set(V),tt())},Le=V=>{console.warn("decode of audio data failed, using stubbed sound, error: "+V),W.audioBufferProperty.set(P.createBuffer(1,1,P.sampleRate)),tt()},Ft=P.decodeAudioData(Ie.buffer,xe,Le);Ft&&Ft.then(V=>{W.audioBufferProperty.value===null&&(W.audioBufferProperty.set(V),tt())}).catch(V=>{console.warn("promise rejection caught for audio decode, error = "+V),tt()});class Ne extends pe{constructor(t){const i=S()({grabSound:H,releaseSound:W,grabSoundClipOptions:x.DEFAULT_DRAG_CLIP_OPTIONS,releaseSoundClipOptions:x.DEFAULT_DRAG_CLIP_OPTIONS,grabSoundGeneratorAddOptions:x.DEFAULT_GRAB_SOUND_GENERATOR_ADD_OPTIONS,releaseSoundGeneratorAddOptions:x.DEFAULT_GRAB_SOUND_GENERATOR_ADD_OPTIONS},t);let e;if(i.grabSound){e=new wt(i.grabSound,i.grabSoundClipOptions),K.addSoundGenerator(e,i.grabSoundGeneratorAddOptions);const o=i.start;i.start=(...n)=>{o&&o(...n),e.play()}}let s;if(i.releaseSound){s=new wt(i.releaseSound,i.releaseSoundClipOptions),K.addSoundGenerator(s,i.releaseSoundGeneratorAddOptions);const o=i.end;i.end=(...n)=>{o&&o(...n),!this.interrupted&&s.play()}}super(i),this.disposeEmitter.addListener(()=>{e&&(e.dispose(),K.removeSoundGenerator(e)),s&&(s.dispose(),K.removeSoundGenerator(s))})}}M.register("RichKeyboardDragListener",Ne);class _e extends L{constructor(t,i){const e=S()({mainColor:"gray",highlightColor:"white",shadowColor:"black",highlightDiameterRatio:.5,highlightXOffset:-.4,highlightYOffset:-.4},i);assert&&assert(e.highlightDiameterRatio<1,`highlightDiameterRatio must be < diameter: ${e.highlightDiameterRatio}`),assert&&assert(e.highlightXOffset>=-1&&e.highlightXOffset<=1,`highlightXOffset out of range: ${e.highlightXOffset}`),assert&&assert(e.highlightYOffset>=-1&&e.highlightYOffset<=1,`highlightYOffset out of range: ${e.highlightYOffset}`),super(t/2,e),this.updateShadedSphereFill=()=>{const s=this.radius,o=s*e.highlightXOffset,n=s*e.highlightYOffset;this.fill=new J(o,n,0,o,n,s*2).addColorStop(0,e.highlightColor).addColorStop(e.highlightDiameterRatio,e.mainColor).addColorStop(1,e.shadowColor)},this.updateShadedSphereFill()}invalidatePath(){super.invalidatePath(),this.updateShadedSphereFill&&this.updateShadedSphereFill()}}M.register("ShadedSphereNode",_e);class At extends I{constructor(t){const i=S()({diameter:15,speed:1,numberOfElements:16,elementFactory:At.rectangleFactory,activeColor:"rgba( 0, 0, 0, 1 )",inactiveColor:"rgba( 0, 0, 0, 0.15 )"},t);super(i),this.indicatorRotation=Math.PI*2,this.angleDelta=2*Math.PI/i.numberOfElements,this.activeColorProperty=new E(i.activeColor),this.inactiveColorProperty=new E(i.inactiveColor),this.speed=i.speed,this.elements=[];let e=0;for(let s=0;s<i.numberOfElements;s++){const o=i.elementFactory(i.diameter,i.numberOfElements);o.right=i.diameter/2,o.centerY=0,o.rotate(e,!0),e+=this.angleDelta,this.elements.push(o)}this.children=this.elements,this.step(0)}step(t){this.indicatorRotation+=t*10*this.speed;let i=this.indicatorRotation;for(let e=0;e<this.elements.length;e++){let s=Math.pow(i/(2*Math.PI)%1,.5);s<.2?s=1-s*5:s=(s-.2)*10/8;const o=s*this.inactiveColorProperty.value.red+(1-s)*this.activeColorProperty.value.red,n=s*this.inactiveColorProperty.value.green+(1-s)*this.activeColorProperty.value.green,a=s*this.inactiveColorProperty.value.blue+(1-s)*this.activeColorProperty.value.blue,h=s*this.inactiveColorProperty.value.alpha+(1-s)*this.activeColorProperty.value.alpha;this.elements[e].fill=new qt(o,n,a,h),i-=this.angleDelta}}dispose(){this.activeColorProperty.dispose(),this.inactiveColorProperty.dispose(),super.dispose()}static rectangleFactory(t,i){return new B(0,0,t*.175,1.2*t/i)}static circleFactory(t,i){return new L(.8*t/i)}}M.register("SpinningIndicatorNode",At);export{ce as A,ut as N,At as S};
