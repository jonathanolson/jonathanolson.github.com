import{B as z,O as Ii,d as J,D as St,Q as $n,a as U,U as vi,X as qt,Y as Ae,k as Te,Z as K,R as Q,_ as Ni,$ as Le,t as Fi,N as T,H as Ui,b as Wi,A as ot,v as We,u as F,a0 as er,a1 as tr,S as Ai,a2 as ir,f as H,a3 as _e,z as we,a4 as Ot,P as j,a5 as Oo,a6 as sr,T as It,a7 as jt,a8 as ae,a9 as Io,W as Qt,C as it,F as Yi,aa as vt,ab as O,ac as vo,s as No,ad as or,ae as Fo,af as Uo,c as Wo,ag as nr,m as Hi,q as Qi,ah as rr,V as gi,K as Yo,ai as ar,aj as Nt,E as lr,L as dr,G as ur,h as Jt,ak as hr,al as cr,am as Gi,an as Bi,ao as ws,x as st,n as pr,ap as Vr,aq as Ar,ar as gr,as as mr,p as Ho,at as Es,au as Bs,r as qr,av as Qo,l as Pt}from"./chunk-17.js";import{p as yr,N as yt,T as ie,E as _i,f as zi,n as pe,o as E,e as Go,l as Ki,m as L,q as ki,r as Ve,b as Z,D as $,V as Lt,c as I,B as ji,I as xe,a as fr,M as _o,O as se,R as ce,P as Me,j as br,k as zo,s as Sr,v as Ko,t as ks,u as Xe,L as Pr,w as Ji,x as Ts,y as wr,z as Er,A as Br}from"./chunk-16.js";import{a0 as oe,S as N,a9 as Xi,l as kr,aa as Ls,ab as Cs,ac as Tr}from"./chunk-18.js";const Lr=["horizontal","vertical"];function xs(a,e,i){a.toDataURL(s=>{i[e].push(s)})}const Be=class Be{static registerDataURL(e,i,s){if(phet.chipper.queryParameters.binder){const t=`${e}/${i}`;Be.componentMap[t]=Be.componentMap[t]||[];try{if(s.boundsProperty.value.isFinite())xs(s,t,Be.componentMap);else{const o=r=>{r.isFinite()&&(xs(s,t,Be.componentMap),s.boundsProperty.unlink(o))};s.boundsProperty.lazyLink(o)}}catch{}}}static registerToolbox(e){phet.chipper.queryParameters.binder&&Be.registerDataURL("sun","ToolboxPattern",e)}};Be.componentMap={};let G=Be;yr.register("InstanceRegistry",G);const B=new yt("sun"),ne=(a,e)=>{const i=e.replace(new RegExp("^.*,"),""),s=atob(i),t=new Uint8Array(s.length);for(let o=0;o<t.length;o++)t[o]=s.charCodeAt(o);return t},Y=new yt("tambo");class ee{constructor(){this.audioBufferProperty=new ie(null),assert&&this.audioBufferProperty.lazyLink((e,i)=>{assert&&assert(i===null&&e!==null,"The audio buffer can only be set once")})}}Y.register("WrappedAudioBuffer",ee);let Ct;self.AudioContext?Ct=new self.AudioContext:self.webkitAudioContext?Ct=new self.webkitAudioContext:(Ct={},console.error("error: this browser does not support Web Audio"));Y.register("phetAudioContext",Ct);const S=Ct,jo="data:audio/mpeg;base64,//swxAAAA8ADNZQRgDGHni23MIAC1bbaiNgdgM+wEHBiogUAbxA4MT+////gh//8Mf4YzNI0kYiNYjDZaLJCYAZZgbhKQTNx5Vp34WpSu/bhLvzLYwWSHokUhx0EBR4FA/Mp8sOz3gcWfL9YqH7kKIkzd9fLvSkB201St7337UyHKf7X9Pf//Ue9/6irjy/l3s5gqCo1lPVlVSBj//syxAOACFB7hZyUgDEUCu008ZpKfZq0pMq3UhCDwXYfD+n5X+IUp5YiEYMB0CgRCwfQF0AmAUjAlZVJuE4ZaTbKK0AIJCxUAwrWLf////l1oFP9Yo2m1QI89G8bsISUXc8TjPs5pDlVUzUq1VJLFYcIlvdQS0P1lohZFx5hFpVDCPaSKlRsdgIslDzfeqxt8iVd+v6aClA3ydRso//7MsQDgAhYV13sGEqhEJFpcZMJqE0gGS8ZU3ekWmMRbO4kqZnMgAHAFiPmBRdQFgRZHZrTNwZcRTYLKU4qxy3ieKohBwSNif5UwYc4W/ywiEYAtIWoggTByJ+YPcFxgdYE5MVlD41ZJSYBdPF8gQIZtZPy/cZWxBR5Bm7WwZdGkolTRTQXLpSOcoUvf3in/dyBZwzRXAF3ieJEAxD/+zLEBAAIkJlXlYaAARIWb3MegACpLHqwdgk0mfJ913UT0LiL5W+nIh+DsKATQJ4F0E4PF8c7FxaaaCZ80SpqZbfX7J/99fN0p/Onf+zSaVmKSAKAgKAgMAAAAAEBCVMt4sfsyRdHO3PTH0SBFi4jhEgNBinEXeeDSKeby9zBMKun3/pKZ6L//H/6T/p/82bkkAyj/5m7WOWuRFpI//swxAOACDgvi7zDADEQkW289AoWMABHxkZCUEwfjodDiYmpiWw9NWjIAhJEFkFSo4GnxwiDsrBoGn/g0DT64Kgq9BUFQWBo3WFDf4B//ljZRUwaFSyREkApYqDmkM8qYgtylZx9ZL7knEF4rFKLgqfa4GHahJbD5q+ZdeybNpd1LOzqJVWdmJgs9uNUoK61I9Pf1runDP5da2kA//syxAQACHita6eYTzEMFSdkzAigHGL2uEMDLL6xtFmUuujunUP9ODzjFKbt2J5yt77uOmiJWXQ6GAbIjvu17WVn/dDEccwhLJLW6dXU/dcsEAvP8BAST22Qg8WJEX2Cxxs84/BnOt15rGZwVs2FEtKWVPRHZitdbuySkumtHlb0M/U5QwcQRYSLI91T/epbUqPPogEGy4Ldq0ABj//7MsQEgAfcrTesFG1owIRiqMyYmD9U8MBcisSsURTFgBykNZkSUjL+oDB8VGCT310AYfb2ZlVRgEvbASNp8ptD8y7lYYlvxtFsCgAAYAQABAzjzrwIrmT2cuLIZOOOhHHQELC2rOtlix709VXnYiej4dx2rz2Vd/xL6QQAAHCikADAVHicCJrfesiRcXCNaoKuuneW+r1dXxFDvZf/+zLEEQBFcCEJoLHi8JuFVvDMGGz/vqeWI50KHuGnJHLWAAQIl4qgkpSn8oGq1rUCoSk3UAhEYtCgKWWwwIDo////4sLVTEFNRTMuOTkuNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",Cr=ne(S,jo),xr=oe.createLock(jo),nt=new ee;let Ds=!1;const Xt=()=>{Ds||(xr(),Ds=!0)},Dr=a=>{nt.audioBufferProperty.value===null&&(nt.audioBufferProperty.set(a),Xt())},Mr=a=>{console.warn("decode of audio data failed, using stubbed sound, error: "+a),nt.audioBufferProperty.set(S.createBuffer(1,1,S.sampleRate)),Xt()},Ms=S.decodeAudioData(Cr.buffer,Dr,Mr);Ms&&Ms.then(a=>{nt.audioBufferProperty.value===null&&(nt.audioBufferProperty.set(a),Xt())}).catch(a=>{console.warn("promise rejection caught for audio decode, error = "+a),Xt()});const Jo="data:audio/mpeg;base64,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",Rr=ne(S,Jo),Or=oe.createLock(Jo),Ye=new ee;let Rs=!1;const Zt=()=>{Rs||(Or(),Rs=!0)},Ir=a=>{Ye.audioBufferProperty.value===null&&(Ye.audioBufferProperty.set(a),Zt())},vr=a=>{console.warn("decode of audio data failed, using stubbed sound, error: "+a),Ye.audioBufferProperty.set(S.createBuffer(1,1,S.sampleRate)),Zt()},Os=S.decodeAudioData(Rr.buffer,Ir,vr);Os&&Os.then(a=>{Ye.audioBufferProperty.value===null&&(Ye.audioBufferProperty.set(a),Zt())}).catch(a=>{console.warn("promise rejection caught for audio decode, error = "+a),Zt()});const wt=[],Kt=[],be={addStateChangeListener(a,e){let i=wt.indexOf(a),s;i===-1?(wt.push(a),i=wt.length-1,s=[],Kt.push(s),assert&&assert(!a.onstatechange,"a listener function is already registered for this context"),a.onstatechange=()=>{_.clone(s).forEach(t=>{t(a.state)})}):s=Kt[i],s.push(e)},removeStateChangeListener(a,e){const i=wt.indexOf(a);assert&&assert(i>=0,"audio context not found");const s=Kt[i],t=s.indexOf(e);assert&&assert(t>=0,"listener not found for specified audio context"),s.splice(t,1)},hasListener(a,e){let i=!1;const s=wt.indexOf(a);if(s>=0){const t=Kt[s];t&&(i=t.includes(e))}return i}};Y.register("audioContextStateChangeMonitor",be);const de={DEFAULT_PARAM_CHANGE_TIME_CONSTANT:.015,DEFAULT_LINEAR_GAIN_CHANGE_TIME:.1,TWELFTH_ROOT_OF_TWO:Math.pow(2,1/12)};Y.register("soundConstants",de);const ke=class ke extends _i{};ke.BASIC=new ke,ke.EXTRA=new ke,ke.enumeration=new zi(ke,{phetioDocumentation:"describes whether a sound is considered part of the basic or the extra sounds for the sim"});let Se=ke;Y.register("SoundScope",Se);const Nr=.15,Fr=.02,Et=de.DEFAULT_LINEAR_GAIN_CHANGE_TIME;class Ur extends pe{constructor(e){var i,s,t,o;super({tandem:e,phetioState:!1,phetioDocumentation:"Controls the simulation's sound. For sims that do not support sound, this element and its children can be ignored."}),this.viewNodeDisplayedPropertyMap=new Map,this.enabledProperty=new z(((s=(i=phet==null?void 0:phet.chipper)==null?void 0:i.queryParameters)==null?void 0:s.supportsSound)||!1,{tandem:e==null?void 0:e.createTandem("enabledProperty"),phetioState:!1,phetioDocumentation:"Determines whether sound is enabled. Supported only if this sim supportsSound=true."}),this.extraSoundEnabledProperty=new z(((o=(t=phet==null?void 0:phet.chipper)==null?void 0:t.queryParameters)==null?void 0:o.extraSoundInitiallyEnabled)||!1,{tandem:e==null?void 0:e.createTandem("extraSoundEnabledProperty"),phetioState:!1,phetioDocumentation:"Determines whether extra sound is enabled. Extra sound is additional sounds that can serve to improve the learning experience for individuals with visual disabilities. Note that not all simulations that support sound also support extra sound. Also note that the value is irrelevant when enabledProperty is false."}),this.soundGeneratorInfoArray=[],this._mainOutputLevel=1,this._reverbLevel=Fr,this.gainNodesForCategories=new Map,this.duckingProperties=Ii(),this.initialized=!1,this.soundGeneratorsAwaitingAdd=[],this.mainGainNode=null,this.duckingGainNode=null,this.convolver=null,this.reverbGainNode=null,this.dryGainNode=null}initialize(e,i,s,t,o,r){assert&&assert(!this.initialized,"can't initialize the sound manager more than once");const n=E()({categories:["sim-specific","user-interface"]},r);assert&&assert(n.categories.length===_.uniq(n.categories).length,"categories must be unique");const d=S.currentTime,u=S.createDynamicsCompressor();u.threshold.setValueAtTime(-6,d),u.knee.setValueAtTime(5,d),u.ratio.setValueAtTime(12,d),u.attack.setValueAtTime(0,d),u.release.setValueAtTime(.25,d),u.connect(S.destination),this.duckingGainNode=S.createGain(),this.duckingGainNode.connect(u),this.mainGainNode=S.createGain(),this.mainGainNode.connect(this.duckingGainNode),this.convolver=S.createConvolver();const l=A=>{A&&(this.convolver.buffer=A,Ye.audioBufferProperty.unlink(l))};Ye.audioBufferProperty.link(l),this.reverbGainNode=S.createGain(),this.reverbGainNode.connect(this.mainGainNode),this.reverbGainNode.gain.setValueAtTime(this._reverbLevel,S.currentTime),this.convolver.connect(this.reverbGainNode),this.dryGainNode=S.createGain(),this.dryGainNode.gain.setValueAtTime(1-this._reverbLevel,S.currentTime),this.dryGainNode.gain.linearRampToValueAtTime(1-this._reverbLevel,S.currentTime+Et),this.dryGainNode.connect(this.mainGainNode),assert&&assert(this.convolver!==null&&this.dryGainNode!==null,"some audio nodes have not been initialized"),n.categories.forEach(A=>{const c=S.createGain();c.connect(this.convolver),c.connect(this.dryGainNode),this.gainNodesForCategories.set(A,c)}),J.multilink([this.enabledProperty,i,e,s,t,o],(A,c,g,P,C,y)=>{const w=A&&c&&g&&P&&C&&!y?this._mainOutputLevel:0;this.mainGainNode.gain.linearRampToValueAtTime(w,S.currentTime+Et)});const h=new z(!1),p=()=>{h.value=this.duckingProperties.reduce((A,c)=>A||c.value,!1)};h.lazyLink(A=>{var P,C;assert&&assert(this.duckingGainNode,"ducking listener fired, but no ducking gain node exists");const c=A?.05:.5,g=S.currentTime;(P=this.duckingGainNode)==null||P.gain.cancelScheduledValues(g),(C=this.duckingGainNode)==null||C.gain.setTargetAtTime(A?Nr:1,g,c)}),this.duckingProperties.addItemAddedListener(A=>{A.link(p);const c=g=>{g===A&&(g.unlink(p),this.duckingProperties.removeItemRemovedListener(c))};this.duckingProperties.addItemRemovedListener(c)});const q=()=>{self.removeEventListener("touchstart",V,!1),St.userGestureEmitter.hasListener(V)&&St.userGestureEmitter.removeListener(V)},V=()=>{S.state!=="running"?(phet.log&&phet.log(`audio context not running, attempting to resume, state = ${S.state}`),S.resume().then(()=>{phet.log&&phet.log(`resume appears to have succeeded, phetAudioContext.state = ${S.state}`),q()}).catch(A=>{const c=`error when trying to resume audio context, err = ${A}`;console.error(c),assert&&alert(c)})):q()};self.addEventListener("touchstart",V,!1),St.userGestureEmitter.addListener(V);let m=S.state;be.addStateChangeListener(S,A=>{phet.log&&phet.log(`audio context state changed, old state = ${m}, new state = ${A}, audio context time = ${S.currentTime}`),A!=="running"?(self.addEventListener("touchstart",V,!1),St.userGestureEmitter.hasListener(V)||St.userGestureEmitter.addListener(V)):console.log("AudioContext is now running."),m=A}),this.initialized=!0,this.soundGeneratorsAwaitingAdd.forEach(A=>{this.addSoundGenerator(A.soundGenerator,A.soundGeneratorAddOptions)}),this.soundGeneratorsAwaitingAdd.length=0}hasSoundGenerator(e){return _.some(this.soundGeneratorInfoArray,i=>i.soundGenerator===e)}addSoundGenerator(e,i){if(i===void 0&&(i={}),!this.initialized){this.soundGeneratorsAwaitingAdd.push({soundGenerator:e,soundGeneratorAddOptions:i});return}assert&&assert(this.convolver!==null&&this.dryGainNode!==null,"some audio nodes have not been initialized");const s=this.hasSoundGenerator(e);assert&&assert(!s,"can't add the same sound generator twice");const t=E()({sonificationLevel:Se.BASIC,associatedViewNode:null,categoryName:null},i);assert&&assert(_.includes(_.values(Se),t.sonificationLevel),`invalid value for sonification level: ${t.sonificationLevel}`),t.categoryName===null?(e.connect(this.convolver),e.connect(this.dryGainNode)):(assert&&assert(this.gainNodesForCategories.has(t.categoryName),`category does not exist : ${t.categoryName}`),e.connect(this.gainNodesForCategories.get(t.categoryName)));const o={soundGenerator:e,sonificationLevel:t.sonificationLevel};if(this.soundGeneratorInfoArray.push(o),e.addEnableControlProperty(this.enabledProperty),t.sonificationLevel===Se.EXTRA&&e.addEnableControlProperty(this.extraSoundEnabledProperty),t.associatedViewNode){const r=new $n(t.associatedViewNode);e.addEnableControlProperty(r),this.viewNodeDisplayedPropertyMap.set(e,r)}}removeSoundGenerator(e){if(!this.initialized){const s=this.soundGeneratorsAwaitingAdd.filter(t=>t.soundGenerator===e);for(assert&&assert(s.length>0,"unable to remove sound generator - not found");s.length>0;)Go(this.soundGeneratorsAwaitingAdd,s[0]),s.shift();return}let i=null;for(let s=0;s<this.soundGeneratorInfoArray.length;s++)if(this.soundGeneratorInfoArray[s].soundGenerator===e){i=this.soundGeneratorInfoArray[s];break}assert&&assert(i,"unable to remove sound generator - not found"),e.isConnectedTo(this.convolver)&&e.disconnect(this.convolver),e.isConnectedTo(this.dryGainNode)&&e.disconnect(this.dryGainNode),this.gainNodesForCategories.forEach(s=>{e.isConnectedTo(s)&&e.disconnect(s)}),i&&this.soundGeneratorInfoArray.splice(this.soundGeneratorInfoArray.indexOf(i),1),this.viewNodeDisplayedPropertyMap.has(e)&&(this.viewNodeDisplayedPropertyMap.get(e).dispose(),this.viewNodeDisplayedPropertyMap.delete(e))}setMainOutputLevel(e){if(!this.initialized){console.warn("an attempt was made to set the main output level on an uninitialized sound manager, ignoring");return}assert&&assert(e>=0&&e<=1,`output level value out of range: ${e}`),this._mainOutputLevel=e,this.enabledProperty.value&&this.mainGainNode.gain.linearRampToValueAtTime(e,S.currentTime+Et)}set mainOutputLevel(e){this.setMainOutputLevel(e)}get mainOutputLevel(){return this.getMainOutputLevel()}getMainOutputLevel(){return this._mainOutputLevel}setOutputLevelForCategory(e,i){if(!this.initialized){console.warn("an attempt was made to set the output level for a sound category on an uninitialized sound manager, ignoring");return}assert&&assert(this.initialized,"output levels for categories cannot be added until initialization has been done"),assert&&assert(i>=0&&i<=1,`output level value out of range: ${i}`),assert&&assert(this.gainNodesForCategories.get(e),`no category with name = ${e}`);const s=this.gainNodesForCategories.get(e);s&&s.gain.setValueAtTime(i,S.currentTime)}addDuckingProperty(e){this.duckingProperties.add(e)}removeDuckingProperty(e){assert&&assert(this.duckingProperties.includes(e),"ducking Property not present"),this.duckingProperties.remove(e)}getOutputLevelForCategory(e){if(!this.initialized)return console.warn("an attempt was made to get the output level for a sound category on an uninitialized sound manager, returning 0"),0;const i=this.gainNodesForCategories.get(e);return assert&&assert(i,`no category with name = ${e}`),i.gain.value}setReverbLevel(e){if(!this.initialized){console.warn("an attempt was made to set the reverb level on an uninitialized sound manager, ignoring");return}if(e!==this._reverbLevel){assert&&assert(e>=0&&e<=1,`reverb value out of range: ${e}`);const i=S.currentTime;this.reverbGainNode.gain.linearRampToValueAtTime(e,i+Et),this.dryGainNode.gain.linearRampToValueAtTime(1-e,i+Et),this._reverbLevel=e}}set reverbLevel(e){this.setReverbLevel(e)}get reverbLevel(){return this.getReverbLevel()}getReverbLevel(){return this._reverbLevel}set enabled(e){this.enabledProperty.value=e}get enabled(){return this.enabledProperty.value}set sonificationLevel(e){this.extraSoundEnabledProperty.value=e===Se.EXTRA}get sonificationLevel(){return this.extraSoundEnabledProperty.value?Se.EXTRA:Se.BASIC}logGain(e,i){}logMainGain(e){this.mainGainNode&&this.logGain(this.mainGainNode,e)}logReverbGain(e){this.reverbGainNode&&this.logGain(this.reverbGainNode,e)}}const Zi=new Ur;Y.register("soundManager",Zi);const Is=.05,Wr=[1,Math.pow(de.TWELFTH_ROOT_OF_TWO,2),Math.pow(de.TWELFTH_ROOT_OF_TWO,4),Math.pow(de.TWELFTH_ROOT_OF_TWO,5),Math.pow(de.TWELFTH_ROOT_OF_TWO,7),Math.pow(de.TWELFTH_ROOT_OF_TWO,9),Math.pow(de.TWELFTH_ROOT_OF_TWO,11)],Xo={detectSoundBounds:a=>{const e=a.length,i=[],s=[];for(let o=0;o<a.numberOfChannels;o++){const r=a.getChannelData(o);i[o]=Yr(r,e,Is),s[o]=Hr(r,e,Is)}const t=a.sampleRate;return{soundStart:_.min(i)/t,soundEnd:_.max(s)/t}},getMajorScalePlaybackRate:a=>{const e=a%7,i=Math.floor(a/7);return Math.pow(2,i)*Wr[e]}},Yr=(a,e,i)=>{let s=0,t,o=!1;for(t=0;t<e-1&&!o;t++)a[t]>i&&a[t+1]>a[t]&&(s=t,o=!0);let r=0;for(o=!1,t=s;t>0&&!o;t--){const u=a[t];u<=0&&(r=u===0?t:t+1,o=!0)}let n=0,d=0;for(t=0;t<r;t++)n=Math.max(n,a[t]),d=Math.min(d,a[t]);return r},Hr=(a,e,i)=>{let s=e-1,t=!1,o;for(o=e-1;o>0&&!t;o--)a[o]<=-i&&a[o-1]<a[o]&&(s=o,t=!0);let r=s;for(t=!1,o=s;o<e-1&&!t;o++)a[o+1]>=0&&(r=o,t=!0);let n=0,d=0;for(o=r;o<e;o++)n=Math.max(n,a[o]),d=Math.min(d,a[o]);return r};Y.register("SoundUtils",Xo);const Qr=de.DEFAULT_PARAM_CHANGE_TIME_CONSTANT,Gr=U.not(vi);class Zo extends Ki{constructor(e){super();const i=E()({initialOutputLevel:1,audioContext:S,connectImmediately:!1,enableControlProperties:[],additionalAudioNodes:[],enabledDuringPhetioStateSetting:!1},e);this.audioContext=i.audioContext,this._outputLevel=i.initialOutputLevel,this.connectionList=[],this.enableControlProperties=Ii(),this.fullyEnabledProperty=new z(!0);const s=()=>{this.fullyEnabledProperty.value=_.every(this.enableControlProperties,t=>t.value)};this.enableControlProperties.addItemAddedListener(t=>{t.link(s);const o=r=>{r===t&&(r.unlink(s),this.enableControlProperties.removeItemRemovedListener(o))};this.enableControlProperties.addItemRemovedListener(o)}),i.enableControlProperties.forEach(t=>{this.addEnableControlProperty(t)}),this.locallyEnabledProperty=new z(!0),this.addEnableControlProperty(this.locallyEnabledProperty),this.mainGainNode=this.audioContext.createGain(),this.mainGainNode.gain.setValueAtTime(this._outputLevel,this.audioContext.currentTime),i.connectImmediately&&this.mainGainNode.connect(this.audioContext.destination),this.fullyEnabledProperty.link(t=>{const o=t?0:this._outputLevel,r=t?this._outputLevel:0,n=this.audioContext.currentTime;this.mainGainNode.gain.setValueAtTime(o,n),this.mainGainNode.gain.linearRampToValueAtTime(r,this.audioContext.currentTime+de.DEFAULT_LINEAR_GAIN_CHANGE_TIME)}),this.soundSourceDestination=this.mainGainNode;for(let t=i.additionalAudioNodes.length-1;t>=0;t--){const o=i.additionalAudioNodes[t];o.connect(this.soundSourceDestination),this.soundSourceDestination=o}L.PHET_IO_ENABLED&&!i.enabledDuringPhetioStateSetting&&this.addEnableControlProperty(Gr),this.disposeEmitter.addListener(()=>{this.enableControlProperties.clear()})}connect(e){this.mainGainNode.connect(e),this.connectionList.push(e)}disconnect(e){this.mainGainNode.disconnect(e),this.connectionList=_.without(this.connectionList,e)}isConnectedTo(e){return this.connectionList.includes(e)}setOutputLevel(e,i=Qr){if(e!==this._outputLevel){const s=this.audioContext.currentTime;this.fullyEnabledProperty.value&&(this.mainGainNode.gain.cancelScheduledValues(s),i===0?this.mainGainNode.gain.setValueAtTime(e,s):this.audioContext.state==="running"?this.mainGainNode.gain.setTargetAtTime(e,s,i):this.mainGainNode.gain.linearRampToValueAtTime(e,s+de.DEFAULT_LINEAR_GAIN_CHANGE_TIME)),this._outputLevel=e}}set outputLevel(e){this.setOutputLevel(e)}get outputLevel(){return this.getOutputLevel()}getOutputLevel(){return this._outputLevel}addEnableControlProperty(e){this.enableControlProperties.push(e)}removeEnableControlProperty(e){this.enableControlProperties.remove(e)}get locallyEnabled(){return this.locallyEnabledProperty.value}set locallyEnabled(e){this.locallyEnabledProperty.value=e}get fullyEnabled(){return this.fullyEnabledProperty.value}}Y.register("SoundGenerator",Zo);const _r=.2,zr=de.DEFAULT_PARAM_CHANGE_TIME_CONSTANT,Kr=.1;class Ft extends Zo{constructor(e,i){const s=E()({loop:!1,trimSilence:!0,initialPlaybackRate:1,initiateWhenDisabled:!1,rateChangesAffectPlayingSounds:!0},i);if(super(s),this.wrappedAudioBuffer=e,this.loop=s.loop,this.rateChangesAffectPlayingSounds=s.rateChangesAffectPlayingSounds,this.initiateWhenDisabled=s.initiateWhenDisabled,this.soundStart=0,this.soundEnd=null,s.trimSilence){const t=o=>{if(o){const r=Xo.detectSoundBounds(o);this.soundStart=r.soundStart,this.soundEnd=r.soundEnd,this.wrappedAudioBuffer.audioBufferProperty.unlink(t)}};this.wrappedAudioBuffer.audioBufferProperty.link(t)}this.activeBufferSources=[],this.localGainNode=this.audioContext.createGain(),this.localGainNode.connect(this.soundSourceDestination),this._playbackRate=s.initialPlaybackRate,this.isPlayingProperty=new z(!1),this.timeOfDeferredPlayRequest=Number.NEGATIVE_INFINITY,this.audioContextStateChangeListener=t=>{t==="running"&&((this.loop||(Date.now()-this.timeOfDeferredPlayRequest)/1e3<_r)&&this.play(.1),be.removeStateChangeListener(this.audioContext,this.audioContextStateChangeListener))},this.fullyEnabledProperty.lazyLink(t=>{!this.loop&&!t&&this.stop()}),this.disposeEmitter.addListener(()=>{be.hasListener(this.audioContext,this.audioContextStateChangeListener)&&be.removeStateChangeListener(this.audioContext,this.audioContextStateChangeListener)})}play(e=0){if(this.audioContext.state==="running"&&this.wrappedAudioBuffer.audioBufferProperty.value){const i=this.audioContext.currentTime;if(this.loop&&!this.isPlayingProperty.get()||!this.loop&&(this.fullyEnabled||this.initiateWhenDisabled)){const s=this.audioContext.createBufferSource();s.buffer=this.wrappedAudioBuffer.audioBufferProperty.value,s.loop=this.loop,s.loopStart=this.soundStart,this.soundEnd&&(s.loopEnd=this.soundEnd),this.localGainNode.gain.cancelScheduledValues(i),this.localGainNode.gain.setValueAtTime(1,i),s.connect(this.soundSourceDestination),this.activeBufferSources.push(s),this.loop||(s.onended=()=>{const t=this.activeBufferSources.indexOf(s);t>-1&&this.activeBufferSources.splice(t,1),this.isPlayingProperty.value=this.activeBufferSources.length>0}),s.playbackRate.setValueAtTime(this._playbackRate,i),s.start(i+e,this.soundStart),this.isPlayingProperty.value=!0}}else this.audioContext.state==="suspended"&&(this.timeOfDeferredPlayRequest=Date.now(),be.hasListener(this.audioContext,this.audioContextStateChangeListener)||be.addStateChangeListener(this.audioContext,this.audioContextStateChangeListener))}stop(e=Kr){const i=e>0?e/4.61:de.DEFAULT_PARAM_CHANGE_TIME_CONSTANT,s=this.audioContext.currentTime,t=s+e;this.localGainNode.gain.cancelScheduledValues(s),this.localGainNode.gain.setTargetAtTime(0,s,i),this.activeBufferSources.forEach(o=>{o.stop(t)}),this.activeBufferSources.length=0,this.isPlayingProperty.value=!1,be.hasListener(this.audioContext,this.audioContextStateChangeListener)&&be.removeStateChangeListener(this.audioContext,this.audioContextStateChangeListener)}setPlaybackRate(e,i=zr){if(assert&&assert(e>0,"invalid playback rate: "+e),this.rateChangesAffectPlayingSounds){const s=this.audioContext.currentTime;this.activeBufferSources.forEach(t=>{t.playbackRate.cancelScheduledValues(s),t.playbackRate.setTargetAtTime(e,s,i)})}this._playbackRate=e}getPlaybackRate(){return this._playbackRate}get playbackRate(){return this.getPlaybackRate()}get isPlaying(){return this.isPlayingProperty.value}getNumberOfPlayingInstances(){return this.activeBufferSources.length}}Y.register("SoundClip",Ft);class te{constructor(e,i){const s=E()({soundClipOptions:{},soundManagerOptions:{}},i);this._soundClip=new Ft(e,s.soundClipOptions),Zi.addSoundGenerator(this._soundClip,s.soundManagerOptions)}play(){this._soundClip.play()}stop(){this._soundClip.stop()}getSoundClip(){return this._soundClip}}Y.register("SoundClipPlayer",te);const $o=new te(nt,{soundClipOptions:{initialOutputLevel:.2},soundManagerOptions:{categoryName:"user-interface"}});Y.register("switchToLeftSoundPlayer",$o);const en="data:audio/mpeg;base64,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",jr=ne(S,en),Jr=oe.createLock(en),rt=new ee;let vs=!1;const $t=()=>{vs||(Jr(),vs=!0)},Xr=a=>{rt.audioBufferProperty.value===null&&(rt.audioBufferProperty.set(a),$t())},Zr=a=>{console.warn("decode of audio data failed, using stubbed sound, error: "+a),rt.audioBufferProperty.set(S.createBuffer(1,1,S.sampleRate)),$t()},Ns=S.decodeAudioData(jr.buffer,Xr,Zr);Ns&&Ns.then(a=>{rt.audioBufferProperty.value===null&&(rt.audioBufferProperty.set(a),$t())}).catch(a=>{console.warn("promise rejection caught for audio decode, error = "+a),$t()});const tn=new te(rt,{soundClipOptions:{initialOutputLevel:.2},soundManagerOptions:{categoryName:"user-interface"}});Y.register("switchToRightSoundPlayer",tn);const $r=new $(60,30);class $i extends qt(T){constructor(e,i,s,t){assert&&assert(e.valueComparisonStrategy==="reference",'ToggleSwitch depends on "===" equality for value comparison'),assert&&ki(t,["a11yName"],["innerContent","voicingNameResponse"]);const o=E()({size:$r,toggleWhileDragging:null,dragThreshold:3,toggleThreshold:1,thumbFill:null,thumbStroke:"black",thumbTouchAreaXDilation:8,thumbTouchAreaYDilation:8,thumbMouseAreaXDilation:0,thumbMouseAreaYDilation:0,trackFillLeft:null,trackFillRight:null,trackStroke:"black",cursor:"pointer",disabledOpacity:Ae.DISABLED_OPACITY,switchToLeftSoundPlayer:$o,switchToRightSoundPlayer:tn,tandem:L.REQUIRED,tandemNameSuffix:"Switch",phetioEventType:Ve.USER,phetioReadOnly:pe.DEFAULT_OPTIONS.phetioReadOnly,visiblePropertyOptions:{phetioFeatured:!0},phetioEnabledPropertyInstrumented:!0,phetioFeatured:!0,tagName:"button",ariaRole:"switch",a11yName:null,leftValueContextResponse:null,rightValueContextResponse:null},t);let r=null;(!o.trackFillLeft||!o.trackFillRight)&&(r=new Te(0,0,0,o.size.height).addColorStop(0,"rgb( 40, 40, 40 )").addColorStop(1,"rgb( 200, 200, 200 )")),o.trackFillLeft=o.trackFillLeft||r,o.trackFillRight=o.trackFillRight||r,o.thumbFill=o.thumbFill||new Te(0,0,0,o.size.height).addColorStop(0,"white").addColorStop(1,"rgb( 200, 200, 200 )"),o.a11yName&&(o.voicingNameResponse=o.a11yName,o.innerContent=o.a11yName),super(),this.onInputEmitter=new K;const n=o.size.height/2,d=new Q(0,0,o.size.width,o.size.height,n,n,{stroke:o.trackStroke,fill:o.trackFillLeft});this.addChild(d);const u=new Q(0,0,o.size.width,o.size.height,n,n,{stroke:o.trackStroke,fill:o.trackFillRight});this.addChild(u);const l=new Q(0,0,.5*o.size.width,o.size.height,n,n,{fill:o.thumbFill,stroke:o.thumbStroke});this.addChild(l),(o.thumbTouchAreaXDilation||o.thumbTouchAreaYDilation)&&(l.touchArea=N.roundRect(-o.thumbTouchAreaXDilation,-o.thumbTouchAreaYDilation,.5*o.size.width+2*o.thumbTouchAreaXDilation,o.size.height+2*o.thumbTouchAreaYDilation,n,n)),(o.thumbMouseAreaXDilation||o.thumbMouseAreaYDilation)&&(l.mouseArea=N.roundRect(-o.thumbMouseAreaXDilation,-o.thumbMouseAreaYDilation,.5*o.size.width+2*o.thumbMouseAreaXDilation,o.size.height+2*o.thumbMouseAreaYDilation,n,n));const h=g=>{const P=d.lineWidth/2;g===i?l.left=-P:l.right=o.size.width+P,u.rectWidth=l.right-P,this.setPDOMAttribute("aria-pressed",g!==i),this.setPDOMAttribute("aria-checked",g!==i)};e.link(h);const p=o.dragThreshold*o.dragThreshold,q=new Lt(0,0);let V=!1;const m=new Ni(g=>{e.value=g,this.onInputEmitter.emit()},{parameters:[{validValues:[i,s],phetioPrivate:!0}],tandem:o.tandem.createTandem("toggleAction"),phetioDocumentation:"Occurs when the switch is toggled via user interaction",phetioReadOnly:o.phetioReadOnly,phetioEventType:Ve.USER});this.onInputEmitter.addListener(()=>{e.value===i?o.switchToLeftSoundPlayer.play():o.switchToRightSoundPlayer.play();const g=e.value===s?o.rightValueContextResponse:o.leftValueContextResponse;g&&(this.alertDescriptionUtterance(g),this.voicingSpeakResponse({contextResponse:Le.alertableToText(g)}))});const A=()=>l.centerX<d.centerX?i:s,c=new Fi({tandem:o.tandem.createTandem("dragListener"),canStartPress:g=>g&&(g.type==="move"||g.type==="enter")?_.includes(g.trail.nodes,l):!0,start:()=>{q.setXY(0,0),V=!1},drag:(g,P)=>{q.add(P.modelDelta),V=V||q.magnitudeSquared>p;const C=P.getCurrentTarget().globalToLocalPoint(g.pointer.point),y=l.width/2,b=d.lineWidth/2;l.centerX=Z.clamp(C.x,y-b,o.size.width-y+b),u.rectWidth=l.right-b;const w=C.x<(1-2*o.toggleThreshold)*y||C.x>(-1+2*o.toggleThreshold)*y+o.size.width,f=A();(o.toggleWhileDragging===!0||w&&o.toggleWhileDragging===null)&&e.value!==f&&m.execute(f)},end:()=>{const g=e.value===i?s:i,P=V?A():g;e.value!==P&&m.execute(P),h(P)},canClick:!0});this.addInputListener(c),this.mutate(o),this.addLinkedElement(e,{tandemName:"property"}),this.switchToLeftSoundPlayer=o.switchToLeftSoundPlayer,this.switchToRightSoundPlayer=o.switchToRightSoundPlayer,this.disposeToggleSwitch=()=>{d.dispose(),u.dispose(),e.unlink(h),m.dispose(),c.dispose(),this.onInputEmitter.dispose()}}dispose(){this.disposeToggleSwitch(),super.dispose()}}B.register("ToggleSwitch",$i);const ea=(a,e)=>{a.opacity=e?1:Ae.DISABLED_OPACITY};class ta extends Ui{constructor(e,i,s,t,o,r){var V,m;assert&&assert(e.valueComparisonStrategy==="reference",'ABSwitch depends on "===" equality for value comparison'),assert&&assert(s.tandem,"labelA must have a tandem"),assert&&assert(o.tandem,"labelB must have a tandem");const n=E()({toggleSwitchOptions:{enabledPropertyOptions:{phetioFeatured:!1}},setLabelEnabled:ea,centerOnSwitch:!1,cursor:"pointer",disabledOpacity:Ae.DISABLED_OPACITY,spacing:8,tandem:L.REQUIRED,tandemNameSuffix:"Switch",visiblePropertyOptions:{phetioFeatured:!0},phetioEnabledPropertyInstrumented:!0},r),d=new $i(e,i,t,I({tandem:n.tandem.createTandem("toggleSwitch")},n.toggleSwitchOptions));let u=s,l=o;if(n.centerOnSwitch){const A=new Wi;u=new ot(s,{group:A,xAlign:"right"}),l=new ot(o,{group:A,xAlign:"left"})}n.children=[u,d,l],super(n),this.onInputEmitter=new K,this.property=e,this.valueA=i,this.valueB=t,this.labelA=s,this.labelB=o,this.toggleSwitch=d,this.setLabelEnabled=n.setLabelEnabled;const h=()=>this.updateLabelsEnabled();e.link(h);const p=new We({release:()=>{const A=e.value;e.value=i,A!==i&&this.onInputEmitter.emit()},tandem:s.tandem.createTandem("pressListener")});s.addInputListener(p);const q=new We({release:()=>{const A=e.value;e.value=t,A!==t&&this.onInputEmitter.emit()},tandem:o.tandem.createTandem("pressListener")});o.addInputListener(q),d.onInputEmitter.addListener(()=>this.onInputEmitter.emit()),this.onInputEmitter.addListener(()=>{e.value===t&&d.switchToRightSoundPlayer.play(),e.value===i&&d.switchToLeftSoundPlayer.play()}),this.disposeABSwitch=()=>{e.unlink(h),d.dispose(),this.onInputEmitter.dispose(),s.removeInputListener(p),o.removeInputListener(q),p.dispose(),q.dispose()},assert&&((m=(V=phet==null?void 0:phet.chipper)==null?void 0:V.queryParameters)!=null&&m.binder)&&G.registerDataURL("sun","ABSwitch",this)}dispose(){this.disposeABSwitch(),super.dispose()}onEnabledPropertyChange(e){!e&&this.interruptSubtreeInput(),this.inputEnabled=e,this.toggleSwitch.enabled=e,this.updateLabelsEnabled()}updateLabelsEnabled(){this.setLabelEnabled(this.labelA,this.enabled&&this.property.value===this.valueA),this.setLabelEnabled(this.labelB,this.enabled&&this.property.value===this.valueB)}}B.register("ABSwitch",ta);const sn="data:audio/mpeg;base64,//swxAAABSAbF7TAgDE5nqu/MHICAAAAcDYkDIEtmZ+0OAIDonAEAIOjgnenW/yhz/g+fh+CEocif//+c5RVQlRIdHdXcHffj/DYYCgBdaS6OzOU+xCNTd7EPI6nQ7mODNUkXlljx1AXgvbsgTi8z3+Z7a8aMfHP9uQFmXb1f/cmZM/9//sIhYP//sNqQJAgNJhWTyGAwFAoAATS//syxAeACW0Hgbi1EBESBuvjNGAAfDtZrw0MQaBPJj2MwQyJDLEhJZGoPjAvCMnP3dlJiAtJ8xr/PKk5hYV//3KDxif//6MYVcnt//+VFswo04EQAACAAC9YdezBqNoZHHQDlUSCuyZAkxazLI1qAeiR+JfccaBj1xti9B5JXrESzzBnSIgoXKxEzkQCos+pbPmxfwWXkwAAFm+93//7MsQDgAh4Z1G5gwABEY3y9x5iAuzlQAAAAAB2Wop4QsaAhgpWdRTKJsZcpp1XP57ykSikyYckLZ4Ty1TSs+HageepBZpVjXhgAMSIXXKmU65I0d/7dt7v7sNgMBwALVb09GkvHVk7fqBciIEitH44DchaeFCkbZVn3vi+3iz997uspO3MNCwv4nKHDdB/+gTro/8WA6oYAgMAeW//+zLEAwAIZH9bHaGAAQMgrTTxid9Ko07zWxQmamYZMUXJVhdXnyiL/VNVCqJJVOgImNStCjd9bH2ZjwZ/qQYUyG79QVWCpgKmMChqVd/4VIkkywFXa2uRpIAhLLU5m1VG6LimpHOKzIapjKZdQGJoCUbq7bMoVyt+j5W6t+WZ/r/KqPLMbv1Kxurf//8tBTuFZBUABV3GwiMDZuFj//swxAUCB4SDK0ywaICeAyN0wyROlYmGu6/rSDZ4E2kDhIFxZeHE1XJXBGqqqgLGqsZQ8m6ArsXr1fUvL1lChr+v/7fq//SC5HLZU2AEjwW0VUCig+dQNmTNmsUQ+tQt+EhX+skFfU3+n+u7/hV6TEFNRTMuOTkuNaqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",ia=ne(S,sn),sa=oe.createLock(sn),at=new ee;let Fs=!1;const ei=()=>{Fs||(sa(),Fs=!0)},oa=a=>{at.audioBufferProperty.value===null&&(at.audioBufferProperty.set(a),ei())},na=a=>{console.warn("decode of audio data failed, using stubbed sound, error: "+a),at.audioBufferProperty.set(S.createBuffer(1,1,S.sampleRate)),ei()},Us=S.decodeAudioData(ia.buffer,oa,na);Us&&Us.then(a=>{at.audioBufferProperty.value===null&&(at.audioBufferProperty.set(a),ei())}).catch(a=>{console.warn("promise rejection caught for audio decode, error = "+a),ei()});const on=new te(at,{soundClipOptions:{initialOutputLevel:.5},soundManagerOptions:{categoryName:"user-interface"}});Y.register("accordionBoxClosedSoundPlayer",on);const nn="data:audio/mpeg;base64,//swxAAABsArNnTzABEnmTA3HoACAAIOAYznNNVnYDYAWAjClBSA3BwKB48VkSUAABBynBhYP5QMCc+T4JnwQcoH/6gff/Of/l4gAIJkjluslkskluuAAAkTmCV7K1w6pqz7VkryDnmQVVFCJY0HRFDgrNPT7QRsUHNV+KVNJRPtYt0/426/nj/Tv/sPVjjhtrzPbywAATqIdRsL//syxAOACHStW/2RACEMj6e2smAEqYAYhGmdJfGbQRJM6d5rUVhcXmZTOP9blIoBChWlL5hQoqBgpUdHqJ/1McBGpaGctDO3++hgIUqDV8QgqAAntdpnEwAD6ruLLBhIIEPkpGtP5xWnwVF2czcptv1Fgk0VRRGN9VJRU46pQrSVRX///853QKKZ0dz3cGnwCKBwcHYEIC0hEM5EMv/7MsQEAAiQXW+5hIAREZRslzKwACEMBgAAD9/MyuFW/l8vMAkS99TuX45zufo9JjH/gbUAtafz/MqCaqJP4IIAARGcawPpR8H3iefS7zg45qAIBFAAV1AtJXsx44xwqAZ24lKIsEc5bDMUuS6XnBEXQqAakxM3KX8vlruv28Pc++21X/p71t0ufET/PUOSB+v8FT3Fl3GALLrbdbr/+zLEA4AIWHtvuPWAEROSLXcegALRIIBAAAAIpME09Jpkm6HEpcYWjTFeQLCjn4NAjRM5fbfr4UULuXdO+HtlGqi0a/9EFQ66zxGCz/4GGlyg0HFHJZM7ZIAwEAAAErGUoi0JXI6UF+hiurPpjdxalUIbk1pRYWEUpY39w/BVt/p1i48ySduL+KRKEg8sPo/yoV/yLlIIpJIQSCOJ//swxAODxLAbO7xggDAAADSAAAAEweQCRznEiWHEqW49z3nuJf8Fbqzvw1+e6j3TPf/BakxBTUUzLjk5LjWqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",ra=ne(S,nn),aa=oe.createLock(nn),lt=new ee;let Ws=!1;const ti=()=>{Ws||(aa(),Ws=!0)},la=a=>{lt.audioBufferProperty.value===null&&(lt.audioBufferProperty.set(a),ti())},da=a=>{console.warn("decode of audio data failed, using stubbed sound, error: "+a),lt.audioBufferProperty.set(S.createBuffer(1,1,S.sampleRate)),ti()},Ys=S.decodeAudioData(ra.buffer,la,da);Ys&&Ys.then(a=>{lt.audioBufferProperty.value===null&&(lt.audioBufferProperty.set(a),ti())}).catch(a=>{console.warn("promise rejection caught for audio decode, error = "+a),ti()});const rn=new te(lt,{soundClipOptions:{initialOutputLevel:.5},soundManagerOptions:{categoryName:"user-interface"}});Y.register("accordionBoxOpenedSoundPlayer",rn);function ze(a,e){return a.map(i=>(assert&&assert(!i.node,"Use createNode instead of node"),i.createNode(e&&i.tandemName?e.createTandem(i.tandemName):L.OPTIONAL)))}class mi extends T{constructor(e,i,s){var n,d,u;const t=E()({alignChildren:mi.CENTER,unselectedChildrenSceneGraphStrategy:"included"},s),o=ze(i,(n=t.tandem)==null?void 0:n.createTandem("elements"));t.children=o,t.alignChildren(t.children),super(t);const r=l=>{const h=[];for(let p=0;p<i.length;p++){const V=i[p].value===l;o[p].visible=V,V&&h.push(o[p])}assert&&assert(h.length===1,`Wrong number of matches: ${h.length}`),t.unselectedChildrenSceneGraphStrategy==="excluded"&&(this.children=h)};e.link(r),this.nodes=o,this.disposeToggleNode=function(){e.unlink(r),o.forEach(l=>l.dispose())},assert&&((u=(d=phet==null?void 0:phet.chipper)==null?void 0:d.queryParameters)!=null&&u.binder)&&G.registerDataURL("sun","ToggleNode",this)}dispose(){this.disposeToggleNode(),super.dispose()}static CENTER(e){for(let i=1;i<e.length;i++)e[i].center=e[0].center}static CENTER_X(e){for(let i=1;i<e.length;i++)e[i].centerX=e[0].centerX}static CENTER_Y(e){for(let i=1;i<e.length;i++)e[i].centerY=e[0].centerY}static LEFT(e){for(let i=1;i<e.length;i++)e[i].left=e[0].left}static BOTTOM(e){for(let i=1;i<e.length;i++)e[i].bottom=e[0].bottom}static CENTER_BOTTOM(e){for(let i=1;i<e.length;i++)e[i].centerBottom=e[0].centerBottom}static RIGHT(e){for(let i=1;i<e.length;i++)e[i].right=e[0].right}static NONE(e){}}B.register("ToggleNode",mi);class es extends mi{constructor(e,i,s,t){super(e,[{value:!0,createNode:()=>i},{value:!1,createNode:()=>s}],t)}}B.register("BooleanToggleNode",es);const an="data:audio/mpeg;base64,//swxAAABdzxBVQRADFFHaWrNxAA6lqlJJEQAExvBGPAACkboRpPkaQjfnfz5z/zvk6HfzvO//6nzn/8n8Wo50RIcE5h04AwQBAIwAHAAGGKl44UnQFxrI7b6JARZgWfzRC7X2cjUCZG/TgeAfXziIB7AOgm3/Dlw5chhj/4aoJEnxOhr/+bkURTNP+37dN///zd5/WqMcFKOhHs//syxAMACFBlQBnXgAEQCuRbvLAAMh2cNcpzMDxDOxVSMlAjYsYOAlbMUQJ8hAkSABkLAPbGhQfrk7xotjWuYO3uc9FKLMWDXX39eK91WL8a4ARAYAYFAQZg2BpmMcTuZ9zx5rwEJFAZZgjA1mC8BuLASofGAOAMhs/U/GV40k0Dkso2K6Npbban/lI2Pnd6J3///t66ABTcYocjaf/7MsQDgAX8JTutseaw6RRnNZCJDkFdpsKMGTznDUOCFN3UBmSx0M4MasPlPO6Ar07embS//T/2f27SK//YUG03dpZI2oMaBN8MJA5tI6MkldtNZgLZ+dUe9LvQy6Odv9a9cr9VPRUaBtgq9EWmz6Xj3KZTzOv1ylUAC+0kk0oAEUn+I0HZ6jICCWahweFTlrz07qq2Ls9T3N/Xljr/+zLEEgAFSBMjQWBgUI8CIvA3vAbc1Vf//uoAABTglUoQoEElDJAFw2zpqMe6sqMzu59/9uvz32/t/onv/5FMQU1FMy45OS41VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//swxC8DwAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",ua=ne(S,an),ha=oe.createLock(an),dt=new ee;let Hs=!1;const ii=()=>{Hs||(ha(),Hs=!0)},ca=a=>{dt.audioBufferProperty.value===null&&(dt.audioBufferProperty.set(a),ii())},pa=a=>{console.warn("decode of audio data failed, using stubbed sound, error: "+a),dt.audioBufferProperty.set(S.createBuffer(1,1,S.sampleRate)),ii()},Qs=S.decodeAudioData(ua.buffer,ca,pa);Qs&&Qs.then(a=>{dt.audioBufferProperty.value===null&&(dt.audioBufferProperty.set(a),ii())}).catch(a=>{console.warn("promise rejection caught for audio decode, error = "+a),ii()});const ts=new te(dt,{soundClipOptions:{initialOutputLevel:.7},soundManagerOptions:{categoryName:"user-interface"}});Y.register("toggleOffSoundPlayer",ts);const ln="data:audio/mpeg;base64,//swxAAAByAnDnWRADEZkyy3M0ALJQcEAMk013znpOVkWGNCg9vD4oJlTQcNxQBIJ0PxSUlJSCwfB8Hz+CAIAN/DH/gg78EHS7//9QIJSLq/wFHg+AwFAAAAAAfFvo6+SmoCLgXFVlJaBRlrks8EfgdfwNGNDIX1icAtgSPunkTDV42yCf+OWMmXBP4hJ/+RAZg8nmowgLA3CbIw//syxAOACDxjRhnXgAEOCqVnuqAERLIypm8wTCMyMagDMoYEAyRAAgCAQ9za/ELra7bNcNI9BMVmPx3pF7P7a/wstMTOL6//gwrwjSeVKioAAkqgEBggJpjMDZgiPBm+0xy7jJ482ppET4kOhhSHhg8CKMhgGASP09uliMpAaC+Gyqiiyjd9/QiJjzxL//////p9lUBqv86UKJp6wP/7MsQEgAWgKTMsbMLwvwUmdaCI3g146KXMwJVAHDYhAjvxQKf+SIBJPJWbIrZ/1aVs/k7Lf2//7QQilFbJGkVBjWeEsADYyEamuw0dNdmGxS1qmJCrAKrGJZ+TX/V+1zX0fitWyROXKQQiijI22kTAod9keTOhUgChZfu1VSXOv2ubHdG+h4jXu2fLMV00rQvomqNH8kAAAARGFj3/+zLEGgDFrBkvoeWAcKKCYxBngBYhtAWgNUjlVDuFH+de4qlT5ENEZ7/8t7K3cKjB1Q/kmOcRTEFNRTMuOTkuNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//swxDMDwAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",Va=ne(S,ln),Aa=oe.createLock(ln),ut=new ee;let Gs=!1;const si=()=>{Gs||(Aa(),Gs=!0)},ga=a=>{ut.audioBufferProperty.value===null&&(ut.audioBufferProperty.set(a),si())},ma=a=>{console.warn("decode of audio data failed, using stubbed sound, error: "+a),ut.audioBufferProperty.set(S.createBuffer(1,1,S.sampleRate)),si()},_s=S.decodeAudioData(Va.buffer,ga,ma);_s&&_s.then(a=>{ut.audioBufferProperty.value===null&&(ut.audioBufferProperty.set(a),si())}).catch(a=>{console.warn("promise rejection caught for audio decode, error = "+a),si()});const is=new te(ut,{soundClipOptions:{initialOutputLevel:.7},soundManagerOptions:{categoryName:"user-interface"}});Y.register("toggleOnSoundPlayer",is);const me=class me extends _i{};me.IDLE=new me,me.OVER=new me,me.PRESSED=new me,me.enumeration=new zi(me);let W=me;B.register("ButtonInteractionState",W);const Ut={LIGHT_BLUE:new F(153,206,255),LIGHT_GRAY:new F(220,220,220)},qa=new er(.7),ya=new tr(1.2);class ye extends Ai(qt(T)){constructor(e,i,s,t){var l;const o=E()({content:null,minUnstrokedWidth:null,minUnstrokedHeight:null,xMargin:10,yMargin:5,xAlign:"center",yAlign:"center",xContentOffset:0,yContentOffset:0,baseColor:Ut.LIGHT_BLUE,cursor:"pointer",buttonAppearanceStrategy:ye.FlatAppearanceStrategy,buttonAppearanceStrategyOptions:{},contentAppearanceStrategy:null,contentAppearanceStrategyOptions:{},enabledAppearanceStrategy:(h,p,q,V)=>{q.filters=h?[]:[qa,ya],V&&(V.filters=h?[]:[ir.FULL],V.opacity=h?1:Ae.DISABLED_OPACITY)},disabledColor:Ut.LIGHT_GRAY,aspectRatio:null,tagName:"button",tandemNameSuffix:"Button",visiblePropertyOptions:{phetioFeatured:!0},phetioEnabledPropertyInstrumented:!0},t);o.listenerOptions=I({tandem:(l=o.tandem)==null?void 0:l.createTandem("pressListener")},o.listenerOptions),assert&&o.enabledProperty&&assert(o.enabledProperty===e.enabledProperty,"if options.enabledProperty is provided, it must === buttonModel.enabledProperty"),o.enabledProperty=e.enabledProperty,assert&&assert(o.aspectRatio===null||isFinite(o.aspectRatio)&&o.aspectRatio>0,`ButtonNode aspectRatio should be a positive finite value if non-null. Instead received ${o.aspectRatio}.`),super(),this.buttonNodeConstraint=null,this.content=o.content,this.buttonModel=e,this._settableBaseColorProperty=new H(o.baseColor),this._disabledColorProperty=new H(o.disabledColor),this.baseColorProperty=new U([this._settableBaseColorProperty,this.enabledProperty,this._disabledColorProperty],(h,p,q)=>p?h:q),this._pressListener=e.createPressListener(o.listenerOptions),this.addInputListener(this._pressListener),assert&&assert(i.fill===null,"ButtonNode controls the fill for the buttonBackground"),i.fill=this.baseColorProperty,this.addChild(i);const r=new o.buttonAppearanceStrategy(i,s,this.baseColorProperty,o.buttonAppearanceStrategyOptions);let n;o.contentAppearanceStrategy&&o.content&&(n=new o.contentAppearanceStrategy(o.content,s,o.contentAppearanceStrategyOptions)),this.maxLineWidth=r.maxLineWidth;let d=null,u=null;if(o.content){const h=o.content;h.pickable=!1,this.buttonNodeConstraint=new ba(this,{content:o.content,xMargin:o.xMargin,yMargin:o.yMargin,maxLineWidth:this.maxLineWidth,minUnstrokedWidth:o.minUnstrokedWidth,minUnstrokedHeight:o.minUnstrokedHeight,aspectRatio:o.aspectRatio}),this.layoutSizeProperty=this.buttonNodeConstraint.layoutSizeProperty,d=new ot(h,{xAlign:o.xAlign,yAlign:o.yAlign,leftMargin:o.xMargin+o.xContentOffset,rightMargin:o.xMargin-o.xContentOffset,topMargin:o.yMargin+o.yContentOffset,bottomMargin:o.yMargin-o.yContentOffset}),u=J.multilink([i.boundsProperty,this.layoutSizeProperty],(p,q)=>{d.alignBounds=ji.point(p.center).dilatedXY(q.width/2,q.height/2)}),this.addChild(d)}else assert&&assert(o.minUnstrokedWidth!==null),assert&&assert(o.minUnstrokedHeight!==null),this.layoutSizeProperty=new ie(new $(o.minUnstrokedWidth+this.maxLineWidth,o.minUnstrokedHeight+this.maxLineWidth));this.mutate(o),this.enabledProperty.link(h=>o.enabledAppearanceStrategy(h,this,i,d)),this.disposeButtonNode=()=>{d&&d.dispose(),u&&u.dispose(),r.dispose&&r.dispose(),n&&n.dispose&&n.dispose(),this._pressListener.dispose(),this.baseColorProperty.dispose()}}dispose(){this.buttonNodeConstraint&&this.buttonNodeConstraint.dispose(),this.disposeButtonNode(),super.dispose()}setBaseColor(e){this._settableBaseColorProperty.paint=e}set baseColor(e){this.setBaseColor(e)}get baseColor(){return this.getBaseColor()}getBaseColor(){return this._settableBaseColorProperty.paint}pdomClick(){this._pressListener.click(null)}isPDOMClicking(){return this._pressListener.pdomClickingProperty.get()}}class fa{constructor(e,i,s,t){const o=new H(s,{luminanceFactor:.4}),r=new H(s,{luminanceFactor:-.4}),n=s,d=o,u=r,l=I({stroke:r},t),h=typeof l.lineWidth=="number"?l.lineWidth:1;e.stroke=l.stroke||r,e.lineWidth=h,this.maxLineWidth=e.hasStroke()?h:0,e.cachedPaints=[n,d,u];function p(q){switch(q){case W.IDLE:e.fill=n;break;case W.OVER:e.fill=d;break;case W.PRESSED:e.fill=u;break;default:throw new Error(`unsupported interactionState: ${q}`)}}i.link(p),this.disposeFlatAppearanceStrategy=()=>{i.hasListener(p)&&i.unlink(p),o.dispose(),r.dispose()}}dispose(){this.disposeFlatAppearanceStrategy()}}class ba extends _e{constructor(e,i){super(e),this.layoutSizeProperty=new ie(new $(0,0)),this.isFirstLayout=!0,this.lastLocalPreferredWidth=0,this.lastLocalPreferredHeight=0,this.buttonNode=e,this.content=i.content,this.xMargin=i.xMargin,this.yMargin=i.yMargin,this.maxLineWidth=i.maxLineWidth,this.minUnstrokedWidth=i.minUnstrokedWidth,this.minUnstrokedHeight=i.minUnstrokedHeight,this.aspectRatio=i.aspectRatio,this.buttonNode.localPreferredWidthProperty.lazyLink(this._updateLayoutListener),this.buttonNode.localPreferredHeightProperty.lazyLink(this._updateLayoutListener),this.addNode(this.content,!1),this.layout()}layout(){super.layout();const e=this.buttonNode,i=this.content;let s=Math.max(this.isFirstLayout||e.widthSizable?(we(i)?i.minimumWidth||0:i.width)+this.xMargin*2:e.localMinimumWidth,this.minUnstrokedWidth===null?0:this.minUnstrokedWidth+this.maxLineWidth),t=Math.max(this.isFirstLayout||e.heightSizable?(Ot(i)?i.minimumHeight||0:i.height)+this.yMargin*2:e.localMinimumHeight,this.minUnstrokedHeight===null?0:this.minUnstrokedHeight+this.maxLineWidth);this.aspectRatio!==null&&(s<t*this.aspectRatio&&(s=t*this.aspectRatio),t<s/this.aspectRatio&&(t=s/this.aspectRatio)),this.lastLocalPreferredWidth=this.isFirstLayout||we(e)?Math.max(s,e.localPreferredWidth||0):this.lastLocalPreferredWidth,this.lastLocalPreferredHeight=this.isFirstLayout||Ot(e)?Math.max(t,e.localPreferredHeight||0):this.lastLocalPreferredHeight,this.isFirstLayout=!1,this.layoutSizeProperty.value=new $(this.lastLocalPreferredWidth,this.lastLocalPreferredHeight),e.localMinimumWidth=s,e.localMinimumHeight=t}dispose(){this.buttonNode.localPreferredWidthProperty.unlink(this._updateLayoutListener),this.buttonNode.localPreferredHeightProperty.unlink(this._updateLayoutListener),super.dispose()}}ye.FlatAppearanceStrategy=fa;B.register("ButtonNode",ye);const Ti=7,Li=7,Ze=3;class Ee extends ye{constructor(e,i,s){const t=E()({size:null,minWidth:Li+Ze,minHeight:Ti+Ze,xMargin:8,yMargin:5,touchAreaXDilation:0,touchAreaYDilation:0,mouseAreaXDilation:0,mouseAreaYDilation:0,touchAreaXShift:0,touchAreaYShift:0,mouseAreaXShift:0,mouseAreaYShift:0,stroke:null,lineWidth:.5,cornerRadius:4,leftTopCornerRadius:null,rightTopCornerRadius:null,leftBottomCornerRadius:null,rightBottomCornerRadius:null,buttonAppearanceStrategy:Ee.ThreeDAppearanceStrategy},s);t.content||assert&&assert(t.size!==void 0,"button dimensions needed if no content is supplied."),t.size?(assert&&assert(t.xMargin<t.size.width,"xMargin cannot be larger than width"),assert&&assert(t.yMargin<t.size.height,"yMargin cannot be larger than height"),t.minUnstrokedWidth=t.size.width,t.minUnstrokedHeight=t.size.height):(t.minWidth!==void 0&&(t.minUnstrokedWidth=t.minWidth),t.minHeight!==void 0&&(t.minUnstrokedHeight=t.minHeight)),t.buttonAppearanceStrategyOptions||(t.buttonAppearanceStrategyOptions={stroke:t.stroke,lineWidth:t.lineWidth});let o,r;t.size?(o=t.size.width,r=t.size.height):(o=Math.max(t.content?t.content.width+t.xMargin*2:0,t.minWidth),r=Math.max(t.content?t.content.height+t.yMargin*2:0,t.minHeight));const n=new j(zs(o,r,t));if(t.size&&t.content){const u=t.content,l=Math.min((t.size.width-t.xMargin*2)/u.width,(t.size.height-t.yMargin*2)/u.height);t.content=new T({children:[u],scale:l})}super(e,n,i,t);let d=!0;J.multilink([this.isWidthResizableProperty,this.isHeightResizableProperty,this.layoutSizeProperty],(u,l,h)=>{(u||l)&&(n.shape=zs(u?h.width-this.maxLineWidth:o,l?h.height-this.maxLineWidth:r,t),assert&&assert(!u||n.width<=h.width+1e-7,"button width cannot exceed layout width"),assert&&assert(!l||n.height<=h.height+1e-7,"button width cannot exceed layout height")),(d||u||l)&&(this.touchArea=n.localBounds.dilatedXY(t.touchAreaXDilation,t.touchAreaYDilation).shiftedXY(t.touchAreaXShift,t.touchAreaYShift),this.mouseArea=n.localBounds.dilatedXY(t.mouseAreaXDilation,t.mouseAreaYDilation).shiftedXY(t.mouseAreaXShift,t.mouseAreaYShift)),d=!1})}}function zs(a,e,i){const s=Math.min(a/2,e/2);return N.roundedRectangleWithRadii(0,0,a,e,{topLeft:Math.min(s,i.leftTopCornerRadius!==null?i.leftTopCornerRadius:i.cornerRadius),topRight:Math.min(s,i.rightTopCornerRadius!==null?i.rightTopCornerRadius:i.cornerRadius),bottomLeft:Math.min(s,i.leftBottomCornerRadius!==null?i.leftBottomCornerRadius:i.cornerRadius),bottomRight:Math.min(s,i.rightBottomCornerRadius!==null?i.rightBottomCornerRadius:i.cornerRadius)})}let Sa=class{constructor(e,i,s,t){const o=t&&t.stroke?t.stroke:new H(s,{luminanceFactor:-.4}),r=t&&t.lineWidth!==void 0?t.lineWidth:.5,n=E()({stroke:o,lineWidth:r,overStroke:o,overLineWidth:r,overFill:s,overButtonOpacity:1,selectedStroke:o,selectedLineWidth:r,selectedButtonOpacity:1,deselectedStroke:o,deselectedLineWidth:r,deselectedButtonOpacity:1},t),d=new H(s,{luminanceFactor:.7}),u=new H(s,{luminanceFactor:.5}),l=new H(s,{luminanceFactor:.2}),h=new H(s,{luminanceFactor:-.3}),p=new H(s,{luminanceFactor:-.4}),q=new H(s,{luminanceFactor:-.5}),V=new U([s],P=>P.withAlpha(0)),m=new F(255,255,255,.7),A=new j(null,{stroke:n.stroke,lineWidth:n.lineWidth,pickable:!1});e.addChild(A),this.maxLineWidth=typeof n.lineWidth=="number"?n.lineWidth:0;let c;const g=()=>{const P=e.shape.bounds.width,C=e.shape.bounds.height;A.shape=e.shape,assert&&assert(P>=Li+Ze),assert&&assert(C>=Ti+Ze);const y=Math.min(Ti/C,1),b=Math.max(1-Ze/C,0),w=Math.min(Li/P,1),f=Math.max(1-Ze/P,0),k=new Te(0,0,0,C).addColorStop(0,d).addColorStop(y,s).addColorStop(b,s).addColorStop(1,q),D=new Te(0,0,P,0).addColorStop(0,m).addColorStop(w,V).addColorStop(f,V).addColorStop(1,q),M=new Te(0,0,0,C).addColorStop(0,d).addColorStop(y,u).addColorStop(b,u).addColorStop(1,q),v=new Te(0,0,P,0).addColorStop(0,m).addColorStop(w/2,new F(255,255,255,0)).addColorStop(f,V).addColorStop(1,h),re=new Te(0,0,0,C).addColorStop(0,d).addColorStop(y*.67,h).addColorStop(b,l).addColorStop(1,q);e.cachedPaints=[k,M,re],A.cachedPaints=[D,v],c&&i.unlink(c),c=je=>{switch(je){case W.IDLE:e.fill=k,e.stroke=n.deselectedStroke,e.lineWidth=n.deselectedLineWidth,e.opacity=n.deselectedButtonOpacity,A.fill=D,A.opacity=n.deselectedButtonOpacity;break;case W.OVER:e.fill=M,e.stroke=n.overStroke,e.lineWidth=n.overLineWidth,e.opacity=n.overButtonOpacity,A.fill=v,A.opacity=n.overButtonOpacity;break;case W.PRESSED:e.fill=re,e.stroke=n.selectedStroke,e.lineWidth=n.selectedLineWidth,e.opacity=n.selectedButtonOpacity,A.fill=v,A.opacity=n.selectedButtonOpacity;break;default:throw new Error(`unsupported interactionState: ${je}`)}},i.link(c)};e.selfBoundsProperty.link(g),this.disposeThreeDAppearanceStrategy=()=>{e.selfBoundsProperty.unlink(g),i.hasListener(c)&&i.unlink(c),d.dispose(),u.dispose(),l.dispose(),h.dispose(),p.dispose(),q.dispose(),V.dispose()}}dispose(){this.disposeThreeDAppearanceStrategy()}};Ee.ThreeDAppearanceStrategy=Sa;B.register("RectangularButton",Ee);class ss extends Oo{constructor(e){super([e.looksOverProperty,e.looksPressedProperty],(i,s)=>i&&!s?W.OVER:s?W.PRESSED:W.IDLE,{valueType:W})}}B.register("ToggleButtonInteractionStateProperty",ss);class ft extends sr{constructor(e){const i=E()({startCallback:_.noop,endCallback:_.noop,tandem:L.REQUIRED,phetioState:pe.DEFAULT_OPTIONS.phetioState,phetioReadOnly:pe.DEFAULT_OPTIONS.phetioReadOnly,phetioFeatured:pe.DEFAULT_OPTIONS.phetioFeatured},e);i.enabledPropertyOptions=I({phetioState:i.phetioState,phetioReadOnly:i.phetioReadOnly,phetioDocumentation:"When disabled, the button is grayed out and cannot be pressed",phetioFeatured:!0},i.enabledPropertyOptions),super(i),this.overProperty=new z(!1),this.downProperty=new z(!1,{reentrant:!0}),this.focusedProperty=new z(!1),this.looksPressedProperty=new z(!1),this.looksOverProperty=new z(!1),this.produceSoundEmitter=new K,this.interrupted=!1,this.listeners=[],this.looksPressedMultilink=null,this.looksOverMultilink=null,this.downProperty.lazyLink(s=>{s?i.startCallback():i.endCallback(this.looksOverProperty.get())}),this.enabledProperty.link(s=>{if(!s)for(let t=0;t<this.listeners.length;t++){const o=this.listeners[t];o.interrupt&&o.interrupt()}}),this.disposeButtonModel=()=>{this.overProperty.dispose(),this.downProperty.dispose(),this.produceSoundEmitter.dispose(),this.looksPressedMultilink&&this.looksPressedMultilink.dispose(),this.looksOverMultilink&&this.looksOverMultilink.dispose(),this.listeners=[]}}dispose(){this.disposeButtonModel(),super.dispose()}createPressListener(e){e=I({canStartPress:()=>this.enabledProperty.value},e);const i=new We(e);this.listeners.push(i),i.isPressedProperty.lazyLink(o=>{this.interrupted=i.interrupted,this.downProperty.set(o)}),i.isOverProperty.lazyLink(this.overProperty.set.bind(this.overProperty)),i.isFocusedProperty.lazyLink(this.focusedProperty.set.bind(this.focusedProperty)),this.looksPressedMultilink&&this.looksPressedMultilink.dispose(),this.looksOverMultilink&&this.looksOverMultilink.dispose();const s=this.listeners.map(o=>o.looksPressedProperty);s.push(this.downProperty),this.looksPressedMultilink=J.multilinkAny(s,(...o)=>{this.looksPressedProperty.value=_.reduce(o,(r,n)=>r||n,!1)});const t=this.listeners.map(o=>o.looksOverProperty);return this.looksOverMultilink=J.multilinkAny(t,(...o)=>{this.looksOverProperty.value=_.reduce(o,(r,n)=>r||n,!1)}),i}}B.register("ButtonModel",ft);class os extends ft{constructor(e,i,s,t){assert&&assert(s.valueComparisonStrategy==="reference",'ToggleButtonModel depends on "===" equality for value comparison');const o=E()({tandem:L.REQUIRED},t);super(o),this.valueOff=e,this.valueOn=i,this.valueProperty=s;const r=d=>{(this.overProperty.get()||this.focusedProperty.get())&&this.enabledProperty.get()&&!this.interrupted&&(d||this.toggle())};this.downProperty.link(r),this.toggledEmitter=new K({tandem:o.tandem.createTandem("toggledEmitter"),phetioDocumentation:"Emits when the button is toggled",phetioEventType:Ve.USER});const n=()=>{assert&&assert(this.valueProperty.value===this.valueOff||this.valueProperty.value===this.valueOn,`unrecognized value: ${this.valueProperty.value}`),this.valueProperty.value=this.valueProperty.value===this.valueOff?this.valueOn:this.valueOff};this.toggledEmitter.addListener(n),this.disposeToggleButtonModel=()=>{this.downProperty.unlink(r),this.toggledEmitter.dispose()}}dispose(){this.disposeToggleButtonModel(),super.dispose()}toggle(){this.toggledEmitter.emit(),this.produceSoundEmitter.emit()}}B.register("ToggleButtonModel",os);class dn extends Ee{constructor(e,i,s,t){assert&&assert(e.valueComparisonStrategy==="reference",'RectangularToggleButton depends on "===" equality for value comparison');const o=E()({valueOffSoundPlayer:ts,valueOnSoundPlayer:is,tandem:L.REQUIRED,phetioFeatured:!0},t),r=new os(i,s,e,o),n=new ss(r);super(r,n,o),this.addLinkedElement(e,{tandemName:"property"});const d=()=>{e.value===i?o.valueOffSoundPlayer.play():e.value===s&&o.valueOnSoundPlayer.play()};this.buttonModel.produceSoundEmitter.addListener(d),this.disposeRectangularToggleButton=()=>{this.buttonModel.produceSoundEmitter.removeListener(d),r.dispose()}}dispose(){this.disposeRectangularToggleButton(),super.dispose()}}B.register("RectangularToggleButton",dn);class un extends dn{constructor(e,i,s,t){const o=new es(e,i,s),r=E()({content:o,tandem:L.REQUIRED},t);super(e,!1,!0,r),this.disposeBooleanRectangularToggleButton=()=>{o.dispose()}}dispose(){this.disposeBooleanRectangularToggleButton(),super.dispose()}}B.register("BooleanRectangularToggleButton",un);const hn=.6,Pa=(1-hn)/2;class cn extends un{constructor(e,i){var p,q;const s=E()({sideLength:25,stroke:"black",touchAreaXDilation:5,touchAreaYDilation:5,tandem:L.REQUIRED,tandemNameSuffix:"Button"},i);s.cornerRadius=.1*s.sideLength,s.xMargin=Pa*s.sideLength,s.yMargin=s.xMargin,s.buttonAppearanceStrategy=ye.FlatAppearanceStrategy;const t=hn*s.sideLength,r={lineWidth:.15*s.sideLength,stroke:"white",centerX:s.sideLength/2,centerY:s.sideLength/2,pickable:!1},n=new N().moveTo(t/2,0).lineTo(t/2,t).moveTo(0,t/2).lineTo(t,t/2),d=new j(n,r),u=new N().moveTo(-t/2,0).lineTo(t/2,0),l=new j(u,r);super(e,l,d,s);const h=V=>{this.baseColor=V?"rgb( 255, 85, 0 )":"rgb( 0, 179, 0 )",this.setPDOMAttribute("aria-expanded",V)};e.link(h),assert&&((q=(p=phet==null?void 0:phet.chipper)==null?void 0:p.queryParameters)!=null&&q.binder)&&G.registerDataURL("sun","ExpandCollapseButton",this),this.disposeExpandCollapseButton=()=>{e.unlink(h)}}dispose(){this.disposeExpandCollapseButton(),super.dispose()}}B.register("ExpandCollapseButton",cn);const ve=class ve extends Ai(T){constructor(e,i){var V,m;assert&&i&&assert(!(i.hasOwnProperty("expandedProperty")&&i.hasOwnProperty("expandedDefaultValue")),"cannot specify expandedProperty and expandedDefaultValue in providedOptions");const s=E()({titleNode:null,expandedProperty:null,expandedDefaultValue:!0,resize:!0,overrideTitleNodePickable:!0,allowContentToOverlapTitle:!1,cursor:"pointer",lineWidth:1,cornerRadius:10,stroke:"black",fill:"rgb( 238, 238, 238 )",minWidth:0,titleAlignX:"center",titleAlignY:"center",titleXMargin:10,titleYMargin:2,titleXSpacing:5,showTitleWhenExpanded:!0,useExpandedBoundsWhenCollapsed:!0,titleBarExpandCollapse:!0,buttonAlign:"left",buttonXMargin:4,buttonYMargin:2,contentAlign:"center",contentVerticalAlign:"center",contentXMargin:15,contentYMargin:8,contentXSpacing:5,contentYSpacing:8,expandedSoundPlayer:rn,collapsedSoundPlayer:on,tagName:"div",headingTagName:"h3",accessibleNameBehavior:ve.ACCORDION_BOX_ACCESSIBLE_NAME_BEHAVIOR,voicingNameResponse:null,voicingObjectResponse:null,voicingContextResponse:null,voicingHintResponse:null,tandem:L.REQUIRED,tandemNameSuffix:"AccordionBox",phetioType:ve.AccordionBoxIO,phetioEventType:Ve.USER,visiblePropertyOptions:{phetioFeatured:!0},titleBarOptions:{fill:null,stroke:null}},i);s.expandCollapseButtonOptions=I({sideLength:16,cursor:s.cursor,valueOnSoundPlayer:s.expandedSoundPlayer,valueOffSoundPlayer:s.collapsedSoundPlayer,voicingNameResponse:s.voicingNameResponse,voicingObjectResponse:s.voicingObjectResponse,voicingContextResponse:s.voicingContextResponse,voicingHintResponse:s.voicingHintResponse,tandem:s.tandem.createTandem("expandCollapseButton")},s.expandCollapseButtonOptions),super(),this.expandedBoxOutline=null,this.collapsedBoxOutline=null;let t=s.titleNode;t||(t=new It("",{tandem:s.tandem.createTandem("titleText")}),this.disposeEmitter.addListener(()=>t.dispose())),s.overrideTitleNodePickable&&(t.pickable=!1),this.expandedProperty=s.expandedProperty,this.expandedProperty||(this.expandedProperty=new z(s.expandedDefaultValue,{tandem:s.tandem.createTandem("expandedProperty"),phetioFeatured:!0}),this.disposeEmitter.addListener(()=>this.expandedProperty.dispose())),this.expandCollapseButton=new cn(this.expandedProperty,s.expandCollapseButtonOptions),this.disposeEmitter.addListener(()=>this.expandCollapseButton.dispose());const o={fill:s.fill,cornerRadius:s.cornerRadius};this.expandedBox=new Q(o),this.collapsedBox=new Q(o),this.expandedTitleBar=new wa(null,I({lineWidth:s.lineWidth,cursor:s.cursor},s.titleBarOptions)),this.expandedBox.addChild(this.expandedTitleBar),this.collapsedTitleBar=new Ea(I({cornerRadius:s.cornerRadius,cursor:s.cursor},s.titleBarOptions)),this.collapsedBox.addChild(this.collapsedTitleBar);const r=new jt(this.expandedTitleBar),n=new jt(this.collapsedTitleBar);this.disposeEmitter.addListener(()=>{this.collapsedTitleBar.dispose(),this.expandedTitleBar.dispose()}),s.titleBarExpandCollapse?this.collapsedTitleBar.addInputListener({down:()=>{this.expandCollapseButton.isEnabled()&&(this.phetioStartEvent("expanded"),this.expandedProperty.value=!0,s.expandedSoundPlayer.play(),this.phetioEndEvent())}}):(this.expandedTitleBar.interactiveHighlight="invisible",this.collapsedTitleBar.interactiveHighlight="invisible"),s.showTitleWhenExpanded&&s.titleBarExpandCollapse&&this.expandedTitleBar.addInputListener({down:()=>{this.expandCollapseButton.isEnabled()&&(this.phetioStartEvent("collapsed"),s.collapsedSoundPlayer.play(),this.expandedProperty.value=!1,this.phetioEndEvent())}});const d=()=>{const A=this.expandCollapseButton.visible&&this.expandCollapseButton.pickable;this.collapsedTitleBar.pickable=A,this.expandedTitleBar.pickable=A};if(this.expandCollapseButton.visibleProperty.lazyLink(d),this.expandCollapseButton.pickableProperty.lazyLink(d),this.expandCollapseButton.enabledProperty.link(A=>{const c=s.titleBarExpandCollapse&&A;this.collapsedTitleBar.cursor=c&&s.cursor||null,this.expandedTitleBar.cursor=c&&s.cursor||null}),this.expandedBox.addChild(e),s.stroke){const A={stroke:s.stroke,lineWidth:s.lineWidth,cornerRadius:s.cornerRadius,pickable:!1};this.expandedBoxOutline=new Q(A),this.expandedBox.addChild(this.expandedBoxOutline),this.collapsedBoxOutline=new Q(A),this.collapsedBox.addChild(this.collapsedBoxOutline)}const u=new T({excludeInvisibleChildrenFromBounds:!s.useExpandedBoundsWhenCollapsed});this.addChild(u);const l=new T({tagName:"div",ariaRole:"region",pdomOrder:[e],ariaLabelledbyAssociations:[{otherNode:this.expandCollapseButton,otherElementName:ae.PRIMARY_SIBLING,thisElementName:ae.PRIMARY_SIBLING}]}),h=new T({tagName:s.headingTagName,pdomOrder:[this.expandCollapseButton]}),p=new T({children:[h,l]});this.addChild(p),this.constraint=new Ba(this,e,u,this.expandedBox,this.collapsedBox,this.expandedTitleBar,this.collapsedTitleBar,this.expandedBoxOutline,this.collapsedBoxOutline,t,this.expandCollapseButton,s),this.constraint.updateLayout(),this.constraint.enabled=s.resize;const q=()=>{const A=this.expandedProperty.value;this.expandedBox.visible=A,this.collapsedBox.visible=!A,this.expandCollapseButton.setFocusHighlight(A?r:n),t.visible=A&&s.showTitleWhenExpanded||!A,p.setPDOMAttribute("aria-hidden",!A),this.expandCollapseButton.voicingSpeakFullResponse({hintResponse:null})};this.expandedProperty.link(q),this.disposeEmitter.addListener(()=>this.expandedProperty.unlink(q)),this.mutate(_.omit(s,"cursor")),this.resetAccordionBox=()=>{s.expandedProperty||this.expandedProperty.reset()},assert&&((m=(V=phet==null?void 0:phet.chipper)==null?void 0:V.queryParameters)!=null&&m.binder)&&G.registerDataURL("sun","AccordionBox",this)}getCollapsedBoxHeight(){const e=this.constraint.lastCollapsedBoxHeight;return assert&&assert(e!==null),e}getExpandedBoxHeight(){const e=this.constraint.lastExpandedBoxHeight;return assert&&assert(e!==null),e}reset(){this.resetAccordionBox()}};ve.AccordionBoxIO=new xe("AccordionBoxIO",{valueType:ve,supertype:T.NodeIO,events:["expanded","collapsed"]}),ve.ACCORDION_BOX_ACCESSIBLE_NAME_BEHAVIOR=(e,i,s,t)=>(t.push(()=>{e.expandCollapseButton.accessibleName=s}),i);let Ci=ve;class wa extends Io(j){}class Ea extends Io(Q){}class Ba extends _e{constructor(e,i,s,t,o,r,n,d,u,l,h,p){super(e),this.accordionBox=e,this.contentNode=i,this.containerNode=s,this.expandedBox=t,this.collapsedBox=o,this.expandedTitleBar=r,this.collapsedTitleBar=n,this.expandedBoxOutline=d,this.collapsedBoxOutline=u,this.titleNode=l,this.expandCollapseButton=h,this.options=p,this.lastCollapsedBoxHeight=null,this.lastExpandedBoxHeight=null,this.accordionBox.localPreferredWidthProperty.lazyLink(this._updateLayoutListener),this.accordionBox.localPreferredHeightProperty.lazyLink(this._updateLayoutListener),this.accordionBox.expandedProperty.lazyLink(this._updateLayoutListener),this.addNode(i),this.addNode(l)}layout(){super.layout();const e=this.options;if(this.accordionBox.isChildIncludedInLayout(this.contentNode))this.containerNode.children=[this.expandedBox,this.collapsedBox,this.titleNode,this.expandCollapseButton];else{this.containerNode.children=[];return}const s=this.accordionBox.expandedProperty.value||e.useExpandedBoundsWhenCollapsed,t=e.stroke===null?0:e.lineWidth,o=this.createLayoutProxy(this.contentNode),r=this.createLayoutProxy(this.titleNode),n=o.minimumWidth,d=o.minimumHeight,u=r.minimumWidth,l=Math.max(this.expandCollapseButton.height+2*e.buttonYMargin,this.titleNode.height+2*e.titleYMargin),h=e.showTitleWhenExpanded?Math.max((e.allowContentToOverlapTitle?e.contentYMargin:l+e.contentYSpacing)+d+e.contentYMargin,l):Math.max(this.expandCollapseButton.height+2*e.buttonYMargin,d+2*e.contentYMargin);let p=Math.max(e.minWidth,e.buttonXMargin+this.expandCollapseButton.width+e.titleXSpacing+u+e.titleXMargin);e.titleAlignX==="center"&&(p=Math.max(p,(e.buttonXMargin+this.expandCollapseButton.width+e.titleXSpacing)*2+u),p=Math.max(p,e.titleXMargin*2+u)),e.showTitleWhenExpanded?p=Math.max(p,n+2*e.contentXMargin):p=Math.max(p,this.expandCollapseButton.width+n+e.buttonXMargin+e.contentXMargin+e.contentXSpacing);const q=p+t,V=(s?h:l)+t,m=Math.max(q,this.accordionBox.localPreferredWidth||0),A=Math.max(V,this.accordionBox.localPreferredHeight||0),c=m-t,g=A-t;this.lastCollapsedBoxHeight=l,s&&(this.lastExpandedBoxHeight=g),this.collapsedBox.rectWidth=c,this.collapsedBox.rectHeight=l;const P=this.collapsedBox.selfBounds;if(this.collapsedTitleBar.rectWidth=c,this.collapsedTitleBar.rectHeight=l,this.collapsedBoxOutline&&(this.collapsedBoxOutline.rectWidth=c,this.collapsedBoxOutline.rectHeight=l),s){this.expandedBox.rectWidth=c,this.expandedBox.rectHeight=g;const b=this.expandedBox.selfBounds;this.expandedBoxOutline&&(this.expandedBoxOutline.rectWidth=c,this.expandedBoxOutline.rectHeight=g),this.expandedTitleBar.shape=N.roundedRectangleWithRadii(0,0,c,l,{topLeft:e.cornerRadius,topRight:e.cornerRadius});let w=b.left+e.contentXMargin,f=b.right-e.contentXMargin;e.showTitleWhenExpanded||(e.buttonAlign==="left"?w+=this.expandCollapseButton.width+e.contentXSpacing:f-=this.expandCollapseButton.width+e.contentXSpacing);const k=f-w,D=g-(e.showTitleWhenExpanded&&!e.allowContentToOverlapTitle?l+e.contentYMargin+e.contentYSpacing:2*e.contentYMargin);we(this.contentNode)&&this.accordionBox.localPreferredWidth!==null&&(this.contentNode.preferredWidth=k),Ot(this.contentNode)&&this.accordionBox.localPreferredHeight!==null&&(this.contentNode.preferredHeight=D),e.contentVerticalAlign==="top"?this.contentNode.top=b.bottom-e.contentYMargin-D:e.contentVerticalAlign==="bottom"?this.contentNode.bottom=b.bottom-e.contentYMargin:this.contentNode.centerY=b.bottom-e.contentYMargin-D/2,e.contentAlign==="left"?this.contentNode.left=w:e.contentAlign==="right"?this.contentNode.right=f:this.contentNode.centerX=(w+f)/2}let C=P.left+e.titleXMargin,y=P.right-e.titleXMargin;e.buttonAlign==="left"?(this.expandCollapseButton.left=P.left+e.buttonXMargin,C=this.expandCollapseButton.right+e.titleXSpacing):(this.expandCollapseButton.right=P.right-e.buttonXMargin,y=this.expandCollapseButton.left-e.titleXSpacing),we(this.titleNode)&&(this.titleNode.preferredWidth=y-C),e.titleAlignX==="left"?this.titleNode.left=C:e.titleAlignX==="right"?this.titleNode.right=y:this.titleNode.centerX=P.centerX,e.titleAlignY==="top"?(this.expandCollapseButton.top=this.collapsedBox.top+Math.max(e.buttonYMargin,e.titleYMargin),this.titleNode.top=this.expandCollapseButton.top):(this.expandCollapseButton.centerY=this.collapsedBox.centerY,this.titleNode.centerY=this.expandCollapseButton.centerY),o.dispose(),r.dispose(),this.accordionBox.localMinimumWidth=q,this.accordionBox.localMinimumHeight=V}dispose(){this.accordionBox.localPreferredWidthProperty.unlink(this._updateLayoutListener),this.accordionBox.localPreferredHeightProperty.unlink(this._updateLayoutListener),this.accordionBox.expandedProperty.unlink(this._updateLayoutListener),super.dispose()}}B.register("AccordionBox",Ci);const pn="data:audio/mpeg;base64,//tQxAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAFAAAE5AAzMzMzMzMzMzMzMzMzMzMzMzMzZmZmZmZmZmZmZmZmZmZmZmZmZmaZmZmZmZmZmZmZmZmZmZmZmZmZmczMzMzMzMzMzMzMzMzMzMzMzMzM//////////////////////////8AAAA5TEFNRTMuOTlyAaUAAAAAAAAAABRAJAZmQgAAQAAABOTGvClKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/7UMQAAAjxrv+ggLoZGTXh9oJQAa222FG3ASABBG51MY/j4AAB4AYI3/H3//Pqd/zv0Jp/8//zn3n6Mmf/J7f//8jf+fOeeggHA4RXkGh8XEwHAMHD4udyCYuhAALhgJqWJAEDGMYxvHlyAHxc9P76dP//T/Rm//p+v9tvb0Tzr1XyfnelP/3b0//5vo86Mlm0dHQrscccRQg5oSYpziaiB52oQCkxnR6LQisRCEMhluyeqEhIiWMiSvQjhwDTCtCPyDkNrP+UsBTNwVsJGSD/+1LEFoAQMWtluYaQEWGP7H+wYAR9IvpDLBawV8OWbG5oShmbiVnh8GAU6ZIjnetMKuOcpmaSndX80HuS7puaIKq/6lvM36lIJf8+Zm6CFA0t3fV/91IOhPJ1GCH13q//5o6DJl9/F3ErtwAGRlJ26tx4H5gV4lzzrIqy8jTNBZl1Hep3doI2/x6AMOljV5/M4clzeagOVs4SmnmZk2fTyahylhxZ1R7/1HlnhEe4KgF3SISoKnviYs9T8sp4Ku5ICsAAg3RwNdct5GVqea2W4P/7UsQHgAuZRzrtmE8JO4qkaa4M4MXAzUcoyYPSsZe/D4w5DUicEmE/ziQka1VaLTh0y8+qp/UtRMpQoli5jYCz6St//RjTOrPXlI/KJaZ2RHX6mMrJqxfqVjPM/K/thi6pyAAPlyOxkEr9tPgR2ldNwBRI0383ZJR5NmIAG2zBZOw1tKaJR6jzjIxgTlVLjBgJmawwRo8JXAUYCz1gr/q+aVWur8tO+j4iUe////6ii3UCwZHQhxd93nYdy9H1MjPwThY/VGgQQLo200aOkCDF//tSxA+CCwg1HK3lIQHXlCPo97AIw8D44EBOcB8oGBIND4gcCBc+IFHC7wwUOA+oMiAaH1PDCw+mxbydxPV3/zjbCnci8p/9nIJTQYSH5vktZIAEdHIA5HkiS4k11MYsCUFS8QSbEVhJUnQlFpKIJNQhJJrBKEZ8kiKoJIkqToSj5KJJ6hiCTXCUJUZJEl45Ek9TCUfQkkyuSSbzS72V1mVruLnhMeBUsHREPDQiPA0VOiJwdKuBlR5Fqtbk3f///t8FdSogAuxJp2uAWhIWFmv/+1LEBgPGHADHoIhgIAAANIAAAATcLVLFRWKCwsLCyxUVFVf6xVmLCws1YqKior////2RVn/+LCwtTEFNRTMuOTkuM1VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ==",ka=ne(S,pn),Ta=oe.createLock(pn),ht=new ee;let Ks=!1;const oi=()=>{Ks||(Ta(),Ks=!0)},La=a=>{ht.audioBufferProperty.value===null&&(ht.audioBufferProperty.set(a),oi())},Ca=a=>{console.warn("decode of audio data failed, using stubbed sound, error: "+a),ht.audioBufferProperty.set(S.createBuffer(1,1,S.sampleRate)),oi()},js=S.decodeAudioData(ka.buffer,La,Ca);js&&js.then(a=>{ht.audioBufferProperty.value===null&&(ht.audioBufferProperty.set(a),oi())}).catch(a=>{console.warn("promise rejection caught for audio decode, error = "+a),oi()});class xa{constructor(){this._basisSoundClip=null,this.soundPlayers=[]}getSoundClipInstance(){return this._basisSoundClip||(this._basisSoundClip=new Ft(ht,{initialOutputLevel:.7,rateChangesAffectPlayingSounds:!1}),Zi.addSoundGenerator(this._basisSoundClip,{categoryName:"user-interface"})),this._basisSoundClip}getSelectionSoundPlayer(e){if(!this.soundPlayers[e]){const i=Math.pow(2,-e/12);this.soundPlayers[e]=new Da(this.getSoundClipInstance(),i)}return this.soundPlayers[e]}}class Da{constructor(e,i){this.soundPlayer=e,this.playbackRate=i}play(){this.soundPlayer.setPlaybackRate(this.playbackRate),this.soundPlayer.play()}stop(){this.soundPlayer.stop()}}const Gt=new xa;Y.register("multiSelectionSoundPlayerFactory",Gt);const Vi=class Vi extends Qt(qt(T)){constructor(e,i,s,t){var C,y;assert&&assert(e.valueComparisonStrategy==="reference",'ToggleSwitch depends on "===" equality for value comparison');const o=E()({centerColor:"black",radius:Vi.DEFAULT_RADIUS,selectedColor:"rgb( 143, 197, 250 )",deselectedColor:"white",xSpacing:8,stroke:"black",soundPlayer:Gt.getSelectionSoundPlayer(0),a11yNameAttribute:null,touchAreaXDilation:0,touchAreaYDilation:0,mouseAreaXDilation:0,mouseAreaYDilation:0,cursor:"pointer",disabledOpacity:Ae.DISABLED_OPACITY,tandem:L.REQUIRED,tandemNameSuffix:"RadioButton",visiblePropertyOptions:{phetioFeatured:!0},phetioEnabledPropertyInstrumented:!0,tagName:"input",inputType:"radio",containerTagName:"li",labelTagName:"label",appendLabel:!0,appendDescription:!0},t);super(),this.onInputEmitter=new K,this._isMouseAreaCustomized=!1,this._isTouchAreaCustomized=!1,this._isSettingAreas=!1,this.value=i;const r=new T,n=new it(o.radius/3,{fill:o.centerColor}),d=new it(o.radius,{fill:o.selectedColor,stroke:o.stroke}),u=new T({children:[d,n]});r.addChild(u);const l=new T,h=new it(o.radius,{fill:o.deselectedColor,stroke:o.stroke});l.addChild(h);const p=new T({children:[r,l],pickable:!1}),q=()=>{s.left=h.right+o.xSpacing,s.centerY=h.centerY};s.boundsProperty.link(q);const V=new Q({});r.pickable=l.pickable=!1,s.pickable=!1,this.children=[p,s,V],this.constraint=new Ma(this,p,s,V,o),this.constraint.updateLayout();const m=b=>{r.visible=b===i,l.visible=!r.visible};e.link(m);const A=()=>{const b=e.value;e.set(i),b!==e.value&&this.onInputEmitter.emit()},c=new Yi({fire:A,tandem:o.tandem.createTandem("fireListener")});this.addInputListener(c),this.onInputEmitter.addListener(()=>o.soundPlayer.play());const g={change:A};this.addInputListener(g),e.value===i&&this.setPDOMAttribute("checked","checked");const P=b=>{this.pdomChecked=b===i};e.link(P),o.a11yNameAttribute!==null&&this.setPDOMAttribute("name",o.a11yNameAttribute),this.mutate(o),this.disposeAquaRadioButton=()=>{this.constraint.dispose(),this.onInputEmitter.dispose(),this.removeInputListener(c),this.removeInputListener(g),e.unlink(P),e.unlink(m),s.boundsProperty.hasListener(q)&&s.boundsProperty.unlink(q),c.dispose()},assert&&((y=(C=phet==null?void 0:phet.chipper)==null?void 0:C.queryParameters)!=null&&y.binder)&&G.registerDataURL("sun","AquaRadioButton",this)}dispose(){this.disposeAquaRadioButton(),super.dispose()}};Vi.DEFAULT_RADIUS=7;let ni=Vi;class Ma extends _e{constructor(e,i,s,t,o){super(e),this.radioButton=e,this.radioNode=i,this.content=s,this.rectangle=t,this.options=o,this.radioButton.localPreferredWidthProperty.lazyLink(this._updateLayoutListener),this.addNode(s)}layout(){super.layout();const e=this.createLayoutProxy(this.content),i=e.minimumWidth,s=this.radioNode.width+this.options.xSpacing+i,t=Math.max(s,this.radioButton.localPreferredWidth||0);we(this.content)&&(e.preferredWidth=t-this.radioNode.width-this.options.xSpacing),e.left=this.radioNode.right+this.options.xSpacing,e.centerY=this.radioNode.centerY,this.rectangle.rectBounds=this.radioNode.bounds.union(e.bounds).withMaxX(Math.max(this.radioNode.left+t,e.right)),this.radioButton._isSettingAreas=!0,this.radioButton._isTouchAreaCustomized||(this.radioButton.touchArea=this.radioButton.localBounds.dilatedXY(this.options.touchAreaXDilation,this.options.touchAreaYDilation)),this.radioButton._isMouseAreaCustomized||(this.radioButton.mouseArea=this.radioButton.localBounds.dilatedXY(this.options.mouseAreaXDilation,this.options.mouseAreaYDilation)),this.radioButton._isSettingAreas=!1,e.dispose(),this.radioButton.localMinimumWidth=s}dispose(){this.radioButton.localPreferredWidthProperty.unlink(this._updateLayoutListener),super.dispose()}}B.register("AquaRadioButton",ni);let Js=0;const Ra="AquaRadioButtonGroup";class ns extends vt{constructor(e,i,s){Js++;const t=E()({touchAreaXDilation:0,touchAreaYDilation:0,mouseAreaXDilation:0,mouseAreaYDilation:0,orientation:"vertical",spacing:3,stretch:!0,disabledOpacity:Ae.DISABLED_OPACITY,tandem:L.REQUIRED,tandemNameSuffix:"RadioButtonGroup",visiblePropertyOptions:{phetioFeatured:!0},phetioEnabledPropertyInstrumented:!0,phetioFeatured:!0,tagName:"ul",labelTagName:"h3",ariaRole:"radiogroup",groupFocusHighlight:!0},s),o=ze(i,t.tandem);t.orientation==="vertical"&&(t.align=t.align||"left");const r=i.map((u,l)=>{assert&&assert(!u.tandem,"Cannot specify tandem any more");const h=o[l];return assert&&assert(!h.hasPDOMContent,"Accessibility is provided by AquaRadioButton and AquaRadioButtonGroupItem.labelContent. Additional PDOM content in the provided Node could break accessibility."),new ni(e,u.value,h,I({a11yNameAttribute:Ra+Js,labelContent:u.labelContent||null,soundPlayer:Gt.getSelectionSoundPlayer(l),tandem:u.tandemName?t.tandem.createTandem(u.tandemName):t.tandem===L.OPT_OUT?L.OPT_OUT:L.REQUIRED,touchAreaXDilation:t.orientation==="horizontal"?t.spacing/2:t.touchAreaXDilation,touchAreaYDilation:t.orientation==="vertical"?t.spacing/2:t.touchAreaYDilation,mouseAreaXDilation:t.orientation==="horizontal"?t.spacing/2:t.mouseAreaXDilation,mouseAreaYDilation:t.orientation==="vertical"?t.spacing/2:t.mouseAreaYDilation},t.radioButtonOptions,u.options))});t.children=r,super(t),this.onInputEmitter=new K,this.addAriaLabelledbyAssociation({thisElementName:ae.PRIMARY_SIBLING,otherNode:this,otherElementName:ae.LABEL_SIBLING});const n={keydown:u=>{O.isArrowKey(u.domEvent)&&u.pointer.reserveForKeyboardDrag()}};this.addInputListener(n);const d=this.onRadioButtonInput.bind(this);for(let u=0;u<r.length;u++)r[u].onInputEmitter.addListener(d);this.addLinkedElement(e,{tandemName:"property"}),this.disposeAquaRadioButtonGroup=()=>{this.removeInputListener(n),r.forEach(u=>u.dispose()),this.onInputEmitter.dispose(),o.forEach(u=>u.dispose())},this.radioButtons=r}onRadioButtonInput(){this.onInputEmitter.emit()}dispose(){this.disposeAquaRadioButtonGroup(),super.dispose()}getButton(e){const i=_.find(this.radioButtons,s=>s.value===e);return assert&&assert(i,`no radio button found for value ${e}`),i}}B.register("AquaRadioButtonGroup",ns);const Vn="data:audio/mpeg;base64,//swxAAABlAhPLTAgDE1De+/HoACAH4CwkCAJDo5gDgPRksn2WLHOB8EHShd5cHwfBBwgBBOJw/UCAY/lAxWD/4DB9+CH/6XQjMTIIcYUIQPQIRAIBAACUIawkYq7IQ/BawVqEc7mTjD+OFygBAnHbHq7UkLJ8aCnnrZlPpg3IkRJBgPH/MCQCI985/yAnHAAhmv3lHuAgAgAxJF//syxAOACHQpa7zBAAD8EunxpI3HUCEZHQlA2EYuDsSjE5EkSQGhUDYDxOARLoiBmIgalVgq4qWeWBqsNYKywNO+p/sxFyKwVOlXRFDtZ0S86oQ0C2W+wBOmlaWuS6+BIqZMz+AYy3FuwBkKXM2idVoKlYwUd/oIGgsbLpEbaCsmIyZRtbw6TPwj+mYmGr8QqnGHBLo3LKAAxKabZ//7MsQGAAhsl1OsPMcxAo3mpbCaAvIuuQRmW4WNHhDBJnoBORIlh+I9dvGCTCKP0kzo7rHHTi87diQ2XqnRN77y8lnKUl8zf+X0Fu0iCDV/9AP7el8Cw8raZKqiYShe+6bzYk0zXmEuGnBDcQhyRzPeI4Jbsmj5OxzZVhSX9adVU4Kk9r9esE3etv+/6wUIg3Wm62nA3Ab0EIcLUQ7/+zLECABGICs9oemDMLwEZrQcvFYyDBCUCgUAwQCUSvgROof5poGn9O7o70P/X9P/T+360+lAhIJVtyuNDljXzM7Ek0fGUB/ltZQF8iD7dBcVTs00f31POqR0/V/q/pjEe1z3jyAAQRBHGmSBEEVK6QIYH2miQZKNfgCVtiH9vVLp+w7an/d0jdUx9VnqZIJSvFtsaUFKKFBVCzoe//swxBwABSAhLaDl4nCsA+a0fDyG3vbgKx5OhNXyuPYt7kJJSg9B6heqxP93q/9P6IwSQ8LbYIFBVUF85RwseJPX6+Q7qIq7f/8ayokh7P//V8oyAABbhbGEIBBhOJgEGTBx6KjUiosS54l6y0i3jOz/6f///RVMQU1FMy45OS41VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//syxDWABEQTMaCF4HCNAmL0EJgGVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ==",Oa=ne(S,Vn),Ia=oe.createLock(Vn),ct=new ee;let Xs=!1;const ri=()=>{Xs||(Ia(),Xs=!0)},va=a=>{ct.audioBufferProperty.value===null&&(ct.audioBufferProperty.set(a),ri())},Na=a=>{console.warn("decode of audio data failed, using stubbed sound, error: "+a),ct.audioBufferProperty.set(S.createBuffer(1,1,S.sampleRate)),ri()},Zs=S.decodeAudioData(Oa.buffer,va,Na);Zs&&Zs.then(a=>{ct.audioBufferProperty.value===null&&(ct.audioBufferProperty.set(a),ri())}).catch(a=>{console.warn("promise rejection caught for audio decode, error = "+a),ri()});const Ke=new te(ct,{soundClipOptions:{initialOutputLevel:.5},soundManagerOptions:{categoryName:"user-interface"}});Y.register("pushButtonSoundPlayer",Ke);const rs=new yt("twixt"),x=class x{constructor(e,i,s){this.value=e,this.derivative=i,this.secondDerivative=s}static polynomialEaseInValue(e,i){return assert&&assert(fe(i),`invalid t: ${i}`),Math.pow(i,e)}static polynomialEaseOutValue(e,i){return assert&&assert(fe(i),`invalid t: ${i}`),1-Math.pow(1-i,e)}static polynomialEaseInOutValue(e,i){return assert&&assert(fe(i),`invalid t: ${i}`),i<=.5?.5*Math.pow(2*i,e):1-x.polynomialEaseInOutValue(e,1-i)}static polynomialEaseInDerivative(e,i){return assert&&assert(fe(i),`invalid t: ${i}`),e*Math.pow(i,e-1)}static polynomialEaseOutDerivative(e,i){return assert&&assert(fe(i),`invalid t: ${i}`),e*Math.pow(1-i,e-1)}static polynomialEaseInOutDerivative(e,i){return assert&&assert(fe(i),`invalid t: ${i}`),i<=.5?Math.pow(2,e-1)*e*Math.pow(i,e-1):x.polynomialEaseInOutDerivative(e,1-i)}static polynomialEaseInSecondDerivative(e,i){return assert&&assert(fe(i),`invalid t: ${i}`),(e-1)*e*Math.pow(i,e-2)}static polynomialEaseOutSecondDerivative(e,i){return assert&&assert(fe(i),`invalid t: ${i}`),-(e-1)*e*Math.pow(1-i,e-2)}static polynomialEaseInOutSecondDerivative(e,i){return assert&&assert(fe(i),`invalid t: ${i}`),i<=.5?Math.pow(2,e-1)*(e-1)*e*Math.pow(i,e-2):-x.polynomialEaseInOutSecondDerivative(e,1-i)}static polynomialEaseIn(e){return new x(x.polynomialEaseInValue.bind(null,e),x.polynomialEaseInDerivative.bind(null,e),x.polynomialEaseInSecondDerivative.bind(null,e))}static polynomialEaseOut(e){return new x(x.polynomialEaseOutValue.bind(null,e),x.polynomialEaseOutDerivative.bind(null,e),x.polynomialEaseOutSecondDerivative.bind(null,e))}static polynomialEaseInOut(e){return new x(x.polynomialEaseInOutValue.bind(null,e),x.polynomialEaseInOutDerivative.bind(null,e),x.polynomialEaseInOutSecondDerivative.bind(null,e))}};x.LINEAR=x.polynomialEaseIn(1),x.QUADRATIC_IN=x.polynomialEaseIn(2),x.QUADRATIC_OUT=x.polynomialEaseOut(2),x.QUADRATIC_IN_OUT=x.polynomialEaseInOut(2),x.CUBIC_IN=x.polynomialEaseIn(3),x.CUBIC_OUT=x.polynomialEaseOut(3),x.CUBIC_IN_OUT=x.polynomialEaseInOut(3),x.QUARTIC_IN=x.polynomialEaseIn(4),x.QUARTIC_OUT=x.polynomialEaseOut(4),x.QUARTIC_IN_OUT=x.polynomialEaseInOut(4),x.QUINTIC_IN=x.polynomialEaseIn(5),x.QUINTIC_OUT=x.polynomialEaseOut(5),x.QUINTIC_IN_OUT=x.polynomialEaseInOut(5);let pt=x;function fe(a){return typeof a=="number"&&isFinite(a)&&a>=0&&a<=1}rs.register("Easing",pt);class qe{constructor(e){this.startingValue=null,this.endingValue=null;const i=E()({setValue:null,getValue:null,property:null,object:null,attribute:null,to:null,delta:null,speed:null,from:null,easing:pt.CUBIC_IN_OUT,blend:qe.DEFAULT_BLEND,distance:qe.DEFAULT_DISTANCE,add:qe.DEFAULT_ADD},e);assert&&assert(+(i.property!==null)+ +(i.object!==null)+ +(i.setValue!==null)==1,"Should have one (and only one) way of defining how to set the animated value. Use one of property/object/setValue"),assert&&assert(i.setValue===null||typeof i.setValue=="function","If setValue is provided, it should be a function."),assert&&assert(i.setValue===null||i.from!==null||typeof i.getValue=="function",'If setValue is provided and no "from" value is specified, then getValue needs to be a function.'),assert&&assert(i.to!==null||i.delta!==null,"Need something to animate to, use to/delta"),assert&&assert(i.property===null||vo(i.property)&&i.property.isSettable(),"If property is provided, it should be a settable Property or TinyProperty"),assert&&assert(i.object===null||typeof i.object=="object"&&typeof i.attribute=="string","If object is provided, then object should be an object, and attribute should be a string."),assert&&assert(i.easing instanceof pt,"The easing should be of type Easing"),assert&&assert(typeof i.blend=="function","The blend option should be a function"),assert&&assert(typeof i.distance=="function","The distance option should be a function"),assert&&assert(typeof i.add=="function","The add option should be a function"),i.object&&(assert&&assert(i.attribute!==null),i.setValue=qe.OBJECT_SET(i.object,i.attribute),i.getValue=qe.OBJECT_GET(i.object,i.attribute)),i.property&&(i.setValue=qe.PROPERTY_SET(i.property),i.getValue=qe.PROPERTY_GET(i.property)),assert&&assert(i.setValue!==null),this.getValue=i.getValue,this.setValue=i.setValue,this.easing=i.easing,this.from=i.from,this.to=i.to,this.delta=i.delta,this.speed=i.speed,this.blend=i.blend,this.distance=i.distance,this.add=i.add}static DEFAULT_BLEND(e,i,s){if(assert&&assert(isFinite(s)&&s>=0&&s<=1,`Invalid ratio: ${s}`),s===0)return e;if(s===1)return i;if(typeof e=="number"&&typeof i=="number")return e+(i-e)*s;if(typeof e=="object"&&typeof i=="object"&&typeof e.blend=="function")return e.blend(i,s);throw new Error(`Blending not supported for: ${JSON.stringify(e)}, ${JSON.stringify(i)}, pass in a blend option`)}static DEFAULT_DISTANCE(e,i){if(typeof e=="number"&&typeof i=="number")return Math.abs(e-i);if(typeof e=="object"&&typeof i=="object"&&typeof e.distance=="function")return e.distance(i);throw new Error(`Distance (required for speed) by default not supported for: ${JSON.stringify(e)}, ${JSON.stringify(i)}, pass in a distance option`)}static DEFAULT_ADD(e,i){if(typeof e=="number"&&typeof i=="number")return e+i;if(typeof e=="object"&&typeof i=="object"&&typeof e.plus=="function")return e.plus(i);throw new Error(`Addition (required for delta) by default not supported for: ${JSON.stringify(e)}, ${JSON.stringify(i)}, pass in an add option`)}static OBJECT_SET(e,i){return function(s){e[i]=s}}static OBJECT_GET(e,i){return function(){return e[i]}}static PROPERTY_SET(e){return function(i){e.value=i}}static PROPERTY_GET(e){return function(){return e.value}}computeStartEnd(){assert&&assert(this.to!==null||this.delta!==null),assert&&assert(this.from!==null||this.getValue!==null),this.startingValue=this.from!==null?this.from:this.getValue(),this.endingValue=this.to!==null?this.to:this.add(this.startingValue,this.delta)}update(e){assert&&assert(this.setValue!==null),assert&&assert(this.startingValue!==null),assert&&assert(this.endingValue!==null),this.setValue(this.blend(this.startingValue,this.endingValue,this.easing.value(e)))}hasPreferredDuration(){return this.speed!==null}getPreferredDuration(){return assert&&assert(this.startingValue!==null),assert&&assert(this.delta!==null),this.speed===null?null:this.speed*this.distance(this.startingValue,this.delta)}}rs.register("AnimationTarget",qe);class An extends Ki{constructor(e){const i=E()({targets:null,duration:null,delay:0,stepEmitter:No},e);assert&&assert(+(i.property!==void 0)+ +(i.object!==void 0)+ +(i.setValue!==void 0)+ +(i.targets!==null)==1,"Should have one (and only one) way of defining how to set the animated value. Use one of property/object/setValue/targets"),assert&&assert(typeof i.delay=="number"&&isFinite(i.delay)&&i.delay>=0,"The delay should be a non-negative number."),assert&&assert(i.stepEmitter===null||i.stepEmitter instanceof K||i.stepEmitter instanceof fr,"stepEmitter must be null or an (Tiny)Emitter"),super(i),this.length=0,this.remainingDelay=0,this.remainingAnimation=0,this.runningProperty=new z(!1),this.animatingProperty=new z(!1),this.startEmitter=new K,this.beginEmitter=new K,this.finishEmitter=new K({parameters:[{valueType:"number"}]}),this.stopEmitter=new K,this.endedEmitter=new K({hasListenerOrderDependencies:!0}),this.updateEmitter=new K,this.targets=(i.targets===null?[i]:i.targets).map(t=>new qe(t)),assert&&assert(+(i.duration!==null)+_.sum(_.map(this.targets,t=>t.hasPreferredDuration()?1:0))===1,"Exactly one duration/speed option should be used."),this.duration=i.duration,this.delay=i.delay;const s=i.stepEmitter;if(s){const t=this.step.bind(this);this.runningProperty.link(o=>{o&&!s.hasListener(t)?s.addListener(t):!o&&s.hasListener(t)&&s.removeListener(t)}),this.disposeEmitter.addListener(()=>{s.hasListener(t)&&s.removeListener(t)})}}start(e){return this.runningProperty.value?this:(this.remainingDelay=this.delay,this.runningProperty.value=!0,this.startEmitter.emit(),this.step(e!==void 0?e:0),this)}stop(){return this.runningProperty.value?(this.runningProperty.value=!1,this.stopEmitter.emit(),this.endedEmitter.emit(),this):this}step(e){if(!this.runningProperty.value)return this;if(!this.animatingProperty.value){if(this.remainingDelay-=e,e=-this.remainingDelay,this.remainingDelay>0)return this;this.length=this.duration;for(let s=0;s<this.targets.length;s++){const t=this.targets[s];t.computeStartEnd(),this.length===null&&(this.length=t.getPreferredDuration())}assert&&assert(this.length!==null,"After going through the targets, we should have a length by now"),this.remainingAnimation=this.length,this.animatingProperty.value=!0,this.beginEmitter.emit()}this.remainingAnimation-=e,e=-this.remainingAnimation,assert&&assert(this.length!==null);const i=this.length>0?Z.clamp((this.length-this.remainingAnimation)/this.length,0,1):1;for(let s=0;s<this.targets.length;s++)this.targets[s].update(i);return this.updateEmitter.emit(),i===1&&(this.animatingProperty.value=!1,this.runningProperty.value=!1,this.finishEmitter.emit(e),this.endedEmitter.emit()),this}then(e){return this.finishEmitter.addListener(i=>e.start(i)),e}dispose(){this.runningProperty.dispose(),this.animatingProperty.dispose(),this.startEmitter.dispose(),this.beginEmitter.dispose(),this.finishEmitter.dispose(),this.stopEmitter.dispose(),this.endedEmitter.dispose(),this.updateEmitter.dispose(),super.dispose()}}rs.register("Animation",An);class as extends or{constructor(e){super([e.focusedProperty,e.overProperty,e.looksOverProperty,e.looksPressedProperty],(i,s,t,o)=>t&&!o?W.OVER:(s||i)&&o?W.PRESSED:W.IDLE,{valueType:W})}}B.register("PushButtonInteractionStateProperty",as);class ls extends ft{constructor(e){const i=E()({fireOnDown:!1,listener:null,interruptListener:null,fireOnHold:!1,fireOnHoldDelay:400,fireOnHoldInterval:100,tandem:L.REQUIRED,phetioReadOnly:pe.DEFAULT_OPTIONS.phetioReadOnly},e);super(i),this.startEvent=null,this.isFiringProperty=new z(!1),this.firedEmitter=new K({tandem:i.tandem.createTandem("firedEmitter"),phetioDocumentation:"Emits when the button is fired",phetioReadOnly:i.phetioReadOnly,phetioEventType:Ve.USER,hasListenerOrderDependencies:!0}),i.interruptListener&&this.firedEmitter.addListener(()=>{i.interruptListener(this.startEvent)}),i.listener!==null&&this.firedEmitter.addListener(i.listener),i.fireOnHold&&(this.timer=new Fo({callback:this.fire.bind(this),delay:i.fireOnHoldDelay,interval:i.fireOnHoldInterval}));const s=o=>{var r,n,d;if(o)this.enabledProperty.get()&&(this.startEvent=((d=(n=(r=phet==null?void 0:phet.joist)==null?void 0:r.display)==null?void 0:n._input)==null?void 0:d.currentSceneryEvent)||null,i.fireOnDown&&this.fire(),this.timer&&this.timer.start(),(i.fireOnDown||this.timer)&&this.produceSoundEmitter.emit());else{const u=!i.fireOnDown&&(this.overProperty.get()||this.focusedProperty.get())&&this.enabledProperty.get()&&!this.interrupted;this.timer?this.timer.stop(u):u&&(this.produceSoundEmitter.emit(),this.fire())}};this.downProperty.link(s);const t=o=>{!o&&this.timer&&this.timer.stop(!1)};this.enabledProperty.link(t),this.disposePushButtonModel=()=>{this.isFiringProperty.value=!1,this.isFiringProperty.dispose(),this.firedEmitter.dispose(),this.downProperty.unlink(s),this.enabledProperty.unlink(t),this.timer&&(this.timer.dispose(),this.timer=null)}}dispose(){this.disposePushButtonModel(),super.dispose()}addListener(e){this.firedEmitter.addListener(e)}removeListener(e){this.firedEmitter.removeListener(e)}fire(){assert&&assert(!this.isFiringProperty.value,"Cannot fire when already firing"),this.isFiringProperty.value=!0,this.firedEmitter.emit(),this.isFiringProperty.value=!1}}B.register("PushButtonModel",ls);class bt extends Ee{constructor(e){var n,d;const i=E()({soundPlayer:Ke,tandem:L.REQUIRED},e),s=i.listener,t=_.omit(i,["listener"]),o=new ls(t);super(o,new as(o),t),this.pushButtonModel=o,s&&this.addListener(s);const r=()=>{i.soundPlayer.play()};o.produceSoundEmitter.addListener(r),this.disposeRectangularPushButton=function(){o.produceSoundEmitter.removeListener(r),o.dispose()},assert&&((d=(n=phet==null?void 0:phet.chipper)==null?void 0:n.queryParameters)!=null&&d.binder)&&G.registerDataURL("sun","RectangularPushButton",this)}dispose(){super.dispose(),this.disposeRectangularPushButton()}addListener(e){this.pushButtonModel.addListener(e)}removeListener(e){this.pushButtonModel.removeListener(e)}}B.register("RectangularPushButton",bt);const $s={up:0,down:Math.PI,left:-Math.PI/2,right:Math.PI/2};class xi extends bt{constructor(e){const i=E()({arrowDirection:"up",arrowSize:new $(20,7),arrowPathOptions:{stroke:"black",lineWidth:3,lineCap:"round"},baseColor:"rgba( 200, 200, 200, 0.5 )",buttonAppearanceStrategy:ye.FlatAppearanceStrategy,cornerRadius:4},e);let s=null;i.stroke===void 0&&(s=new H(i.baseColor,{luminanceFactor:-.8}),i.stroke=s),assert&&assert($s.hasOwnProperty(i.arrowDirection),`invalid direction: ${i.arrowDirection}`);let t=new N().moveTo(0,0).lineTo(i.arrowSize.width/2,-i.arrowSize.height).lineTo(i.arrowSize.width,0);t=t.transformed(_o.rotation2($s[i.arrowDirection])),i.content=new j(t,i.arrowPathOptions);const o=i.arrowDirection,r=i.cornerRadius;if(i.leftTopCornerRadius=o==="up"||o==="left"?r:0,i.rightTopCornerRadius=o==="up"||o==="right"?r:0,i.leftBottomCornerRadius=o==="down"||o==="left"?r:0,i.rightBottomCornerRadius=o==="down"||o==="right"?r:0,o==="up"||o==="down"){const n=i.mouseAreaYDilation/2||0,d=i.touchAreaYDilation/2||0;i.mouseAreaYDilation=n,i.touchAreaYDilation=d,i.mouseAreaYShift=o==="up"?-n:n,i.touchAreaYShift=o==="up"?-d:d}else{const n=i.mouseAreaXDilation/2||0,d=i.touchAreaXDilation/2||0;i.mouseAreaXDilation=n,i.touchAreaXDilation=d,i.mouseAreaXShift=o==="left"?-n:n,i.touchAreaXShift=o==="left"?-d:d}super(i),this.customStrokeProperty=s}dispose(){this.customStrokeProperty&&this.customStrokeProperty.dispose(),super.dispose()}}B.register("CarouselButton",xi);const Fa=new $(20,7);class gn extends T{constructor(e,i){var y,b;let s=!1;const t=E()({orientation:"horizontal",fill:"white",stroke:"black",lineWidth:1,cornerRadius:4,defaultPageNumber:0,itemsPerPage:4,spacing:12,margin:6,alignBoxOptions:{phetioType:Uo,phetioState:!0,visiblePropertyOptions:{phetioFeatured:!0}},buttonOptions:{xMargin:5,yMargin:5,touchAreaXDilation:0,touchAreaYDilation:0,mouseAreaXDilation:0,mouseAreaYDilation:0,baseColor:"rgba( 200, 200, 200, 0.5 )",disabledColor:Ut.LIGHT_GRAY,lineWidth:1,arrowPathOptions:{stroke:"black",lineWidth:3},arrowSize:Fa,enabledPropertyOptions:{phetioReadOnly:!0,phetioFeatured:!1},soundPlayer:Ke},separatorsVisible:!1,separatorOptions:{stroke:"rgb( 180, 180, 180 )",lineWidth:.5,pickable:!1},animationEnabled:!0,animationOptions:{duration:.4,stepEmitter:No,easing:pt.CUBIC_IN_OUT},tandem:L.OPTIONAL,visiblePropertyOptions:{phetioFeatured:!0}},i);super(),this.isAnimatingProperty=new z(!1),this.animationEnabled=t.animationEnabled,this.items=e,this.itemsPerPage=t.itemsPerPage,this.defaultPageNumber=t.defaultPageNumber;const o=se.fromLayoutOrientation(t.orientation),r=new Wi,n=t.tandem.createTandem("items");this.carouselItemNodes=ze(e,n),this.alignBoxes=e.map((w,f)=>r.createBox(this.carouselItemNodes[f],I({tandem:w.tandemName?n.createTandem(w.tandemName):L.OPTIONAL},t.alignBoxOptions,w.alignBoxOptions))),this.scrollingNode=new Ua(this,{children:this.alignBoxes,orientation:t.orientation,spacing:t.spacing,[`${o.opposite.coordinate}Margin`]:t.margin}),this.visibleAlignBoxesProperty=U.deriveAny(this.alignBoxes.map(w=>w.visibleProperty),()=>this.getVisibleAlignBoxes()),this.scrollingNode.childrenReorderedEmitter.addListener(()=>this.visibleAlignBoxesProperty.recomputeDerivation());const d=I({cornerRadius:t.cornerRadius},t.buttonOptions);assert&&assert(t.spacing>=t.margin,"The spacing must be >= the margin, or you will see page 2 items at the end of page 1");const u=t.separatorsVisible?new T({pickable:!1}):null,l=new T({children:t.separatorsVisible?[u,this.scrollingNode]:[this.scrollingNode]}),h=w=>Math.max(Math.ceil(w.length/t.itemsPerPage),1);this.numberOfPagesProperty=new U([this.visibleAlignBoxesProperty],w=>h(w),{isValidValue:w=>w>0});const p=h(this.alignBoxes);assert&&assert(t.defaultPageNumber>=0&&t.defaultPageNumber<=this.numberOfPagesProperty.value-1,`defaultPageNumber is out of range: ${t.defaultPageNumber}`),this.pageNumberProperty=new Wo(t.defaultPageNumber,{tandem:t.tandem.createTandem("pageNumberProperty"),numberType:"Integer",isValidValue:w=>w<this.numberOfPagesProperty.value&&w>=0,range:new ce(0,p-1),phetioFeatured:!0});const q=new U([this.numberOfPagesProperty],w=>w>1),V=new xi(I({arrowDirection:o===se.HORIZONTAL?"right":"down",tandem:t.tandem.createTandem("nextButton"),listener:()=>this.pageNumberProperty.set(this.pageNumberProperty.get()+1),enabledProperty:new U([this.pageNumberProperty,this.numberOfPagesProperty],(w,f)=>w<f-1),visibleProperty:q},d)),m=new xi(I({arrowDirection:o===se.HORIZONTAL?"left":"up",tandem:t.tandem.createTandem("previousButton"),listener:()=>this.pageNumberProperty.set(this.pageNumberProperty.get()-1),enabledProperty:new U([this.pageNumberProperty],w=>w>0),visibleProperty:q},d)),A=new T({children:[l]}),c=new Q({cornerRadius:t.cornerRadius,fill:t.fill}),g=new Q({cornerRadius:t.cornerRadius,stroke:t.stroke,pickable:!1});this.carouselConstraint=new Wa(this,c,g,A,m,V,l,this.alignBoxes,o,this.scrollingNode,this.itemsPerPage,t.margin,r,u,t.separatorOptions);let P=null;const C=new ji(0,0,0,0);J.multilink([this.pageNumberProperty,l.localBoundsProperty],(w,f)=>{var v;if(w>=this.numberOfPagesProperty.value)return;P&&P.stop();const k=this.visibleAlignBoxesProperty.value[w*t.itemsPerPage],D=k?-k[o.minSide]+t.margin:0,M=C===null||!C.equals(f);C.set(f),this.animationEnabled&&!((v=vi)!=null&&v.value)&&s&&!M?(P=new An(I({},t.animationOptions,{to:D,getValue:()=>l[o.coordinate],setValue:re=>{l[o.coordinate]=re}})),P.endedEmitter.addListener(()=>this.isAnimatingProperty.set(!1)),P.start(),this.isAnimatingProperty.value=!0):l[o.coordinate]=D}),this.visibleAlignBoxesProperty.link(()=>{this.pageNumberProperty.value=Math.min(this.pageNumberProperty.value,this.numberOfPagesProperty.value-1)}),t.children=[c,A,V,m,g],this.disposeCarousel=()=>{this.visibleAlignBoxesProperty.dispose(),this.pageNumberProperty.dispose(),this.alignBoxes.forEach(w=>{assert&&assert(w.children.length===1,"Carousel AlignBox instances should have only one child"),assert&&assert(this.carouselItemNodes.includes(w.children[0]),"Carousel AlignBox instances should wrap a content node"),w.dispose()}),this.scrollingNode.dispose(),this.carouselConstraint.dispose(),this.carouselItemNodes.forEach(w=>w.dispose())},this.mutate(t),s=!0,assert&&((b=(y=phet==null?void 0:phet.chipper)==null?void 0:y.queryParameters)!=null&&b.binder)&&G.registerDataURL("sun","Carousel",this)}dispose(){this.disposeCarousel(),super.dispose()}reset(e=!1){const i=this.animationEnabled;this.animationEnabled=e,this.pageNumberProperty.value=Math.min(this.defaultPageNumber,this.numberOfPagesProperty.value-1),this.animationEnabled=i}scrollToItemVisibleIndex(e){this.pageNumberProperty.set(this.itemVisibleIndexToPageNumber(e))}scrollToItem(e){this.scrollToAlignBox(this.getAlignBoxForItem(e))}scrollToAlignBox(e){const i=this.visibleAlignBoxesProperty.value.indexOf(e);assert&&assert(i>=0,"item not present or visible"),i>=0&&this.scrollToItemVisibleIndex(i)}setItemVisible(e,i){this.getAlignBoxForItem(e).visible=i}getAlignBoxForItem(e){const i=this.alignBoxes[this.items.indexOf(e)];return assert&&assert(i,"item does not have corresponding alignBox"),i}getNodeForItem(e){const i=this.carouselItemNodes[this.items.indexOf(e)];return assert&&assert(i,"item does not have corresponding node"),i}itemVisibleIndexToPageNumber(e){return assert&&assert(e>=0&&e<this.items.length,`itemIndex out of range: ${e}`),Math.floor(e/this.itemsPerPage)}getVisibleAlignBoxes(){return _.sortBy(this.alignBoxes.filter(e=>e.visible),e=>this.scrollingNode.children.indexOf(e))}}class Ua extends vt{constructor(e,i){super(i),this.carousel=e}onIndexedNodeIOChildMoved(e){this.carousel.scrollToAlignBox(e)}}class Wa extends _e{constructor(e,i,s,t,o,r,n,d,u,l,h,p,q,V,m){super(e),this.carousel=e,this.backgroundNode=i,this.foregroundNode=s,this.windowNode=t,this.previousButton=o,this.nextButton=r,this.scrollingNodeContainer=n,this.alignBoxes=d,this.orientation=u,this.scrollingNode=l,this.itemsPerPage=h,this.margin=p,this.alignGroup=q,this.separatorLayer=V,this.separatorOptions=m,[this.backgroundNode,this.foregroundNode,this.windowNode,this.previousButton,this.nextButton,this.scrollingNodeContainer,...this.alignBoxes].forEach(A=>this.addNode(A,!1)),this.separatorLayer&&this.scrollingNode.constraint.finishedLayoutEmitter.addListener(()=>{this.updateSeparators()}),this.updateLayout()}updateSeparators(){const e=this.carousel.getVisibleAlignBoxes(),i=e.length>=2?_.range(1,e.length):[];this.separatorLayer.children=i.map(s=>{const t=(e[s-1][this.orientation.maxSide]+e[s][this.orientation.minSide])/2;return new nr(I({[`${this.orientation.coordinate}1`]:t,[`${this.orientation.coordinate}2`]:t,[`${this.orientation.opposite.coordinate}2`]:this.scrollingNode[this.orientation.opposite.size]},this.separatorOptions))})}computeClipArea(){const e=this.orientation,i=this.carousel.getVisibleAlignBoxes();if(i.length===0)return new $(0,0);{const s=i[this.itemsPerPage-1]||i[i.length-1],t=new $(s[e.maxSide]-i[0][e.minSide]+2*this.margin,this.scrollingNodeContainer.boundsProperty.value[e.opposite.size]);return this.orientation===se.HORIZONTAL?t:t.swapped()}}getBackgroundDimension(){let e,i;if(this.orientation===se.HORIZONTAL){const s=this.nextButton.visible?this.nextButton.width:0,t=this.previousButton.visible?this.previousButton.width:0;e=this.windowNode.width+s+t,i=this.windowNode.height}else{const s=this.nextButton.visible?this.nextButton.height:0,t=this.previousButton.visible?this.previousButton.height:0;e=this.windowNode.width,i=this.windowNode.height+s+t}return new $(e,i)}layout(){super.layout();const e=this.orientation,s=this.alignGroup.getMaxSizeProperty(e.opposite).value+2*this.margin;this.nextButton[e.opposite.preferredSize]=s,this.previousButton[e.opposite.preferredSize]=s,this.nextButton[e.opposite.centerCoordinate]=this.backgroundNode[e.opposite.centerCoordinate],this.previousButton[e.opposite.centerCoordinate]=this.backgroundNode[e.opposite.centerCoordinate],this.windowNode[e.opposite.centerCoordinate]=this.backgroundNode[e.opposite.centerCoordinate],this.previousButton[e.minSide]=this.backgroundNode[e.minSide],this.nextButton[e.maxSide]=this.backgroundNode[e.maxSide],this.windowNode[e.centerCoordinate]=this.backgroundNode[e.centerCoordinate];const t=this.computeClipArea().toBounds();this.windowNode.clipArea=N.bounds(t),this.windowNode.localBounds=t;const o=this.getBackgroundDimension();this.carousel.backgroundWidth=o.width,this.carousel.backgroundHeight=o.height;const r=o.toBounds();this.backgroundNode.rectBounds=r,this.foregroundNode.rectBounds=r,this.separatorLayer&&this.updateSeparators()}}B.register("Carousel",gn);const he={VALUE_NAMED_PLACEHOLDER:"{{value}}",VALUE_NUMBERED_PLACEHOLDER:"{0}",SLIDER_VERTICAL_ROTATION:-Math.PI/2};B.register("SunConstants",he);class Ya{play(){}stop(){}}const Fe=new Ya;Y.register("nullSoundPlayer",Fe);const mn="data:audio/mpeg;base64,//swxAAAB5gnMzRhAAEHDWyDNLAAAAAaAQAu7tjAQAAABgMBgNNiBBAWD7ykMQf1g+D5/qBMHwfB/iAEPWCDv+o5wfPg+8EAQBMHz6gQB8Hwfsu2uWDrkw/a9xgUaMwFxxwCLsWS7MHN7VJki8fVT75eTqpn7/Xt1QxW//lJVbnfNuFRTzwrLn/5GVBnKMy/FVs5dTYABARKCMRm//syxAQACHBHWZ2kAAEJi+jxpg1Qlry2AYclVGyMwNoFJ29hqHqa1TRqRMCoetKstcqUzHBxQdCJmVcSJ/EQdEo0FXSoNLGkav/ljqPtEvjAoAE0zuEoM3lMJlLY3Uj65AMeMzQN6QWeLFdCcxLNFy4dBVXVfZ1L+gIki4KPQVBb4dERU6CrsFSoaLVHv/Ev9Hw4ANdAAG7VBBhVdP/7MsQFAAh8YybVowABG49vdx6AAm8ODBg8FDy9pmwIBsHPVGiPMueyERxZdIFnSpkzI8fezb+0z6OJVv7HHw7XBWdXwa6/y34l6sq7uitTjFTEgsFYrFQqFQDAGrQXMbpbb3ZGQWPWvTnyyeKKHgQ/nvlUf/u74oOHp/8v3R/dl/UcSXDz+kMBEHI0p5efiDJqb/64foFiBSWqB2r/+zLEA4AIVDlivZGAAQePKiWmDNhtwTYmBYyxnJdmZwmMtZ8ZjInEMMpo+VFWESqmhsWBoClhKKEhCW5UNPCsFVgqImyWS6KTAhEUrYoO7kaAWIJCwQzbgl5XrFBB27xoQwfnY6kozJtFz0SgICsWM3VIKWs6qr0tgI15/pQomHhblqjycRUCWe1dUOpxFOiJ/ooQC+IEEBlVdh0r//swxAUACGCjMy0kSsDoiCAA95gpQaBI041ceup5PSlsv5QNXMyixFLVkTXWpYUBYy/lEl4YCdWlLoZ//zGlKUBEhV0SiFT+us7WdBXqAbQ2hdxgDfH4RQsI+kgo2RnWVECiCa0TrUSNjalrUVVKyg0yapYqqVlRTNVLFf/2P/1qVadsTFKlitVMQU1FMy45OS4zVVVVVVVVVVVV",Ha=ne(S,mn),Qa=oe.createLock(mn),Vt=new ee;let eo=!1;const ai=()=>{eo||(Qa(),eo=!0)},Ga=a=>{Vt.audioBufferProperty.value===null&&(Vt.audioBufferProperty.set(a),ai())},_a=a=>{console.warn("decode of audio data failed, using stubbed sound, error: "+a),Vt.audioBufferProperty.set(S.createBuffer(1,1,S.sampleRate)),ai()},to=S.decodeAudioData(Ha.buffer,Ga,_a);to&&to.then(a=>{Vt.audioBufferProperty.value===null&&(Vt.audioBufferProperty.set(a),ai())}).catch(a=>{console.warn("promise rejection caught for audio decode, error = "+a),ai()});const qi=new te(Vt,{soundClipOptions:{initialOutputLevel:.4},soundManagerOptions:{categoryName:"user-interface"}});Y.register("generalCloseSoundPlayer",qi);const qn="data:audio/mpeg;base64,//swxAAABswbPzQxABEQFyzDMlAAAAGoGRIdz0AAARQAAAAAMCd5QEAxBA4sPlz/BAMfw+ooc8EA/EAYKAh/qBBYfwfD4jB/4nD98ZXetEKIxIqnuursF7pTGkY4dNYcaZhOjzgxDNndb75ggdCsIvV3qoeM9HIX215a6Hftuc5FhwFRhvuJuhxbMPp+ir0KlAaCTHVtZuCsLISS//syxAYACGhJXR2jABEVIGmw8YpieZwGg6y5/p6bf69uls4kMS9HVvrXl8hI5WPBY8FawqGh3PYlLA0HQm6ZHvUe/4UB4ChNzls1AZIAAxJNQMBOy4KAeSsL0QgRcxFInzpyhsQ6tvdvaM160ZnbY/2bY19dTlJVJmhrQpT/Vf0eVjfzG////6PMYzmtqJdg0WqADvRwaGDBgBO5T//7MsQFgAkEZSA1swABDRYvdx5QAhmAEZHdFc2HHLBy/LcmfqWvq1yftVsQSJAxzSi25i5w6qqvMy/cjgNSoKu2Q1LHp1S4NCJQsHfLUSINPxK6oxocyIhmMRkMhQAQBuyhLerW2u5zoV4af2nULcHzwOiPxQjFU/nvIyflMKARabfnQqGI/v/FAIV6UJnPAgAca//9NZUgFEnVWuP/+zLEA4AIVL1vnYQAEQkIajDMpMja7T9a7DL+uzSEg2RRajlNmUzFPCBtL7Uyoa/iVlabnj1+Pi9f61X5WuJ9V1XhkOmtYltLGPI1//8s/0PMAKmLuWQPy0Hrh0Uy4C5MCaWoC5bwOjrQpVOQIn9JNDksr2zEBLvAp3LCI8Is9BX1FTsS50j5Us8OCIqEg73ZZ9QByyIAiddlUPU0//swxAUCSEyXLMywatDDBOHA8zBIRfBtlFDU3P7EItHsWE51WgaTVpJLPMzOMYE1qUSth4pRSd1WkZLqqrnGPUobBm4oDUDHol//+rJBUlwL0rYuAoOSuFITEsfTp5a46IhKRBQ6FQkBQCWJESR0KhIeNASKGnsJgJCf///1VUxBTUUzLjk5LjNVVVVVVVVVVVVVVVVVVVVVVVVV",za=ne(S,qn),Ka=oe.createLock(qn),At=new ee;let io=!1;const li=()=>{io||(Ka(),io=!0)},ja=a=>{At.audioBufferProperty.value===null&&(At.audioBufferProperty.set(a),li())},Ja=a=>{console.warn("decode of audio data failed, using stubbed sound, error: "+a),At.audioBufferProperty.set(S.createBuffer(1,1,S.sampleRate)),li()},so=S.decodeAudioData(za.buffer,ja,Ja);so&&so.then(a=>{At.audioBufferProperty.value===null&&(At.audioBufferProperty.set(a),li())}).catch(a=>{console.warn("promise rejection caught for audio decode, error = "+a),li()});const yi=new te(At,{soundClipOptions:{initialOutputLevel:.4},soundManagerOptions:{categoryName:"user-interface"}});Y.register("generalOpenSoundPlayer",yi);class kt extends qt(T){constructor(e,i,s,t,o,r){const n=E()({cursor:"pointer",align:"left",xMargin:6,highlightFill:"rgb( 245, 245, 245 )",highlightCornerRadius:4,tagName:"li",focusable:!0,ariaRole:"option",positionInPDOM:!0,voicingFocusListener:()=>this.comboBoxListItemNodeVoicingFocusListener(),comboBoxVoicingNameResponsePattern:he.VALUE_NAMED_PLACEHOLDER,tandem:L.REQUIRED,tandemNameSuffix:"Item",phetioType:Uo,phetioState:!0,visiblePropertyOptions:{phetioFeatured:!0}},r);n.comboBoxVoicingNameResponsePattern=n.comboBoxVoicingNameResponsePattern.get?n.comboBoxVoicingNameResponsePattern.get():n.comboBoxVoicingNameResponsePattern,assert&&assert(!!phet.chipper.queryParameters.stringTest||n.comboBoxVoicingNameResponsePattern.includes("{{value}}"),"value needs to be filled in");const d=new Q({cornerRadius:n.highlightCornerRadius}),u=new T({children:[i]}),l=c=>{d.rectWidth=c,u.maxWidth=c};t.link(l);const h=c=>{d.rectHeight=c,u.maxHeight=c};o.link(h),n.children=[d,u],super(n),this._supplyOpenResponseOnNextFocus=!1,Hi.create(this,[d,u],(c,g)=>{n.align==="left"?g.left=c.left+n.xMargin:n.align==="right"?g.right=c.right-n.xMargin:g.centerX=c.centerX,g.centerY=c.centerY});const p=new U([s],c=>c||""),q=typeof n.comboBoxVoicingNameResponsePattern=="string"?new Me(n.comboBoxVoicingNameResponsePattern):n.comboBoxVoicingNameResponsePattern,V=new Qi(q,{value:p},{tandem:L.OPT_OUT});this.voicingNameResponse=V;const m=c=>{this.innerContent=c,this.voicingObjectResponse=c};s.link(m),this.item=e,this.localBoundsProperty.link(c=>{this.focusHighlight=N.bounds(c)});const A=new We({attach:!1,tandem:L.OPT_OUT});this.addInputListener(A),A.looksOverProperty.link(c=>{d.fill=c?n.highlightFill:null}),this.disposeComboBoxListItemNode=()=>{A.dispose(),V.dispose(),p.dispose(),s.unlink(m),t.unlink(l),o.unlink(h)}}supplyOpenResponseOnNextFocus(){this._supplyOpenResponseOnNextFocus=!0}dispose(){this.disposeComboBoxListItemNode(),super.dispose()}comboBoxListItemNodeVoicingFocusListener(){this.voicingSpeakFullResponse({nameResponse:this._supplyOpenResponseOnNextFocus?this.voicingNameResponse:null,objectResponse:this._supplyOpenResponseOnNextFocus?null:this.voicingObjectResponse,contextResponse:null,hintResponse:this._supplyOpenResponseOnNextFocus?this.voicingHintResponse:null}),this._supplyOpenResponseOnNextFocus=!1}}B.register("ComboBoxListItemNode",kt);const Di=["left","center","right"],Mi={fill:"white",stroke:"black",lineWidth:1,lineDash:[],xMargin:5,yMargin:5,cornerRadius:10,resize:!0,backgroundPickable:!0,excludeInvisibleChildrenFromBounds:!0,align:"left",minWidth:0,minHeight:0};assert&&Object.freeze(Mi);const bs=class bs extends Ai(T){constructor(e,i){const s=br()({},Mi,i);assert&&assert(_.includes(Di,s.align),`invalid align: ${s.align}`),super(),this._content=e,this._backgroundContainer=new T,this._background=new Q(0,0,1,1,{lineWidth:s.lineWidth,pickable:s.backgroundPickable,lineDash:s.lineDash,cornerRadius:s.cornerRadius}),this.setStroke(s.stroke),this.setFill(s.fill),this.addChild(this._backgroundContainer),this.addChild(e),this.constraint=new Xa(this,s),this.constraint.updateLayout(),this.constraint.enabled=s.resize,this.mutate(s)}getStroke(){return this._background.stroke}get stroke(){return this.getStroke()}set stroke(e){this.setStroke(e)}setStroke(e){this._background.stroke=e,this.constraint&&this.constraint.updateLayoutAutomatically()}getFill(){return this._background.fill}get fill(){return this.getFill()}set fill(e){this.setFill(e)}setFill(e){this._background.fill=e}setExcludeInvisibleChildrenFromBounds(e){super.setExcludeInvisibleChildrenFromBounds(e),this.constraint.updateLayoutAutomatically()}};bs.DEFAULT_PANEL_OPTIONS=Mi;let Wt=bs;class Xa extends _e{constructor(e,i){super(e),this.panel=e,assert&&assert(typeof i.minWidth=="number","Panel minWidth should be a number"),assert&&assert(typeof i.xMargin=="number","Panel xMargin should be a number"),assert&&assert(typeof i.yMargin=="number","Panel yMargin should be a number"),assert&&assert(typeof i.lineWidth=="number","Panel lineWidth should be a number"),assert&&assert(Di.includes(i.align),`Panel align should be one of ${Di}`),this.minWidth=i.minWidth,this.minHeight=i.minHeight,this.xMargin=i.xMargin,this.yMargin=i.yMargin,this.lineWidth=i.lineWidth,this.align=i.align,this.panel.localPreferredWidthProperty.lazyLink(this._updateLayoutListener),this.panel.localPreferredHeightProperty.lazyLink(this._updateLayoutListener),this.addNode(e._content)}layout(){super.layout();const e=this.panel,i=e._content,s=e._background,t=e.stroke===null?0:this.lineWidth,o=e.isChildIncludedInLayout(i);if(e._backgroundContainer.children=o?[s]:[],!o){e.localMinimumWidth=null,e.localMinimumHeight=null;return}const r=we(i)&&i.minimumWidth!==null?i.minimumWidth:i.width,n=Ot(i)&&i.minimumHeight!==null?i.minimumHeight:i.height,d=Math.max(this.minWidth,r+2*this.xMargin)+t,u=Math.max(this.minHeight,n+2*this.yMargin)+t,l=Math.max(d,e.localPreferredWidth||0),h=Math.max(u,e.localPreferredHeight||0);we(i)&&e.localPreferredWidth!==null&&(i.preferredWidth=l-t-2*this.xMargin),Ot(i)&&e.localPreferredHeight!==null&&(i.preferredHeight=h-t-2*this.yMargin),s.setRect(0,0,l-t,h-t),this.align==="center"?i.center=s.center:this.align==="left"?(i.left=s.centerX-s.rectWidth/2+this.xMargin,i.centerY=s.centerY):(i.right=s.centerX+s.rectWidth/2-this.xMargin,i.centerY=s.centerY),e.localMinimumWidth=d,e.localMinimumHeight=u}dispose(){this.panel.localPreferredWidthProperty.unlink(this._updateLayoutListener),this.panel.localPreferredHeightProperty.unlink(this._updateLayoutListener),super.dispose()}}B.register("Panel",Wt);class yn extends Wt{constructor(e,i,s,t,o,r,n,d,u){assert&&assert(i.length>0,"empty list box is not supported");const l=E()({highlightFill:"rgb( 245, 245, 245 )",comboBoxListItemNodeOptions:{},xMargin:12,yMargin:8,backgroundPickable:!0,tagName:"ul",ariaRole:"listbox",groupFocusHighlight:!0,openedSoundPlayer:yi,closedNoChangeSoundPlayer:qi,visiblePropertyOptions:{phetioReadOnly:!0}},u);assert&&assert(l.xMargin>0&&l.yMargin>0,`margins must be > 0, xMargin=${l.xMargin}, yMargin=${l.yMargin}`);const h=new Ni(b=>{const w=b.currentTarget;assert&&assert(w instanceof kt,"expected a ComboBoxListItemNode"),this.selectionOnFireAction=w;const f=e.value;r(),e.value=this.selectionOnFireAction.item.value,o(),this.voiceOnNewSelection(e.value,f,w),b.abort()},{parameters:[{phetioPrivate:!0,valueType:rr}],tandem:d.createTandem("fireAction"),phetioEventType:Ve.USER}),p={up(b){h.execute(b)},keyup:b=>{b.domEvent&&O.isAnyKeyEvent(b.domEvent,[O.KEY_ENTER,O.KEY_SPACE])&&h.execute(b)},click:b=>{h.execute(b)}},q=De.getMaxItemWidthProperty(s),V=De.getMaxItemHeightProperty(s),m=new U([q],b=>b+l.xMargin),A=new U([V],b=>b+l.yMargin),c=[];i.forEach((b,w)=>{const f=t.get(b.value);assert&&assert(f);const k=new kt(b,s[w],f,m,A,I({align:l.align,highlightFill:l.highlightFill,highlightCornerRadius:l.cornerRadius,xMargin:.5*l.xMargin,tandem:b.tandemName?d.createTandem(b.tandemName):L.OPTIONAL},l.comboBoxListItemNodeOptions,b.comboBoxListItemNodeOptions));c.push(k),k.addInputListener(p)});const g=new gi({spacing:0,excludeInvisibleChildrenFromBounds:!0,children:c});super(g,I({},l,{xMargin:l.xMargin/2,yMargin:l.yMargin/2})),this.content=g,this.voiceOnSelectionNode=n,this.selectionOnFireAction=this.getListItemNode(e.value);const P=i.map(b=>Gt.getSelectionSoundPlayer(i.indexOf(b)));let C;this.visibleProperty.lazyLink(b=>{if(b)l.openedSoundPlayer.play(),C=this.getListItemNode(e.value);else if(assert&&assert(C,"no Node for when list box was opened"),C===this.selectionOnFireAction)l.closedNoChangeSoundPlayer.play();else{const w=this.selectionOnFireAction.item;if(w.soundPlayer)w.soundPlayer.play();else{const f=this.getVisibleListItemNodes().indexOf(this.selectionOnFireAction);f!==-1&&P[f].play()}}});const y=new Yo({keys:["escape","tab","shift+tab","arrowUp","arrowDown","home","end"],fire:(b,w)=>{const f=b;assert&&assert(f,"event is required for this listener");const k=this.getVisibleListItemNodes();if(w==="escape"||w==="tab"||w==="shift+tab")o(),r();else if(w==="arrowUp"||w==="arrowDown"){const D=b;assert&&assert(D,"domEvent is required for this listener"),D.preventDefault();const M=w==="arrowDown"?1:-1,v=k.indexOf(this.getFocusedItemNode());assert&&assert(v>-1,"how could we receive keydown without a focused list item?");const re=v+M;k[re]&&k[re].focus()}else w==="home"?k[0].focus():w==="end"&&k[k.length-1].focus()}});this.addInputListener(y),this.disposeComboBoxListBox=()=>{for(let b=0;b<c.length;b++)c[b].dispose();this.removeInputListener(y),y.dispose(),h.dispose(),q.dispose(),V.dispose()}}dispose(){this.disposeComboBoxListBox(),super.dispose()}setItemVisible(e,i){this.getListItemNode(e).visible=i}isItemVisible(e){return this.getListItemNode(e).visible}getAllListItemNodes(){return this.content.children}getVisibleListItemNodes(){return this.getAllListItemNodes().filter(e=>e.visible)}getListItemNode(e){const i=_.find(this.getAllListItemNodes(),s=>s.item.value===e);return assert&&assert(i,`no item found for value: ${e}`),assert&&assert(i instanceof kt,"invalid listItemNode"),i}getFocusedItemNode(){const e=_.find(this.getAllListItemNodes(),i=>i.focused);return assert&&assert(e,"no item found that has focus"),assert&&assert(e instanceof kt,"invalid listItemNode"),e}focusListItemNode(e){let i=this.getListItemNode(e);i.visible||(i=_.find(this.getAllListItemNodes(),s=>s.visible)),i&&(i.supplyOpenResponseOnNextFocus(),i.focus())}voiceOnNewSelection(e,i,s){const t={nameResponse:s.voicingNameResponse,objectResponse:null,contextResponse:s.voicingContextResponse,hintResponse:null};i===e&&(t.contextResponse=null),this.voiceOnSelectionNode.voicingSpeakResponse(t)}}B.register("ComboBoxListBox",yn);const Za=["above","below"],$a=["left","right","center"],oo="Item",el=(a,e,i,s)=>(s.push(()=>{a.button.accessibleName=i}),e),tl=(a,e,i,s)=>(s.push(()=>{a.button.helpText=i}),e),$e=class $e extends Qt(T){constructor(e,i,s,t){var d,u;assert&&assert(_.uniqBy(i,l=>l.value).length===i.length,"items must have unique values"),assert&&i.forEach(l=>{assert&&assert(!l.tandemName||l.tandemName.endsWith(oo),`ComboBoxItem tandemName must end with '${oo}': ${l.tandemName}`)}),assert&&assert(s.maxWidth===null,"ComboBox is responsible for scaling listBox. Setting maxWidth for listParent may result in buggy behavior.");const o=E()({align:"left",listPosition:"below",labelXSpacing:10,disabledOpacity:.5,cornerRadius:4,highlightFill:"rgb( 245, 245, 245 )",xMargin:12,yMargin:8,buttonFill:"white",buttonStroke:"black",buttonLineWidth:1,buttonTouchAreaXDilation:0,buttonTouchAreaYDilation:0,buttonMouseAreaXDilation:0,buttonMouseAreaYDilation:0,listFill:"white",listStroke:"black",listLineWidth:1,openedSoundPlayer:yi,closedNoChangeSoundPlayer:qi,tagName:"div",buttonLabelTagName:"p",accessibleNameBehavior:el,helpTextBehavior:tl,comboBoxVoicingNameResponsePattern:he.VALUE_NAMED_PLACEHOLDER,comboBoxVoicingContextResponse:null,comboBoxVoicingHintResponse:null,tandem:L.REQUIRED,tandemNameSuffix:"ComboBox",phetioType:$e.ComboBoxIO,phetioFeatured:!0,phetioEventType:Ve.USER,visiblePropertyOptions:{phetioFeatured:!0},phetioEnabledPropertyInstrumented:!0},t),r=ze(i,o.tandem.createTandem("items"));assert&&r.forEach(l=>{assert&&assert(!l.hasPDOMContent,"Accessibility is provided by ComboBoxItemNode and ComboBoxItem.a11yLabel. Additional PDOM content in the provided Node could break accessibility.")}),assert&&assert(o.xMargin>0&&o.yMargin>0,`margins must be > 0, xMargin=${o.xMargin}, yMargin=${o.yMargin}`),assert&&assert(_.includes(Za,o.listPosition),`invalid listPosition: ${o.listPosition}`),assert&&assert(_.includes($a,o.align),`invalid align: ${o.align}`),super(),this.nodes=r,this.a11yNamePropertyMap=$e.getA11yNamePropertyMap(i),this.listPosition=o.listPosition,this.button=new ds(e,i,r,this.a11yNamePropertyMap,{align:o.align,arrowDirection:o.listPosition==="below"?"down":"up",cornerRadius:o.cornerRadius,xMargin:o.xMargin,yMargin:o.yMargin,baseColor:o.buttonFill,stroke:o.buttonStroke,lineWidth:o.buttonLineWidth,touchAreaXDilation:o.buttonTouchAreaXDilation,touchAreaYDilation:o.buttonTouchAreaYDilation,mouseAreaXDilation:o.buttonMouseAreaXDilation,mouseAreaYDilation:o.buttonMouseAreaYDilation,localPreferredWidthProperty:this.localPreferredWidthProperty,localMinimumWidthProperty:this.localMinimumWidthProperty,comboBoxVoicingNameResponsePattern:o.comboBoxVoicingNameResponsePattern,labelTagName:o.buttonLabelTagName,tandem:o.tandem.createTandem("button")}),this.addChild(this.button),this.listBox=new yn(e,i,r,this.a11yNamePropertyMap,this.hideListBox.bind(this),()=>{this.button.blockNextVoicingFocusListener(),this.button.focus()},this.button,o.tandem.createTandem("listBox"),{align:o.align,highlightFill:o.highlightFill,xMargin:o.xMargin,yMargin:o.yMargin,cornerRadius:o.cornerRadius,fill:o.listFill,stroke:o.listStroke,lineWidth:o.listLineWidth,visible:!1,comboBoxListItemNodeOptions:{comboBoxVoicingNameResponsePattern:o.comboBoxVoicingNameResponsePattern,voicingContextResponse:o.comboBoxVoicingContextResponse,voicingHintResponse:o.comboBoxVoicingHintResponse},openedSoundPlayer:o.openedSoundPlayer,closedNoChangeSoundPlayer:o.closedNoChangeSoundPlayer,ariaLabelledbyAssociations:[{otherNode:this.button,otherElementName:ae.LABEL_SIBLING,thisElementName:ae.PRIMARY_SIBLING}]}),s.addChild(this.listBox),this.listParent=s;const n=new ar(this.button,this.listParent,{fromCoordinateFrame:"parent",toCoordinateFrame:"local"});J.multilink([n,this.button.localBoundsProperty,this.listBox.localBoundsProperty],l=>{this.scaleAndPositionListBox(l)}),this.opacityProperty.link(l=>{this.listBox.opacityProperty.value=l}),this.mutate(o),assert&&L.VALIDATION&&this.isPhetioInstrumented()&&i.forEach(l=>{assert&&assert(l.tandemName!==null,`PhET-iO instrumented ComboBoxes require ComboBoxItems to have tandemName: ${l.value}`)}),this.button.addListener(()=>{this.listBox.visibleProperty.value=!this.listBox.visibleProperty.value,this.listBox.visibleProperty.value&&this.listBox.focusListItemNode(e.value)}),this.display=null,this.clickToDismissListener={down:l=>{(!phet.chipper.isFuzzEnabled()||zo.nextDouble()<.005)&&(l.trail.containsNode(this.button)||l.trail.containsNode(this.listBox)||this.hideListBox())}},this.dismissWithFocusListener=l=>{l&&!l.trail.containsNode(this.listBox)&&this.hideListBox()},Nt.pdomFocusProperty.link(this.dismissWithFocusListener),this.listBox.visibleProperty.link(l=>{l?(this.scaleListBox(),this.listBox.moveToFront(),assert&&assert(!this.display,"unexpected display"),this.display=this.getUniqueTrail().rootNode().getRootedDisplays()[0],this.display.addInputListener(this.clickToDismissListener)):this.display&&this.display.hasInputListener(this.clickToDismissListener)&&(this.display.removeInputListener(this.clickToDismissListener),this.display=null)}),this.displayOnlyProperty=new z(!1,{tandem:o.tandem.createTandem("displayOnlyProperty"),phetioFeatured:!0,phetioDocumentation:"disables interaction with the ComboBox and makes it appear like a display that shows the current selection"}),this.displayOnlyProperty.link(l=>{this.hideListBox(),this.button.setDisplayOnly(l),this.pickable=!l}),this.addLinkedElement(e,{tandemName:"property"}),this.disposeComboBox=()=>{n.dispose(),this.display&&this.display.hasInputListener(this.clickToDismissListener)&&this.display.removeInputListener(this.clickToDismissListener),Nt.pdomFocusProperty.unlink(this.dismissWithFocusListener),this.displayOnlyProperty.dispose(),this.listBox.dispose(),this.button.dispose(),r.forEach(l=>l.dispose())},assert&&((u=(d=phet==null?void 0:phet.chipper)==null?void 0:d.queryParameters)!=null&&u.binder)&&G.registerDataURL("sun","ComboBox",this)}dispose(){this.disposeComboBox(),super.dispose()}showListBox(){this.listBox.visibleProperty.value=!0}hideListBox(){this.listBox.visibleProperty.value=!1}scaleListBox(){if(!this.listBox.localBounds.isEmpty()){const e=this.button.localToGlobalBounds(this.button.localBounds).width/this.button.localBounds.width,i=this.listBox.localToGlobalBounds(this.listBox.localBounds).width/this.listBox.localBounds.width;this.listBox.scale(e/i)}}scaleAndPositionListBox(e){e&&(this.scaleListBox(),this.listPosition==="above"?this.listBox.leftBottom=e.timesVector2(this.button.leftTop):this.listBox.leftTop=e.timesVector2(this.button.leftBottom))}setItemVisible(e,i){this.listBox.setItemVisible(e,i)}isItemVisible(e){return this.listBox.isItemVisible(e)}static getMaxItemWidthProperty(e){const i=_.flatten(e.map(s=>{const t=[s.boundsProperty];return lr(s)&&(t.push(s.isWidthResizableProperty),t.push(s.minimumWidthProperty)),t}));return U.deriveAny(i,()=>Math.max(...e.map(s=>we(s)?s.minimumWidth||0:s.width)))}static getMaxItemHeightProperty(e){const i=e.map(s=>s.boundsProperty);return U.deriveAny(i,()=>Math.max(...e.map(s=>s.height)))}static getA11yNamePropertyMap(e){const i=new Map;return e.forEach(s=>{let t;vo(s.a11yName)?t=s.a11yName:typeof s.a11yName=="string"?t=new ie(s.a11yName):t=new ie(null),i.set(s.value,t)}),i}};$e.ComboBoxIO=new xe("ComboBoxIO",{valueType:$e,documentation:"A combo box is composed of a push button and a listbox. The listbox contains items that represent choices. Pressing the button pops up the listbox. Selecting from an item in the listbox sets the value of an associated Property. The button shows the item that is currently selected.",supertype:T.NodeIO,events:["listBoxShown","listBoxHidden"]});let De=$e;B.register("ComboBox",De);const il=["left","center","right"],sl=["up","down"],ol=(a,e,i)=>(e.labelContent=i,e);class ds extends bt{constructor(e,i,s,t,o){const r=E()({align:"left",arrowDirection:"down",arrowFill:"black",comboBoxVoicingNameResponsePattern:he.VALUE_NAMED_PLACEHOLDER,cursor:"pointer",baseColor:"white",buttonAppearanceStrategy:ye.FlatAppearanceStrategy,xMargin:12,yMargin:8,stroke:"black",lineWidth:1,soundPlayer:Fe,enabledPropertyOptions:{phetioFeatured:!1},visiblePropertyOptions:{phetioFeatured:!1},localPreferredWidthProperty:new ie(null),localMinimumWidthProperty:new ie(null),containerTagName:"div",labelTagName:"p",accessibleNameBehavior:ol},o);assert&&assert(_.includes(il,r.align),`invalid align: ${r.align}`),assert&&assert(_.includes(sl,r.arrowDirection),`invalid arrowDirection: ${r.arrowDirection}`);const n=r.xMargin,d=r.yMargin,u=De.getMaxItemWidthProperty(s),l=De.getMaxItemHeightProperty(s),h=new j(null,{fill:r.arrowFill}),p=_.find(i,y=>y.value===e.value),q=i.indexOf(p),V=new T({layoutOptions:{yMargin:d,grow:1,xAlign:r.align},children:[s[q]]}),m=new dr(0,0,0,0,{stroke:"black",lineWidth:r.lineWidth});r.content=new ur({rows:[[V,m,h]]}),J.multilink([u,l],(y,b)=>{const w=b+2*d,f=w,k=.35*f,D=2*k*Math.sqrt(3)/3,M=n,v=n-r.lineWidth/2,re=-r.lineWidth/2,je=(_t,Oe,Je)=>_t==="up"?new N().moveTo(0,Je).lineTo(Oe/2,0).lineTo(Oe,Je).close():new N().moveTo(0,0).lineTo(Oe,0).lineTo(Oe/2,Je).close();h.shape=je(r.arrowDirection,D,k),h.mutateLayoutOptions({minContentWidth:f,minContentHeight:f}),V.mutateLayoutOptions({minContentWidth:y,minContentHeight:b,leftMargin:M,rightMargin:v}),m.y2=w,m.mutateLayoutOptions({rightMargin:re})}),r.xMargin=0,r.yMargin=0,super(r),this.minimumWidthProperty.link(y=>{r.localMinimumWidthProperty.value=y});const A=y=>{this.preferredWidth=y};r.localPreferredWidthProperty.link(A),this._blockNextVoicingFocusListener=!1,this.voicingFocusListener=()=>{!this._blockNextVoicingFocusListener&&this.defaultFocusListener(),this._blockNextVoicingFocusListener=!1};let c=null;const g=new U([e],y=>{const b=_.find(i,w=>w.value===y);return assert&&assert(b,`no item found for value: ${y}`),b}),P=new U([g],y=>s[i.indexOf(y)]),C=new Jt(g,{derive:y=>t.get(y.value)});P.link(y=>{V.removeAllChildren(),V.addChild(y)}),C.link(y=>{this.innerContent=y;const b=typeof r.comboBoxVoicingNameResponsePattern=="string"?new Me(r.comboBoxVoicingNameResponsePattern):r.comboBoxVoicingNameResponsePattern;c&&c.dispose(),this.voicingNameResponse=c=new Qi(b,{value:y||""},{tandem:L.OPT_OUT})}),this.ariaLabelledbyAssociations=[{otherNode:this,otherElementName:ae.LABEL_SIBLING,thisElementName:ae.PRIMARY_SIBLING},{otherNode:this,otherElementName:ae.PRIMARY_SIBLING,thisElementName:ae.PRIMARY_SIBLING}],hr.mutateNode(this,"listbox"),this.disposeComboBoxButton=()=>{u.dispose(),l.dispose(),g.dispose(),r.localPreferredWidthProperty.unlink(A),c&&c.dispose()},this.arrow=h,this.separatorLine=m}setDisplayOnly(e){this.arrow.visible=!e,this.separatorLine.visible=!e}blockNextVoicingFocusListener(){this._blockNextVoicingFocusListener=!0}dispose(){this.disposeComboBoxButton(),super.dispose()}}B.register("ComboBoxButton",ds);class fn extends T{constructor(e,i,s){const t=E()({interactive:!1,orientation:"horizontal",dotRadius:3,lineWidth:1,dotSpacing:10,dotTouchAreaDilation:4,dotMouseAreaDilation:4,currentPageFill:"black",currentPageStroke:null,pageFill:"rgb( 200, 200, 200 )",pageStroke:null,tandem:L.REQUIRED,tandemNameSuffix:"PageControl",visiblePropertyOptions:{phetioFeatured:!0}},s);assert&&assert(Lr.includes(t.orientation),`invalid orientation=${t.orientation}`);const o=new We({press:h=>{h.currentTarget instanceof no&&(e.value=h.currentTarget.pageNumber)},tandem:t.tandem.createTandem("pressListener")}),r={lineWidth:t.lineWidth,mouseArea:t.dotMouseAreaDilation===0?null:N.circle(0,0,t.dotRadius+t.dotMouseAreaDilation),touchArea:t.dotTouchAreaDilation===0?null:N.circle(0,0,t.dotRadius+t.dotTouchAreaDilation),boundsMethod:"unstroked",cursor:t.interactive?"pointer":null,inputListeners:t.interactive?[o]:[]},n=new vt({orientation:t.orientation,spacing:t.dotSpacing});let d=[];n.boundsProperty.link(()=>{n.center=Lt.ZERO});const u=h=>{d.forEach(p=>{p.fill=h===p.pageNumber?t.currentPageFill:t.pageFill,p.stroke=h===p.pageNumber?t.currentPageStroke:t.pageStroke})};e.link(u);const l=h=>{assert&&assert(h>=1),d=_.range(0,h).map(p=>new no(p,t.dotRadius,r)),n.children=d,u(e.value)};i.link(l),t.children=[n],super(t),this.disposePageControl=()=>{o.dispose(),i.unlink(l),e.unlink(u)}}dispose(){this.disposePageControl(),super.dispose()}}class no extends it{constructor(e,i,s){super(i,s),this.pageNumber=e}}B.register("PageControl",fn);class nl extends Qt(T){constructor(e,i,s){const t=E()({itemNodeOptions:{align:"left",overColor:F.grayColor(245),selectedColor:"yellow",xMargin:6,yMargin:2},carouselOptions:{buttonOptions:{arrowSize:new $(20,4)},orientation:"vertical",spacing:0,margin:0,itemsPerPage:15},pageControlOptions:{interactive:!0},buttonOptions:{arrowDirection:"down",baseColor:"rgb( 218, 236, 255 )",xMargin:6,yMargin:4},tandem:L.OPTIONAL},s);assert&&assert(t.carouselOptions.orientation==="vertical","orientation must be vertical"),assert&&assert(t.buttonOptions.arrowDirection==="down","arrowDirection must be down"),t.carouselOptions.itemsPerPage=Math.min(t.carouselOptions.itemsPerPage,i.length),t.carouselOptions.tandem=t.carouselOptions.tandem||t.tandem.createTandem("carousel"),t.buttonOptions.tandem=t.buttonOptions.tandem||t.tandem.createTandem("button"),super(),this.a11yNamePropertyMap=De.getA11yNamePropertyMap(i);const o=new Wi,r=ze(i,t.tandem.createTandem("items")),n=_.map(i,(c,g)=>({createNode:()=>new rl(e,c,r[g],o,t.itemNodeOptions)}));assert&&assert(n.length===i.length,"expected a carouselItem for each comboBoxItem");const d=[],u=new gn(n,t.carouselOptions);d.push(u);let l=null;u.numberOfPagesProperty.value>1&&(l=new fn(u.pageNumberProperty,u.numberOfPagesProperty,I({orientation:t.carouselOptions.orientation},t.pageControlOptions)),d.push(l));const h=new Ui({spacing:4,children:d}),p=new ds(e,i,r,this.a11yNamePropertyMap,I({listener:()=>{h.visible=!h.visible},widthSizable:t.widthSizable,localPreferredWidthProperty:this.localPreferredWidthProperty,localMinimumWidthProperty:this.localMinimumWidthProperty},t.buttonOptions)),q=new gi({spacing:0,align:"left",children:[p,h]});t.children=[q],this.mutate(t);const V=()=>{h.visible=!1};e.link(V);const m={down:c=>{if(assert&&assert(u.visible,"this listener should be registered only when carousel is visible"),!phet.chipper.isFuzzEnabled()||zo.nextDouble()<.25){const g=c.trail;!g.containsNode(p)&&!g.containsNode(u)&&(!l||!g.containsNode(l))&&(h.visible=!1)}}};let A=null;h.visibleProperty.link(c=>{c?(assert&&assert(!A,"unexpected display"),A=this.getUniqueTrail().rootNode().getRootedDisplays()[0],A.addInputListener(m)):A&&A.hasInputListener(m)&&(A.removeInputListener(m),A=null)}),this.disposeCarouselComboBox=()=>{e.unlink(V),p.dispose(),l&&l.dispose(),u.dispose(),r.forEach(c=>c.dispose())}}dispose(){this.disposeCarouselComboBox(),super.dispose()}}class rl extends T{constructor(e,i,s,t,o){const r=E()({align:"left",xMargin:6,yMargin:2,overColor:F.grayColor(245),selectedColor:"yellow",tandem:L.OPTIONAL},o),n=new ot(s,{xAlign:r.align,group:t}),d=new Q(0,0,1,1);n.boundsProperty.link(h=>{d.setRectBounds(h.dilatedXY(r.xMargin,r.yMargin))}),r.children=[d,n],super(r);const u=new We({press:()=>{e.value=i.value},tandem:r.tandem.createTandem("pressListener")});this.addInputListener(u);const l=new J([e,u.isOverProperty],(h,p)=>{h===i.value?d.fill=r.selectedColor:p?d.fill=r.overColor:d.fill="transparent"});this.disposeCarouselItemNode=()=>{l.dispose()}}dispose(){this.disposeCarouselItemNode(),super.dispose()}}B.register("CarouselComboBox",nl);const al=new N("M1120 1280h-832q-66 0 -113 -47t-47 -113v-832q0 -66 47 -113t113 -47h832q66 0 113 47t47 113v832q0 66 -47 113t-113 47zM1408 1120v-832q0 -119 -84.5 -203.5t-203.5 -84.5h-832q-119 0 -203.5 84.5t-84.5 203.5v832q0 119 84.5 203.5t203.5 84.5h832 q119 0 203.5 -84.5t84.5 -203.5z").makeImmutable(),ll=new N("M1408 606v-318q0 -119 -84.5 -203.5t-203.5 -84.5h-832q-119 0 -203.5 84.5t-84.5 203.5v832q0 119 84.5 203.5t203.5 84.5h832q63 0 117 -25q15 -7 18 -23q3 -17 -9 -29l-49 -49q-10 -10 -23 -10q-3 0 -9 2q-23 6 -45 6h-832q-66 0 -113 -47t-47 -113v-832 q0 -66 47 -113t113 -47h832q66 0 113 47t47 113v254q0 13 9 22l64 64q10 10 23 10q6 0 12 -3q20 -8 20 -29zM1639 1095l-814 -814q-24 -24 -57 -24t-57 24l-430 430q-24 24 -24 57t24 57l110 110q24 24 57 24t57 -24l263 -263l647 647q24 24 57 24t57 -24l110 -110 q24 -24 24 -57t-24 -57z").makeImmutable(),bn="data:audio/mpeg;base64,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VxjMbjCAqV6+9lyLbLv3a0X6ESHnjmkrTgX6ewW628bWpy6aAAAEIBKAAYVGgQJzEA7MHBAeERhQBG6YsEF4lDMeEoCAUYKgI6ZVAYEguZjC2ZGtMcWpghOAQLKNr1LwVPu2Wuurc61Zm1tOXWe/o1tDZJ5cXoLq47k/vbkMSqQ57UHqbUISVThclJqqsAa1V3dqUsXjENcTVSBUCQHmLDZKQCFtO+lwC+DVGKFZhA8Ck5ACX2THBAR54Dl4c+jQuNtZdZ7rPuOGX//7cMTJAk6AYtSvdwcB3graIe684Jd3Kc5TLcMqa1j+V2z++ZfljKYdvVqa/VlNNTWpkJR7VjzOVVd5NBQlGc8z5NIkUcNIozLbzkcqq84/8kUcf1PnK74dLEkq30DAFGtNIonJMclvNIy5wMFJGkUZk4lppFE4ldVr+qreaiclZEjO/scSJEtxTEFNRTMuOTguM6qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqCQACQKKEgQswmgpKTiyiyizTjSizDzDy2eLzc/ypo0osoCEihIoDEA5BDcqWco0FBgUUBgQsQLAzjSizDzDy2drzcqpo0ov/+3LE5QJOoF7PjnWHApQz1oW8mbkoso404so8w+GdnZ4tv//+7VNSUWUWUKEihIELECxAoSBFmHxcNebNGlFmnCRQkCFiBYkUJFAYgWIFgZRZRZh5h9VVVUUJppI1VUxBTUUzLjk4LjNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7cMS2A9IFejpDGM3IAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",dl=ne(S,bn),ul=oe.createLock(bn),gt=new ee;let ro=!1;const di=()=>{ro||(ul(),ro=!0)},hl=a=>{gt.audioBufferProperty.value===null&&(gt.audioBufferProperty.set(a),di())},cl=a=>{console.warn("decode of audio data failed, using stubbed sound, error: "+a),gt.audioBufferProperty.set(S.createBuffer(1,1,S.sampleRate)),di()},ao=S.decodeAudioData(dl.buffer,hl,cl);ao&&ao.then(a=>{gt.audioBufferProperty.value===null&&(gt.audioBufferProperty.set(a),di())}).catch(a=>{console.warn("promise rejection caught for audio decode, error = "+a),di()});const Sn=new te(gt,{soundClipOptions:{initialOutputLevel:.7},soundManagerOptions:{categoryName:"user-interface"}});Y.register("checkboxCheckedSoundPlayer",Sn);const Pn="data:audio/mpeg;base64,//swxAAAB3BPLHWkgAEQCy03MPADAYAEAMYCIAZnV5vYJv2ZoxqgRhBhkBBkRJhwZa9g7/tbYe1+jC4beogQMZ4Z5zn7mgQQdxOH//////6SQAIzbNJJdtgAAAAAAHjcV2B1EBJLBB4wV9rCWp5eq0EHE43FpgLhkjdNEqGhFqhSQlQ4TwqZdZ7fN/Hm6YKiu/33NoUAACApAAAI//syxAOCSGxzQ123gDkDjCZJvLDmDQ0HhMRgBVEjBws2OIM9Cky1VU0REAhgK47nqWwHAkIYcB7ePHvXeo2cV1nG4uL6rjXjzXt951bbjQs/hQuyxEeFQaEGUgRohuYvQkhIfrBnlFyQoUla/qMye4qGxUqjhxTJIFPCOfamTewcOH2SkYCFVa21OLZrySygx+bV4B1xgBhA1DB0Bf/7MsQFAAfISyw1x4AxL4ssNzGAAigYRigH0YoI18mGQKOgZ+FY0UWnyRsLJgZYCShStOpdQYKdeV5/q9jbIDYPkLAYtiTETvrZLIYEb2u2uogAAAAAAhkChusjjbfkXleOGpiySKjhjUIlMla3JEsHQqgBs2ns50DIPtDIgjJE46JnUPRPPPOG5G8/yKxQADAZFTP1KgAAIX0AGkv/+zLEA4IIRJ9DPaUAMQuN5o2tmYqinck4ucZbhxEBHFls3WFfhr6dyvz3zgxEmEABChAREwQIwJRfc1jx6QHFWNNqQkrG5wvNNbdf1b//kxUACACHIGAlgmUgpccbebl+BkKCZXQyCAwpKkwRUzEk7AIAwgTBahUNNHisAuFoYmM12rXbbUJ2v5Cwa++fDf///+mgDERUoJgUemjg//swxAUDSExLJi3phxEQCmQBrbx0BkCOdSyG/xxiJyFwYUOAZiABRh0Zh64k8Pj7NAJTjWFStFgyvxBK5IhTLDstCt9Y/SAqpLqiYU1gRqYoIfCMbtwYtoG77YMaQdBGoPhoQOPIxjIsCrswBnOHTzqNAI9TIQEiAQc0oSX9JssKWBt5O9HJA8fEWBHxeXEQzXUAKsQAXwMjEM3O//syxAUCSDxVLM1lJzEbCWPFrmxBNqHM4RC+k5ZUzwUcEaSmKZZCdwJRBNZkJiwDdFN36YdSqdqUT6pYDZ5ScxSDVfZPSpL8M//b6NxDNtjDhTpxDmMDKQMMw1k08tNDTxrGMKLQxRDCMevDKlACBZi1WYsoiEOBwEwdI9e0vdBptNKZfgzJsVH29qtOpUET8k9v4mAAAExTEHgUKP/7MsQEggfQUyJNc0QA2AklmY2YpukjMG6N4KPFG4xmOjdBnIQqBgcbgGQGmcNGdaHtBQplqcsNdnbkroa0zXiUXxyr9wz/WF9usagQAkSHDHulGU3DjA44xIgQwADplHVAGUl7G/MbPAcXSMAgRGUSoN9OUp+zGuLf///V3//+ugKcCSTofFaj5oNcoyUgyJfAIDMwsQBGeEBQiGf/+zLEDgJHUD8UDOksQN6F39wxsAA60sBDGHr5bR5oZBEMkscKhnEIJPCh6j//////+n6AmBgKjhFZNEIgmCyGD2UQjAVEweC2peqxVyOIpL/WDXZ7cNcFTtQdJCEFQVGLPFgaUHJ6dhojDlVttOCJU4BB0qsXplV/tncqptv/p//+n//6abf////9QTTTTRVV9UEJK0kIixWmqoc///swxBiDxvgCi4CEYAgAADSAAAAE/1TTVEWK6UxBTUUzLjk5LjNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",pl=ne(S,Pn),Vl=oe.createLock(Pn),mt=new ee;let lo=!1;const ui=()=>{lo||(Vl(),lo=!0)},Al=a=>{mt.audioBufferProperty.value===null&&(mt.audioBufferProperty.set(a),ui())},gl=a=>{console.warn("decode of audio data failed, using stubbed sound, error: "+a),mt.audioBufferProperty.set(S.createBuffer(1,1,S.sampleRate)),ui()},uo=S.decodeAudioData(pl.buffer,Al,gl);uo&&uo.then(a=>{mt.audioBufferProperty.value===null&&(mt.audioBufferProperty.set(a),ui())}).catch(a=>{console.warn("promise rejection caught for audio decode, error = "+a),ui()});const wn=new te(mt,{soundClipOptions:{initialOutputLevel:.7},soundManagerOptions:{categoryName:"user-interface"}});Y.register("checkboxUncheckedSoundPlayer",wn);const ml={valueType:"boolean"},En=Sr(.025,0,0,0,-.025,0,0,0,1),ql=al.transformed(En),yl=ll.transformed(En);class Bn extends Qt(qt(T)){constructor(e,i,s){var h,p;const t=E()({spacing:5,boxWidth:21,checkboxColor:"black",checkboxColorBackground:"white",touchAreaXDilation:0,touchAreaYDilation:0,mouseAreaXDilation:0,mouseAreaYDilation:0,checkedSoundPlayer:Sn,uncheckedSoundPlayer:wn,phetioLinkProperty:!0,cursor:"pointer",disabledOpacity:Ae.DISABLED_OPACITY,tandem:L.REQUIRED,tandemNameSuffix:"Checkbox",phetioEventType:Ve.USER,visiblePropertyOptions:{phetioFeatured:!0},phetioEnabledPropertyInstrumented:!0,phetioReadOnly:pe.DEFAULT_OPTIONS.phetioReadOnly,phetioFeatured:!0,tagName:"input",inputType:"checkbox",appendDescription:!0,voicingCheckedObjectResponse:null,voicingUncheckedObjectResponse:null,checkedContextResponse:null,uncheckedContextResponse:null,voiceNameResponseOnSelection:!0},s);super(),this._isMouseAreaCustomized=!1,this._isTouchAreaCustomized=!1,this._isSettingAreas=!1;const o=new Ni(()=>{e.value=!e.value,Ko(e.value,ml),e.value?(t.checkedSoundPlayer.play(),t.checkedContextResponse&&this.alertDescriptionUtterance(t.checkedContextResponse),this.voicingSpeakResponse({nameResponse:t.voiceNameResponseOnSelection?this.voicingNameResponse:null,objectResponse:Le.alertableToText(t.voicingCheckedObjectResponse),contextResponse:Le.alertableToText(t.checkedContextResponse)})):(t.uncheckedSoundPlayer.play(),t.uncheckedContextResponse&&this.alertDescriptionUtterance(t.uncheckedContextResponse),this.voicingSpeakResponse({nameResponse:t.voiceNameResponseOnSelection?this.voicingNameResponse:null,objectResponse:Le.alertableToText(t.voicingUncheckedObjectResponse),contextResponse:Le.alertableToText(t.uncheckedContextResponse)}))},{parameters:[],tandem:t.tandem.createTandem("toggleAction"),phetioDocumentation:"Emits when user input causes the checkbox to toggle, emitting a single arg: the new boolean value of the checkbox state.",phetioReadOnly:!0,phetioEventType:Ve.USER});this.backgroundNode=new Q(0,-t.boxWidth,t.boxWidth*.95,t.boxWidth*.95,t.boxWidth*.2,t.boxWidth*.2,{fill:t.checkboxColorBackground}),this.uncheckedNode=new j(ql,{fill:t.checkboxColor});const r=t.boxWidth/this.uncheckedNode.width;this.uncheckedNode.scale(r),this.checkedNode=new j(yl,{scale:r,fill:t.checkboxColor});const n=new T({children:[this.backgroundNode,this.checkedNode,this.uncheckedNode]}),d=new Q({});this.children=[n,i,d],this.constraint=new fl(this,n,this.checkedNode,i,d,t),this.constraint.updateLayout(),i.pickable=!1,i.pdomVisible=!1;const u=new Yi({fire:()=>o.execute(),tandem:t.tandem.createTandem("fireListener")});this.addInputListener(u);const l=q=>{this.checkedNode.visible=q,this.uncheckedNode.visible=!q,this.pdomChecked=q};e.link(l),this.mutate(t),this.setExcludeLabelSiblingFromInput(),t.phetioLinkProperty&&this.addLinkedElement(e,{tandemName:"property"}),assert&&((p=(h=phet==null?void 0:phet.chipper)==null?void 0:h.queryParameters)!=null&&p.binder)&&G.registerDataURL("sun","Checkbox",this),this.disposeCheckbox=()=>{d.dispose(),this.backgroundNode.dispose(),this.uncheckedNode.dispose(),this.checkedNode.dispose(),n.dispose(),u.dispose(),e.hasListener(l)&&e.unlink(l),o.dispose()}}dispose(){this.constraint.dispose(),this.disposeCheckbox(),super.dispose()}setCheckboxColorBackground(e){this.backgroundNode.fill=e}set checkboxColorBackground(e){this.setCheckboxColorBackground(e)}get checkboxColorBackground(){return this.getCheckboxColorBackground()}getCheckboxColorBackground(){return this.backgroundNode.fill}setCheckboxColor(e){this.checkedNode.fill=this.uncheckedNode.fill=e}set checkboxColor(e){this.setCheckboxColor(e)}get checkboxColor(){return this.getCheckboxColor()}getCheckboxColor(){return this.checkedNode.fill}setMouseArea(e){return this._isSettingAreas||(this._isMouseAreaCustomized=!0),super.setMouseArea(e)}setTouchArea(e){return this._isSettingAreas||(this._isTouchAreaCustomized=!0),super.setTouchArea(e)}}class fl extends _e{constructor(e,i,s,t,o,r){super(e),this.checkbox=e,this.checkboxNode=i,this.checkedNode=s,this.content=t,this.rectangle=o,this.options=r,this.checkbox.localPreferredWidthProperty.lazyLink(this._updateLayoutListener),this.addNode(t)}layout(){super.layout();const e=this.createLayoutProxy(this.content),i=e.minimumWidth,s=this.checkedNode.right-this.checkboxNode.left,t=s+this.options.spacing+i,o=Math.max(t,this.checkbox.localPreferredWidth||0);we(this.content)&&this.checkbox.localPreferredWidth!==null&&(e.preferredWidth=o-s-this.options.spacing),e.left=this.checkedNode.right+this.options.spacing,e.centerY=this.checkedNode.centerY,this.rectangle.rectBounds=this.checkboxNode.bounds.union(e.bounds).withMaxX(Math.max(this.checkboxNode.left+o,e.right)),this.checkbox._isSettingAreas=!0,this.checkbox._isTouchAreaCustomized||(this.checkbox.touchArea=this.checkbox.localBounds.dilatedXY(this.options.touchAreaXDilation,this.options.touchAreaYDilation)),this.checkbox._isMouseAreaCustomized||(this.checkbox.mouseArea=this.checkbox.localBounds.dilatedXY(this.options.mouseAreaXDilation,this.options.mouseAreaYDilation)),this.checkbox._isSettingAreas=!1,e.dispose(),this.checkbox.localMinimumWidth=t}dispose(){this.checkbox.localPreferredWidthProperty.unlink(this._updateLayoutListener),super.dispose()}}B.register("Checkbox",Bn);class bl{constructor(e,i){this.touchThreshold=e,this.mouseThreshold=i,this.items=[]}addDraggableItem(e){this.items.push(e)}removeDraggableItem(e){const i=_.indexOf(this.items,e);assert&&assert(i>=0),this.items.splice(i,1)}down(e){if(e.target===e.currentTarget){let i=0;if(e.pointer.isTouchLike()&&(i=this.touchThreshold),e.pointer instanceof cr&&(i=this.mouseThreshold),i){let s=null,t=Number.POSITIVE_INFINITY;const o=e.pointer.point,r=this.items.length;for(let n=0;n<r;n++){const d=this.items[n],u=d.computeDistance(o);u<t&&(t=u,s=d)}s&&t<i&&s.startDrag(e)}}}}B.register("ClosestDragForwardingListener",bl);const kn="data:audio/mpeg;base64,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qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/+xDE1gPAAAGkAAAAIAAANIAAAASqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqv/7EMTWA8AAAaQAAAAgAAA0gAAABKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//sQxNYDwAABpAAAACAAADSAAAAEqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/+xDE1gPAAAGkAAAAIAAANIAAAASqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==",Sl=ne(S,kn),Pl=oe.createLock(kn),He=new ee;let ho=!1;const hi=()=>{ho||(Pl(),ho=!0)},wl=a=>{He.audioBufferProperty.value===null&&(He.audioBufferProperty.set(a),hi())},El=a=>{console.warn("decode of audio data failed, using stubbed sound, error: "+a),He.audioBufferProperty.set(S.createBuffer(1,1,S.sampleRate)),hi()},co=S.decodeAudioData(Sl.buffer,wl,El);co&&co.then(a=>{He.audioBufferProperty.value===null&&(He.audioBufferProperty.set(a),hi())}).catch(a=>{console.warn("promise rejection caught for audio decode, error = "+a),hi()});const Tn="data:audio/mpeg;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAAEAAAE/QCbm5ubm5ubm5ubm5ubm5ubm5ubm5ubm5vBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHB4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4P////////////////////////////////8AAAAUTEFNRTMuMTAwBJgAAAAAAAAAABUgJAXmQQABpAAABP2CPnqIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//ugxAAAAZABXJQAACjSBy/7MvJBlbA24AeHxx+Z+DJ48Acl/O7e/c+wAAAAAAAEggodS1KhDIMHY9Flj8OAaLhIDnqje9htgSxoj0q3Fksjnr007hUgBFiJkAAAAJRul9HpGarkErUNUSqvEO5RRnr0CYblhVBIAACITTDJN3xrY6pMQU1FMy4xMDCqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqpcJoKAAAAAArSgBAzM3OFUFV0GH4AAagOAQ5P8ZoVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sgxNoAw8QpV9zxgCg6A+w4kAkEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7EMTlgMI4H1/EgQggMYHqUBQYBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sQxNYDwAAB/gAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",Bl=ne(S,Tn),kl=oe.createLock(Tn),Qe=new ee;let po=!1;const ci=()=>{po||(kl(),po=!0)},Tl=a=>{Qe.audioBufferProperty.value===null&&(Qe.audioBufferProperty.set(a),ci())},Ll=a=>{console.warn("decode of audio data failed, using stubbed sound, error: "+a),Qe.audioBufferProperty.set(S.createBuffer(1,1,S.sampleRate)),ci()},Vo=S.decodeAudioData(Bl.buffer,Tl,Ll);Vo&&Vo.then(a=>{Qe.audioBufferProperty.value===null&&(Qe.audioBufferProperty.set(a),ci())}).catch(a=>{console.warn("promise rejection caught for audio decode, error = "+a),ci()});const us=new te(He,{soundClipOptions:{initialOutputLevel:.2},soundManagerOptions:{categoryName:"user-interface"}});Y.register("generalBoundaryBoopSoundPlayer",us);const hs=new te(Qe,{soundClipOptions:{initialOutputLevel:.2},soundManagerOptions:{categoryName:"user-interface"}});Y.register("generalSoftClickSoundPlayer",hs);const Ao=5,Cl=new te(He,{soundClipOptions:{initialOutputLevel:.2,initialPlaybackRate:1/Math.pow(2,1/6)},soundManagerOptions:{categoryName:"user-interface"}}),xl=new te(Qe,{soundClipOptions:{initialOutputLevel:.2,initialPlaybackRate:1/Math.pow(2,1/6)},soundManagerOptions:{categoryName:"user-interface"}}),Dl=a=>Z.roundToInterval(a,1e-9),Bt=()=>1,go=()=>{assert&&assert(!1,"Code error: This is a stubbed function and should never be invoked.")},Ne=class Ne extends Ki{constructor(e,i){const s=E()({middleMovingUpSoundPlayer:hs,middleMovingDownSoundPlayer:xl,middleMovingUpPlaybackRateMapper:Bt,middleMovingDownPlaybackRateMapper:Bt,numberOfMiddleThresholds:null,interThresholdDelta:null,constrainValue:Dl,minSoundPlayer:Cl,maxSoundPlayer:us,minimumInterMiddleSoundTime:.035},i);assert&&assert(s.minimumInterMiddleSoundTime>=0&&s.minimumInterMiddleSoundTime<1,`unreasonable value for minimumInterMiddleSoundTime: ${s.minimumInterMiddleSoundTime}`),assert&&assert(s.numberOfMiddleThresholds===null||s.interThresholdDelta===null,"cannot specify both the number of middle thresholds and the inter-threshold delta"),assert&&assert(s.numberOfMiddleThresholds===null||Number.isInteger(s.numberOfMiddleThresholds),"numberOfMiddleThresholds must be an integer if specified"),assert&&assert(s.middleMovingUpPlaybackRateMapper===Bt||s.middleMovingUpSoundPlayer instanceof Ft,"a sound player that supports playback rate changes is required when a playback rate mapper is used"),assert&&assert(s.middleMovingDownPlaybackRateMapper===Bt||s.middleMovingDownSoundPlayer instanceof Ft,"a sound player that supports playback rate changes is required when a playback rate mapper is used"),s.numberOfMiddleThresholds===null&&s.interThresholdDelta===null&&(s.numberOfMiddleThresholds=Ao),super(s),this.interThresholdDistance=Ao,this.valueRangeProperty=e instanceof ce?new ie(e):e,this.middleMovingUpSoundPlayer=s.middleMovingUpSoundPlayer,this.middleMovingDownSoundPlayer=s.middleMovingDownSoundPlayer,this.middleMovingUpPlaybackRateMapper=s.middleMovingUpPlaybackRateMapper,this.middleMovingDownPlaybackRateMapper=s.middleMovingDownPlaybackRateMapper,this.minSoundPlayer=s.minSoundPlayer,this.maxSoundPlayer=s.maxSoundPlayer,this.minimumInterMiddleSoundTime=s.minimumInterMiddleSoundTime,this.timeOfMostRecentMiddleSound=0,this.constrainValue=s.constrainValue;const t=o=>{s.numberOfMiddleThresholds!==null?this.interThresholdDistance=o.getLength()/(s.numberOfMiddleThresholds+1):s.interThresholdDelta!==null?this.interThresholdDistance=s.interThresholdDelta:(assert&&assert(!1,"should never get here, it is a logic error if we do"),this.interThresholdDistance=o.getLength()/2)};this.valueRangeProperty.link(t),this.disposeEmitter.addListener(()=>{this.valueRangeProperty.unlink(t)})}playSoundIfThresholdReached(e,i){if(e!==i){const s=this.constrainValue(e),t=this.constrainValue(i),o=this.getSurroundingThresholds(t),r=this.getSurroundingThresholds(s),n=o.length===1&&r.length===1&&Math.abs(o[0]-r[0])>this.interThresholdDistance||o.length===1&&r.length===2&&o[0]!==r[0]&&o[0]!==r[1]||o.length===2&&r.length===1&&r[0]!==o[0]&&r[0]!==o[1]||o.length===2&&r.length===2&&r[0]!==o[0],d=r.length===1&&(o.length===2||o[0]!==r[0]);(n||d||s===this.valueRangeProperty.value.min||s===this.valueRangeProperty.value.max)&&this.playSoundForValueChange(e,i)}}playSoundForValueChange(e,i){const s=this.constrainValue(e),t=this.constrainValue(i);if(s!==t||i!==e&&(e===this.valueRangeProperty.value.min||e===this.valueRangeProperty.value.max))if(e===this.valueRangeProperty.value.min&&this.minSoundPlayer!==Ne.USE_MIDDLE_SOUND)this.minSoundPlayer.play();else if(e===this.valueRangeProperty.value.max&&this.maxSoundPlayer!==Ne.USE_MIDDLE_SOUND)this.maxSoundPlayer.play();else{const o=S.currentTime;if(o-this.timeOfMostRecentMiddleSound>this.minimumInterMiddleSoundTime){let r,n;s>t?(r=this.middleMovingUpPlaybackRateMapper,n=this.middleMovingUpSoundPlayer):(r=this.middleMovingUpPlaybackRateMapper,n=this.middleMovingDownSoundPlayer),r!==Bt&&n.setPlaybackRate(r(e)),n.play(),this.timeOfMostRecentMiddleSound=o}}}getSurroundingThresholds(e){const s=Math.floor(Z.roundToInterval((e-this.valueRangeProperty.value.min)/this.interThresholdDistance,1e-7)),t=Z.roundToInterval(s*this.interThresholdDistance+this.valueRangeProperty.value.min,1e-7),o=[t];if(t!==e){const r=Math.min(Z.roundToInterval(t+this.interThresholdDistance,1e-7),this.valueRangeProperty.value.max);r>t&&o.push(r)}return o}};Ne.NO_SOUND=new Ne(new ce(0,1),{middleMovingUpSoundPlayer:Fe,minSoundPlayer:Fe,maxSoundPlayer:Fe}),Ne.USE_MIDDLE_SOUND={play:go,stop:go};let Pe=Ne;Y.register("ValueChangeSoundPlayer",Pe);const Ln="input",Ml=a=>`${a}`,Rl={withNameResponse:!1,withObjectResponse:!0,onlyOnValueChange:!0},mo=["startInput","endInput","onInput","constrainValue","keyboardStep","shiftKeyboardStep","pageKeyboardStep","ariaOrientation","panTargetNode","roundToStepSize","pdomMapPDOMValue","pdomMapValue","pdomRepeatEqualValueText","pdomCreateAriaValueText","pdomCreateContextResponseAlert","contextResponsePerValueChangeDelay","contextResponseMaxDelay","pdomDependencies","voicingOnEndResponseOptions"],fi=(a,e)=>{const i=Gi("AccessibleValueHandler",mo,class extends qt(a){constructor(...t){const o=t[e];assert&&assert(o,"providedOptions has required options"),assert&&assert(o.enabledRangeProperty,"enabledRangeProperty is a required option"),assert&&assert(o.valueProperty,"valueProperty is a required option"),assert&&o&&assert(!o.hasOwnProperty("tagName")||o.tagName===null,"AccessibleValueHandler sets its own tagName. Only provide tagName to clear accessible content from the PDOM"),assert&&o&&assert(!o.hasOwnProperty("inputType"),"AccessibleValueHandler sets its own inputType."),assert&&o&&o.roundToStepSize&&assert(o.keyboardStep,"rounding to keyboardStep, define appropriate keyboardStep to round to"),t[e]=E()({tagName:Ln,inputType:"range"},o),super(...t),this._startInput=_.noop,this._onInput=_.noop,this._endInput=_.noop,this._constrainValue=_.identity,this._pdomMapValue=_.identity,this._panTargetNode=null,this._ariaOrientation=se.HORIZONTAL,this._shiftKey=!1,this._pdomDependencies=[],this._oldValue=null,this._pdomCreateContextResponseAlert=null,this._contextResponseUtterance=new Le,this._timesValueTextChangedBeforeAlerting=0,this._contextResponsePerValueChangeDelay=700,this._contextResponseMaxDelay=1500,this._pdomInputHandled=!1,this._blockInput=!1,this._roundToStepSize=!1,this._rangeKeysDown={},this._pdomMapPDOMValue=_.identity,this._pdomCreateAriaValueText=Ml,this._dependenciesMultilink=null,this._pdomRepeatEqualValueText=!0,this._timesChangedBeforeAlerting=0,this._voicingOnEndResponseOptions=Rl,this._pdomPointer=null,Xi(this,["inputValue","setPDOMAttribute"]);const r=o.valueProperty,n=o.enabledRangeProperty;o.reverseAlternativeInput?this._valueProperty=new Jt(new Me(r),{bidirectional:!0,map:l=>n.value.max-l,inverseMap:l=>n.value.max-l}):this._valueProperty=r,this._enabledRangeProperty=n,this._pdomValueTextUpdateListener=this.invalidateAriaValueText.bind(this),this.keyboardStep=(n.get().max-n.get().min)/20,this.shiftKeyboardStep=(n.get().max-n.get().min)/100,this.pageKeyboardStep=(n.get().max-n.get().min)/10,this._valueOnStart=r.value,this.invalidatePDOMDependencies();const d=this.invalidateEnabledRange.bind(this);this._enabledRangeProperty.link(d);const u=this.invalidateValueProperty.bind(this);this._valueProperty.link(u),this._pdomPointerListener={interrupt:()=>{this._onInteractionEnd(null)}},this._disposeAccessibleValueHandler=()=>{this._enabledRangeProperty.unlink(d),this._valueProperty.unlink(u),o.reverseAlternativeInput&&(assert&&assert(this._valueProperty instanceof Jt,"Only a DynamicProperty can be disposed, otherwise this is disposing a Property that AccessibleValueHandler does not have ownership over."),this._valueProperty.dispose()),this._dependenciesMultilink&&this._dependenciesMultilink.dispose(),this._panTargetNode=null,this._pdomDependencies=[]}}set startInput(t){this._startInput=t}get startInput(){return this._startInput}set onInput(t){this._onInput=t}get onInput(){return this._onInput}set endInput(t){this._endInput=t}get endInput(){return this._endInput}set constrainValue(t){this._constrainValue=t}get constrainValue(){return this._constrainValue}set panTargetNode(t){this._panTargetNode=t}get panTargetNode(){return this._panTargetNode}set roundToStepSize(t){this._roundToStepSize=t}get roundToStepSize(){return this._roundToStepSize}set pdomMapPDOMValue(t){this._pdomMapPDOMValue=t,this.invalidateEnabledRange(this._enabledRangeProperty.value),this.invalidateValueProperty(),this.invalidateAriaValueText()}get pdomMapPDOMValue(){return this._pdomMapPDOMValue}set pdomMapValue(t){this._pdomMapValue=t}get pdomMapValue(){return this._pdomMapValue}set pdomRepeatEqualValueText(t){this._pdomRepeatEqualValueText=t,this.invalidateAriaValueText()}get pdomRepeatEqualValueText(){return this._pdomRepeatEqualValueText}set pdomCreateAriaValueText(t){this._pdomCreateAriaValueText=t,this.invalidateAriaValueText()}get pdomCreateAriaValueText(){return this._pdomCreateAriaValueText}set pdomCreateContextResponseAlert(t){this._pdomCreateContextResponseAlert=t}get pdomCreateContextResponseAlert(){return this._pdomCreateContextResponseAlert}set contextResponsePerValueChangeDelay(t){this._contextResponsePerValueChangeDelay=t}get contextResponsePerValueChangeDelay(){return this._contextResponsePerValueChangeDelay}set contextResponseMaxDelay(t){this._contextResponseMaxDelay=t}get contextResponseMaxDelay(){return this._contextResponseMaxDelay}set voicingOnEndResponseOptions(t){this._voicingOnEndResponseOptions=t}get voicingOnEndResponseOptions(){return this._voicingOnEndResponseOptions}invalidateAriaValueText(){this._updateAriaValueText(this._oldValue),this._oldValue=this._valueProperty.value}invalidateEnabledRange(t){const o=this._getMappedValue(t.min),r=this._getMappedValue(t.max);this.setPDOMAttribute("min",o),this.setPDOMAttribute("max",r),this._updateSiblingStepAttribute()}invalidateValueProperty(){const t=this._getMappedValue();this.setPDOMAttribute("aria-valuenow",t),this.inputValue=t}invalidatePDOMDependencies(){this._dependenciesMultilink&&this._dependenciesMultilink.dispose(),this._dependenciesMultilink=J.multilinkAny(this._pdomDependencies.concat([this._valueProperty]),this._pdomValueTextUpdateListener)}setPDOMDependencies(t){assert&&assert(!t.includes(this._valueProperty),"The value Property is already a dependency, and does not need to be added to this list"),this._pdomDependencies=t,this.invalidatePDOMDependencies()}getPDOMDependencies(){return this._pdomDependencies}set pdomDependencies(t){this.setPDOMDependencies(t)}get pdomDependencies(){return this.getPDOMDependencies()}_updateAriaValueText(t){const o=this._getMappedValue(),r=this._pdomCreateAriaValueText(o,this._valueProperty.value,t);let n=Bi.unwrapStringProperty(r);assert&&assert(typeof n=="string");const d="";this._pdomRepeatEqualValueText&&this.ariaValueText&&n===this.ariaValueText.replace(new RegExp(d,"g"),"")&&(n=this.ariaValueText+d),this.ariaValueText=n}alertContextResponse(){let t=!1;if(this._pdomCreateContextResponseAlert){const o=this._getMappedValue(),r=this._pdomCreateContextResponseAlert(o,this._valueProperty.value,this._valueOnStart);r&&(this._contextResponseUtterance.alert=r,this.forEachUtteranceQueue(n=>{t||(n.hasUtterance(this._contextResponseUtterance)?(t=!0,this._timesChangedBeforeAlerting++):this._timesChangedBeforeAlerting=1),this._contextResponseUtterance.alertStableDelay=Math.min(this._contextResponseMaxDelay,this._timesChangedBeforeAlerting*this._contextResponsePerValueChangeDelay),n.addToBack(this._contextResponseUtterance)}))}}reset(){this._pdomCreateAriaValueText.reset&&this._pdomCreateAriaValueText.reset(),this._pdomCreateContextResponseAlert&&this._pdomCreateContextResponseAlert.reset&&this._pdomCreateContextResponseAlert.reset(),this._timesChangedBeforeAlerting=0,this._updateAriaValueText(null)}_getMappedValue(t=this._valueProperty.value){return this._pdomMapPDOMValue(t)}getAccessibleValueHandlerInputListener(){return{keydown:this.handleKeyDown.bind(this),keyup:this.handleKeyUp.bind(this),input:this.handleInput.bind(this),change:this.handleChange.bind(this),blur:this.handleBlur.bind(this)}}handleKeyDown(t){const o=t.domEvent,r=O.getEventCode(o);if(r&&(this._shiftKey=o.shiftKey,O.isKeyEvent(o,O.KEY_TAB)&&(this._blockInput=!0),this.enabledProperty.get()&&O.isRangeKey(o)&&(o.preventDefault(),!o.metaKey))){t.pointer.reserveForKeyboardDrag();let n=!0;this._anyKeysDown()||this._onInteractionStart(t),this._rangeKeysDown[r]=!0;let d=this._valueProperty.get();if(O.isAnyKeyEvent(o,[O.KEY_END,O.KEY_HOME]))r===O.KEY_END?d=this._enabledRangeProperty.get().max:r===O.KEY_HOME&&(d=this._enabledRangeProperty.get().min);else{let p;r===O.KEY_PAGE_UP||r===O.KEY_PAGE_DOWN?(p=this.pageKeyboardStep,r===O.KEY_PAGE_UP?d=this._valueProperty.get()+p:r===O.KEY_PAGE_DOWN&&(d=this._valueProperty.get()-p)):O.isArrowKey(o)&&(p=o.shiftKey?this.shiftKeyboardStep:this.keyboardStep,n=!o.shiftKey,r===O.KEY_RIGHT_ARROW||r===O.KEY_UP_ARROW?d=this._valueProperty.get()+p:(r===O.KEY_LEFT_ARROW||r===O.KEY_DOWN_ARROW)&&(d=this._valueProperty.get()-p),this._roundToStepSize&&(d=qo(d,this._valueProperty.get(),p)))}const u=this._pdomMapValue(d,this._valueProperty.get());let l=u;n&&(l=this._constrainValue(u)),this._valueProperty.set(Z.clamp(l,this._enabledRangeProperty.get().min,this._enabledRangeProperty.get().max)),this._onInput(t);const h=this._panTargetNode||this;ws.initialized&&ws.listener.panToNode(h,!0,h.limitPanDirection)}}handleKeyUp(t){const o=O.getEventCode(t.domEvent);this._allKeysUp()||(O.SHIFT_KEYS.includes(o)&&(this._shiftKey=!1),this.enabledProperty.get()&&O.isRangeKey(t.domEvent)&&(this._rangeKeysDown[o]=!1,this._allKeysUp()&&this._onInteractionEnd(t)))}handleChange(t){this._pdomInputHandled||this.handleInput(t),this._pdomInputHandled=!1}handleInput(t){if(this.enabledProperty.get()&&!this._blockInput){this._pdomInputHandled=!0;let o=this._valueProperty.get();const r=parseFloat(t.domEvent.target.value),n=this._shiftKey?this.shiftKeyboardStep:this.keyboardStep,d=this._getMappedValue();this._onInteractionStart(t),r>d?o=this._valueProperty.get()+n:r<d&&(o=this._valueProperty.get()-n),this._roundToStepSize&&(o=qo(o,this._valueProperty.get(),n)),o=Z.clamp(o,this._enabledRangeProperty.get().min,this._enabledRangeProperty.get().max),this._valueProperty.set(this._constrainValue(this._pdomMapValue(o,this._valueProperty.get()))),this._onInput(t),this._onInteractionEnd(t)}this._blockInput=!1}handleBlur(t){this._anyKeysDown()&&this._onInteractionEnd(t),this._shiftKey=!1,this._blockInput=!1,this._rangeKeysDown={}}_onInteractionStart(t){assert&&assert(!this._pdomPointer,"Pointer should have been cleared and detached on end or interrupt."),this._pdomPointer=t.pointer,assert&&assert(this._pdomPointer.attachedListener!==this._pdomPointerListener,"This pointer listener was never removed!"),this._pdomPointer.addInputListener(this._pdomPointerListener,!0),this._valueOnStart=this._valueProperty.value,this._startInput(t)}_onInteractionEnd(t){this._pdomPointer&&(this.alertContextResponse(),this.voicingOnEndResponse(this._valueOnStart),this._endInput(t),assert&&assert(this._pdomPointer.attachedListener===this._pdomPointerListener,"pointer listener should be attached"),this._pdomPointer.removeInputListener(this._pdomPointerListener),this._pdomPointer=null)}setKeyboardStep(t){assert&&assert(t>=0,"keyboard step must be non-negative"),this._keyboardStep=t}set keyboardStep(t){this.setKeyboardStep(t)}get keyboardStep(){return this.getKeyboardStep()}getKeyboardStep(){return this._keyboardStep}setShiftKeyboardStep(t){assert&&assert(t>=0,"shift keyboard step must be non-negative"),this._shiftKeyboardStep=t}set shiftKeyboardStep(t){this.setShiftKeyboardStep(t)}get shiftKeyboardStep(){return this.getShiftKeyboardStep()}getShiftKeyboardStep(){return this._shiftKeyboardStep}getShiftKeyDown(){return this._shiftKey}get shiftKeyDown(){return this.getShiftKeyDown()}setPageKeyboardStep(t){assert&&assert(t>=0,"page keyboard step must be non-negative"),this._pageKeyboardStep=t}set pageKeyboardStep(t){this.setPageKeyboardStep(t)}get pageKeyboardStep(){return this.getPageKeyboardStep()}getPageKeyboardStep(){return this._pageKeyboardStep}setAriaOrientation(t){this._ariaOrientation=t,this.setPDOMAttribute("aria-orientation",t.ariaOrientation)}set ariaOrientation(t){this.setAriaOrientation(t)}get ariaOrientation(){return this._ariaOrientation}getAriaOrientation(){return this._ariaOrientation}_allKeysUp(){return _.every(this._rangeKeysDown,t=>!t)}_anyKeysDown(){return!!_.find(this._rangeKeysDown,t=>t)}_updateSiblingStepAttribute(){let t="any";if(kr.mobileSafari){const o=Math.min(this.keyboardStep,this.shiftKeyboardStep,this.pageKeyboardStep);t=Math.pow(10,-Z.numberOfDecimalPlaces(o));const r=this._getMappedValue(this._enabledRangeProperty.get().min),n=this._getMappedValue(this._enabledRangeProperty.get().max),d=n-r;t/d<1e-5&&(t=n/100,t=Number(t.toPrecision(8)))}this.setPDOMAttribute("step",t)}voicingOnEndResponse(t,o){const r=I({},this._voicingOnEndResponseOptions,o),n=t!==this._valueProperty.value,d=this._valueProperty.value===this._enabledRangeProperty.value.min||this._valueProperty.value===this._enabledRangeProperty.value.max,u=!!(r.withNameResponse&&this.voicingNameResponse)||!!(r.withObjectResponse&&this.voicingObjectResponse);(!r.onlyOnValueChange||d||n)&&u&&this.voicingSpeakFullResponse({nameResponse:r.withNameResponse?this.voicingNameResponse:null,objectResponse:r.withObjectResponse?this.voicingObjectResponse:null,hintResponse:null})}dispose(){this._disposeAccessibleValueHandler(),super.dispose()}});return i.prototype._mutatorKeys=mo.concat(i.prototype._mutatorKeys),assert&&assert(i.prototype._mutatorKeys.length===_.uniq(i.prototype._mutatorKeys).length,"duplicate mutator keys in AccessibleValueHandler"),i};B.register("AccessibleValueHandler",fi);const qo=function(a,e,i){let s=a;return i!==0&&(s=Z.roundSymmetric(s/i)*i,s=Ol(s,e,i)),s},Ol=function(a,e,i){let s=a;const t=Math.abs(a-e),o=t>i,r=Z.equalsEpsilon(t,i,1e-14);return o&&!r&&(s+=a>e?-i:i),s};fi.DEFAULT_TAG_NAME=Ln;const yo=["startDrag","drag","endDrag"],Cn=(a,e)=>{const i=Gi("AccessibleSlider",yo,class extends fi(a,e){constructor(...t){const o=t[e];assert&&o&&assert(Object.getPrototypeOf(o)===Object.prototype,"Extra prototype on AccessibleSlider options object is a code smell (or probably a bug)"),assert&&assert(o.startInput===void 0,"AccessibleSlider sets startInput through options.startDrag"),assert&&assert(o.endInput===void 0,"AccessibleSlider sets endInput through options.endDrag"),assert&&assert(o.onInput===void 0,"AccessibleSlider sets onInput through options.drag"),super(...t),this._startDrag=_.noop,this._drag=_.noop,this._endDrag=_.noop,Xi(this,["addInputListener","removeInputListener"]);const r=this.getAccessibleValueHandlerInputListener();this.addInputListener(r),this._disposeAccessibleSlider=()=>{this.removeInputListener(r)}}set startDrag(t){this._startDrag=t,this.startInput=t}get startDrag(){return this._startDrag}set drag(t){this._drag=t,this.onInput=t}get drag(){return this._drag}set endDrag(t){this._endDrag=t,this.endInput=t}get endDrag(){return this._endDrag}dispose(){this._disposeAccessibleSlider(),super.dispose()}});return i.prototype._mutatorKeys=yo.concat(i.prototype._mutatorKeys),assert&&assert(i.prototype._mutatorKeys.length===_.uniq(i.prototype._mutatorKeys).length,"duplicate mutator keys in AccessibleSlider"),i};B.register("AccessibleSlider",Cn);const Il="rgb( 50, 145, 184 )",vl="rgb( 71, 207, 255 )";class xn extends Q{constructor(e){const i=E()({size:new $(22,45),fillHighlighted:vl,centerLineStroke:"white",fill:Il,stroke:"black",lineWidth:1,tandem:L.REQUIRED,tandemNameSuffix:"ThumbNode"},e);i.cornerRadius===void 0&&(i.cornerRadius=.25*i.size.width),i.cachedPaints=[i.fill,i.fillHighlighted],super(0,0,i.size.width,i.size.height,i);const s=Q.bounds(this.bounds.dilated(5),{fill:"transparent",localBounds:this.bounds,pickable:!1});this.addChild(s);const t=3;this.addChild(new j(N.lineSegment(i.size.width/2,t,i.size.width/2,i.size.height-t),{stroke:i.centerLineStroke}));const o=new We({attach:!1,tandem:L.OPT_OUT});o.isHighlightedProperty.link(r=>{this.fill=r?i.fillHighlighted:i.fill}),this.addInputListener(o)}}B.register("SliderThumb",xn);class Dn{constructor(e,i,s,t,o,r,n,d,u){this.parent=e,this.value=i,this.label=s,this.labelXProperty=new U([u.valueToPositionProperty],h=>h.evaluate(i)),this.tickNode=new T,e.addChild(this.tickNode);const l=new j(new N().moveTo(0,u.top).lineTo(0,u.top-t),{stroke:o,lineWidth:r});this.labelXProperty.link(h=>{l.x=h}),this.tickNode.addChild(l),s&&(this.labelContainer=new T({pickable:!1}),this.tickNode.addChild(this.labelContainer),this.labelContainer.addChild(s),d===se.VERTICAL&&(this.labelContainer.rotation=-he.SLIDER_VERTICAL_ROTATION),this.labelManualConstraint=Hi.create(this.tickNode,[l,this.labelContainer],(h,p)=>{p.centerX=h.centerX,p.bottom=h.top-n.tickLabelSpacing}))}dispose(){this.parent.removeChild(this.tickNode),this.labelContainer&&this.labelContainer.dispose(),this.labelXProperty.dispose(),this.labelManualConstraint&&this.labelManualConstraint.dispose()}}B.register("SliderTick",Dn);const Nl=new $(100,5),Fl=new $(17,34),le=class le extends Ai(Cn(T,0)){constructor(e,i,s){var b,w;assert&&ki(s,["thumbNode"],["thumbSize","thumbFill","thumbFillHighlighted","thumbStroke","thumbLineWidth","thumbCenterLineStroke","thumbTouchAreaXDilation","thumbTouchAreaYDilation","thumbMouseAreaXDilation","thumbMouseAreaYDilation"]),assert&&ki(s,["trackNode"],["trackSize","trackFillEnabled","trackFillDisabled","trackStroke","trackLineWidth","trackCornerRadius"]);const t=E()({orientation:se.HORIZONTAL,trackNode:null,trackSize:null,trackFillEnabled:"white",trackFillDisabled:"gray",trackStroke:"black",trackLineWidth:1,trackCornerRadius:0,trackPickable:!0,thumbNode:null,thumbSize:null,thumbFill:"rgb(50,145,184)",thumbFillHighlighted:"rgb(71,207,255)",thumbStroke:"black",thumbLineWidth:1,thumbCenterLineStroke:"white",thumbTouchAreaXDilation:11,thumbTouchAreaYDilation:11,thumbMouseAreaXDilation:0,thumbMouseAreaYDilation:0,thumbYOffset:0,tickLabelSpacing:6,majorTickLength:25,majorTickStroke:"black",majorTickLineWidth:1,minorTickLength:10,minorTickStroke:"black",minorTickLineWidth:1,cursor:"pointer",startDrag:_.noop,drag:_.noop,endDrag:_.noop,constrainValue:_.identity,disabledOpacity:Ae.DISABLED_OPACITY,soundGenerator:le.DEFAULT_SOUND_GENERATOR,valueChangeSoundGeneratorOptions:{},phetioLinkedProperty:null,tandem:L.REQUIRED,tandemNameSuffix:"Slider",phetioType:le.SliderIO,phetioFeatured:!0,visiblePropertyOptions:{phetioFeatured:!0},phetioEnabledPropertyInstrumented:!0},s),o=i instanceof ce?new ie(i):i;if(assert&&assert(t.soundGenerator===le.DEFAULT_SOUND_GENERATOR||_.isEmpty(t.valueChangeSoundGeneratorOptions),"options should only be supplied when using default sound generator"),t.soundGenerator===le.DEFAULT_SOUND_GENERATOR?t.soundGenerator=new Pe(o.value,t.valueChangeSoundGeneratorOptions||{}):t.soundGenerator===null&&(t.soundGenerator=Pe.NO_SOUND),t.soundGenerator!==Pe.NO_SOUND){let f=e.value;const k=t.drag;t.drag=D=>{D.isFromPDOM()?t.soundGenerator.playSoundForValueChange(e.value,f):t.soundGenerator.playSoundIfThresholdReached(e.value,f),k(D),f=e.value}}t.orientation===se.VERTICAL&&(t.trackSize&&(t.trackSize=t.trackSize.swapped()),t.thumbSize&&(t.thumbSize=t.thumbSize.swapped()),Ls(t,"thumbTouchAreaXDilation","thumbTouchAreaYDilation"),Ls(t,"thumbMouseAreaXDilation","thumbMouseAreaYDilation")),t.trackSize=t.trackSize||Nl,t.thumbSize=t.thumbSize||Fl;const r=t.tandem.createTandem(le.THUMB_NODE_TANDEM_NAME);L.VALIDATION&&t.thumbNode&&assert&&assert(t.thumbNode.tandem.equals(r),`Passed-in thumbNode must have the correct tandem. Expected: ${r.phetioID}, actual: ${t.thumbNode.tandem.phetioID}`);const n=t.thumbNode||new xn({size:t.thumbSize,fill:t.thumbFill,fillHighlighted:t.thumbFillHighlighted,stroke:t.thumbStroke,lineWidth:t.thumbLineWidth,centerLineStroke:t.thumbCenterLineStroke,tandem:r}),d=!t.enabledRangeProperty,u=_.pick(t,T.REQUIRES_BOUNDS_OPTION_KEYS),l=I({ariaOrientation:t.orientation,valueProperty:e,panTargetNode:n,enabledRangeProperty:t.enabledRangeProperty||(i instanceof ce?new Me(i,{valueType:ce,isValidValue:f=>f.min>=i.min&&f.max<=i.max,tandem:t.tandem.createTandem("enabledRangeProperty"),phetioValueType:ce.RangeIO,phetioDocumentation:"Sliders support two ranges: the outer range which specifies the min and max of the track and the enabledRangeProperty, which determines how low and high the thumb can be dragged within the track."}):i)},t);super(l),this.ticks=Ii(),this.proposedValue=null,this.orientation=l.orientation,this.enabledRangeProperty=l.enabledRangeProperty,this.tickOptions=_.pick(t,"tickLabelSpacing","majorTickLength","majorTickStroke","majorTickLineWidth","minorTickLength","minorTickStroke","minorTickLineWidth");const h=[];this.majorTicksParent=new T,this.minorTicksParent=new T,h.push(this.majorTicksParent),h.push(this.minorTicksParent);const p=t.tandem.createTandem(le.TRACK_NODE_TANDEM_NAME);L.VALIDATION&&t.trackNode&&assert&&assert(t.trackNode.tandem.equals(p),`Passed-in trackNode must have the correct tandem. Expected: ${p.phetioID}, actual: ${t.trackNode.tandem.phetioID}`);const q=new T;h.push(q),assert&&assert(l.trackSize,"trackSize should not be null"),this.track=t.trackNode||new Rn(e,i,{size:l.trackSize,fillEnabled:l.trackFillEnabled,fillDisabled:l.trackFillDisabled,stroke:l.trackStroke,lineWidth:l.trackLineWidth,cornerRadius:l.trackCornerRadius,startDrag:l.startDrag,drag:l.drag,endDrag:l.endDrag,constrainValue:l.constrainValue,enabledRangeProperty:this.enabledRangeProperty,soundGenerator:t.soundGenerator,pickable:l.trackPickable,voicingOnEndResponse:this.voicingOnEndResponse.bind(this),tandem:p}),h.push(this.track),n.setCenterY(this.track.centerY+t.thumbYOffset),h.push(n);const V=new T({children:h});t.orientation===se.VERTICAL&&(V.rotation=he.SLIDER_VERTICAL_ROTATION),this.addChild(V),!t.thumbNode&&(t.thumbTouchAreaXDilation||t.thumbTouchAreaYDilation)&&(n.touchArea=n.localBounds.dilatedXY(t.thumbTouchAreaXDilation,t.thumbTouchAreaYDilation)),!t.thumbNode&&(t.thumbMouseAreaXDilation||t.thumbMouseAreaYDilation)&&(n.mouseArea=n.localBounds.dilatedXY(t.thumbMouseAreaXDilation,t.thumbMouseAreaYDilation));let m=0,A=e.value;const c=new Fi({tandem:n.tandem.createTandem("dragListener"),start:(f,k)=>{this.enabledProperty.get()&&(A=e.value,t.startDrag(f),m=k.pressedTrail.subtrailTo(V).getTransform().inversePosition2(f.pointer.point).x-n.centerX)},drag:(f,k)=>{if(this.enabledProperty.get()){const M=k.pressedTrail.subtrailTo(V).getTransform().inversePosition2(f.pointer.point).x-m;this.proposedValue=this.track.valueToPositionProperty.value.inverse(M);const v=this.enabledRangeProperty.get().constrainValue(this.proposedValue);e.set(t.constrainValue(v)),t.drag(f)}},end:f=>{this.enabledProperty.get()&&(t.endDrag(f),this.voicingOnEndResponse(A)),this.proposedValue=null}});n.addInputListener(c),this.thumbDragListener=c,this.trackDragListener=this.track.dragListener;const g=J.multilink([e,this.track.valueToPositionProperty],(f,k)=>{n.centerX=k.evaluate(f)}),P=f=>{if(!e.isPhetioInstrumented()||!vi.value)if(this.proposedValue===null)e.set(Z.clamp(e.value,f.min,f.max));else{const k=Z.clamp(this.proposedValue,f.min,f.max),D=t.constrainValue(k);e.set(D)}};this.enabledRangeProperty.link(P);const C=new Ul(this,this.track,n,V,t.orientation,q,this.ticks);this.disposeSlider=()=>{C.dispose(),n.dispose&&n.dispose(),this.track.dispose&&this.track.dispose(),d?this.enabledRangeProperty.dispose():this.enabledRangeProperty.unlink(P),g.dispose(),c.dispose()},this.focusHighlight=new jt(n),assert&&L.VALIDATION&&assert(!t.phetioLinkedProperty||t.phetioLinkedProperty.isPhetioInstrumented(),"If provided, phetioLinkedProperty should be PhET-iO instrumented");const y=t.phetioLinkedProperty||(e instanceof ks?e:null);y&&this.addLinkedElement(y,{tandemName:"valueProperty"}),!d&&this.enabledRangeProperty instanceof ks&&this.addLinkedElement(this.enabledRangeProperty,{tandemName:"enabledRangeProperty"}),this.mutate(u),assert&&((w=(b=phet==null?void 0:phet.chipper)==null?void 0:b.queryParameters)!=null&&w.binder)&&G.registerDataURL("sun","Slider",this)}get majorTicksVisible(){return this.getMajorTicksVisible()}set majorTicksVisible(e){this.setMajorTicksVisible(e)}get minorTicksVisible(){return this.getMinorTicksVisible()}set minorTicksVisible(e){this.setMinorTicksVisible(e)}dispose(){this.disposeSlider(),this.ticks.forEach(e=>{e.dispose()}),super.dispose()}addMajorTick(e,i){this.addTick(this.majorTicksParent,e,i,this.tickOptions.majorTickLength,this.tickOptions.majorTickStroke,this.tickOptions.majorTickLineWidth)}addMinorTick(e,i){this.addTick(this.minorTicksParent,e,i,this.tickOptions.minorTickLength,this.tickOptions.minorTickStroke,this.tickOptions.minorTickLineWidth)}addTick(e,i,s,t,o,r){this.ticks.push(new Dn(e,i,s,t,o,r,this.tickOptions,this.orientation,this.track))}setMajorTicksVisible(e){this.majorTicksParent.visible=e}getMajorTicksVisible(){return this.majorTicksParent.visible}setMinorTicksVisible(e){this.minorTicksParent.visible=e}getMinorTicksVisible(){return this.minorTicksParent.visible}};le.DEFAULT_SOUND_GENERATOR=new Pe(new ce(0,1)),le.THUMB_NODE_TANDEM_NAME="thumbNode",le.TRACK_NODE_TANDEM_NAME="trackNode",le.SliderIO=new xe("SliderIO",{valueType:le,documentation:"A traditional slider component, with a knob and possibly tick marks",supertype:T.NodeIO});let Ge=le;class Ul extends _e{constructor(e,i,s,t,o,r,n){super(e),this.slider=e,this.track=i,this.thumb=s,this.sliderPartsNode=t,this.orientation=o,this.trackSpacer=r,this.ticks=n,o===se.HORIZONTAL?(e.heightSizable=!1,this.preferredProperty=this.slider.localPreferredWidthProperty):(e.widthSizable=!1,this.preferredProperty=this.slider.localPreferredHeightProperty),this.preferredProperty.lazyLink(this._updateLayoutListener),this.track.rangeProperty.lazyLink(this._updateLayoutListener),this.thumb.localBoundsProperty.lazyLink(this._updateLayoutListener);const d=u=>{u.tickNode.localBoundsProperty.lazyLink(this._updateLayoutListener),n.addItemRemovedListener(l=>{l===u&&l.tickNode.localBoundsProperty.hasListener(this._updateLayoutListener)&&u.tickNode.localBoundsProperty.unlink(this._updateLayoutListener)})};n.addItemAddedListener(d),this.addNode(i),this.layout(),this.disposeSliderConstraint=()=>{n.removeItemAddedListener(d),this.preferredProperty.unlink(this._updateLayoutListener),this.track.rangeProperty.unlink(this._updateLayoutListener),this.thumb.localBoundsProperty.unlink(this._updateLayoutListener)}}layout(){super.layout();const e=this.slider,i=this.track,s=this.thumb;this.trackSpacer.localBounds=i.localBounds.dilatedX(s.width/2),assert&&assert(i.minimumWidth!==null);const t=i.leftVisualOverflow+i.rightVisualOverflow,o=i.minimumWidth,r=o-t,n=p=>Z.linear(i.rangeProperty.value.min,i.rangeProperty.value.max,0,1,p),d=-s.width/2-i.leftVisualOverflow,u=s.width/2-i.leftVisualOverflow,l=new ce(d,o+u);if(this.ticks.forEach(p=>{const q=r*n(p.value),V=p.tickNode.width/2;l.includeRange(new ce(-V,V).shifted(q))}),e.widthSizable&&this.preferredProperty.value!==null){const p=Xe.max(Xe.linear(1,u),...this.ticks.map(V=>{const m=n(V.value);return Xe.linear(m,V.tickNode.width/2-t*m)})).minus(Xe.min(Xe.constant(d),...this.ticks.map(V=>{const m=n(V.value);return Xe.linear(m,-V.tickNode.width/2-t*m)}))),q=p.withXValues([o-1,o,...p.points.map(V=>V.x).filter(V=>V>o+1e-10)]).inverted();i.preferredWidth=Math.max(o,q.evaluate(this.preferredProperty.value))}else i.preferredWidth=i.minimumWidth;const h=l.getLength();this.orientation===se.HORIZONTAL?e.localMinimumWidth=h:e.localMinimumHeight=h}dispose(){this.disposeSliderConstraint(),super.dispose()}}B.register("Slider",Ge);class Mn extends Qt(T){constructor(e,i,s,t){super(),this.rangeProperty=s instanceof ce?new ie(s):s;const o=E()({size:new $(100,5),startDrag:_.noop,drag:_.noop,endDrag:_.noop,constrainValue:_.identity,enabledRangeProperty:this.rangeProperty,soundGenerator:Ge.DEFAULT_SOUND_GENERATOR,valueChangeSoundGeneratorOptions:{},voicingOnEndResponse:_.noop,leftVisualOverflow:0,rightVisualOverflow:0,tandem:L.REQUIRED,tandemNameSuffix:"TrackNode"},t);o.soundGenerator===Ge.DEFAULT_SOUND_GENERATOR?o.soundGenerator=new Pe(this.rangeProperty.value,o.valueChangeSoundGeneratorOptions||{}):o.soundGenerator===null&&(o.soundGenerator=Pe.NO_SOUND),this.leftVisualOverflow=o.leftVisualOverflow,this.rightVisualOverflow=o.rightVisualOverflow,this.minimumSize=o.size,this.minimumWidth=this.minimumSize.width,this.internalWidthProperty=new U([this.localPreferredWidthProperty],d=>(d===null?this.minimumSize.width:Math.max(this.minimumSize.width,d))-o.leftVisualOverflow-o.rightVisualOverflow),this.sizeProperty=new U([this.internalWidthProperty],d=>new $(d,this.minimumSize.height)),this.valueToPositionProperty=new U([this.rangeProperty,this.internalWidthProperty],(d,u)=>new Pr(d.min,d.max,0,u,!0));const r=(d,u)=>{const l=e.value,p=u.subtrailTo(this).getTransform().inversePosition2(d.pointer.point).x,q=this.valueToPositionProperty.value.inverse(p),V=o.enabledRangeProperty.value.constrainValue(q),m=o.constrainValue(V);e.set(m),d.type==="down"&&o.soundGenerator.playSoundIfThresholdReached(m,l)};this.addChild(i);let n=e.value;this.dragListener=new Fi({tandem:o.tandem.createTandem("dragListener"),start:(d,u)=>{o.startDrag(d),n=e.value,r(d,u.pressedTrail)},drag:(d,u)=>{o.drag(d),r(d,u.pressedTrail)},end:d=>{o.endDrag(d),o.voicingOnEndResponse(n)}}),i.addInputListener(this.dragListener),this.mutate(o),this.disposeSliderTrack=()=>{i.removeInputListener(this.dragListener),this.dragListener.dispose()}}dispose(){this.disposeSliderTrack(),super.dispose()}}B.register("SliderTrack",Mn);class Rn extends Mn{constructor(e,i,s){const t=E()({fillEnabled:"white",fillDisabled:"gray",stroke:"black",lineWidth:1,cornerRadius:0},s),o=new Q({fill:t.fillDisabled,stroke:t.stroke,lineWidth:t.lineWidth,cornerRadius:t.cornerRadius,cursor:"default",pickable:!1}),r=new Q({fill:t.fillEnabled,stroke:t.stroke,lineWidth:t.lineWidth,cornerRadius:t.cornerRadius}),n=new T({children:[o,r]});super(e,n,i,I({leftVisualOverflow:t.stroke!==null?t.lineWidth/2:0,rightVisualOverflow:t.stroke!==null?t.lineWidth/2:0},t));const d=J.multilink([t.enabledRangeProperty,this.valueToPositionProperty,this.sizeProperty],(u,l,h)=>{const p=l.evaluate(u.min),q=l.evaluate(u.max);o.setRect(0,0,h.width,h.height),r.setRect(p,0,q-p,h.height)});this.disposeDefaultSliderTrack=()=>{d.dispose()}}dispose(){this.disposeDefaultSliderTrack(),super.dispose()}}B.register("DefaultSliderTrack",Rn);const ge=new yt("sceneryPhet"),On=new yt("chipper"),In=new yt("joist");assert&&assert(phet.chipper.locale,"phet.chipper.locale global expected");assert&&assert(phet.chipper.localeData,"phet.chipper.localeData global expected");assert&&assert(phet.chipper.strings,"phet.chipper.strings global expected");const Tt=_.sortBy(Object.keys(phet.chipper.strings),a=>st.localeToLocalizedName(a).toLowerCase());class Wl extends Me{constructor(){super(...arguments),this.availableRuntimeLocales=Tt}unguardedSet(e){super.unguardedSet(phet.chipper.checkAndRemapLocale(e,!0))}toStateObject(){const e=super.toStateObject();return e.validValues=this.availableRuntimeLocales,e}applyState(e){e.validValues=null,super.applyState(e)}}const xt=new Wl(phet.chipper.locale,{tandem:L.GENERAL_MODEL.createTandem("localeProperty"),phetioFeatured:!0,phetioValueType:Ji,phetioDocumentation:"Specifies language currently displayed in the simulation"});var Mo,Ro;if((Ro=(Mo=phet==null?void 0:phet.chipper)==null?void 0:Mo.queryParameters)!=null&&Ro.keyboardLocaleSwitcher){const a=O.KEY_I,e=O.KEY_U;pr.keydownEmitter.addListener(i=>{const s=t=>{i.preventDefault();const r=(Tt.indexOf(xt.value)+t+Tt.length)%Tt.length;xt.value=Tt[r],console.log(xt.value)};i.ctrlKey&&!i.shiftKey&&!i.metaKey&&!i.altKey&&(O.isKeyEvent(i,a)?s(1):O.isKeyEvent(i,e)&&s(-1))})}In.register("localeProperty",xt);class vn extends Jt{constructor(e,i,s){const t=s&&typeof s.phetioReadOnly=="boolean"?s.phetioReadOnly:Ts.PHET_IO_OBJECT_METADATA_DEFAULTS.phetioReadOnly,o=s&&typeof s.phetioFeatured=="boolean"?s.phetioFeatured:!0,r=s&&typeof s.phetioDocumentation=="string"?s.phetioDocumentation:Ts.PHET_IO_OBJECT_METADATA_DEFAULTS.phetioDocumentation;super(xt,{derive:n=>e.getLocaleSpecificProperty(n),bidirectional:!0,phetioValueType:Ji,phetioState:!1,tandem:i,phetioFeatured:o,phetioReadOnly:t,phetioDocumentation:r}),this.localizedString=e}get stringKey(){return this.localizedString.stringKey}}On.register("LocalizedStringProperty",vn);const Yl="en",Nn=phet.chipper.localeData;assert&&assert(Nn,"localeData expected but global has not been set");class Fn{constructor(e,i,s,t){this.stringKey=e,this.localeToTranslationMap=i,this.localePropertyMap=new Map,this.initialValues={},this.property=new vn(this,s,t),Ue.push(this)}getStateDelta(){const e={};return this.usedLocales.forEach(i=>{const s=this.initialValues[i],t=this.getLocaleSpecificProperty(i).value;t!==s&&(e[i]=t)}),e}setStateDelta(e){Object.keys(e).forEach(i=>this.getLocaleSpecificProperty(i)),this.usedLocales.forEach(i=>{const s=this.getLocaleSpecificProperty(i),t=this.initialValues[i];assert&&assert(t!==void 0);const o=e[i]!==void 0?e[i]:null;s.value=o??t})}get usedLocales(){return[...this.localePropertyMap.keys()]}getLocaleSpecificProperty(e){if(!this.localePropertyMap.has(e)){const i=[e,...Nn[e].fallbackLocales||[],Yl];let s=null;for(const t of i)if(this.localeToTranslationMap[t]!==void 0){s=this.localeToTranslationMap[t];break}assert&&assert(s!==void 0,"no initial value found for",e),this.initialValues[e]=s,this.localePropertyMap.set(e,new ie(s))}return this.localePropertyMap.get(e)}dispose(){this.property.dispose(),Go(Ue,this)}restoreInitialValue(e){assert&&assert(typeof this.initialValues[e]=="string","initial value expected for",e),this.property.value=this.initialValues[e]}}On.register("LocalizedString",Fn);const fo="en",Ue=[];self.phet.chipper.localizedStrings=Ue;self.phet.chipper.setAllStrings=a=>{Ue.forEach(e=>{e.property.value=a})};const Hl=a=>a.replace(/(?:[-_\s]\w)/g,e=>e[1].toUpperCase()),Ql=new xe("StringStateIO",{valueType:pe,toStateObject:()=>{const a={};return Ue.forEach(e=>{const i=e.getStateDelta();Object.keys(i).length>0&&(a[e.property.tandem.phetioID]=i)}),{data:a}},stateSchema:{data:Vr},applyState:(a,e)=>{Object.keys(e.data).forEach(i=>{if(!Ue.find(t=>t.property.tandem.phetioID===i))throw new Ar}),Ue.forEach(i=>{i.setStateDelta(e.data[i.property.tandem.phetioID]||{})})}});pe.create({phetioType:Ql,tandem:L.GENERAL_MODEL.createTandem("stringsState"),phetioDocumentation:"Strings that have changed from their initial values. Each string value is specific to the locale it changed in.",phetioState:!0});const Un=a=>{assert&&assert(typeof phet.chipper.locale=="string","phet.chipper.locale should have been loaded by now"),assert&&assert(Object.keys(phet.chipper.localeData).includes(phet.chipper.locale),`phet.chipper.locale:${phet.chipper.locale} is not in localeData`),assert&&assert(phet.chipper.strings,"phet.chipper.strings should have been loaded by now");const e=`${a}/`;let i=Object.keys(phet.chipper.strings[fo]).filter(t=>t.startsWith(e));phet.chipper.usedStringsEN&&(i=i.filter(t=>phet.chipper.usedStringsEN.hasOwnProperty(t)));const s={};return i.forEach(t=>{const r=t.slice(e.length).split("."),n=r[r.length-1],d=r.slice(0,r.length-1);let u=s,l=e;if(d.forEach((h,p)=>{l+=`${p>0?".":""}${h}`,assert&&assert(typeof u[h]!="string",`It is not allowed to have two different string keys where one is extended by adding a period (.) at the end of the other. The string key ${l} is extended by ${t} in this case, and should be changed.`),u[h]||(u[h]={}),u=u[h]}),assert&&assert(typeof u[n]!="object",`It is not allowed to have two different string keys where one is extended by adding a period (.) at the end of the other. The string key ${t} is extended by another key, something containing ${u[n]&&Object.keys(u[n])}.`),assert&&assert(!u[n],`We should not have defined this place in the object (${t}), otherwise it means a duplicated string key OR extended string key`),typeof u!="string"){let h=L.STRINGS.createTandem(_.camelCase(a));for(let V=0;V<r.length;V++){let m=Hl(r[V]);if(V===r.length-1){let A=m,c=0,g=!0;for(;g;)c++,A=`${m}${c===1?"":c}StringProperty`,g=h.hasChild(A);m=A}h=h.createTandem(m)}h.phetioID.includes(".a11y.")&&(h=L.OPT_OUT);const p={};Object.keys(phet.chipper.strings).forEach(V=>{const m=phet.chipper.strings[V][t];(V===fo||typeof m=="string"&&m!=="")&&(p[V]=phet.chipper.mapString(m))});const q=new Fn(t,p,h,phet.chipper.stringMetadata[t]);u[`${n}StringProperty`]=q.property,q.property.link(V=>{u[n]=V})}}),s},Ce=Un("SCENERY_PHET");ge.register("SceneryPhetStrings",Ce);class cs extends T{constructor(e,i){super(E()({containerTagName:"section",tagName:"div",labelContent:e,labelTagName:"h2"},i))}}ge.register("PDOMSectionNode",cs);class Wn extends cs{constructor(e){super(Ce.a11y.simSection.controlAreaStringProperty,e)}}ge.register("ControlAreaNode",Wn);class Yn extends cs{constructor(e){super(Ce.a11y.simSection.playAreaStringProperty,e)}}ge.register("PlayAreaNode",Yn);class Hn extends T{constructor(){super(),this.openingSummaryNode=new T({tagName:"p"});const e=new T({tagName:"p",innerContent:Ce.a11y.simSection.screenSummary.keyboardShortcutsHintStringProperty});this.addChild(this.openingSummaryNode),this.addChild(e),this.pdomOrder=[this.openingSummaryNode,null,e]}setIntroString(e,i,s){this.openingSummaryNode.innerContent=s&&i?st.fillIn(Ce.a11y.simSection.screenSummary.multiScreenIntroStringProperty,{screen:i}):st.fillIn(Ce.a11y.simSection.screenSummary.singleScreenIntroPatternStringProperty,{sim:e})}}ge.register("ScreenSummaryNode",Hn);const bo=new ji(0,0,1024,618),et=class et extends T{constructor(e){const i=E()({layoutBounds:bo.copy(),layerSplit:!0,excludeInvisible:!0,tandem:L.REQUIRED,visiblePropertyOptions:{phetioState:!1,phetioReadOnly:!0},containerTagName:"article",tagName:"div",screenSummaryContent:null,includePDOMNodes:!0},e);super(i),this._screenSummaryContent=null,assert&&this.isPhetioInstrumented()&&assert&&assert(i.tandem.name==="view","tandem name should be view"),this.layoutBounds=i.layoutBounds,this.visibleBoundsProperty=new Me(i.layoutBounds),this.pdomTitleNode=new T({tagName:"h1",focusHighlight:"invisible"}),this.pdomPlayAreaNode=new Yn,this.pdomControlAreaNode=new Wn,this.pdomScreenSummaryNode=new Hn,i.screenSummaryContent&&this.setScreenSummaryContent(i.screenSummaryContent),this.visibleProperty.lazyLink(s=>{s?(assert&&assert(!this.pdomTitleNode.focusable,"about to set to be focusable"),this.pdomTitleNode.focusable=!0,this.pdomTitleNode.focus()):this.pdomTitleNode.focusable=!1}),this.pdomTitleNode.addInputListener({blur:()=>{this.pdomTitleNode.focusable=!1}}),this.pdomParentNode=new T({children:i.includePDOMNodes?[this.pdomTitleNode,this.pdomScreenSummaryNode,this.pdomControlAreaNode,this.pdomPlayAreaNode]:[this.pdomTitleNode]}),this.addChild(this.pdomParentNode),this.pdomParentNode.pdomOrder=i.includePDOMNodes?[this.pdomTitleNode,this.pdomScreenSummaryNode,this.pdomPlayAreaNode,this.pdomControlAreaNode]:[this.pdomTitleNode]}setPDOMOrder(e){throw new Error("Do not set the pdomOrder on ScreenView directly. Order Nodes under the `pdomScreenSummaryNode, pdomPlayAreaNode, and pdomControlAreaNode instead. This ensures that sims have a consistent heading structure and content is under those sections which is important for screen reader accessibility.")}setChildren(e){return T.prototype.setChildren.call(this,e),this.pdomParentNode&&!this.hasChild(this.pdomParentNode)&&(this.addChild(this.pdomParentNode),this.pdomParentNode.moveToBack()),this}getLayoutScale(e){return et.getLayoutScale(this.layoutBounds,e)}layout(e,i){this.matrix=et.getLayoutMatrix(this.layoutBounds,e,i),this.visibleBoundsProperty.value=this.parentToLocalBounds(e)}get screenSummaryContent(){return this._screenSummaryContent}set screenSummaryContent(e){this.setScreenSummaryContent(e)}setScreenSummaryContent(e){assert&&assert(e!==this._screenSummaryContent,"this is already the screen summary Node content"),this._screenSummaryContent&&this.pdomScreenSummaryNode.removeChild(this._screenSummaryContent),this._screenSummaryContent=e,e&&this.pdomScreenSummaryNode.addChild(e)}setScreenSummaryIntroAndTitle(e,i,s,t){this.pdomScreenSummaryNode.setIntroString(e,i,t),this.pdomTitleNode.innerContent=s}getVoicingOverviewContent(){throw new Error("The ScreenView should implement getVoicingOverviewContent if Voicing is enabled")}getVoicingDetailsContent(){throw new Error("The ScreenView should implement getVoicingDetailsContent when the Voicing feature is enabled.")}getVoicingHintContent(){throw new Error("The ScreenView should implement getVoicingHintContent when Voicing is enabled.")}interruptSubtreeInput(){var e,i,s;return(s=(i=(e=self.phet)==null?void 0:e.joist)==null?void 0:i.display)==null||s.interruptOtherPointers(),super.interruptSubtreeInput()}static getLayoutScale(e,i){return Math.min(i.width/e.width,i.height/e.height)}static getLayoutMatrix(e,i,s){const t=E()({verticalAlign:"center"},s),o=i.width,r=i.height,n=et.getLayoutScale(e,i);let d=0,u=0;return n===o/e.width?(u=r/n-e.height,t.verticalAlign==="center"&&(u/=2)):n===r/e.height&&(d=(o/n-e.width)/2),_o.rowMajor(n,0,d*n+i.left,0,n,u*n+i.top,0,0,1)}step(e){}};et.DEFAULT_LAYOUT_BOUNDS=bo;let Yt=et;In.register("ScreenView",Yt);const So=new F(0,200,0),Si=new F(255,85,0),Gl=new F(0,135,0),_l=new F(106,206,245),Po=new F(254,225,5),Qn={ACCELERATION:new F(255,255,50),APPLIED_FORCE:new F(236,153,55),BUTTON_YELLOW:Po,ELASTIC_POTENTIAL_ENERGY:new F(0,204,255),FRICTION_FORCE:Si,GRAVITATIONAL_FORCE:new F(50,130,215),GRAVITATIONAL_POTENTIAL_ENERGY:new F(55,130,215),HEAT_THERMAL_ENERGY:Si,IMAGINARY_PART:new F(153,51,102),KINETIC_ENERGY:new F(30,200,45),MOMENTUM:new F(50,50,255),NET_WORK:So,NORMAL_FORCE:new F(255,235,0),PHET_LOGO_BLUE:_l,PHET_LOGO_YELLOW:Po,POSITION:F.BLUE,REAL_PART:new F(255,153,0),RED_COLORBLIND:Si,RESET_ALL_BUTTON_BASE_COLOR:new F(247,151,34),GREEN_COLORBLIND:Gl,TOTAL_ENERGY:new F(180,180,0),TOTAL_FORCE:So,VELOCITY:new F(50,255,50),WALL_FORCE:new F(153,51,0),SCREEN_ICON_FRAME:"#dddddd"};ge.register("PhetColorScheme",Qn);class Gn extends bt{constructor(e){const i=E()({iconLength:16,pathOptions:{stroke:"white",lineWidth:2.5,lineCap:"round"},baseColor:Qn.RED_COLORBLIND,xMargin:4,yMargin:4,innerContent:Ce.a11y.closeStringProperty,voicingNameResponse:Ce.a11y.closeStringProperty},e),s=new N().moveTo(-i.iconLength/2,-i.iconLength/2).lineTo(i.iconLength/2,i.iconLength/2).moveTo(i.iconLength/2,-i.iconLength/2).lineTo(-i.iconLength/2,i.iconLength/2);i.content=new j(s,i.pathOptions),super(i)}}ge.register("CloseButton",Gn);const _n=new xe("DynamicMarkerIO",{supertype:xe.ObjectIO,applyState:_.noop,toStateObject:()=>({}),isValidValue:_.stubTrue,documentation:"PhET-iO Type used as a place holder for dynamic elements to be created when set for state."});wr.register("DynamicMarkerIO",_n);const zn=(a,e)=>class extends a{constructor(...i){var d;super(...i);const s=i[e]||{},t=i[i.length-1];assert&&assert(t!==void 0,"config object is required for Popupable.");const o=Cs("phet.joist.sim.showPopup"),r=Cs("phet.joist.sim.hidePopup"),n=E()({showPopup:o,hidePopup:r,isModal:!0,layoutBounds:null,focusOnShowNode:null,focusOnHideNode:null,disableModals:_.get(self,"phet.chipper.queryParameters.disableModals")||!1},s);assert&&assert(n.isModal,"Non-modal popups not currently supported"),this.layoutBounds=n.layoutBounds,this._focusOnShowNode=n.focusOnShowNode,this.disableModals=n.disableModals,this.isModal=n.isModal,this._focusOnHideNode=n.focusOnHideNode,this._nodeToFocusOnHide=null,this.popupParent=new zl(this,{show:this.show.bind(this),hide:this.hide.bind(this),layout:this.layout.bind(this)}),this.isShowingProperty=new z(!1,{tandem:(d=n.tandem)==null?void 0:d.createTandem("isShowingProperty"),phetioReadOnly:!0,phetioFeatured:!0}),this.isShowingProperty.lazyLink(u=>{u?n.showPopup(this.popupParent,n.isModal):n.hidePopup(this.popupParent,n.isModal)})}layout(i){this.layoutBounds&&(this.popupParent.matrix=Yt.getLayoutMatrix(this.layoutBounds,i))}shouldShowPopup(){return!(this.isModal&&this.disableModals)}show(){this.shouldShowPopup()&&(this._nodeToFocusOnHide=this._focusOnHideNode||Nt.pdomFocusedNode,this.isShowingProperty.value=!0,this._focusOnShowNode&&this._focusOnShowNode.focusable&&this._focusOnShowNode.focus())}hide(){this.interruptSubtreeInput(),this.isShowingProperty.value=!1,this._nodeToFocusOnHide&&this._nodeToFocusOnHide.focusable&&this._nodeToFocusOnHide.focus()}get focusOnHideNode(){return this._focusOnHideNode}dispose(){this.hide(),this.isShowingProperty.dispose(),super.dispose()}};class zl extends T{constructor(e,i){const s=E()({children:[e]},i);super(s),this.show=s.show,this.hide=s.hide,this.layout=s.layout}}B.register("Popupable",zn);const Dt=Un("SUN");B.register("SunStrings",Dt);const Mt=class Mt extends zn(Wt,1){constructor(e,i){var V;const s=E()({xSpacing:10,ySpacing:10,topMargin:15,bottomMargin:15,leftMargin:null,maxWidthMargin:12,maxHeightMargin:12,closeButtonLength:18.2,closeButtonTopMargin:10,closeButtonRightMargin:10,title:null,titleAlign:"center",addAriaLabelledByFromTitle:!0,layoutStrategy:Kl,closeButtonListener:()=>this.hide(),closeButtonColor:"black",closeButtonTouchAreaXDilation:0,closeButtonTouchAreaYDilation:0,closeButtonMouseAreaXDilation:0,closeButtonMouseAreaYDilation:0,closeButtonVoicingDialogTitle:null,closeButtonLastInPDOM:!1,openedSoundPlayer:yi,closedSoundPlayer:qi,sim:Tr("phet.joist.sim"),showCallback:null,hideCallback:null,layoutBounds:Yt.DEFAULT_LAYOUT_BOUNDS,focusOnShowNode:null,cornerRadius:10,resize:!0,fill:"white",stroke:"black",backgroundPickable:!0,maxHeight:null,maxWidth:null,tandemNameSuffix:["Dialog",Er],phetioType:Mt.DialogIO,phetioState:!0,phetioVisiblePropertyInstrumented:!1,tagName:"div",ariaRole:"dialog"},i);assert&&assert(s.sim,"sim must be provided, as Dialog needs a Sim instance"),assert&&assert(s.xMargin===void 0,"Dialog sets xMargin"),s.xMargin=0,assert&&assert(s.yMargin===void 0,"Dialog sets yMargin"),s.yMargin=0,s.leftMargin===null&&(s.leftMargin=s.xSpacing+s.closeButtonLength+s.closeButtonRightMargin),assert&&assert(s.maxHeight===null||typeof s.maxHeight=="number"),assert&&assert(s.maxWidth===null||typeof s.maxWidth=="number"),!s.maxWidth&&s.layoutBounds&&(s.maxWidth=wo(s.layoutBounds.width,s.maxWidthMargin)),!s.maxHeight&&s.layoutBounds&&(s.maxHeight=wo(s.layoutBounds.height,s.maxHeightMargin));const t=new Le({priority:Le.MEDIUM_PRIORITY,voicingCanAnnounceProperties:[gr.voicingFullyEnabledProperty]}),o=new Gn({iconLength:s.closeButtonLength,baseColor:"transparent",buttonAppearanceStrategy:ye.FlatAppearanceStrategy,xMargin:0,yMargin:0,listener:()=>{o.voicingSpeakContextResponse({utterance:t}),s.closeButtonListener()},pathOptions:{stroke:s.closeButtonColor},tandem:(V=s.tandem)==null?void 0:V.createTandem("closeButton"),phetioState:!1,phetioVisiblePropertyInstrumented:!1,phetioEnabledPropertyInstrumented:!1,soundPlayer:Fe,tagName:"button",innerContent:Dt.a11y.closeStringProperty,voicingContextResponse:Dt.a11y.closedStringProperty});let r;if(s.closeButtonVoicingDialogTitle){const m=typeof s.closeButtonVoicingDialogTitle=="string"?new ie(s.closeButtonVoicingDialogTitle):s.closeButtonVoicingDialogTitle;r=o.voicingNameResponse=new Qi(Dt.a11y.titleClosePatternStringProperty,{title:m},{tandem:L.OPT_OUT})}o.touchArea=o.bounds.dilatedXY(s.closeButtonTouchAreaXDilation,s.closeButtonTouchAreaYDilation),o.mouseArea=o.bounds.dilatedXY(s.closeButtonMouseAreaXDilation,s.closeButtonMouseAreaYDilation);let n=[s.title,e];s.closeButtonLastInPDOM?n.push(o):n.unshift(o),n=n.filter(m=>m!=null),assert&&assert(n[0]),s.focusOnShowNode=s.focusOnShowNode?s.focusOnShowNode:n[0].focusable?n[0]:o,assert&&assert(s.focusOnShowNode instanceof T,"should be non-null and defined"),assert&&assert(s.focusOnShowNode.focusable,"focusOnShowNode must be focusable.");const d=new gi({children:s.title?[s.title,e]:[e],spacing:s.ySpacing,align:s.titleAlign}),u=new ot(d,{topMargin:s.topMargin,bottomMargin:s.bottomMargin,leftMargin:s.leftMargin}),l=new ot(o,{topMargin:s.closeButtonTopMargin,rightMargin:s.closeButtonRightMargin}),h=new Ui({children:[u,l],spacing:s.xSpacing,align:"top"});super(h,s),this.isShowingProperty.lazyLink(m=>{m?(s.openedSoundPlayer.play(),s.showCallback&&s.showCallback()):(s.closedSoundPlayer.play(),s.hideCallback&&s.hideCallback())}),this.sim=s.sim,this.closeButton=o;const p=J.multilink([this.sim.boundsProperty,this.sim.screenBoundsProperty,this.sim.scaleProperty,this.sim.selectedScreenProperty,this.isShowingProperty,this.localBoundsProperty],(m,A,c)=>{m&&A&&c&&s.layoutStrategy(this,m,A,c)});this.pdomOrder=n,s.title&&s.title.tagName&&s.addAriaLabelledByFromTitle&&this.addAriaLabelledbyAssociation({thisElementName:ae.PRIMARY_SIBLING,otherNode:s.title,otherElementName:ae.PRIMARY_SIBLING});const q=new Yo({keys:["escape","tab","shift+tab"],fire:(m,A)=>{assert&&assert(m,"event should be non-null and defined for this listener");const c=m;if(A==="escape")c.preventDefault(),this.hide();else if((A==="tab"||A==="shift+tab")&&mr.isFullScreen()){assert&&assert(Nt.pdomFocus);const g=Nt.pdomFocus.trail.getUniqueId(),P=Bi.getNextFocusable().id===g,C=Bi.getPreviousFocusable().id===g;P&&C&&c.preventDefault()}}});this.addInputListener(q),this.disposeDialog=()=>{p.dispose(),l.dispose(),this.removeInputListener(q),q.dispose(),r&&r.dispose(),o.dispose(),t.dispose(),d.dispose(),h.removeAllChildren(),h.detach()}}dispose(){this.disposeDialog(),super.dispose()}};Mt.DialogIO=new xe("DialogIO",{valueType:Mt,supertype:_n});let Ri=Mt;function Kl(a,e,i,s){a.layoutBounds&&(a.center=a.layoutBounds.center)}function wo(a,e){return a>e*2?a-e*2:a}B.register("Dialog",Ri);class jl extends ns{constructor(e,i,s){super(e,i,E()({orientation:"horizontal"},s))}}B.register("HorizontalAquaRadioButtonGroup",jl);class Jl extends Ge{constructor(e,i,s){var t,o;super(e,i,E()({orientation:se.HORIZONTAL},s)),assert&&((o=(t=phet==null?void 0:phet.chipper)==null?void 0:t.queryParameters)!=null&&o.binder)&&G.registerDataURL("sun","HSlider",this)}}B.register("HSlider",Jl);class Xl extends T{constructor(e,i,s,t,o){super(),this.nodeProperty=new Me(null),this._constructInstance=()=>Reflect.construct(e,[...i,Br(_.mapValues(t,r=>r.value),s)]),this.multilink=J.multilink(_.values(t),this.replaceCopy.bind(this)),this.mutate(o)}replaceCopy(){const e=this._constructInstance(),i=this.nodeProperty.value;this.nodeProperty.value=e,this.addChild(e),i&&(this.removeChild(i),this.disposeCopy(i))}disposeCopy(e){e.dispose&&e.dispose()}dispose(){this.multilink.dispose(),this.disposeCopy(this.nodeProperty.value),this.nodeProperty.dispose(),super.dispose()}}B.register("MutableOptionsNode",Xl);const Eo=["pdomTimerDelay","pdomTimerInterval"],ps=(a,e)=>{const i=Gi("AccessibleNumberSpinner",Eo,class extends fi(a,e){constructor(...t){const o=t[e];assert&&o&&assert(Object.getPrototypeOf(o)===Object.prototype,"Extra prototype on AccessibleSlider options object is a code smell (or probably a bug)");const r=I({ariaOrientation:se.VERTICAL},o);t[e]=r,super(...t),this._pdomTimerDelay=400,this._pdomTimerInterval=100,Xi(this,["addInputListener"]),this._callbackTimer=new Fo({delay:this._pdomTimerDelay,interval:this._pdomTimerInterval}),this.pdomIncrementDownEmitter=new K({parameters:[{valueType:"boolean"}]}),this.pdomDecrementDownEmitter=new K({parameters:[{valueType:"boolean"}]}),this.setPDOMAttribute("aria-roledescription",Dt.a11y.numberSpinnerRoleDescriptionStringProperty);let n=null,d=null;const u={keydown:l=>{if(this.enabledProperty.get()&&O.isRangeKey(l.domEvent)){const h=l.domEvent;h.preventDefault(),h.metaKey||this._callbackTimer.isRunning()||(this._accessibleNumberSpinnerHandleKeyDown(l),n=this._accessibleNumberSpinnerHandleKeyDown.bind(this,l),d=h,this._callbackTimer.addCallback(n),this._callbackTimer.start())}},keyup:l=>{const h=O.getEventCode(l.domEvent);O.isRangeKey(l.domEvent)&&(d&&h===O.getEventCode(d)&&(this._emitKeyState(l.domEvent,!1),this._callbackTimer.stop(!1),assert&&assert(n),this._callbackTimer.removeCallback(n),n=null,d=null),this.handleKeyUp(l))},blur:l=>{n&&(assert&&assert(d!==null,"key should be down if running downCallback"),this._emitKeyState(d,!1),this._callbackTimer.stop(!1),this._callbackTimer.removeCallback(n)),this.handleBlur(l)},input:this.handleInput.bind(this),change:this.handleChange.bind(this)};this.addInputListener(u),this._disposeAccessibleNumberSpinner=()=>{this._callbackTimer.dispose(),this.pdomIncrementDownEmitter.dispose(),this.pdomDecrementDownEmitter.dispose(),this.removeInputListener(u)}}set pdomTimerDelay(t){this._pdomTimerDelay=t,this._callbackTimer&&(this._callbackTimer.delay=t)}get pdomTimerDelay(){return this._pdomTimerDelay}set pdomTimerInterval(t){this._pdomTimerInterval=t,this._callbackTimer&&(this._callbackTimer.interval=t)}get pdomTimerInterval(){return this._pdomTimerInterval}_accessibleNumberSpinnerHandleKeyDown(t){assert&&assert(t.domEvent,"must have a domEvent"),this.handleKeyDown(t),this._emitKeyState(t.domEvent,!0)}_emitKeyState(t,o){Ko(t,{valueType:Event}),O.isAnyKeyEvent(t,[O.KEY_UP_ARROW,O.KEY_RIGHT_ARROW])?this.pdomIncrementDownEmitter.emit(o):O.isAnyKeyEvent(t,[O.KEY_DOWN_ARROW,O.KEY_LEFT_ARROW])&&this.pdomDecrementDownEmitter.emit(o)}dispose(){this._disposeAccessibleNumberSpinner(),super.dispose()}});return i.prototype._mutatorKeys=Eo.concat(i.prototype._mutatorKeys),assert&&assert(i.prototype._mutatorKeys.length===_.uniq(i.prototype._mutatorKeys).length,"duplicate mutator keys in AccessibleNumberSpinner"),i};B.register("AccessibleNumberSpinner",ps);const Kn=QueryStringMachine.getAll({backgroundColor:{type:"string",defaultValue:"white"},fontFamily:{type:"string",defaultValue:"Arial"}});ge.register("sceneryPhetQueryParameters",Kn);class Vs extends Ho{constructor(e){assert&&assert(arguments.length===0||arguments.length===1,"Too many arguments");let i;typeof e=="number"||typeof e=="string"?i={size:e}:i=e||{},i=I({family:Kn.fontFamily},i),assert&&assert(i.family),i.family=[i.family,"sans-serif"].join(", "),super(i)}}ge.register("PhetFont",Vs);const As={PLUS:"+",MINUS:"",TIMES:"",DIVIDE:"",DOT:"",UNARY_PLUS:"+",UNARY_MINUS:"-",EQUAL_TO:"=",NOT_EQUAL_TO:"",GREATER_THAN:">",LESS_THAN:"<",LESS_THAN_OR_EQUAL:"",GREATER_THAN_OR_EQUAL:"",PERCENT:"%",INFINITY:"",PI:"",PLUS_MINUS:"",THETA:"",NO_VALUE:"",DEGREES:""};ge.register("MathSymbols",As);const Bo=["up","down","over","out"];class gs extends ps(T,0){constructor(e,i,s){var Ss,Ps;const t=E()({color:new F(0,0,255),backgroundColor:"white",cornerRadius:6,xMargin:3,yMargin:3,decimalPlaces:0,font:new Vs(24),incrementFunction:R=>R+1,decrementFunction:R=>R-1,timerDelay:400,timerInterval:100,noValueString:As.NO_VALUE,align:"center",touchAreaXDilation:10,touchAreaYDilation:10,mouseAreaXDilation:0,mouseAreaYDilation:5,backgroundStroke:"gray",backgroundLineWidth:.5,backgroundDisabledOpacity:1,arrowHeight:6,arrowYSpacing:3,arrowStroke:"black",arrowLineWidth:.25,arrowDisabledOpacity:1,valueMaxWidth:null,onInput:_.noop,incrementEnabledFunction:(R,Ie)=>R!=null&&R<Ie.max,decrementEnabledFunction:(R,Ie)=>R!=null&&R>Ie.min,disabledOpacity:Ae.DISABLED_OPACITY,valueChangedSoundPlayer:hs,boundarySoundPlayer:us,cursor:"pointer",valueProperty:e,enabledRangeProperty:i,pageKeyboardStep:2,voicingObjectResponse:()=>e.value,tandem:L.REQUIRED,tandemNameSuffix:"Picker",phetioReadOnly:pe.DEFAULT_OPTIONS.phetioReadOnly,visiblePropertyOptions:{phetioFeatured:!0},phetioEnabledPropertyInstrumented:!0,phetioFeatured:!0},s);t.formatValue||(t.formatValue=R=>Z.toFixed(R,t.decimalPlaces));let o=null;t.pressedColor===void 0&&(o=new H(t.color),t.pressedColor=new U([o],R=>R.darkerColor()));let r=e.value;const n=t.onInput;t.onInput=()=>{n(),e.value!==r&&(e.value===i.get().max||e.value===i.get().min?t.boundarySoundPlayer.play():t.valueChangedSoundPlayer.play()),r=e.value},assert&&assert(!t.keyboardStep,"NumberPicker sets its own keyboardStep"),assert&&assert(!t.shiftKeyboardStep,"NumberPicker sets its own shiftKeyboardStep");const d=t.incrementFunction(e.get())-e.get();t.keyboardStep=d,t.shiftKeyboardStep=d,t.pdomTimerDelay=t.timerDelay,t.pdomTimerInterval=t.timerInterval;const u=_.pick(t,T.REQUIRES_BOUNDS_OPTION_KEYS);super(_.omit(t,T.REQUIRES_BOUNDS_OPTION_KEYS));const l=new Es("up",{validValues:Bo}),h=new Es("down",{validValues:Bo}),p=new U([e,i],t.incrementEnabledFunction),q=new U([e,i],t.decrementEnabledFunction),V=new It("",{font:t.font,pickable:!1});let m=i.get().min;const A=[];for(;m<=i.get().max;)A.push(m),m=t.incrementFunction(m),assert&&assert(A.length<5e5,"Don't infinite loop here");let c=Math.max.apply(null,A.map(R=>(V.string=t.formatValue(R),V.width)));t.valueMaxWidth!==null&&(c=Math.min(c,t.valueMaxWidth));const g=c+2*t.xMargin,P=V.height+2*t.yMargin,C=1,y=t.cornerRadius;V.maxWidth=c;const b=new j(new N().arc(y,y,y,Math.PI,Math.PI*3/2,!1).arc(g-y,y,y,-Math.PI/2,0,!1).lineTo(g,P/2+C).lineTo(0,P/2+C).close(),{pickable:!1}),w=new j(new N().arc(g-y,P-y,y,0,Math.PI/2,!1).arc(y,P-y,y,Math.PI/2,Math.PI,!1).lineTo(0,P/2).lineTo(g,P/2).close(),{pickable:!1}),f=new Q(0,0,g,P,y,y,{pickable:!1,stroke:t.backgroundStroke,lineWidth:t.backgroundLineWidth,disabledOpacity:t.backgroundDisabledOpacity,enabledProperty:this.enabledProperty}),k=new $(.5*g,t.arrowHeight),D={stroke:t.arrowStroke,lineWidth:t.arrowLineWidth,disabledOpacity:t.arrowDisabledOpacity,enabledProperty:this.enabledProperty,pickable:!1};this.incrementArrow=new j(new N().moveTo(k.width/2,0).lineTo(k.width,k.height).lineTo(0,k.height).close(),D),this.incrementArrow.centerX=b.centerX,this.incrementArrow.bottom=b.top-t.arrowYSpacing,this.decrementArrow=new j(new N().moveTo(k.width/2,k.height).lineTo(0,0).lineTo(k.width,0).close(),D),this.decrementArrow.centerX=w.centerX,this.decrementArrow.top=w.bottom+t.arrowYSpacing;const M=new T({children:[b,this.incrementArrow]});M.addChild(new Q(M.localBounds));const v=new T({children:[w,this.decrementArrow]});v.addChild(new Q(v.localBounds)),this.addChild(M),this.addChild(v),this.addChild(f),this.addChild(V),M.touchArea=N.rectangle(M.left-t.touchAreaXDilation/2,M.top-t.touchAreaYDilation,M.width+t.touchAreaXDilation,M.height+t.touchAreaYDilation),v.touchArea=N.rectangle(v.left-t.touchAreaXDilation/2,v.top,v.width+t.touchAreaXDilation,v.height+t.touchAreaYDilation),M.mouseArea=N.rectangle(M.left-t.mouseAreaXDilation/2,M.top-t.mouseAreaYDilation,M.width+t.mouseAreaXDilation,M.height+t.mouseAreaYDilation),v.mouseArea=N.rectangle(v.left-t.mouseAreaXDilation/2,v.top,v.width+t.mouseAreaXDilation,v.height+t.mouseAreaYDilation);const re={up:t.color,over:t.color,down:t.pressedColor,out:t.color,disabled:"rgb(176,176,176)"},je=To(t.color,t.backgroundColor,t.color,P),_t=To(t.pressedColor,t.backgroundColor,t.pressedColor,P),Oe={up:t.backgroundColor,over:je,down:_t,out:_t,disabled:t.backgroundColor},Je={fireOnHold:!0,fireOnHoldDelay:t.timerDelay,fireOnHoldInterval:t.timerInterval};this.incrementInputListener=new ko(l,I({tandem:t.tandem.createTandem("incrementInputListener"),fire:R=>{e.set(Math.min(t.incrementFunction(e.get()),i.get().max)),t.onInput(R),this.voicingSpeakFullResponse({nameResponse:null,hintResponse:null})}},Je)),M.addInputListener(this.incrementInputListener),this.decrementInputListener=new ko(h,I({tandem:t.tandem.createTandem("decrementInputListener"),fire:R=>{e.set(Math.max(t.decrementFunction(e.get()),i.get().min)),t.onInput(R),this.voicingSpeakFullResponse({nameResponse:null,hintResponse:null})}},Je)),v.addInputListener(this.decrementInputListener),p.link(R=>{!R&&this.incrementInputListener.interrupt(),M.pickable=R}),q.link(R=>{!R&&this.decrementInputListener.interrupt(),v.pickable=R});const bi=R=>{if(R==null)V.string=t.noValueString,V.x=(g-V.width)/2;else if(V.string=t.formatValue(R),t.align==="center")V.centerX=b.centerX;else if(t.align==="right")V.right=b.right-t.xMargin;else if(t.align==="left")V.left=b.left+t.xMargin;else throw new Error(`unsupported value for options.align: ${t.align}`);V.centerY=P/2};e.link(bi),J.multilink([l,p],(R,Ie)=>{Lo(R,Ie,b,this.incrementArrow,Oe,re)}),J.multilink([h,q],(R,Ie)=>{Lo(R,Ie,w,this.decrementArrow,Oe,re)});const zt=this.localBounds.dilated(Bs.getDefaultDilationCoefficient());this.focusHighlight=new Bs(N.roundedRectangleWithRadii(zt.minX,zt.minY,zt.width,zt.height,{topLeft:t.cornerRadius,topRight:t.cornerRadius,bottomLeft:t.cornerRadius,bottomRight:t.cornerRadius})),this.pdomIncrementDownEmitter.addListener(R=>{l.value=R?"down":"up"}),this.pdomDecrementDownEmitter.addListener(R=>{h.value=R?"down":"up"}),this.addLinkedElement(e,{tandemName:"valueProperty"}),this.mutate(u),this.disposeNumberPicker=()=>{o&&o.dispose(),p.dispose(),q.dispose(),this.incrementArrow.dispose(),this.decrementArrow.dispose(),f.dispose(),e.hasListener(bi)&&e.unlink(bi)},assert&&((Ps=(Ss=phet==null?void 0:phet.chipper)==null?void 0:Ss.queryParameters)!=null&&Ps.binder)&&G.registerDataURL("scenery-phet","NumberPicker",this)}static createIcon(e,i){const s=E()({highlightIncrement:!1,highlightDecrement:!1,range:new ce(e-1,e+1),numberPickerOptions:{pickable:!1,tandem:L.OPT_OUT}},i),t=new gs(new Wo(e),new Me(s.range),s.numberPickerOptions);return t.removeFromPDOM(),s.highlightDecrement&&(t.decrementInputListener.isOverProperty.value=!0),s.highlightIncrement&&(t.incrementInputListener.isOverProperty.value=!0),t}dispose(){this.disposeNumberPicker(),super.dispose()}setArrowsVisible(e){e||(this.incrementInputListener.interrupt(),this.decrementInputListener.interrupt()),this.incrementArrow.visible=e,this.decrementArrow.visible=e}}class ko extends Yi{constructor(e,i){super(i),J.multilink([this.isOverProperty,this.isPressedProperty],(s,t)=>{e.set(s&&!t?"over":s&&t?"down":!s&&!t?"up":"out")})}}function To(a,e,i,s){return new Te(0,0,0,s).addColorStop(0,a).addColorStop(.5,e).addColorStop(1,i)}function Lo(a,e,i,s,t,o){if(e)if(s.stroke="black",a==="up")i.fill=t.up,s.fill=o.up;else if(a==="over")i.fill=t.over,s.fill=o.over;else if(a==="down")i.fill=t.down,s.fill=o.down;else if(a==="out")i.fill=t.out,s.fill=o.out;else throw new Error(`unsupported buttonState: ${a}`);else i.fill=t.disabled,s.fill=o.disabled,s.stroke=o.disabled}B.register("NumberPicker",gs);const Zl=new Vs(20),Co=["center","left","right"],xo=0,Rt=class Rt extends T{constructor(e,i,s){var C,y,b,w;const t=E()({align:"right",valuePattern:he.VALUE_NAMED_PLACEHOLDER,decimalPlaces:xo,numberFormatter:null,numberFormatterDependencies:[],useRichText:!1,useFullHeight:!1,textOptions:{font:Zl,fill:"black",maxWidth:null,phetioReadOnly:!0},xMargin:8,yMargin:2,cornerRadius:0,backgroundFill:"white",backgroundStroke:"lightGray",backgroundLineWidth:1,backgroundLineDash:[],minBackgroundWidth:0,noValueString:As.NO_VALUE,noValueAlign:null,noValuePattern:null,tandem:L.OPT_OUT,phetioType:Rt.NumberDisplayIO},s);if(assert){const f=!!t.numberFormatter,k=t.decimalPlaces!==xo,D=t.valuePattern!==he.VALUE_NAMED_PLACEHOLDER,M=k||D;(f||M)&&assert&&assert(f!==M,"options.numberFormatter is mutually exclusive with options.valuePattern and options.decimalPlaces")}const o=new ie(t.numberFormatter?t.numberFormatter:f=>t.decimalPlaces===null?`${f}`:Z.toFixed(f,t.decimalPlaces));assert&&assert(!t.hasOwnProperty("unitsNode"),"unitsNode is not a supported option"),assert&&assert(_.includes(Co,t.align),`invalid align: ${t.align}`),t.noValueAlign||(t.noValueAlign=t.align),assert&&assert(_.includes(Co,t.noValueAlign),`invalid noValueAlign: ${t.noValueAlign}`),assert&&assert(t.textOptions,"did you accidentally set textOptions to null?");const r=f=>f.includes(he.VALUE_NUMBERED_PLACEHOLDER)?st.format(f,he.VALUE_NAMED_PLACEHOLDER):f,n=typeof t.valuePattern=="string"?new ie(r(t.valuePattern)):new U([t.valuePattern],r);assert&&assert(!!((y=(C=phet==null?void 0:phet.chipper)==null?void 0:C.queryParameters)!=null&&y.stringTest)||n.value.includes(he.VALUE_NAMED_PLACEHOLDER),`missing value placeholder in options.valuePattern: ${n.value}`),t.noValuePattern||(t.noValuePattern=new U([n],f=>f));const d=typeof t.noValuePattern=="string"?new ie(t.noValuePattern):t.noValuePattern;assert&&assert(!!((w=(b=phet==null?void 0:phet.chipper)==null?void 0:b.queryParameters)!=null&&w.stringTest)||d.value.includes(he.VALUE_NAMED_PLACEHOLDER),`missing value placeholder in options.noValuePattern: ${d.value}`);const u=U.deriveAny([o,...t.numberFormatterDependencies],()=>Pi(i.min,t.noValueString,o.value)),l=U.deriveAny([o,...t.numberFormatterDependencies],()=>Pi(i.max,t.noValueString,o.value)),h=new U([n,u,l],(f,k,D)=>st.fillIn(f,{value:k.length>D.length?k:D})),p=t.useRichText?qr:It,q=t.textOptions.tandem||t.tandem.createTandem("valueText"),V=U.deriveAny([e,d,n,o,...t.numberFormatterDependencies],()=>{const f=e.value,k=d.value,D=n.value,M=o.value,v=f===null&&k?k:D,re=Pi(f,t.noValueString,M);return st.fillIn(v,{value:re})},{phetioFeatured:!0,phetioValueType:Ji,tandemNameSuffix:"StringProperty",tandem:q.createTandem(It.STRING_PROPERTY_TANDEM_NAME)}),m=I({tandem:q},t.textOptions,{maxWidth:null}),A=new p(V,m),c=A.height,g=new Q({cornerRadius:t.cornerRadius,fill:t.backgroundFill,stroke:t.backgroundStroke,lineWidth:t.backgroundLineWidth,lineDash:t.backgroundLineDash});h.link(f=>{const k=new p(f,_.omit(m,"tandem"));A.maxWidth=t.textOptions.maxWidth!==null?t.textOptions.maxWidth:k.width!==0?k.width:null,k.maxWidth=A.maxWidth,g.rectWidth=Math.max(t.minBackgroundWidth,k.width+2*t.xMargin),g.rectHeight=(t.useFullHeight?c:k.height)+2*t.yMargin});const P=new T({children:[A]});t.children=[g,P],super(),this.numberFormatterProperty=o,this.valueText=A,this.backgroundNode=g,Hi.create(this,[P,g],(f,k)=>{const D=e.value===null?t.noValueAlign:t.align,M=k.centerY;D==="center"?f.center=new Lt(k.centerX,M):D==="left"?f.leftCenter=new Lt(k.left+t.xMargin,M):f.rightCenter=new Lt(k.right-t.xMargin,M)}),this.mutate(t),this.disposeNumberDisplay=()=>{V.dispose(),n.dispose()}}dispose(){this.disposeNumberDisplay(),super.dispose()}setNumberFont(e){this.valueText.font=e}set numberFont(e){this.setNumberFont(e)}setNumberFill(e){this.valueText.fill=e}set numberFill(e){this.setNumberFill(e)}setBackgroundFill(e){this.backgroundNode.fill=e}set backgroundFill(e){this.setBackgroundFill(e)}get backgroundFill(){return this.getBackgroundFill()}getBackgroundFill(){return this.backgroundNode.fill}setBackgroundStroke(e){this.backgroundNode.stroke=e}set backgroundStroke(e){this.setBackgroundStroke(e)}getBackgroundWidth(){return this.backgroundNode.getRectWidth()}setBackgroundWidth(e){this.backgroundNode.setRectWidth(e)}get backgroundWidth(){return this.getBackgroundWidth()}set backgroundWidth(e){this.setBackgroundWidth(e)}};Rt.NumberDisplayIO=new xe("NumberDisplayIO",{valueType:Rt,supertype:T.NodeIO,documentation:"A numeric readout with a background"});let pi=Rt;ge.register("NumberDisplay",pi);const Pi=(a,e,i)=>{let s=e;return a!==null&&(s=i(a)),s},wi=20;class Oi extends bt{constructor(e,i,s){const t=E()({cursor:"pointer",baseColor:"white",stroke:"black",lineWidth:1,cornerRadius:4,xMargin:7,yMargin:5,touchAreaXDilation:7,touchAreaYDilation:7,arrowHeight:wi,arrowWidth:wi*Math.sqrt(3)/2,arrowFill:"black",arrowStroke:null,arrowLineWidth:1,numberOfArrows:1,arrowSpacing:-wi*.5,fireOnHold:!0,fireOnHoldDelay:400,fireOnHoldInterval:100,startCallback:_.noop,endCallback:_.noop},s);t.listener=i;const o=new N;for(let r=0;r<t.numberOfArrows;r++){const n=r*(t.arrowHeight+t.arrowSpacing);if(e==="up")o.moveTo(t.arrowHeight/2,n).lineTo(t.arrowHeight,t.arrowWidth+n).lineTo(0,t.arrowWidth+n).close();else if(e==="down")o.moveTo(0,n).lineTo(t.arrowHeight,n).lineTo(t.arrowHeight/2,t.arrowWidth+n).close();else if(e==="left")o.moveTo(n,t.arrowHeight/2).lineTo(t.arrowWidth+n,0).lineTo(t.arrowWidth+n,t.arrowHeight).close();else if(e==="right")o.moveTo(n,0).lineTo(t.arrowWidth+n,t.arrowHeight/2).lineTo(n,t.arrowHeight).close();else throw new Error(`unsupported direction: ${e}`)}t.content=new j(o,{fill:t.arrowFill,stroke:t.arrowStroke,lineWidth:t.arrowLineWidth,pickable:!1}),super(t)}}B.register("ArrowButton",Oi);class $l extends ps(T,0){constructor(e,i,s){var P,C;assert&&assert(i.value.contains(e.get()),`value ${e.get()} is out of range ${i.value.toString()}`);const t=E()({arrowsSoundPlayer:Ke,arrowsPosition:"bothRight",arrowsScale:null,arrowButtonFill:"white",arrowButtonStroke:"black",arrowButtonLineWidth:1,deltaValue:1,xSpacing:5,ySpacing:3,numberDisplayOptions:{cornerRadius:5,backgroundStroke:"black"},touchAreaXDilation:0,touchAreaYDilation:0,mouseAreaXDilation:0,mouseAreaYDilation:0,valueProperty:e,enabledRangeProperty:i,disabledOpacity:Ae.DISABLED_OPACITY,interactiveHighlight:"invisible",tandem:L.REQUIRED,tandemNameSuffix:"Spinner",phetioFeatured:!0,phetioEnabledPropertyInstrumented:!0},s),o=t.incrementFunction||(y=>y+t.deltaValue),r=t.decrementFunction||(y=>y-t.deltaValue),n=new pi(e,i.value,I({tandem:t.tandem.createTandem("numberDisplay")},t.numberDisplayOptions)),d={baseColor:t.arrowButtonFill,stroke:t.arrowButtonStroke,lineWidth:t.arrowButtonLineWidth,focusable:!1,soundPlayer:Fe,enabledPropertyOptions:{phetioReadOnly:!0,phetioFeatured:!1}},u=new Oi(t.arrowsPosition==="topBottom"||t.arrowsPosition==="bothRight"?"up":"right",()=>{e.set(o(e.get())),t.arrowsSoundPlayer.play()},I({tandem:t.tandem.createTandem("incrementButton")},d)),l=new Oi(t.arrowsPosition==="topBottom"||t.arrowsPosition==="bothRight"?"down":"left",()=>{e.set(r(e.get())),t.arrowsSoundPlayer.play()},I({tandem:t.tandem.createTandem("decrementButton")},d));let h;h||(t.arrowsPosition==="leftRight"?h=n.height/u.height:t.arrowsPosition==="topBottom"?h=n.width/u.width:t.arrowsPosition==="bothRight"?h=(n.height/2-t.ySpacing/2)/u.height:h=(n.width/2-t.xSpacing/2)/u.width),t.arrowsScale&&(h=h*t.arrowsScale),u.setScaleMagnitude(h),l.setScaleMagnitude(h);const p=()=>{t.arrowsPosition==="leftRight"?(u.left=n.right+t.xSpacing,l.right=n.left-t.xSpacing,u.centerY=l.centerY=n.centerY):t.arrowsPosition==="topBottom"?(u.centerX=l.centerX=n.centerX,u.bottom=n.top-t.ySpacing,l.top=n.bottom+t.ySpacing):t.arrowsPosition==="bothRight"?(u.left=l.left=n.right+t.xSpacing,u.bottom=n.centerY-t.ySpacing/2,l.top=n.centerY+t.ySpacing/2):(u.left=n.centerX+t.xSpacing/2,l.right=n.centerX-t.xSpacing/2,u.top=l.top=n.bottom+t.ySpacing)};n.boundsProperty.link(()=>p()),(t.touchAreaXDilation||t.touchAreaYDilation)&&(u.touchArea=u.localBounds.dilatedXY(t.touchAreaXDilation,t.touchAreaYDilation),l.touchArea=l.localBounds.dilatedXY(t.touchAreaXDilation,t.touchAreaYDilation),t.arrowsPosition==="bothRight"?(u.touchArea=u.touchArea.shiftedY(-t.touchAreaYDilation),l.touchArea=l.touchArea.shiftedY(t.touchAreaYDilation)):t.arrowsPosition==="bothBottom"&&(u.touchArea=u.touchArea.shiftedX(t.touchAreaXDilation),l.touchArea=l.touchArea.shiftedX(-t.touchAreaXDilation))),(t.mouseAreaXDilation||t.mouseAreaYDilation)&&(u.mouseArea=u.localBounds.dilatedXY(t.mouseAreaXDilation,t.mouseAreaYDilation),l.mouseArea=l.localBounds.dilatedXY(t.mouseAreaXDilation,t.mouseAreaYDilation),t.arrowsPosition==="bothRight"?(u.mouseArea=u.mouseArea.shiftedY(-t.mouseAreaYDilation),l.mouseArea=l.mouseArea.shiftedY(t.mouseAreaYDilation)):t.arrowsPosition==="bothBottom"&&(u.mouseArea=u.mouseArea.shiftedX(t.mouseAreaXDilation),l.mouseArea=l.mouseArea.shiftedX(-t.mouseAreaXDilation))),t.children=[n,u,l],assert&&assert(t.keyboardStep===void 0,"NumberSpinner sets keyboardStep, it will be the same as deltaValue"),assert&&assert(t.shiftKeyboardStep===void 0,"NumberSpinner sets shiftKeyboardStep, it will be the same as deltaValue"),assert&&assert(t.pageKeyboardStep===void 0,"NumberSpinner sets pageKeyboardStep, it should not be used with NumberSpinner"),t.keyboardStep=0,t.shiftKeyboardStep=0,t.pageKeyboardStep=0;const q=_.pick(t,T.REQUIRES_BOUNDS_OPTION_KEYS);super(_.omit(t,T.REQUIRES_BOUNDS_OPTION_KEYS));const V=()=>{u.enabled=o(e.value)<=i.value.max,l.enabled=r(e.value)>=i.value.min},m=y=>{assert&&assert(i.value.contains(y),`value out of range: ${y}`),V()};e.link(m);const A=y=>{e.value=y.constrainValue(e.value),V()};i.link(A);const c=y=>y&&u.pdomClick(),g=y=>y&&l.pdomClick();this.pdomIncrementDownEmitter.addListener(c),this.pdomDecrementDownEmitter.addListener(g),this.disposeNumberSpinner=()=>{n.dispose(),u.dispose(),l.dispose(),this.pdomIncrementDownEmitter.removeListener(c),this.pdomDecrementDownEmitter.removeListener(g),e.unlink(m),i.unlink(A)},this.mutate(q),this.numberDisplay=n,this.addLinkedElement(e,{tandemName:"property"}),assert&&((C=(P=phet==null?void 0:phet.chipper)==null?void 0:P.queryParameters)!=null&&C.binder)&&G.registerDataURL("sun","NumberSpinner",this)}dispose(){this.disposeNumberSpinner(),super.dispose()}}B.register("NumberSpinner",$l);class ed extends $i{constructor(e,i){const s=E()({trackFillLeft:"white",trackFillRight:"rgb( 0, 200, 0 )"},i);super(e,!1,!0,s)}}B.register("OnOffSwitch",ed);const td=QueryStringMachine.getAll({backgroundColor:{type:"string",defaultValue:"white"},component:{type:"string",defaultValue:null},layout:{type:"string",defaultValue:"Width of multiple panels"}});B.register("sunQueryParameters",td);class id extends ns{constructor(e,i,s){super(e,i,E()({orientation:"vertical",align:"left"},s))}}B.register("VerticalAquaRadioButtonGroup",id);class sd extends gi{constructor(e,i){const s=E()({touchAreaXDilation:5,mouseAreaXDilation:5,spacing:10,align:"left",stretch:!0,tandem:L.REQUIRED},i),t=ze(e,s.tandem),o=[];s.children=[];for(let r=0;r<e.length;r++){const n=e[r],d=t[r];assert&&assert(!d.hasPDOMContent,"Accessibility is provided by Checkbox and VerticalCheckboxGroupItem.options. Additional PDOM content in the provided Node could break accessibility.");const u=s.spacing/2;assert&&assert(!n.tandem,"Cannot specify tandem on item, use tandemName instead");const l=new Bn(n.property,d,I({tandem:n.tandemName?s.tandem.createTandem(n.tandemName):L.OPTIONAL,mouseAreaXDilation:s.mouseAreaXDilation,touchAreaXDilation:s.touchAreaXDilation,mouseAreaYDilation:u,touchAreaYDilation:u},s.checkboxOptions,n.options));o.push(l),s.children.push(l)}super(s),this.disposeVerticalCheckboxGroup=()=>{o.forEach(r=>r.dispose()),t.forEach(r=>r.dispose())}}dispose(){this.disposeVerticalCheckboxGroup(),super.dispose()}}B.register("VerticalCheckboxGroup",sd);class od extends Ge{constructor(e,i,s){var t,o;s=E()({orientation:se.VERTICAL},s),super(e,i,s),assert&&((o=(t=phet==null?void 0:phet.chipper)==null?void 0:t.queryParameters)!=null&&o.binder)&&G.registerDataURL("sun","VSlider",this)}}B.register("VSlider",od);class ms extends Qo{constructor(e){super([e.focusedProperty,e.overProperty,e.looksOverProperty,e.looksPressedProperty,e.valueProperty],(i,s,t,o,r)=>{const n=r===e.valueDown;return t&&!(o||n)?W.OVER:(s||i)&&(o||n)||n?W.PRESSED:W.IDLE},{valueType:W})}}B.register("StickyToggleButtonInteractionStateProperty",ms);class qs extends ft{constructor(e,i,s,t){assert&&assert(s.valueComparisonStrategy==="reference",'StickyToggleButtonModel depends on "===" equality for value comparison');const o=E()({tandem:L.REQUIRED},t);super(o),this.valueUp=e,this.valueDown=i,this.valueProperty=s,this.toggledEmitter=new K({tandem:o.tandem.createTandem("toggledEmitter"),phetioDocumentation:"Emits when the button is toggled",phetioEventType:Ve.USER}),this.toggledEmitter.addListener(()=>{assert&&assert(this.valueProperty.value===this.valueUp||this.valueProperty.value===this.valueDown,`unrecognized value: ${this.valueProperty.value}`),this.valueProperty.value=this.valueProperty.value===this.valueUp?this.valueDown:this.valueUp}),this.pressedWhileDownProperty=new z(!1);const r=u=>{const l=this.overProperty.get()||this.focusedProperty.get();this.enabledProperty.get()&&l&&!this.interrupted&&(u&&s.value===e&&(this.toggle(),this.pressedWhileDownProperty.set(!1)),!u&&s.value===i&&(this.pressedWhileDownProperty.get()?this.toggle():this.pressedWhileDownProperty.set(!0))),!u&&!l&&this.pressedWhileDownProperty.set(!0)};this.downProperty.link(r);const n=u=>{this.downProperty.set(u===i)};s.link(n);const d=u=>{u&&this.pressedWhileDownProperty.set(!0)};this.enabledProperty.link(d),this.disposeToggleButtonModel=()=>{this.downProperty.unlink(r),this.enabledProperty.unlink(d),s.unlink(n),this.toggledEmitter.dispose()}}dispose(){this.disposeToggleButtonModel(),super.dispose()}toggle(){this.toggledEmitter.emit(),this.produceSoundEmitter.emit()}}B.register("StickyToggleButtonModel",qs);class jn extends Ee{constructor(e,i,s,t){const o=new qs(i,s,e,t),r=new ms(o);super(o,r,t),this.disposeRectangularStickyToggleButton=()=>{o.dispose()}}dispose(){this.disposeRectangularStickyToggleButton(),super.dispose()}}B.register("RectangularStickyToggleButton",jn);class nd extends jn{constructor(e,i){super(e,!1,!0,i)}}B.register("BooleanRectangularStickyToggleButton",nd);const Ei=5;class Re extends ye{constructor(e,i,s){const t=E()({radius:s&&s.content?null:30,lineWidth:.5,stroke:null,touchAreaDilation:0,mouseAreaDilation:0,touchAreaXShift:0,touchAreaYShift:0,mouseAreaXShift:0,mouseAreaYShift:0,aspectRatio:1,cursor:"pointer",xMargin:5,yMargin:5,buttonAppearanceStrategy:Re.ThreeDAppearanceStrategy},s);t.content||assert&&assert(typeof t.radius=="number",`invalid radius: ${t.radius}`),t.radius&&(assert&&assert(t.xMargin<t.radius,"xMargin cannot be larger than radius"),assert&&assert(t.yMargin<t.radius,"yMargin cannot be larger than radius"),t.minUnstrokedWidth=t.radius*2,t.minUnstrokedHeight=t.radius*2),t.buttonAppearanceStrategyOptions||(t.buttonAppearanceStrategyOptions={stroke:t.stroke,lineWidth:t.lineWidth});const o=t.radius||Math.max(t.content.width+t.xMargin*2,t.content.height+t.yMargin*2)/2;if(t.content&&t.radius){const d=t.content,u=Math.min((t.radius-t.xMargin)*2/d.width,(t.radius-t.yMargin)*2/d.height);t.content=new T({children:[d],scale:u})}const r=new it(o);super(e,r,i,t);const n=r.localBounds.width/2;this.touchArea=N.circle(t.touchAreaXShift,t.touchAreaYShift,n+t.touchAreaDilation),this.mouseArea=N.circle(t.mouseAreaXShift,t.mouseAreaYShift,n+t.mouseAreaDilation),this.focusHighlight=N.circle(0,0,n+5)}}class rd{constructor(e,i,s,t){const o=t&&t.stroke?t.stroke:new H(s,{luminanceFactor:-.4}),r=t&&t.lineWidth!==void 0?t.lineWidth:.3,n=E()({stroke:o,lineWidth:r,overStroke:o,overLineWidth:r,overButtonOpacity:1,selectedStroke:o,selectedLineWidth:r,selectedButtonOpacity:1,deselectedStroke:o,deselectedLineWidth:r,deselectedButtonOpacity:1,overFill:s},t),d=new H(s,{luminanceFactor:.8}),u=new H(s,{luminanceFactor:.7}),l=new H(s,{luminanceFactor:.3}),h=new H(s,{luminanceFactor:-.1}),p=new H(s,{luminanceFactor:-.2}),q=new H(s,{luminanceFactor:-.4}),V=new H(s,{luminanceFactor:-.5}),m=new U([s],M=>M.withAlpha(0)),A=e.width/2,c=A-Ei/2,g=A+Ei/2,P=Ei/2,C=new Pt(P,P,c,P,P,g).addColorStop(0,s).addColorStop(1,u),y=new Pt(-P,-P,c,-P,-P,g).addColorStop(0,m).addColorStop(1,V),b=new Pt(P,P,c,P,P,g).addColorStop(0,l).addColorStop(1,d),w=new Pt(-P,-P,c,-P,-P,g).addColorStop(0,m).addColorStop(1,V),f=new Pt(-P,-P,0,0,0,g).addColorStop(0,h).addColorStop(.6,p).addColorStop(.8,s).addColorStop(1,d),k=new it(A,{stroke:n.stroke?n.stroke:q,lineWidth:n.lineWidth,pickable:!1});e.addChild(k),this.maxLineWidth=k.hasStroke()&&n&&typeof n.lineWidth=="number"?n.lineWidth:0,e.cachedPaints=[C,b,f],k.cachedPaints=[y,w];function D(M){switch(M){case W.IDLE:e.fill=C,e.stroke=n.deselectedStroke,e.lineWidth=n.deselectedLineWidth,e.opacity=n.deselectedButtonOpacity,k.fill=y,k.opacity=n.deselectedButtonOpacity;break;case W.OVER:e.fill=b,e.stroke=n.overStroke,e.lineWidth=n.overLineWidth,e.opacity=n.overButtonOpacity,k.fill=w,k.opacity=n.overButtonOpacity;break;case W.PRESSED:e.fill=f,e.stroke=n.selectedStroke,e.lineWidth=n.selectedLineWidth,e.opacity=n.selectedButtonOpacity,k.fill=w,k.opacity=n.selectedButtonOpacity;break;default:throw new Error(`unsupported interactionState: ${M}`)}}i.link(D),this.disposeThreeDAppearanceStrategy=()=>{i.hasListener(D)&&i.unlink(D),d.dispose(),u.dispose(),l.dispose(),h.dispose(),p.dispose(),q.dispose(),V.dispose(),m.dispose()}}dispose(){this.disposeThreeDAppearanceStrategy()}}Re.ThreeDAppearanceStrategy=rd;B.register("RoundButton",Re);class Jn extends Re{constructor(e,i,s,t){assert&&assert(e.valueComparisonStrategy==="reference",'RoundStickyToggleButton depends on "===" equality for value comparison');const o=E()({soundPlayer:Ke,tandem:L.REQUIRED},t),r=new qs(i,s,e,o),n=new ms(r);super(r,n,o);const d=()=>o.soundPlayer.play();r.produceSoundEmitter.addListener(d);const u=()=>this.setPDOMAttribute("aria-pressed",e.value===s);e.link(u),this.disposeRoundStickyToggleButton=()=>{e.unlink(u),r.produceSoundEmitter.removeListener(d),r.dispose()}}dispose(){this.disposeRoundStickyToggleButton(),super.dispose()}}B.register("RoundStickyToggleButton",Jn);class ad extends Jn{constructor(e,i){super(e,!1,!0,i)}}B.register("BooleanRoundStickyToggleButton",ad);class Xn extends Re{constructor(e,i,s,t){assert&&assert(e.valueComparisonStrategy==="reference",'RoundToggleButton depends on "===" equality for value comparison');const o=E()({valueOffSoundPlayer:ts,valueOnSoundPlayer:is,tandem:L.REQUIRED,phetioFeatured:!0},t),r=new os(i,s,e,o),n=new ss(r);super(r,n,o),this.addLinkedElement(e,{tandemName:"property"});const d=()=>{e.value===i?o.valueOffSoundPlayer.play():e.value===s&&o.valueOnSoundPlayer.play()};this.buttonModel.produceSoundEmitter.addListener(d),this.disposeRoundToggleButton=()=>{this.buttonModel.produceSoundEmitter.removeListener(d),r.dispose()}}dispose(){this.disposeRoundToggleButton(),super.dispose()}}B.register("RoundToggleButton",Xn);class ld extends Xn{constructor(e,i,s,t){const o=E()({content:null,tandem:L.REQUIRED},t),r=new es(e,i,s,{tandem:o.tandem.createTandem("toggleNode")});o.content=r,super(e,!1,!0,o),this.disposeBooleanRoundToggleButton=function(){r.dispose()}}dispose(){this.disposeBooleanRoundToggleButton(),super.dispose()}}B.register("BooleanRoundToggleButton",ld);class ys extends Oo{constructor(e){super([e.looksOverProperty,e.looksPressedProperty],(i,s)=>i&&!s?W.OVER:s?W.PRESSED:W.IDLE,{valueType:W})}}B.register("MomentaryButtonInteractionStateProperty",ys);class fs extends ft{constructor(e,i,s,t){const o=E()({tandem:L.REQUIRED,phetioReadOnly:pe.DEFAULT_OPTIONS.phetioReadOnly},t);super(o);const r=d=>{d?this.enabledProperty.get()&&s.set(i):s.set(e)};this.downProperty.lazyLink(r);const n=d=>{this.downProperty.set(d===i)};s.link(n),this.disposeMomentaryButtonModel=()=>{this.downProperty.unlink(r),s.unlink(n)}}dispose(){this.disposeMomentaryButtonModel(),super.dispose()}}B.register("MomentaryButtonModel",fs);const ue=class ue extends _i{};ue.SELECTED=new ue,ue.DESELECTED=new ue,ue.OVER=new ue,ue.PRESSED=new ue,ue.enumeration=new zi(ue);let X=ue;B.register("RadioButtonInteractionState",X);class Zn extends Qo{constructor(e,i,s){super([e.focusedProperty,e.overProperty,e.looksOverProperty,e.looksPressedProperty,i],(t,o,r,n,d)=>{const u=d===s;return r&&!(n||u)?X.OVER:(o||t)&&n?X.PRESSED:u?X.SELECTED:X.DESELECTED},{valueType:X})}}B.register("RadioButtonInteractionStateProperty",Zn);class dd extends Ee{constructor(e,i,s,t){var n,d;const o=E()({tandem:L.REQUIRED},t),r=new fs(i,s,e,o);super(r,new ys(r),o),this.disposeRectangularMomentaryButton=()=>{r.dispose()},assert&&((d=(n=phet==null?void 0:phet.chipper)==null?void 0:n.queryParameters)!=null&&d.binder)&&G.registerDataURL("sun","RectangularMomentaryButton",this)}dispose(){this.disposeRectangularMomentaryButton(),super.dispose()}}B.register("RectangularMomentaryButton",dd);const tt=class tt extends Ee{constructor(e,i,s){assert&&assert(e.valueComparisonStrategy==="reference",'RectangularRadioButton depends on "===" equality for value comparison');const t=E()({soundPlayer:null,baseColor:Ut.LIGHT_BLUE,buttonAppearanceStrategy:tt.FlatAppearanceStrategy,buttonAppearanceStrategyOptions:{overButtonOpacity:.8,overStroke:null,selectedStroke:F.BLACK,selectedLineWidth:1.5,selectedButtonOpacity:1,deselectedStroke:new F(50,50,50),deselectedLineWidth:1,deselectedButtonOpacity:.6},contentAppearanceStrategy:tt.ContentAppearanceStrategy,contentAppearanceStrategyOptions:{overContentOpacity:.8,selectedContentOpacity:1,deselectedContentOpacity:.6},tagName:"input",inputType:"radio",labelTagName:"label",containerTagName:"li",appendDescription:!0,appendLabel:!0,accessibleName:L.toAccessibleName(s,"RadioButton"),tandem:L.REQUIRED,tandemNameSuffix:"RadioButton",phetioReadOnly:pe.DEFAULT_OPTIONS.phetioReadOnly},s),o=new ft({enabledPropertyOptions:t.enabledPropertyOptions,tandem:t.tandem,phetioEnabledPropertyInstrumented:t.phetioEnabledPropertyInstrumented}),r=new Zn(o,e,i);super(o,r,t),this.interactionStateProperty=r,e.value===i&&this.setPDOMAttribute("checked","checked");const n=l=>{this.pdomChecked=l===i};e.link(n),this.property=e,this.value=i,this.firedEmitter=new K({tandem:t.tandem.createTandem("firedEmitter"),phetioDocumentation:"Emits when the radio button is pressed",phetioReadOnly:t.phetioReadOnly,phetioEventType:Ve.USER}),this.firedEmitter.addListener(()=>e.set(i)),o.downProperty.link(l=>{!l&&(o.overProperty.get()||o.focusedProperty.get())&&!o.interrupted&&(this.fire(),this.voicingSpeakFullResponse({hintResponse:null}))});const d=t.soundPlayer||Ke,u=()=>{d.play()};o.produceSoundEmitter.addListener(u),this.disposeRectangularRadioButton=()=>{e.unlink(n),this.firedEmitter.dispose(),o.produceSoundEmitter.removeListener(u),o.dispose(),this.interactionStateProperty.dispose()}}dispose(){this.disposeRectangularRadioButton(),super.dispose()}fire(){this.buttonModel.enabledProperty.get()&&(this.firedEmitter.emit(),this.buttonModel.produceSoundEmitter.emit())}};tt.FlatAppearanceStrategy=class{constructor(i,s,t,o){const r=E()({stroke:t,lineWidth:1,deselectedButtonOpacity:1,deselectedLineWidth:1,deselectedStroke:"gray",overButtonOpacity:.8,overFill:null,overLineWidth:0,overStroke:null,selectedButtonOpacity:1,selectedLineWidth:1,selectedStroke:"black"},o),n=new H(t,{luminanceFactor:-.4}),d=new H(r.overFill||t,{luminanceFactor:o&&o.overFill?0:.4}),u=new H(r.overStroke||r.deselectedStroke,{luminanceFactor:o&&o.overStroke?0:-.4});this.maxLineWidth=Math.max(r.selectedLineWidth,r.deselectedLineWidth,r.overLineWidth),i.cachedPaints=[t,d,n,u,r.selectedStroke,r.deselectedStroke];function l(h){switch(h){case X.SELECTED:i.fill=t,i.stroke=r.selectedStroke,i.lineWidth=r.selectedLineWidth,i.opacity=r.selectedButtonOpacity;break;case X.DESELECTED:i.fill=t,i.stroke=r.deselectedStroke,i.lineWidth=r.deselectedLineWidth,i.opacity=r.deselectedButtonOpacity;break;case X.OVER:i.fill=d,i.stroke=u,i.lineWidth=Math.max(r.overLineWidth,r.deselectedLineWidth),i.opacity=r.overButtonOpacity;break;case X.PRESSED:i.fill=n,i.stroke=r.deselectedStroke,i.lineWidth=r.deselectedLineWidth,i.opacity=r.selectedButtonOpacity;break;default:throw new Error(`unsupported interactionState: ${h}`)}}s.link(l),this.disposeFlatAppearanceStrategy=()=>{s.hasListener(l)&&s.unlink(l),u.dispose(),d.dispose(),n.dispose()}}dispose(){this.disposeFlatAppearanceStrategy()}},tt.ContentAppearanceStrategy=class{constructor(i,s,t){const o=E()({deselectedContentOpacity:1,overContentOpacity:1,selectedContentOpacity:1},t);function r(n){if(i!==null)switch(n){case X.DESELECTED:i.opacity=o.deselectedContentOpacity;break;case X.OVER:i.opacity=o.overContentOpacity;break;case X.SELECTED:i.opacity=o.selectedContentOpacity;break;case X.PRESSED:i.opacity=o.deselectedContentOpacity;break;default:throw new Error(`unsupported state: ${n}`)}}s.link(r),this.disposeContentAppearanceStrategy=()=>{s.hasListener(r)&&s.unlink(r)}}dispose(){this.disposeContentAppearanceStrategy()}};let Ht=tt;B.register("RectangularRadioButton",Ht);let Do=0;const ud="RectangularRadioButtonGroup";class hd extends vt{constructor(e,i,s){var m,A;assert&&assert(_.uniqBy(i,c=>c.value).length===i.length,"items must have unique values"),assert&&assert(_.find(i,c=>c.value===e.value),"one radio button must be associated with property.value");const t=E()({soundPlayers:null,labelAlign:"bottom",labelSpacing:0,touchAreaXDilation:0,touchAreaYDilation:0,mouseAreaXDilation:0,mouseAreaYDilation:0,radioButtonOptions:{baseColor:Ut.LIGHT_BLUE,cornerRadius:4,xMargin:5,yMargin:5,xAlign:"center",yAlign:"center",buttonAppearanceStrategyOptions:{selectedStroke:"black",selectedLineWidth:1.5,selectedButtonOpacity:1,deselectedStroke:new F(50,50,50),deselectedLineWidth:1,deselectedButtonOpacity:.6,overButtonOpacity:.8},contentAppearanceStrategy:Ht.ContentAppearanceStrategy,contentAppearanceStrategyOptions:{overContentOpacity:.8,selectedContentOpacity:1,deselectedContentOpacity:.6}},spacing:10,stretch:!0,orientation:"vertical",disabledOpacity:Ae.DISABLED_OPACITY,tandem:L.REQUIRED,tandemNameSuffix:"ButtonGroup",visiblePropertyOptions:{phetioFeatured:!0},phetioEnabledPropertyInstrumented:!0,phetioFeatured:!0,tagName:"ul",labelTagName:"h3",ariaRole:"radiogroup",groupFocusHighlight:!0},s);assert&&assert(t.soundPlayers===null||t.soundPlayers.length===i.length,"If soundPlayers is provided, there must be one per radio button."),Do++;const o=new Map,r=ze(i,t.tandem);assert&&assert(_.every(r,c=>!c.hasPDOMContent),"Accessibility is provided by RectangularRadioButton and RectangularRadioButtonGroupItem.labelContent. Additional PDOM content in the provided Node could break accessibility.");const n=_.maxBy(r,c=>c.width).width,d=_.maxBy(r,c=>c.height).height,u=[],l=[],h=[],p=t.radioButtonOptions.xMargin,q=t.radioButtonOptions.yMargin;for(let c=0;c<i.length;c++){const g=i[c],P=r[c],C=I({content:P,minWidth:n+2*p,minHeight:d+2*q,soundPlayer:t.soundPlayers?t.soundPlayers[c]:Gt.getSelectionSoundPlayer(c),tandem:g.tandemName?t.tandem.createTandem(g.tandemName):t.tandem===L.OPT_OUT?L.OPT_OUT:L.REQUIRED,phetioDocumentation:g.phetioDocumentation||"",touchAreaXDilation:t.orientation==="horizontal"?t.spacing/2:t.touchAreaXDilation,touchAreaYDilation:t.orientation==="vertical"?t.spacing/2:t.touchAreaYDilation,mouseAreaXDilation:t.orientation==="horizontal"?t.spacing/2:t.mouseAreaXDilation,mouseAreaYDilation:t.orientation==="vertical"?t.spacing/2:t.mouseAreaYDilation},t.radioButtonOptions,g.options);g.labelContent&&(C.labelContent=g.labelContent,C.voicingNameResponse=g.labelContent),g.descriptionContent&&(C.descriptionContent=g.descriptionContent),g.voicingContextResponse&&(C.voicingContextResponse=g.voicingContextResponse);const y=new Ht(e,g.value,C);o.set(g.value,y),y.setPDOMAttribute("name",ud+Do);let b;if(g.label){const f=g.label,k=t.labelAlign==="bottom"||t.labelAlign==="top"?"vertical":"horizontal",D=t.labelAlign==="left"||t.labelAlign==="top"?[f,y]:[y,f];b=new vt({children:D,spacing:t.labelSpacing,orientation:k}),f.pickable=!1,t.radioButtonOptions.contentAppearanceStrategy&&h.push(new t.radioButtonOptions.contentAppearanceStrategy(f,y.interactionStateProperty,t.radioButtonOptions.contentAppearanceStrategyOptions))}else b=y;u.push(b);const w=new jt(b);l.push({radioButton:y,layoutNode:b,focusHighlight:w}),y.focusHighlight=w}t.children=u,super(t),this.radioButtonMap=o,this.addAriaLabelledbyAssociation({thisElementName:ae.PRIMARY_SIBLING,otherNode:this,otherElementName:ae.LABEL_SIBLING});const V={keydown:c=>c.pointer.reserveForKeyboardDrag()};this.addInputListener(V),this.addLinkedElement(e,{tandemName:"property"}),this.disposeRadioButtonGroup=()=>{this.removeInputListener(V),l.forEach(c=>{c.focusHighlight.dispose(),c.radioButton.dispose(),c.radioButton!==c.layoutNode&&c.layoutNode.dispose()}),h.forEach(c=>c.dispose&&c.dispose()),r.forEach(c=>c.dispose())},assert&&((A=(m=phet==null?void 0:phet.chipper)==null?void 0:m.queryParameters)!=null&&A.binder)&&G.registerDataURL("sun","RectangularRadioButtonGroup",this)}getButtonForValue(e){const i=this.radioButtonMap.get(e);return assert&&assert(i,"No button found for value: "+e),i}dispose(){this.radioButtonMap.clear(),this.disposeRadioButtonGroup(),super.dispose()}}B.register("RectangularRadioButtonGroup",hd);class cd extends Re{constructor(e,i,s,t){const o=E()({tandem:L.REQUIRED},t),r=new fs(i,s,e,o);super(r,new ys(r),o),this.disposeRoundMomentaryButton=()=>{r.dispose()}}dispose(){this.disposeRoundMomentaryButton(),super.dispose()}}B.register("RoundMomentaryButton",cd);class pd extends Re{constructor(e){var n,d;const i=E()({soundPlayer:Ke,tandem:L.REQUIRED},e),s=i.listener,t=_.omit(i,["listener"]),o=new ls(t);super(o,new as(o),t),this.pushButtonModel=o,s&&this.addListener(s);const r=()=>{i.soundPlayer.play()};o.produceSoundEmitter.addListener(r),this.disposeRoundPushButton=()=>{o.produceSoundEmitter.removeListener(r),o.dispose()},assert&&((d=(n=phet==null?void 0:phet.chipper)==null?void 0:n.queryParameters)!=null&&d.binder)&&G.registerDataURL("sun","RoundPushButton",this)}dispose(){super.dispose(),this.disposeRoundPushButton()}addListener(e){this.pushButtonModel.addListener(e)}removeListener(e){this.pushButtonModel.removeListener(e)}}B.register("RoundPushButton",pd);class Vd extends bt{constructor(e,i){const s=E()({font:Ho.DEFAULT,textFill:"black",maxTextWidth:null,tandem:L.REQUIRED,innerContent:e},i),t=new It(e,I({font:s.font,fill:s.textFill,maxWidth:s.maxTextWidth},s.textNodeOptions));s.content=t,super(s),this.disposeTextPushButton=()=>{t.dispose()}}dispose(){this.disposeTextPushButton(),super.dispose()}}B.register("TextPushButton",Vd);export{Oi as A,W as B,Bn as C,pt as E,G as I,pi as N,ed as O,Wt as P,hd as R,Ge as S,Vd as T,id as V,ee as W,bt as a,nd as b,ns as c,An as d,Pe as e,Vs as f,ne as g,te as h,ld as i,Ce as j,Ft as k,Zi as l,Ee as m,Fe as n,S as p,ge as s,Y as t};
