import{V as p}from"./chunk-23.js";import{o as W}from"./chunk-16.js";import{N as h,S as m,P as x,L as k,C as v,T as g}from"./chunk-17.js";import{g as z}from"./chunk-20.js";class B extends h{constructor(c,E){const P=W()({labels:!1},E),s=c.patternBoard,i=c.planarPatternMap,o=new h({scale:30});s.faces.forEach(t=>{const e=t.isExit,a=i.faceMap.get(t),n=m.polygon(a);o.addChild(new x(n,{lineWidth:.02,fill:e?"#377":"#000"}))}),s.sectors.forEach(t=>{const e=i.sectorMap.get(t),a=e[0],n=e[1],u=e[2],l=a.minus(n),C=u.minus(n),M=l.normalized(),d=l.angle;let r=C.angle;r<d&&(r+=2*Math.PI);const f=.25,w=new m().moveToPoint(n).lineToPoint(M.timesScalar(f).plus(n)).arcPoint(n,f,d,r,!0).close().makeImmutable();o.addChild(new x(w,{stroke:"#fa6",lineWidth:.02}))}),s.edges.forEach(t=>{if(t.isExit)return;const e=i.edgeMap.get(t);o.addChild(new k(e[0],e[1],{stroke:"#fff",lineWidth:.02}))}),s.vertices.forEach(t=>{const e=t.isExit;o.addChild(new v(e?.1:.07,{center:i.vertexMap.get(t),lineWidth:.02,stroke:"#ccc",fill:e?"#222":"#ccc"}))}),P.labels&&(s.faces.forEach(t=>{const e=t.isExit,a=i.faceMap.get(t),n=z(a);o.addChild(new g(t.index,{font:p,center:n,fill:e?"#0ff":"#0f0",maxWidth:.5,maxHeight:.5}))}),s.vertices.forEach(t=>{const e=i.vertexMap.get(t);o.addChild(new g(t.index,{font:p,center:e,fill:"#fff",maxWidth:.5,maxHeight:.5}))})),super({children:[o]}),this.planarMappedPatternBoard=c}}export{B as P};
