import{p as fe,o as w,q as mi,P as ce,r as hr,s as pr,t as Ho,u as Qo,T as j,n as L,D as X,v as Vr,w as Go,I as Te,x as Ar,y as Ci,R as ue,z as gr,N as ft,E as Hi,d as Qi,A as Ve,a as _o,e as Gi,F as Di,G as Ae,f as ee,V as xt,c as I,B as _i,g as mr,b as zo,O as se,k as qr,l as Ko,H as yr,J as jo,K as $e,L as fr,Q as Cs,U as br}from"./UnivariatePolynomial-B1fo8xe7.js";import{c as U,h as It,v as zi,w as Sr,f as Ki,B as z,x as ji,M as Z,D as Et,y as Pr,z as Ji,E as bt,J as ge,a as Ce,O as K,R as Q,Q as Xi,U as De,X as Zi,N as k,H as $i,e as es,d as rt,n as He,l as F,Y as Er,Z as wr,S as qi,_ as Tr,o as H,$ as Ke,r as Be,a0 as vt,P as J,a1 as Jo,a2 as Br,T as Nt,a3 as Zt,a4 as ae,a5 as Xo,W as _t,C as ot,F as ts,a6 as Ft,a7 as O,s as Zo,a8 as kr,a9 as $o,aa as en,ab as Lr,i as is,ac as xr,V as yi,K as tn,ad as Cr,ae as Ut,t as Dr,L as Mr,G as Rr,af as Or,ag as Ir,ah as ss,ai as Mi,aj as Ds,q as nt,ak as vr,al as Nr,am as Fr,an as Ur,ao as Wr,k as sn,ap as Ms,m as Yr,aq as on,b as wt}from"./PhetioControlledVisibilityProperty-BeZpyzqE.js";import{am as oe,S as N,av as os,l as Hr,aw as Rs,ax as Os,ay as Qr}from"./patternBoards-D316jvfQ.js";const Gr=["horizontal","vertical"];class nn extends U{constructor(e,i,s){const t=w()({phetioFeatured:!0,phetioValueType:mi,tandemNameSuffix:"StringProperty"},s);super(e,i,t)}}fe.register("DerivedStringProperty",nn);class _r extends ce{constructor(e,i,s){hr("Use EnumerationProperty. EnumerationDeprecated should be exchanged for classes that extend EnumerationValue, see WilderEnumerationPatterns for examples."),assert&&assert(e instanceof pr,"likely you are using the new and improved Enumeration, better use EnumerationProperty too."),assert&&assert(e.VALUES.includes(i),`invalid initialValue: ${i}`),s&&(assert&&assert(!s.hasOwnProperty("isValidValue"),"EnumerationDeprecatedProperty does not support isValidValue"),assert&&assert(!s.hasOwnProperty("valueType"),"EnumerationDeprecatedProperty sets valueType"),assert&&assert(!s.hasOwnProperty("phetioType"),"EnumerationDeprecatedProperty sets phetioType")),s=Ho({valueType:e,phetioValueType:Qo(e),validValues:e.VALUES},s),super(i,s),this.enumeration=e}}fe.register("EnumerationDeprecatedProperty",_r);class zr extends ce{constructor(e,i){const s=w()({enumeration:e.enumeration},i),t=w()({validValues:s.enumeration.values,phetioValueType:Qo({enumeration:s.enumeration})},s);super(e,t)}}fe.register("EnumerationProperty",zr);class rn extends It{constructor(e,i){super(new j(e),i)}}fe.register("MappedProperty",rn);const Kr={isObservableArray(a){return!!(Array.isArray(a)&&a.elementAddedEmitter&&a.elementRemovedEmitter&&a.lengthProperty)}};fe.register("ObservableArrayDef",Kr);const Is=a=>`${a}`;class fi extends nn{constructor(e,i,s){assert&&assert(!(i.tandem instanceof L),"Did you intend to put tandem in providedOptions?");const t=w()({formatNames:[],decimalPlaces:null,phetioFeatured:!0,tandemNameSuffix:"StringProperty"},s),o=[e],n={},r=Object.keys(i);r.forEach(d=>{const u=i[d];zi(u)&&o.push(u);let l=Is;if(t.decimalPlaces!==null&&(typeof t.decimalPlaces=="number"||t.decimalPlaces[d]!==null)){const c=typeof t.decimalPlaces=="number"||t.decimalPlaces===null?t.decimalPlaces:t.decimalPlaces[d];assert&&assert(c!==null),l=p=>Is(typeof p=="number"?X.toFixed(p,c):p)}t.maps&&t.maps.hasOwnProperty(d)?n[d]=c=>l(t.maps[d](c)):n[d]=l}),super(o,(...d)=>{const u=p=>{const m=o.indexOf(p);return m>=0?d[m]:p};let l=`${u(e)}`;t.formatNames.forEach((p,m)=>{l=l.replace(new RegExp(`\\{${m}\\}`,"g"),`{{${p}}}`)});const c=l.match(/\{\{[^{}]+\}\}/g)||[];for(let p=0;p<c.length;p++){const m=c[p],V=m.replace("{{","").replace("}}","");if(r.includes(V)){let q=u(i[V]);n[V]&&(q=n[V](q)),l=l.replace(m,`${q}`)}}return l},t)}}fe.register("PatternStringProperty",fi);const Ti=new Vr,an=a=>{if(assert&&assert(a,"StringUnionIO needs unionValues"),!Ti.has(a)){const e=a.join(",");Ti.set(a,new Te(`StringUnionIO<${e}>`,{documentation:"A PhET-iO Type validating on specific string values.",isValidValue:i=>a.includes(i),toStateObject:_.identity,fromStateObject:_.identity,stateSchema:Ar.asValue(`StringUnionIO<${e}>`,{isValidValue:i=>a.includes(i)})}))}return Ti.get(a)};Go.register("StringUnionIO",an);class Ri extends ce{constructor(e,i){const s=w()({phetioValueType:an(i.validValues)},i);super(e,s)}}fe.register("StringUnionProperty",Ri);class jr extends j{constructor(e){super(e.value),this.isOverridden=!1,this._targetProperty=e,assert&&assert(!this.isOverridden,"Should not be overridden on startup"),this._targetListener=this.onTargetPropertyChange.bind(this),this._targetProperty.lazyLink(this._targetListener)}set targetProperty(e){this.setTargetProperty(e)}setTargetProperty(e){if(this.targetProperty===e)return;const i=this.value;this.isOverridden||this._targetProperty.unlink(this._targetListener),this._targetProperty=e,this.isOverridden||(this._targetProperty.lazyLink(this._targetListener),this.equalsValue(i)||this.notifyListeners(i))}clearOverride(){if(this.isOverridden){const e=this.value;this.isOverridden=!1,this._targetProperty.lazyLink(this._targetListener),this.equalsValue(e)||this.notifyListeners(e)}}get(){return this.isOverridden?this._value:this._targetProperty.value}set(e){this.isOverridden||(this._value=this._targetProperty.value),super.set(e)}setPropertyValue(e){this.isOverridden||(this.isOverridden=!0,this._targetProperty.unlink(this._targetListener)),super.setPropertyValue(e)}equalsValue(e){return this.areValuesEqual(e,this.value)}onTargetPropertyChange(e,i){this.isOverridden||this.notifyListeners(i)}notifyListeners(e){this.emit(this.value,e,this)}dispose(){this.isOverridden||this._targetProperty.unlink(this._targetListener),super.dispose()}}fe.register("TinyOverrideProperty",jr);function vs(a){return(a instanceof Ci||a instanceof j)&&a.isSettable()&&!!a.range&&!!a.rangeProperty}class Jr extends rn{constructor(e,i){const s=n=>n*i.factor,t=n=>n/i.factor,o=w()({bidirectional:!0,map:s,inverseMap:t},i);super(e,o),this._property=e,this.rangeProperty=new ce(Sr),vs(e)&&(this._rangeListener=n=>{const r=s(n.min),d=s(n.max);this.rangeProperty.value=new ue(Math.min(r,d),Math.max(r,d))},e.rangeProperty.link(this._rangeListener))}get range(){return this.rangeProperty.value}set range(e){this.rangeProperty.value=e}dispose(){vs(this._property)&&this._property.rangeProperty.unlink(this._rangeListener),this.rangeProperty.dispose()}}fe.register("UnitConversionProperty",Jr);class Xr extends Ki{constructor(e,i,s){super(e,s),this.computeVariance=i}getRandomizedValue(){return this.computeVariance?this.computeVariance(super.get()):this.get()}}fe.register("VarianceNumberProperty",Xr);class zt extends ce{constructor(e,i){super(i.deserialize(localStorage.getItem(e))),this.link(s=>{const t=i.serialize(s),o=s===i.deserialize(null),n=localStorage.getItem(e);o?n!==null&&localStorage.removeItem(e):n!==t&&localStorage.setItem(e,i.serialize(s))})}}class Yd extends zt{constructor(e,i){super(e,{serialize:s=>s.toString(),deserialize:s=>s==="true"||s==="false"?s==="true":i})}}class Hd extends zt{constructor(e,i){super(e,{serialize:s=>s.toString(),deserialize:s=>s===null?i:parseFloat(s)})}}class Qd extends zt{constructor(e,i){super(e,{serialize:s=>s.name,deserialize:s=>s&&i.enumeration.getValue(s)||i})}}class Gd extends zt{constructor(e,i,s){super(e,{serialize:t=>t===null?"null":t.name,deserialize:t=>t&&(t==="null"?null:i.getValue(t))||s})}}class _d extends zt{constructor(e,i){super(e,{serialize:s=>s,deserialize:s=>s||i})}}function Ns(a,e,i){a.toDataURL(s=>{i[e].push(s)})}const Le=class Le{static registerDataURL(e,i,s){if(phet.chipper.queryParameters.binder){const t=`${e}/${i}`;Le.componentMap[t]=Le.componentMap[t]||[];try{if(s.boundsProperty.value.isFinite())Ns(s,t,Le.componentMap);else{const o=n=>{n.isFinite()&&(Ns(s,t,Le.componentMap),s.boundsProperty.unlink(o))};s.boundsProperty.lazyLink(o)}}catch{}}}static registerToolbox(e){phet.chipper.queryParameters.binder&&Le.registerDataURL("sun","ToolboxPattern",e)}};Le.componentMap={};let G=Le;gr.register("InstanceRegistry",G);const T=new ft("sun"),ne=(a,e)=>{const i=e.replace(new RegExp("^.*,"),""),s=atob(i),t=new Uint8Array(s.length);for(let o=0;o<t.length;o++)t[o]=s.charCodeAt(o);return t},Y=new ft("tambo");class te{constructor(){this.audioBufferProperty=new j(null),assert&&this.audioBufferProperty.lazyLink((e,i)=>{assert&&assert(i===null&&e!==null,"The audio buffer can only be set once")})}}Y.register("WrappedAudioBuffer",te);let Ct;self.AudioContext?Ct=new self.AudioContext:self.webkitAudioContext?Ct=new self.webkitAudioContext:(Ct={},console.error("error: this browser does not support Web Audio"));Y.register("phetAudioContext",Ct);const S=Ct,ln="data:audio/mpeg;base64,//swxAAAA8ADNZQRgDGHni23MIAC1bbaiNgdgM+wEHBiogUAbxA4MT+////gh//8Mf4YzNI0kYiNYjDZaLJCYAZZgbhKQTNx5Vp34WpSu/bhLvzLYwWSHokUhx0EBR4FA/Mp8sOz3gcWfL9YqH7kKIkzd9fLvSkB201St7337UyHKf7X9Pf//Ue9/6irjy/l3s5gqCo1lPVlVSBj//syxAOACFB7hZyUgDEUCu008ZpKfZq0pMq3UhCDwXYfD+n5X+IUp5YiEYMB0CgRCwfQF0AmAUjAlZVJuE4ZaTbKK0AIJCxUAwrWLf////l1oFP9Yo2m1QI89G8bsISUXc8TjPs5pDlVUzUq1VJLFYcIlvdQS0P1lohZFx5hFpVDCPaSKlRsdgIslDzfeqxt8iVd+v6aClA3ydRso//7MsQDgAhYV13sGEqhEJFpcZMJqE0gGS8ZU3ekWmMRbO4kqZnMgAHAFiPmBRdQFgRZHZrTNwZcRTYLKU4qxy3ieKohBwSNif5UwYc4W/ywiEYAtIWoggTByJ+YPcFxgdYE5MVlD41ZJSYBdPF8gQIZtZPy/cZWxBR5Bm7WwZdGkolTRTQXLpSOcoUvf3in/dyBZwzRXAF3ieJEAxD/+zLEBAAIkJlXlYaAARIWb3MegACpLHqwdgk0mfJ913UT0LiL5W+nIh+DsKATQJ4F0E4PF8c7FxaaaCZ80SpqZbfX7J/99fN0p/Onf+zSaVmKSAKAgKAgMAAAAAEBCVMt4sfsyRdHO3PTH0SBFi4jhEgNBinEXeeDSKeby9zBMKun3/pKZ6L//H/6T/p/82bkkAyj/5m7WOWuRFpI//swxAOACDgvi7zDADEQkW289AoWMABHxkZCUEwfjodDiYmpiWw9NWjIAhJEFkFSo4GnxwiDsrBoGn/g0DT64Kgq9BUFQWBo3WFDf4B//ljZRUwaFSyREkApYqDmkM8qYgtylZx9ZL7knEF4rFKLgqfa4GHahJbD5q+ZdeybNpd1LOzqJVWdmJgs9uNUoK61I9Pf1runDP5da2kA//syxAQACHita6eYTzEMFSdkzAigHGL2uEMDLL6xtFmUuujunUP9ODzjFKbt2J5yt77uOmiJWXQ6GAbIjvu17WVn/dDEccwhLJLW6dXU/dcsEAvP8BAST22Qg8WJEX2Cxxs84/BnOt15rGZwVs2FEtKWVPRHZitdbuySkumtHlb0M/U5QwcQRYSLI91T/epbUqPPogEGy4Ldq0ABj//7MsQEgAfcrTesFG1owIRiqMyYmD9U8MBcisSsURTFgBykNZkSUjL+oDB8VGCT310AYfb2ZlVRgEvbASNp8ptD8y7lYYlvxtFsCgAAYAQABAzjzrwIrmT2cuLIZOOOhHHQELC2rOtlix709VXnYiej4dx2rz2Vd/xL6QQAAHCikADAVHicCJrfesiRcXCNaoKuuneW+r1dXxFDvZf/+zLEEQBFcCEJoLHi8JuFVvDMGGz/vqeWI50KHuGnJHLWAAQIl4qgkpSn8oGq1rUCoSk3UAhEYtCgKWWwwIDo////4sLVTEFNRTMuOTkuNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",Zr=ne(S,ln),$r=oe.createLock(ln),at=new te;let Fs=!1;const $t=()=>{Fs||($r(),Fs=!0)},ea=a=>{at.audioBufferProperty.value===null&&(at.audioBufferProperty.set(a),$t())},ta=a=>{console.warn("decode of audio data failed, using stubbed sound, error: "+a),at.audioBufferProperty.set(S.createBuffer(1,1,S.sampleRate)),$t()},Us=S.decodeAudioData(Zr.buffer,ea,ta);Us&&Us.then(a=>{at.audioBufferProperty.value===null&&(at.audioBufferProperty.set(a),$t())}).catch(a=>{console.warn("promise rejection caught for audio decode, error = "+a),$t()});const dn="data:audio/mpeg;base64,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",ia=ne(S,dn),sa=oe.createLock(dn),Qe=new te;let Ws=!1;const ei=()=>{Ws||(sa(),Ws=!0)},oa=a=>{Qe.audioBufferProperty.value===null&&(Qe.audioBufferProperty.set(a),ei())},na=a=>{console.warn("decode of audio data failed, using stubbed sound, error: "+a),Qe.audioBufferProperty.set(S.createBuffer(1,1,S.sampleRate)),ei()},Ys=S.decodeAudioData(ia.buffer,oa,na);Ys&&Ys.then(a=>{Qe.audioBufferProperty.value===null&&(Qe.audioBufferProperty.set(a),ei())}).catch(a=>{console.warn("promise rejection caught for audio decode, error = "+a),ei()});const Tt=[],Xt=[],Pe={addStateChangeListener(a,e){let i=Tt.indexOf(a),s;i===-1?(Tt.push(a),i=Tt.length-1,s=[],Xt.push(s),assert&&assert(!a.onstatechange,"a listener function is already registered for this context"),a.onstatechange=()=>{_.clone(s).forEach(t=>{t(a.state)})}):s=Xt[i],s.push(e)},removeStateChangeListener(a,e){const i=Tt.indexOf(a);assert&&assert(i>=0,"audio context not found");const s=Xt[i],t=s.indexOf(e);assert&&assert(t>=0,"listener not found for specified audio context"),s.splice(t,1)},hasListener(a,e){let i=!1;const s=Tt.indexOf(a);if(s>=0){const t=Xt[s];t&&(i=t.includes(e))}return i}};Y.register("audioContextStateChangeMonitor",Pe);const de={DEFAULT_PARAM_CHANGE_TIME_CONSTANT:.015,DEFAULT_LINEAR_GAIN_CHANGE_TIME:.1,TWELFTH_ROOT_OF_TWO:Math.pow(2,1/12)};Y.register("soundConstants",de);const xe=class xe extends Hi{};xe.BASIC=new xe,xe.EXTRA=new xe,xe.enumeration=new Qi(xe,{phetioDocumentation:"describes whether a sound is considered part of the basic or the extra sounds for the sim"});let Ee=xe;Y.register("SoundScope",Ee);const ra=.15,aa=.02,Bt=de.DEFAULT_LINEAR_GAIN_CHANGE_TIME;class la extends Ve{constructor(e){var i,s,t,o;super({tandem:e,phetioState:!1,phetioDocumentation:"Controls the simulation's sound. For sims that do not support sound, this element and its children can be ignored."}),this.viewNodeDisplayedPropertyMap=new Map,this.enabledProperty=new z(((s=(i=phet==null?void 0:phet.chipper)==null?void 0:i.queryParameters)==null?void 0:s.supportsSound)||!1,{tandem:e==null?void 0:e.createTandem("enabledProperty"),phetioState:!1,phetioDocumentation:"Determines whether sound is enabled. Supported only if this sim supportsSound=true."}),this.extraSoundEnabledProperty=new z(((o=(t=phet==null?void 0:phet.chipper)==null?void 0:t.queryParameters)==null?void 0:o.extraSoundInitiallyEnabled)||!1,{tandem:e==null?void 0:e.createTandem("extraSoundEnabledProperty"),phetioState:!1,phetioDocumentation:"Determines whether extra sound is enabled. Extra sound is additional sounds that can serve to improve the learning experience for individuals with visual disabilities. Note that not all simulations that support sound also support extra sound. Also note that the value is irrelevant when enabledProperty is false."}),this.soundGeneratorInfoArray=[],this._mainOutputLevel=1,this._reverbLevel=aa,this.gainNodesForCategories=new Map,this.duckingProperties=ji(),this.initialized=!1,this.soundGeneratorsAwaitingAdd=[],this.mainGainNode=null,this.duckingGainNode=null,this.convolver=null,this.reverbGainNode=null,this.dryGainNode=null}initialize(e,i,s,t,o,n){assert&&assert(!this.initialized,"can't initialize the sound manager more than once");const r=w()({categories:["sim-specific","user-interface"]},n);assert&&assert(r.categories.length===_.uniq(r.categories).length,"categories must be unique");const d=S.currentTime,u=S.createDynamicsCompressor();u.threshold.setValueAtTime(-6,d),u.knee.setValueAtTime(5,d),u.ratio.setValueAtTime(12,d),u.attack.setValueAtTime(0,d),u.release.setValueAtTime(.25,d),u.connect(S.destination),this.duckingGainNode=S.createGain(),this.duckingGainNode.connect(u),this.mainGainNode=S.createGain(),this.mainGainNode.connect(this.duckingGainNode),this.convolver=S.createConvolver();const l=A=>{A&&(this.convolver.buffer=A,Qe.audioBufferProperty.unlink(l))};Qe.audioBufferProperty.link(l),this.reverbGainNode=S.createGain(),this.reverbGainNode.connect(this.mainGainNode),this.reverbGainNode.gain.setValueAtTime(this._reverbLevel,S.currentTime),this.convolver.connect(this.reverbGainNode),this.dryGainNode=S.createGain(),this.dryGainNode.gain.setValueAtTime(1-this._reverbLevel,S.currentTime),this.dryGainNode.gain.linearRampToValueAtTime(1-this._reverbLevel,S.currentTime+Bt),this.dryGainNode.connect(this.mainGainNode),assert&&assert(this.convolver!==null&&this.dryGainNode!==null,"some audio nodes have not been initialized"),r.categories.forEach(A=>{const h=S.createGain();h.connect(this.convolver),h.connect(this.dryGainNode),this.gainNodesForCategories.set(A,h)}),Z.multilink([this.enabledProperty,i,e,s,t,o],(A,h,g,P,x,y)=>{const E=A&&h&&g&&P&&x&&!y?this._mainOutputLevel:0;this.mainGainNode.gain.linearRampToValueAtTime(E,S.currentTime+Bt)});const c=new z(!1),p=()=>{c.value=this.duckingProperties.reduce((A,h)=>A||h.value,!1)};c.lazyLink(A=>{var P,x;assert&&assert(this.duckingGainNode,"ducking listener fired, but no ducking gain node exists");const h=A?.05:.5,g=S.currentTime;(P=this.duckingGainNode)==null||P.gain.cancelScheduledValues(g),(x=this.duckingGainNode)==null||x.gain.setTargetAtTime(A?ra:1,g,h)}),this.duckingProperties.addItemAddedListener(A=>{A.link(p);const h=g=>{g===A&&(g.unlink(p),this.duckingProperties.removeItemRemovedListener(h))};this.duckingProperties.addItemRemovedListener(h)});const m=()=>{self.removeEventListener("touchstart",V,!1),Et.userGestureEmitter.hasListener(V)&&Et.userGestureEmitter.removeListener(V)},V=()=>{S.state!=="running"?(phet.log&&phet.log(`audio context not running, attempting to resume, state = ${S.state}`),S.resume().then(()=>{phet.log&&phet.log(`resume appears to have succeeded, phetAudioContext.state = ${S.state}`),m()}).catch(A=>{const h=`error when trying to resume audio context, err = ${A}`;console.error(h),assert&&alert(h)})):m()};self.addEventListener("touchstart",V,!1),Et.userGestureEmitter.addListener(V);let q=S.state;Pe.addStateChangeListener(S,A=>{phet.log&&phet.log(`audio context state changed, old state = ${q}, new state = ${A}, audio context time = ${S.currentTime}`),A!=="running"?(self.addEventListener("touchstart",V,!1),Et.userGestureEmitter.hasListener(V)||Et.userGestureEmitter.addListener(V)):console.log("AudioContext is now running."),q=A}),this.initialized=!0,this.soundGeneratorsAwaitingAdd.forEach(A=>{this.addSoundGenerator(A.soundGenerator,A.soundGeneratorAddOptions)}),this.soundGeneratorsAwaitingAdd.length=0}hasSoundGenerator(e){return _.some(this.soundGeneratorInfoArray,i=>i.soundGenerator===e)}addSoundGenerator(e,i){if(i===void 0&&(i={}),!this.initialized){this.soundGeneratorsAwaitingAdd.push({soundGenerator:e,soundGeneratorAddOptions:i});return}assert&&assert(this.convolver!==null&&this.dryGainNode!==null,"some audio nodes have not been initialized");const s=this.hasSoundGenerator(e);assert&&assert(!s,"can't add the same sound generator twice");const t=w()({sonificationLevel:Ee.BASIC,associatedViewNode:null,categoryName:null},i);assert&&assert(_.includes(_.values(Ee),t.sonificationLevel),`invalid value for sonification level: ${t.sonificationLevel}`),t.categoryName===null?(e.connect(this.convolver),e.connect(this.dryGainNode)):(assert&&assert(this.gainNodesForCategories.has(t.categoryName),`category does not exist : ${t.categoryName}`),e.connect(this.gainNodesForCategories.get(t.categoryName)));const o={soundGenerator:e,sonificationLevel:t.sonificationLevel};if(this.soundGeneratorInfoArray.push(o),e.addEnableControlProperty(this.enabledProperty),t.sonificationLevel===Ee.EXTRA&&e.addEnableControlProperty(this.extraSoundEnabledProperty),t.associatedViewNode){const n=new Pr(t.associatedViewNode);e.addEnableControlProperty(n),this.viewNodeDisplayedPropertyMap.set(e,n)}}removeSoundGenerator(e){if(!this.initialized){const s=this.soundGeneratorsAwaitingAdd.filter(t=>t.soundGenerator===e);for(assert&&assert(s.length>0,"unable to remove sound generator - not found");s.length>0;)_o(this.soundGeneratorsAwaitingAdd,s[0]),s.shift();return}let i=null;for(let s=0;s<this.soundGeneratorInfoArray.length;s++)if(this.soundGeneratorInfoArray[s].soundGenerator===e){i=this.soundGeneratorInfoArray[s];break}assert&&assert(i,"unable to remove sound generator - not found"),e.isConnectedTo(this.convolver)&&e.disconnect(this.convolver),e.isConnectedTo(this.dryGainNode)&&e.disconnect(this.dryGainNode),this.gainNodesForCategories.forEach(s=>{e.isConnectedTo(s)&&e.disconnect(s)}),i&&this.soundGeneratorInfoArray.splice(this.soundGeneratorInfoArray.indexOf(i),1),this.viewNodeDisplayedPropertyMap.has(e)&&(this.viewNodeDisplayedPropertyMap.get(e).dispose(),this.viewNodeDisplayedPropertyMap.delete(e))}setMainOutputLevel(e){if(!this.initialized){console.warn("an attempt was made to set the main output level on an uninitialized sound manager, ignoring");return}assert&&assert(e>=0&&e<=1,`output level value out of range: ${e}`),this._mainOutputLevel=e,this.enabledProperty.value&&this.mainGainNode.gain.linearRampToValueAtTime(e,S.currentTime+Bt)}set mainOutputLevel(e){this.setMainOutputLevel(e)}get mainOutputLevel(){return this.getMainOutputLevel()}getMainOutputLevel(){return this._mainOutputLevel}setOutputLevelForCategory(e,i){if(!this.initialized){console.warn("an attempt was made to set the output level for a sound category on an uninitialized sound manager, ignoring");return}assert&&assert(this.initialized,"output levels for categories cannot be added until initialization has been done"),assert&&assert(i>=0&&i<=1,`output level value out of range: ${i}`),assert&&assert(this.gainNodesForCategories.get(e),`no category with name = ${e}`);const s=this.gainNodesForCategories.get(e);s&&s.gain.setValueAtTime(i,S.currentTime)}addDuckingProperty(e){this.duckingProperties.add(e)}removeDuckingProperty(e){assert&&assert(this.duckingProperties.includes(e),"ducking Property not present"),this.duckingProperties.remove(e)}getOutputLevelForCategory(e){if(!this.initialized)return console.warn("an attempt was made to get the output level for a sound category on an uninitialized sound manager, returning 0"),0;const i=this.gainNodesForCategories.get(e);return assert&&assert(i,`no category with name = ${e}`),i.gain.value}setReverbLevel(e){if(!this.initialized){console.warn("an attempt was made to set the reverb level on an uninitialized sound manager, ignoring");return}if(e!==this._reverbLevel){assert&&assert(e>=0&&e<=1,`reverb value out of range: ${e}`);const i=S.currentTime;this.reverbGainNode.gain.linearRampToValueAtTime(e,i+Bt),this.dryGainNode.gain.linearRampToValueAtTime(1-e,i+Bt),this._reverbLevel=e}}set reverbLevel(e){this.setReverbLevel(e)}get reverbLevel(){return this.getReverbLevel()}getReverbLevel(){return this._reverbLevel}set enabled(e){this.enabledProperty.value=e}get enabled(){return this.enabledProperty.value}set sonificationLevel(e){this.extraSoundEnabledProperty.value=e===Ee.EXTRA}get sonificationLevel(){return this.extraSoundEnabledProperty.value?Ee.EXTRA:Ee.BASIC}logGain(e,i){}logMainGain(e){this.mainGainNode&&this.logGain(this.mainGainNode,e)}logReverbGain(e){this.reverbGainNode&&this.logGain(this.reverbGainNode,e)}}const ns=new la;Y.register("soundManager",ns);const Hs=.05,da=[1,Math.pow(de.TWELFTH_ROOT_OF_TWO,2),Math.pow(de.TWELFTH_ROOT_OF_TWO,4),Math.pow(de.TWELFTH_ROOT_OF_TWO,5),Math.pow(de.TWELFTH_ROOT_OF_TWO,7),Math.pow(de.TWELFTH_ROOT_OF_TWO,9),Math.pow(de.TWELFTH_ROOT_OF_TWO,11)],un={detectSoundBounds:a=>{const e=a.length,i=[],s=[];for(let o=0;o<a.numberOfChannels;o++){const n=a.getChannelData(o);i[o]=ua(n,e,Hs),s[o]=ca(n,e,Hs)}const t=a.sampleRate;return{soundStart:_.min(i)/t,soundEnd:_.max(s)/t}},getMajorScalePlaybackRate:a=>{const e=a%7,i=Math.floor(a/7);return Math.pow(2,i)*da[e]}},ua=(a,e,i)=>{let s=0,t,o=!1;for(t=0;t<e-1&&!o;t++)a[t]>i&&a[t+1]>a[t]&&(s=t,o=!0);let n=0;for(o=!1,t=s;t>0&&!o;t--){const u=a[t];u<=0&&(n=u===0?t:t+1,o=!0)}let r=0,d=0;for(t=0;t<n;t++)r=Math.max(r,a[t]),d=Math.min(d,a[t]);return n},ca=(a,e,i)=>{let s=e-1,t=!1,o;for(o=e-1;o>0&&!t;o--)a[o]<=-i&&a[o-1]<a[o]&&(s=o,t=!0);let n=s;for(t=!1,o=s;o<e-1&&!t;o++)a[o+1]>=0&&(n=o,t=!0);let r=0,d=0;for(o=n;o<e;o++)r=Math.max(r,a[o]),d=Math.min(d,a[o]);return n};Y.register("SoundUtils",un);const ha=de.DEFAULT_PARAM_CHANGE_TIME_CONSTANT,pa=U.not(Ji);class cn extends Gi{constructor(e){super();const i=w()({initialOutputLevel:1,audioContext:S,connectImmediately:!1,enableControlProperties:[],additionalAudioNodes:[],enabledDuringPhetioStateSetting:!1},e);this.audioContext=i.audioContext,this._outputLevel=i.initialOutputLevel,this.connectionList=[],this.enableControlProperties=ji(),this.fullyEnabledProperty=new z(!0);const s=()=>{this.fullyEnabledProperty.value=_.every(this.enableControlProperties,t=>t.value)};this.enableControlProperties.addItemAddedListener(t=>{t.link(s);const o=n=>{n===t&&(n.unlink(s),this.enableControlProperties.removeItemRemovedListener(o))};this.enableControlProperties.addItemRemovedListener(o)}),i.enableControlProperties.forEach(t=>{this.addEnableControlProperty(t)}),this.locallyEnabledProperty=new z(!0),this.addEnableControlProperty(this.locallyEnabledProperty),this.mainGainNode=this.audioContext.createGain(),this.mainGainNode.gain.setValueAtTime(this._outputLevel,this.audioContext.currentTime),i.connectImmediately&&this.mainGainNode.connect(this.audioContext.destination),this.fullyEnabledProperty.link(t=>{const o=t?0:this._outputLevel,n=t?this._outputLevel:0,r=this.audioContext.currentTime;this.mainGainNode.gain.setValueAtTime(o,r),this.mainGainNode.gain.linearRampToValueAtTime(n,this.audioContext.currentTime+de.DEFAULT_LINEAR_GAIN_CHANGE_TIME)}),this.soundSourceDestination=this.mainGainNode;for(let t=i.additionalAudioNodes.length-1;t>=0;t--){const o=i.additionalAudioNodes[t];o.connect(this.soundSourceDestination),this.soundSourceDestination=o}L.PHET_IO_ENABLED&&!i.enabledDuringPhetioStateSetting&&this.addEnableControlProperty(pa),this.disposeEmitter.addListener(()=>{this.enableControlProperties.clear()})}connect(e){this.mainGainNode.connect(e),this.connectionList.push(e)}disconnect(e){this.mainGainNode.disconnect(e),this.connectionList=_.without(this.connectionList,e)}isConnectedTo(e){return this.connectionList.includes(e)}setOutputLevel(e,i=ha){if(e!==this._outputLevel){const s=this.audioContext.currentTime;this.fullyEnabledProperty.value&&(this.mainGainNode.gain.cancelScheduledValues(s),i===0?this.mainGainNode.gain.setValueAtTime(e,s):this.audioContext.state==="running"?this.mainGainNode.gain.setTargetAtTime(e,s,i):this.mainGainNode.gain.linearRampToValueAtTime(e,s+de.DEFAULT_LINEAR_GAIN_CHANGE_TIME)),this._outputLevel=e}}set outputLevel(e){this.setOutputLevel(e)}get outputLevel(){return this.getOutputLevel()}getOutputLevel(){return this._outputLevel}addEnableControlProperty(e){this.enableControlProperties.push(e)}removeEnableControlProperty(e){this.enableControlProperties.remove(e)}get locallyEnabled(){return this.locallyEnabledProperty.value}set locallyEnabled(e){this.locallyEnabledProperty.value=e}get fullyEnabled(){return this.fullyEnabledProperty.value}}Y.register("SoundGenerator",cn);const Va=.2,Aa=de.DEFAULT_PARAM_CHANGE_TIME_CONSTANT,ga=.1;class Wt extends cn{constructor(e,i){const s=w()({loop:!1,trimSilence:!0,initialPlaybackRate:1,initiateWhenDisabled:!1,rateChangesAffectPlayingSounds:!0},i);if(super(s),this.wrappedAudioBuffer=e,this.loop=s.loop,this.rateChangesAffectPlayingSounds=s.rateChangesAffectPlayingSounds,this.initiateWhenDisabled=s.initiateWhenDisabled,this.soundStart=0,this.soundEnd=null,s.trimSilence){const t=o=>{if(o){const n=un.detectSoundBounds(o);this.soundStart=n.soundStart,this.soundEnd=n.soundEnd,this.wrappedAudioBuffer.audioBufferProperty.unlink(t)}};this.wrappedAudioBuffer.audioBufferProperty.link(t)}this.activeBufferSources=[],this.localGainNode=this.audioContext.createGain(),this.localGainNode.connect(this.soundSourceDestination),this._playbackRate=s.initialPlaybackRate,this.isPlayingProperty=new z(!1),this.timeOfDeferredPlayRequest=Number.NEGATIVE_INFINITY,this.audioContextStateChangeListener=t=>{t==="running"&&((this.loop||(Date.now()-this.timeOfDeferredPlayRequest)/1e3<Va)&&this.play(.1),Pe.removeStateChangeListener(this.audioContext,this.audioContextStateChangeListener))},this.fullyEnabledProperty.lazyLink(t=>{!this.loop&&!t&&this.stop()}),this.disposeEmitter.addListener(()=>{Pe.hasListener(this.audioContext,this.audioContextStateChangeListener)&&Pe.removeStateChangeListener(this.audioContext,this.audioContextStateChangeListener)})}play(e=0){if(this.audioContext.state==="running"&&this.wrappedAudioBuffer.audioBufferProperty.value){const i=this.audioContext.currentTime;if(this.loop&&!this.isPlayingProperty.get()||!this.loop&&(this.fullyEnabled||this.initiateWhenDisabled)){const s=this.audioContext.createBufferSource();s.buffer=this.wrappedAudioBuffer.audioBufferProperty.value,s.loop=this.loop,s.loopStart=this.soundStart,this.soundEnd&&(s.loopEnd=this.soundEnd),this.localGainNode.gain.cancelScheduledValues(i),this.localGainNode.gain.setValueAtTime(1,i),s.connect(this.soundSourceDestination),this.activeBufferSources.push(s),this.loop||(s.onended=()=>{const t=this.activeBufferSources.indexOf(s);t>-1&&this.activeBufferSources.splice(t,1),this.isPlayingProperty.value=this.activeBufferSources.length>0}),s.playbackRate.setValueAtTime(this._playbackRate,i),s.start(i+e,this.soundStart),this.isPlayingProperty.value=!0}}else this.audioContext.state==="suspended"&&(this.timeOfDeferredPlayRequest=Date.now(),Pe.hasListener(this.audioContext,this.audioContextStateChangeListener)||Pe.addStateChangeListener(this.audioContext,this.audioContextStateChangeListener))}stop(e=ga){const i=e>0?e/4.61:de.DEFAULT_PARAM_CHANGE_TIME_CONSTANT,s=this.audioContext.currentTime,t=s+e;this.localGainNode.gain.cancelScheduledValues(s),this.localGainNode.gain.setTargetAtTime(0,s,i),this.activeBufferSources.forEach(o=>{o.stop(t)}),this.activeBufferSources.length=0,this.isPlayingProperty.value=!1,Pe.hasListener(this.audioContext,this.audioContextStateChangeListener)&&Pe.removeStateChangeListener(this.audioContext,this.audioContextStateChangeListener)}setPlaybackRate(e,i=Aa){if(assert&&assert(e>0,"invalid playback rate: "+e),this.rateChangesAffectPlayingSounds){const s=this.audioContext.currentTime;this.activeBufferSources.forEach(t=>{t.playbackRate.cancelScheduledValues(s),t.playbackRate.setTargetAtTime(e,s,i)})}this._playbackRate=e}getPlaybackRate(){return this._playbackRate}get playbackRate(){return this.getPlaybackRate()}get isPlaying(){return this.isPlayingProperty.value}getNumberOfPlayingInstances(){return this.activeBufferSources.length}}Y.register("SoundClip",Wt);class ie{constructor(e,i){const s=w()({soundClipOptions:{},soundManagerOptions:{}},i);this._soundClip=new Wt(e,s.soundClipOptions),ns.addSoundGenerator(this._soundClip,s.soundManagerOptions)}play(){this._soundClip.play()}stop(){this._soundClip.stop()}getSoundClip(){return this._soundClip}}Y.register("SoundClipPlayer",ie);const hn=new ie(at,{soundClipOptions:{initialOutputLevel:.2},soundManagerOptions:{categoryName:"user-interface"}});Y.register("switchToLeftSoundPlayer",hn);const pn="data:audio/mpeg;base64,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",ma=ne(S,pn),qa=oe.createLock(pn),lt=new te;let Qs=!1;const ti=()=>{Qs||(qa(),Qs=!0)},ya=a=>{lt.audioBufferProperty.value===null&&(lt.audioBufferProperty.set(a),ti())},fa=a=>{console.warn("decode of audio data failed, using stubbed sound, error: "+a),lt.audioBufferProperty.set(S.createBuffer(1,1,S.sampleRate)),ti()},Gs=S.decodeAudioData(ma.buffer,ya,fa);Gs&&Gs.then(a=>{lt.audioBufferProperty.value===null&&(lt.audioBufferProperty.set(a),ti())}).catch(a=>{console.warn("promise rejection caught for audio decode, error = "+a),ti()});const Vn=new ie(lt,{soundClipOptions:{initialOutputLevel:.2},soundManagerOptions:{categoryName:"user-interface"}});Y.register("switchToRightSoundPlayer",Vn);const ba=new ee(60,30);class rs extends bt(k){constructor(e,i,s,t){assert&&assert(e.valueComparisonStrategy==="reference",'ToggleSwitch depends on "===" equality for value comparison'),assert&&Di(t,["a11yName"],["innerContent","voicingNameResponse"]);const o=w()({size:ba,toggleWhileDragging:null,dragThreshold:3,toggleThreshold:1,thumbFill:null,thumbStroke:"black",thumbTouchAreaXDilation:8,thumbTouchAreaYDilation:8,thumbMouseAreaXDilation:0,thumbMouseAreaYDilation:0,trackFillLeft:null,trackFillRight:null,trackStroke:"black",cursor:"pointer",disabledOpacity:ge.DISABLED_OPACITY,switchToLeftSoundPlayer:hn,switchToRightSoundPlayer:Vn,tandem:L.REQUIRED,tandemNameSuffix:"Switch",phetioEventType:Ae.USER,phetioReadOnly:Ve.DEFAULT_OPTIONS.phetioReadOnly,visiblePropertyOptions:{phetioFeatured:!0},phetioEnabledPropertyInstrumented:!0,phetioFeatured:!0,tagName:"button",ariaRole:"switch",a11yName:null,leftValueContextResponse:null,rightValueContextResponse:null},t);let n=null;(!o.trackFillLeft||!o.trackFillRight)&&(n=new Ce(0,0,0,o.size.height).addColorStop(0,"rgb( 40, 40, 40 )").addColorStop(1,"rgb( 200, 200, 200 )")),o.trackFillLeft=o.trackFillLeft||n,o.trackFillRight=o.trackFillRight||n,o.thumbFill=o.thumbFill||new Ce(0,0,0,o.size.height).addColorStop(0,"white").addColorStop(1,"rgb( 200, 200, 200 )"),o.a11yName&&(o.voicingNameResponse=o.a11yName,o.innerContent=o.a11yName),super(),this.onInputEmitter=new K;const r=o.size.height/2,d=new Q(0,0,o.size.width,o.size.height,r,r,{stroke:o.trackStroke,fill:o.trackFillLeft});this.addChild(d);const u=new Q(0,0,o.size.width,o.size.height,r,r,{stroke:o.trackStroke,fill:o.trackFillRight});this.addChild(u);const l=new Q(0,0,.5*o.size.width,o.size.height,r,r,{fill:o.thumbFill,stroke:o.thumbStroke});this.addChild(l),(o.thumbTouchAreaXDilation||o.thumbTouchAreaYDilation)&&(l.touchArea=N.roundRect(-o.thumbTouchAreaXDilation,-o.thumbTouchAreaYDilation,.5*o.size.width+2*o.thumbTouchAreaXDilation,o.size.height+2*o.thumbTouchAreaYDilation,r,r)),(o.thumbMouseAreaXDilation||o.thumbMouseAreaYDilation)&&(l.mouseArea=N.roundRect(-o.thumbMouseAreaXDilation,-o.thumbMouseAreaYDilation,.5*o.size.width+2*o.thumbMouseAreaXDilation,o.size.height+2*o.thumbMouseAreaYDilation,r,r));const c=g=>{const P=d.lineWidth/2;g===i?l.left=-P:l.right=o.size.width+P,u.rectWidth=l.right-P,this.setPDOMAttribute("aria-pressed",g!==i),this.setPDOMAttribute("aria-checked",g!==i)};e.link(c);const p=o.dragThreshold*o.dragThreshold,m=new xt(0,0);let V=!1;const q=new Xi(g=>{e.value=g,this.onInputEmitter.emit()},{parameters:[{validValues:[i,s],phetioPrivate:!0}],tandem:o.tandem.createTandem("toggleAction"),phetioDocumentation:"Occurs when the switch is toggled via user interaction",phetioReadOnly:o.phetioReadOnly,phetioEventType:Ae.USER});this.onInputEmitter.addListener(()=>{e.value===i?o.switchToLeftSoundPlayer.play():o.switchToRightSoundPlayer.play();const g=e.value===s?o.rightValueContextResponse:o.leftValueContextResponse;g&&(this.alertDescriptionUtterance(g),this.voicingSpeakResponse({contextResponse:De.alertableToText(g)}))});const A=()=>l.centerX<d.centerX?i:s,h=new Zi({tandem:o.tandem.createTandem("dragListener"),canStartPress:g=>g&&(g.type==="move"||g.type==="enter")?_.includes(g.trail.nodes,l):!0,start:()=>{m.setXY(0,0),V=!1},drag:(g,P)=>{m.add(P.modelDelta),V=V||m.magnitudeSquared>p;const x=P.getCurrentTarget().globalToLocalPoint(g.pointer.point),y=l.width/2,b=d.lineWidth/2;l.centerX=X.clamp(x.x,y-b,o.size.width-y+b),u.rectWidth=l.right-b;const E=x.x<(1-2*o.toggleThreshold)*y||x.x>(-1+2*o.toggleThreshold)*y+o.size.width,f=A();(o.toggleWhileDragging===!0||E&&o.toggleWhileDragging===null)&&e.value!==f&&q.execute(f)},end:()=>{const g=e.value===i?s:i,P=V?A():g;e.value!==P&&q.execute(P),c(P)},canClick:!0});this.addInputListener(h),this.mutate(o),this.addLinkedElement(e,{tandemName:"property"}),this.switchToLeftSoundPlayer=o.switchToLeftSoundPlayer,this.switchToRightSoundPlayer=o.switchToRightSoundPlayer,this.disposeToggleSwitch=()=>{d.dispose(),u.dispose(),e.unlink(c),q.dispose(),h.dispose(),this.onInputEmitter.dispose()}}dispose(){this.disposeToggleSwitch(),super.dispose()}}T.register("ToggleSwitch",rs);const Sa=(a,e)=>{a.opacity=e?1:ge.DISABLED_OPACITY};class Pa extends $i{constructor(e,i,s,t,o,n){var V,q;assert&&assert(e.valueComparisonStrategy==="reference",'ABSwitch depends on "===" equality for value comparison'),assert&&assert(s.tandem,"labelA must have a tandem"),assert&&assert(o.tandem,"labelB must have a tandem");const r=w()({toggleSwitchOptions:{enabledPropertyOptions:{phetioFeatured:!1}},setLabelEnabled:Sa,centerOnSwitch:!1,cursor:"pointer",disabledOpacity:ge.DISABLED_OPACITY,spacing:8,tandem:L.REQUIRED,tandemNameSuffix:"Switch",visiblePropertyOptions:{phetioFeatured:!0},phetioEnabledPropertyInstrumented:!0},n),d=new rs(e,i,t,I({tandem:r.tandem.createTandem("toggleSwitch")},r.toggleSwitchOptions));let u=s,l=o;if(r.centerOnSwitch){const A=new es;u=new rt(s,{group:A,xAlign:"right"}),l=new rt(o,{group:A,xAlign:"left"})}r.children=[u,d,l],super(r),this.onInputEmitter=new K,this.property=e,this.valueA=i,this.valueB=t,this.labelA=s,this.labelB=o,this.toggleSwitch=d,this.setLabelEnabled=r.setLabelEnabled;const c=()=>this.updateLabelsEnabled();e.link(c);const p=new He({release:()=>{const A=e.value;e.value=i,A!==i&&this.onInputEmitter.emit()},tandem:s.tandem.createTandem("pressListener")});s.addInputListener(p);const m=new He({release:()=>{const A=e.value;e.value=t,A!==t&&this.onInputEmitter.emit()},tandem:o.tandem.createTandem("pressListener")});o.addInputListener(m),d.onInputEmitter.addListener(()=>this.onInputEmitter.emit()),this.onInputEmitter.addListener(()=>{e.value===t&&d.switchToRightSoundPlayer.play(),e.value===i&&d.switchToLeftSoundPlayer.play()}),this.disposeABSwitch=()=>{e.unlink(c),d.dispose(),this.onInputEmitter.dispose(),s.removeInputListener(p),o.removeInputListener(m),p.dispose(),m.dispose()},assert&&((q=(V=phet==null?void 0:phet.chipper)==null?void 0:V.queryParameters)!=null&&q.binder)&&G.registerDataURL("sun","ABSwitch",this)}dispose(){this.disposeABSwitch(),super.dispose()}onEnabledPropertyChange(e){!e&&this.interruptSubtreeInput(),this.inputEnabled=e,this.toggleSwitch.enabled=e,this.updateLabelsEnabled()}updateLabelsEnabled(){this.setLabelEnabled(this.labelA,this.enabled&&this.property.value===this.valueA),this.setLabelEnabled(this.labelB,this.enabled&&this.property.value===this.valueB)}}T.register("ABSwitch",Pa);const An="data:audio/mpeg;base64,//swxAAABSAbF7TAgDE5nqu/MHICAAAAcDYkDIEtmZ+0OAIDonAEAIOjgnenW/yhz/g+fh+CEocif//+c5RVQlRIdHdXcHffj/DYYCgBdaS6OzOU+xCNTd7EPI6nQ7mODNUkXlljx1AXgvbsgTi8z3+Z7a8aMfHP9uQFmXb1f/cmZM/9//sIhYP//sNqQJAgNJhWTyGAwFAoAATS//syxAeACW0Hgbi1EBESBuvjNGAAfDtZrw0MQaBPJj2MwQyJDLEhJZGoPjAvCMnP3dlJiAtJ8xr/PKk5hYV//3KDxif//6MYVcnt//+VFswo04EQAACAAC9YdezBqNoZHHQDlUSCuyZAkxazLI1qAeiR+JfccaBj1xti9B5JXrESzzBnSIgoXKxEzkQCos+pbPmxfwWXkwAAFm+93//7MsQDgAh4Z1G5gwABEY3y9x5iAuzlQAAAAAB2Wop4QsaAhgpWdRTKJsZcpp1XP57ykSikyYckLZ4Ty1TSs+HageepBZpVjXhgAMSIXXKmU65I0d/7dt7v7sNgMBwALVb09GkvHVk7fqBciIEitH44DchaeFCkbZVn3vi+3iz997uspO3MNCwv4nKHDdB/+gTro/8WA6oYAgMAeW//+zLEAwAIZH9bHaGAAQMgrTTxid9Ko07zWxQmamYZMUXJVhdXnyiL/VNVCqJJVOgImNStCjd9bH2ZjwZ/qQYUyG79QVWCpgKmMChqVd/4VIkkywFXa2uRpIAhLLU5m1VG6LimpHOKzIapjKZdQGJoCUbq7bMoVyt+j5W6t+WZ/r/KqPLMbv1Kxurf//8tBTuFZBUABV3GwiMDZuFj//swxAUCB4SDK0ywaICeAyN0wyROlYmGu6/rSDZ4E2kDhIFxZeHE1XJXBGqqqgLGqsZQ8m6ArsXr1fUvL1lChr+v/7fq//SC5HLZU2AEjwW0VUCig+dQNmTNmsUQ+tQt+EhX+skFfU3+n+u7/hV6TEFNRTMuOTkuNaqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",Ea=ne(S,An),wa=oe.createLock(An),dt=new te;let _s=!1;const ii=()=>{_s||(wa(),_s=!0)},Ta=a=>{dt.audioBufferProperty.value===null&&(dt.audioBufferProperty.set(a),ii())},Ba=a=>{console.warn("decode of audio data failed, using stubbed sound, error: "+a),dt.audioBufferProperty.set(S.createBuffer(1,1,S.sampleRate)),ii()},zs=S.decodeAudioData(Ea.buffer,Ta,Ba);zs&&zs.then(a=>{dt.audioBufferProperty.value===null&&(dt.audioBufferProperty.set(a),ii())}).catch(a=>{console.warn("promise rejection caught for audio decode, error = "+a),ii()});const gn=new ie(dt,{soundClipOptions:{initialOutputLevel:.5},soundManagerOptions:{categoryName:"user-interface"}});Y.register("accordionBoxClosedSoundPlayer",gn);const mn="data:audio/mpeg;base64,//swxAAABsArNnTzABEnmTA3HoACAAIOAYznNNVnYDYAWAjClBSA3BwKB48VkSUAABBynBhYP5QMCc+T4JnwQcoH/6gff/Of/l4gAIJkjluslkskluuAAAkTmCV7K1w6pqz7VkryDnmQVVFCJY0HRFDgrNPT7QRsUHNV+KVNJRPtYt0/426/nj/Tv/sPVjjhtrzPbywAATqIdRsL//syxAOACHStW/2RACEMj6e2smAEqYAYhGmdJfGbQRJM6d5rUVhcXmZTOP9blIoBChWlL5hQoqBgpUdHqJ/1McBGpaGctDO3++hgIUqDV8QgqAAntdpnEwAD6ruLLBhIIEPkpGtP5xWnwVF2czcptv1Fgk0VRRGN9VJRU46pQrSVRX///853QKKZ0dz3cGnwCKBwcHYEIC0hEM5EMv/7MsQEAAiQXW+5hIAREZRslzKwACEMBgAAD9/MyuFW/l8vMAkS99TuX45zufo9JjH/gbUAtafz/MqCaqJP4IIAARGcawPpR8H3iefS7zg45qAIBFAAV1AtJXsx44xwqAZ24lKIsEc5bDMUuS6XnBEXQqAakxM3KX8vlruv28Pc++21X/p71t0ufET/PUOSB+v8FT3Fl3GALLrbdbr/+zLEA4AIWHtvuPWAEROSLXcegALRIIBAAAAIpME09Jpkm6HEpcYWjTFeQLCjn4NAjRM5fbfr4UULuXdO+HtlGqi0a/9EFQ66zxGCz/4GGlyg0HFHJZM7ZIAwEAAAErGUoi0JXI6UF+hiurPpjdxalUIbk1pRYWEUpY39w/BVt/p1i48ySduL+KRKEg8sPo/yoV/yLlIIpJIQSCOJ//swxAODxLAbO7xggDAAADSAAAAEweQCRznEiWHEqW49z3nuJf8Fbqzvw1+e6j3TPf/BakxBTUUzLjk5LjWqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",ka=ne(S,mn),La=oe.createLock(mn),ut=new te;let Ks=!1;const si=()=>{Ks||(La(),Ks=!0)},xa=a=>{ut.audioBufferProperty.value===null&&(ut.audioBufferProperty.set(a),si())},Ca=a=>{console.warn("decode of audio data failed, using stubbed sound, error: "+a),ut.audioBufferProperty.set(S.createBuffer(1,1,S.sampleRate)),si()},js=S.decodeAudioData(ka.buffer,xa,Ca);js&&js.then(a=>{ut.audioBufferProperty.value===null&&(ut.audioBufferProperty.set(a),si())}).catch(a=>{console.warn("promise rejection caught for audio decode, error = "+a),si()});const qn=new ie(ut,{soundClipOptions:{initialOutputLevel:.5},soundManagerOptions:{categoryName:"user-interface"}});Y.register("accordionBoxOpenedSoundPlayer",qn);function je(a,e){return a.map(i=>(assert&&assert(!i.node,"Use createNode instead of node"),i.createNode(e&&i.tandemName?e.createTandem(i.tandemName):L.OPTIONAL)))}class bi extends k{constructor(e,i,s){var r,d,u;const t=w()({alignChildren:bi.CENTER,unselectedChildrenSceneGraphStrategy:"included"},s),o=je(i,(r=t.tandem)==null?void 0:r.createTandem("elements"));t.children=o,t.alignChildren(t.children),super(t);const n=l=>{const c=[];for(let p=0;p<i.length;p++){const V=i[p].value===l;o[p].visible=V,V&&c.push(o[p])}assert&&assert(c.length===1,`Wrong number of matches: ${c.length}`),t.unselectedChildrenSceneGraphStrategy==="excluded"&&(this.children=c)};e.link(n),this.nodes=o,this.disposeToggleNode=function(){e.unlink(n),o.forEach(l=>l.dispose())},assert&&((u=(d=phet==null?void 0:phet.chipper)==null?void 0:d.queryParameters)!=null&&u.binder)&&G.registerDataURL("sun","ToggleNode",this)}dispose(){this.disposeToggleNode(),super.dispose()}static CENTER(e){for(let i=1;i<e.length;i++)e[i].center=e[0].center}static CENTER_X(e){for(let i=1;i<e.length;i++)e[i].centerX=e[0].centerX}static CENTER_Y(e){for(let i=1;i<e.length;i++)e[i].centerY=e[0].centerY}static LEFT(e){for(let i=1;i<e.length;i++)e[i].left=e[0].left}static BOTTOM(e){for(let i=1;i<e.length;i++)e[i].bottom=e[0].bottom}static CENTER_BOTTOM(e){for(let i=1;i<e.length;i++)e[i].centerBottom=e[0].centerBottom}static RIGHT(e){for(let i=1;i<e.length;i++)e[i].right=e[0].right}static NONE(e){}}T.register("ToggleNode",bi);class as extends bi{constructor(e,i,s,t){super(e,[{value:!0,createNode:()=>i},{value:!1,createNode:()=>s}],t)}}T.register("BooleanToggleNode",as);const yn="data:audio/mpeg;base64,//swxAAABdzxBVQRADFFHaWrNxAA6lqlJJEQAExvBGPAACkboRpPkaQjfnfz5z/zvk6HfzvO//6nzn/8n8Wo50RIcE5h04AwQBAIwAHAAGGKl44UnQFxrI7b6JARZgWfzRC7X2cjUCZG/TgeAfXziIB7AOgm3/Dlw5chhj/4aoJEnxOhr/+bkURTNP+37dN///zd5/WqMcFKOhHs//syxAMACFBlQBnXgAEQCuRbvLAAMh2cNcpzMDxDOxVSMlAjYsYOAlbMUQJ8hAkSABkLAPbGhQfrk7xotjWuYO3uc9FKLMWDXX39eK91WL8a4ARAYAYFAQZg2BpmMcTuZ9zx5rwEJFAZZgjA1mC8BuLASofGAOAMhs/U/GV40k0Dkso2K6Npbban/lI2Pnd6J3///t66ABTcYocjaf/7MsQDgAX8JTutseaw6RRnNZCJDkFdpsKMGTznDUOCFN3UBmSx0M4MasPlPO6Ar07embS//T/2f27SK//YUG03dpZI2oMaBN8MJA5tI6MkldtNZgLZ+dUe9LvQy6Odv9a9cr9VPRUaBtgq9EWmz6Xj3KZTzOv1ylUAC+0kk0oAEUn+I0HZ6jICCWahweFTlrz07qq2Ls9T3N/Xljr/+zLEEgAFSBMjQWBgUI8CIvA3vAbc1Vf//uoAABTglUoQoEElDJAFw2zpqMe6sqMzu59/9uvz32/t/onv/5FMQU1FMy45OS41VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//swxC8DwAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",Da=ne(S,yn),Ma=oe.createLock(yn),ct=new te;let Js=!1;const oi=()=>{Js||(Ma(),Js=!0)},Ra=a=>{ct.audioBufferProperty.value===null&&(ct.audioBufferProperty.set(a),oi())},Oa=a=>{console.warn("decode of audio data failed, using stubbed sound, error: "+a),ct.audioBufferProperty.set(S.createBuffer(1,1,S.sampleRate)),oi()},Xs=S.decodeAudioData(Da.buffer,Ra,Oa);Xs&&Xs.then(a=>{ct.audioBufferProperty.value===null&&(ct.audioBufferProperty.set(a),oi())}).catch(a=>{console.warn("promise rejection caught for audio decode, error = "+a),oi()});const ls=new ie(ct,{soundClipOptions:{initialOutputLevel:.7},soundManagerOptions:{categoryName:"user-interface"}});Y.register("toggleOffSoundPlayer",ls);const fn="data:audio/mpeg;base64,//swxAAAByAnDnWRADEZkyy3M0ALJQcEAMk013znpOVkWGNCg9vD4oJlTQcNxQBIJ0PxSUlJSCwfB8Hz+CAIAN/DH/gg78EHS7//9QIJSLq/wFHg+AwFAAAAAAfFvo6+SmoCLgXFVlJaBRlrks8EfgdfwNGNDIX1icAtgSPunkTDV42yCf+OWMmXBP4hJ/+RAZg8nmowgLA3CbIw//syxAOACDxjRhnXgAEOCqVnuqAERLIypm8wTCMyMagDMoYEAyRAAgCAQ9za/ELra7bNcNI9BMVmPx3pF7P7a/wstMTOL6//gwrwjSeVKioAAkqgEBggJpjMDZgiPBm+0xy7jJ482ppET4kOhhSHhg8CKMhgGASP09uliMpAaC+Gyqiiyjd9/QiJjzxL//////p9lUBqv86UKJp6wP/7MsQEgAWgKTMsbMLwvwUmdaCI3g146KXMwJVAHDYhAjvxQKf+SIBJPJWbIrZ/1aVs/k7Lf2//7QQilFbJGkVBjWeEsADYyEamuw0dNdmGxS1qmJCrAKrGJZ+TX/V+1zX0fitWyROXKQQiijI22kTAod9keTOhUgChZfu1VSXOv2ubHdG+h4jXu2fLMV00rQvomqNH8kAAAARGFj3/+zLEGgDFrBkvoeWAcKKCYxBngBYhtAWgNUjlVDuFH+de4qlT5ENEZ7/8t7K3cKjB1Q/kmOcRTEFNRTMuOTkuNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//swxDMDwAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",Ia=ne(S,fn),va=oe.createLock(fn),ht=new te;let Zs=!1;const ni=()=>{Zs||(va(),Zs=!0)},Na=a=>{ht.audioBufferProperty.value===null&&(ht.audioBufferProperty.set(a),ni())},Fa=a=>{console.warn("decode of audio data failed, using stubbed sound, error: "+a),ht.audioBufferProperty.set(S.createBuffer(1,1,S.sampleRate)),ni()},$s=S.decodeAudioData(Ia.buffer,Na,Fa);$s&&$s.then(a=>{ht.audioBufferProperty.value===null&&(ht.audioBufferProperty.set(a),ni())}).catch(a=>{console.warn("promise rejection caught for audio decode, error = "+a),ni()});const ds=new ie(ht,{soundClipOptions:{initialOutputLevel:.7},soundManagerOptions:{categoryName:"user-interface"}});Y.register("toggleOnSoundPlayer",ds);const qe=class qe extends Hi{};qe.IDLE=new qe,qe.OVER=new qe,qe.PRESSED=new qe,qe.enumeration=new Qi(qe);let W=qe;T.register("ButtonInteractionState",W);const Yt={LIGHT_BLUE:new F(153,206,255),LIGHT_GRAY:new F(220,220,220)},Ua=new Er(.7),Wa=new wr(1.2);class be extends qi(bt(k)){constructor(e,i,s,t){var l;const o=w()({content:null,minUnstrokedWidth:null,minUnstrokedHeight:null,xMargin:10,yMargin:5,xAlign:"center",yAlign:"center",xContentOffset:0,yContentOffset:0,baseColor:Yt.LIGHT_BLUE,cursor:"pointer",buttonAppearanceStrategy:be.FlatAppearanceStrategy,buttonAppearanceStrategyOptions:{},contentAppearanceStrategy:null,contentAppearanceStrategyOptions:{},enabledAppearanceStrategy:(c,p,m,V)=>{m.filters=c?[]:[Ua,Wa],V&&(V.filters=c?[]:[Tr.FULL],V.opacity=c?1:ge.DISABLED_OPACITY)},disabledColor:Yt.LIGHT_GRAY,aspectRatio:null,tagName:"button",tandemNameSuffix:"Button",visiblePropertyOptions:{phetioFeatured:!0},phetioEnabledPropertyInstrumented:!0},t);o.listenerOptions=I({tandem:(l=o.tandem)==null?void 0:l.createTandem("pressListener")},o.listenerOptions),assert&&o.enabledProperty&&assert(o.enabledProperty===e.enabledProperty,"if options.enabledProperty is provided, it must === buttonModel.enabledProperty"),o.enabledProperty=e.enabledProperty,assert&&assert(o.aspectRatio===null||isFinite(o.aspectRatio)&&o.aspectRatio>0,`ButtonNode aspectRatio should be a positive finite value if non-null. Instead received ${o.aspectRatio}.`),super(),this.buttonNodeConstraint=null,this.content=o.content,this.buttonModel=e,this._settableBaseColorProperty=new H(o.baseColor),this._disabledColorProperty=new H(o.disabledColor),this.baseColorProperty=new U([this._settableBaseColorProperty,this.enabledProperty,this._disabledColorProperty],(c,p,m)=>p?c:m),this._pressListener=e.createPressListener(o.listenerOptions),this.addInputListener(this._pressListener),assert&&assert(i.fill===null,"ButtonNode controls the fill for the buttonBackground"),i.fill=this.baseColorProperty,this.addChild(i);const n=new o.buttonAppearanceStrategy(i,s,this.baseColorProperty,o.buttonAppearanceStrategyOptions);let r;o.contentAppearanceStrategy&&o.content&&(r=new o.contentAppearanceStrategy(o.content,s,o.contentAppearanceStrategyOptions)),this.maxLineWidth=n.maxLineWidth;let d=null,u=null;if(o.content){const c=o.content;c.pickable=!1,this.buttonNodeConstraint=new Ha(this,{content:o.content,xMargin:o.xMargin,yMargin:o.yMargin,maxLineWidth:this.maxLineWidth,minUnstrokedWidth:o.minUnstrokedWidth,minUnstrokedHeight:o.minUnstrokedHeight,aspectRatio:o.aspectRatio}),this.layoutSizeProperty=this.buttonNodeConstraint.layoutSizeProperty,d=new rt(c,{xAlign:o.xAlign,yAlign:o.yAlign,leftMargin:o.xMargin+o.xContentOffset,rightMargin:o.xMargin-o.xContentOffset,topMargin:o.yMargin+o.yContentOffset,bottomMargin:o.yMargin-o.yContentOffset}),u=Z.multilink([i.boundsProperty,this.layoutSizeProperty],(p,m)=>{d.alignBounds=_i.point(p.center).dilatedXY(m.width/2,m.height/2)}),this.addChild(d)}else assert&&assert(o.minUnstrokedWidth!==null),assert&&assert(o.minUnstrokedHeight!==null),this.layoutSizeProperty=new j(new ee(o.minUnstrokedWidth+this.maxLineWidth,o.minUnstrokedHeight+this.maxLineWidth));this.mutate(o),this.enabledProperty.link(c=>o.enabledAppearanceStrategy(c,this,i,d)),this.disposeButtonNode=()=>{d&&d.dispose(),u&&u.dispose(),n.dispose&&n.dispose(),r&&r.dispose&&r.dispose(),this._pressListener.dispose(),this.baseColorProperty.dispose()}}dispose(){this.buttonNodeConstraint&&this.buttonNodeConstraint.dispose(),this.disposeButtonNode(),super.dispose()}setBaseColor(e){this._settableBaseColorProperty.paint=e}set baseColor(e){this.setBaseColor(e)}get baseColor(){return this.getBaseColor()}getBaseColor(){return this._settableBaseColorProperty.paint}pdomClick(){this._pressListener.click(null)}isPDOMClicking(){return this._pressListener.pdomClickingProperty.get()}}class Ya{constructor(e,i,s,t){const o=new H(s,{luminanceFactor:.4}),n=new H(s,{luminanceFactor:-.4}),r=s,d=o,u=n,l=I({stroke:n},t),c=typeof l.lineWidth=="number"?l.lineWidth:1;e.stroke=l.stroke||n,e.lineWidth=c,this.maxLineWidth=e.hasStroke()?c:0,e.cachedPaints=[r,d,u];function p(m){switch(m){case W.IDLE:e.fill=r;break;case W.OVER:e.fill=d;break;case W.PRESSED:e.fill=u;break;default:throw new Error(`unsupported interactionState: ${m}`)}}i.link(p),this.disposeFlatAppearanceStrategy=()=>{i.hasListener(p)&&i.unlink(p),o.dispose(),n.dispose()}}dispose(){this.disposeFlatAppearanceStrategy()}}class Ha extends Ke{constructor(e,i){super(e),this.layoutSizeProperty=new j(new ee(0,0)),this.isFirstLayout=!0,this.lastLocalPreferredWidth=0,this.lastLocalPreferredHeight=0,this.buttonNode=e,this.content=i.content,this.xMargin=i.xMargin,this.yMargin=i.yMargin,this.maxLineWidth=i.maxLineWidth,this.minUnstrokedWidth=i.minUnstrokedWidth,this.minUnstrokedHeight=i.minUnstrokedHeight,this.aspectRatio=i.aspectRatio,this.buttonNode.localPreferredWidthProperty.lazyLink(this._updateLayoutListener),this.buttonNode.localPreferredHeightProperty.lazyLink(this._updateLayoutListener),this.addNode(this.content,!1),this.layout()}layout(){super.layout();const e=this.buttonNode,i=this.content;let s=Math.max(this.isFirstLayout||e.widthSizable?(Be(i)?i.minimumWidth||0:i.width)+this.xMargin*2:e.localMinimumWidth,this.minUnstrokedWidth===null?0:this.minUnstrokedWidth+this.maxLineWidth),t=Math.max(this.isFirstLayout||e.heightSizable?(vt(i)?i.minimumHeight||0:i.height)+this.yMargin*2:e.localMinimumHeight,this.minUnstrokedHeight===null?0:this.minUnstrokedHeight+this.maxLineWidth);this.aspectRatio!==null&&(s<t*this.aspectRatio&&(s=t*this.aspectRatio),t<s/this.aspectRatio&&(t=s/this.aspectRatio)),this.lastLocalPreferredWidth=this.isFirstLayout||Be(e)?Math.max(s,e.localPreferredWidth||0):this.lastLocalPreferredWidth,this.lastLocalPreferredHeight=this.isFirstLayout||vt(e)?Math.max(t,e.localPreferredHeight||0):this.lastLocalPreferredHeight,this.isFirstLayout=!1,this.layoutSizeProperty.value=new ee(this.lastLocalPreferredWidth,this.lastLocalPreferredHeight),e.localMinimumWidth=s,e.localMinimumHeight=t}dispose(){this.buttonNode.localPreferredWidthProperty.unlink(this._updateLayoutListener),this.buttonNode.localPreferredHeightProperty.unlink(this._updateLayoutListener),super.dispose()}}be.FlatAppearanceStrategy=Ya;T.register("ButtonNode",be);const Oi=7,Ii=7,et=3;class ke extends be{constructor(e,i,s){const t=w()({size:null,minWidth:Ii+et,minHeight:Oi+et,xMargin:8,yMargin:5,touchAreaXDilation:0,touchAreaYDilation:0,mouseAreaXDilation:0,mouseAreaYDilation:0,touchAreaXShift:0,touchAreaYShift:0,mouseAreaXShift:0,mouseAreaYShift:0,stroke:null,lineWidth:.5,cornerRadius:4,leftTopCornerRadius:null,rightTopCornerRadius:null,leftBottomCornerRadius:null,rightBottomCornerRadius:null,buttonAppearanceStrategy:ke.ThreeDAppearanceStrategy},s);t.content||assert&&assert(t.size!==void 0,"button dimensions needed if no content is supplied."),t.size?(assert&&assert(t.xMargin<t.size.width,"xMargin cannot be larger than width"),assert&&assert(t.yMargin<t.size.height,"yMargin cannot be larger than height"),t.minUnstrokedWidth=t.size.width,t.minUnstrokedHeight=t.size.height):(t.minWidth!==void 0&&(t.minUnstrokedWidth=t.minWidth),t.minHeight!==void 0&&(t.minUnstrokedHeight=t.minHeight)),t.buttonAppearanceStrategyOptions||(t.buttonAppearanceStrategyOptions={stroke:t.stroke,lineWidth:t.lineWidth});let o,n;t.size?(o=t.size.width,n=t.size.height):(o=Math.max(t.content?t.content.width+t.xMargin*2:0,t.minWidth),n=Math.max(t.content?t.content.height+t.yMargin*2:0,t.minHeight));const r=new J(eo(o,n,t));if(t.size&&t.content){const u=t.content,l=Math.min((t.size.width-t.xMargin*2)/u.width,(t.size.height-t.yMargin*2)/u.height);t.content=new k({children:[u],scale:l})}super(e,r,i,t);let d=!0;Z.multilink([this.isWidthResizableProperty,this.isHeightResizableProperty,this.layoutSizeProperty],(u,l,c)=>{(u||l)&&(r.shape=eo(u?c.width-this.maxLineWidth:o,l?c.height-this.maxLineWidth:n,t),assert&&assert(!u||r.width<=c.width+1e-7,"button width cannot exceed layout width"),assert&&assert(!l||r.height<=c.height+1e-7,"button width cannot exceed layout height")),(d||u||l)&&(this.touchArea=r.localBounds.dilatedXY(t.touchAreaXDilation,t.touchAreaYDilation).shiftedXY(t.touchAreaXShift,t.touchAreaYShift),this.mouseArea=r.localBounds.dilatedXY(t.mouseAreaXDilation,t.mouseAreaYDilation).shiftedXY(t.mouseAreaXShift,t.mouseAreaYShift)),d=!1})}}function eo(a,e,i){const s=Math.min(a/2,e/2);return N.roundedRectangleWithRadii(0,0,a,e,{topLeft:Math.min(s,i.leftTopCornerRadius!==null?i.leftTopCornerRadius:i.cornerRadius),topRight:Math.min(s,i.rightTopCornerRadius!==null?i.rightTopCornerRadius:i.cornerRadius),bottomLeft:Math.min(s,i.leftBottomCornerRadius!==null?i.leftBottomCornerRadius:i.cornerRadius),bottomRight:Math.min(s,i.rightBottomCornerRadius!==null?i.rightBottomCornerRadius:i.cornerRadius)})}let Qa=class{constructor(e,i,s,t){const o=t&&t.stroke?t.stroke:new H(s,{luminanceFactor:-.4}),n=t&&t.lineWidth!==void 0?t.lineWidth:.5,r=w()({stroke:o,lineWidth:n,overStroke:o,overLineWidth:n,overFill:s,overButtonOpacity:1,selectedStroke:o,selectedLineWidth:n,selectedButtonOpacity:1,deselectedStroke:o,deselectedLineWidth:n,deselectedButtonOpacity:1},t),d=new H(s,{luminanceFactor:.7}),u=new H(s,{luminanceFactor:.5}),l=new H(s,{luminanceFactor:.2}),c=new H(s,{luminanceFactor:-.3}),p=new H(s,{luminanceFactor:-.4}),m=new H(s,{luminanceFactor:-.5}),V=new U([s],P=>P.withAlpha(0)),q=new F(255,255,255,.7),A=new J(null,{stroke:r.stroke,lineWidth:r.lineWidth,pickable:!1});e.addChild(A),this.maxLineWidth=typeof r.lineWidth=="number"?r.lineWidth:0;let h;const g=()=>{const P=e.shape.bounds.width,x=e.shape.bounds.height;A.shape=e.shape,assert&&assert(P>=Ii+et),assert&&assert(x>=Oi+et);const y=Math.min(Oi/x,1),b=Math.max(1-et/x,0),E=Math.min(Ii/P,1),f=Math.max(1-et/P,0),B=new Ce(0,0,0,x).addColorStop(0,d).addColorStop(y,s).addColorStop(b,s).addColorStop(1,m),D=new Ce(0,0,P,0).addColorStop(0,q).addColorStop(E,V).addColorStop(f,V).addColorStop(1,m),M=new Ce(0,0,0,x).addColorStop(0,d).addColorStop(y,u).addColorStop(b,u).addColorStop(1,m),v=new Ce(0,0,P,0).addColorStop(0,q).addColorStop(E/2,new F(255,255,255,0)).addColorStop(f,V).addColorStop(1,c),re=new Ce(0,0,0,x).addColorStop(0,d).addColorStop(y*.67,c).addColorStop(b,l).addColorStop(1,m);e.cachedPaints=[B,M,re],A.cachedPaints=[D,v],h&&i.unlink(h),h=Xe=>{switch(Xe){case W.IDLE:e.fill=B,e.stroke=r.deselectedStroke,e.lineWidth=r.deselectedLineWidth,e.opacity=r.deselectedButtonOpacity,A.fill=D,A.opacity=r.deselectedButtonOpacity;break;case W.OVER:e.fill=M,e.stroke=r.overStroke,e.lineWidth=r.overLineWidth,e.opacity=r.overButtonOpacity,A.fill=v,A.opacity=r.overButtonOpacity;break;case W.PRESSED:e.fill=re,e.stroke=r.selectedStroke,e.lineWidth=r.selectedLineWidth,e.opacity=r.selectedButtonOpacity,A.fill=v,A.opacity=r.selectedButtonOpacity;break;default:throw new Error(`unsupported interactionState: ${Xe}`)}},i.link(h)};e.selfBoundsProperty.link(g),this.disposeThreeDAppearanceStrategy=()=>{e.selfBoundsProperty.unlink(g),i.hasListener(h)&&i.unlink(h),d.dispose(),u.dispose(),l.dispose(),c.dispose(),p.dispose(),m.dispose(),V.dispose()}}dispose(){this.disposeThreeDAppearanceStrategy()}};ke.ThreeDAppearanceStrategy=Qa;T.register("RectangularButton",ke);class us extends Jo{constructor(e){super([e.looksOverProperty,e.looksPressedProperty],(i,s)=>i&&!s?W.OVER:s?W.PRESSED:W.IDLE,{valueType:W})}}T.register("ToggleButtonInteractionStateProperty",us);class St extends Br{constructor(e){const i=w()({startCallback:_.noop,endCallback:_.noop,tandem:L.REQUIRED,phetioState:Ve.DEFAULT_OPTIONS.phetioState,phetioReadOnly:Ve.DEFAULT_OPTIONS.phetioReadOnly,phetioFeatured:Ve.DEFAULT_OPTIONS.phetioFeatured},e);i.enabledPropertyOptions=I({phetioState:i.phetioState,phetioReadOnly:i.phetioReadOnly,phetioDocumentation:"When disabled, the button is grayed out and cannot be pressed",phetioFeatured:!0},i.enabledPropertyOptions),super(i),this.overProperty=new z(!1),this.downProperty=new z(!1,{reentrant:!0}),this.focusedProperty=new z(!1),this.looksPressedProperty=new z(!1),this.looksOverProperty=new z(!1),this.produceSoundEmitter=new K,this.interrupted=!1,this.listeners=[],this.looksPressedMultilink=null,this.looksOverMultilink=null,this.downProperty.lazyLink(s=>{s?i.startCallback():i.endCallback(this.looksOverProperty.get())}),this.enabledProperty.link(s=>{if(!s)for(let t=0;t<this.listeners.length;t++){const o=this.listeners[t];o.interrupt&&o.interrupt()}}),this.disposeButtonModel=()=>{this.overProperty.dispose(),this.downProperty.dispose(),this.produceSoundEmitter.dispose(),this.looksPressedMultilink&&this.looksPressedMultilink.dispose(),this.looksOverMultilink&&this.looksOverMultilink.dispose(),this.listeners=[]}}dispose(){this.disposeButtonModel(),super.dispose()}createPressListener(e){e=I({canStartPress:()=>this.enabledProperty.value},e);const i=new He(e);this.listeners.push(i),i.isPressedProperty.lazyLink(o=>{this.interrupted=i.interrupted,this.downProperty.set(o)}),i.isOverProperty.lazyLink(this.overProperty.set.bind(this.overProperty)),i.isFocusedProperty.lazyLink(this.focusedProperty.set.bind(this.focusedProperty)),this.looksPressedMultilink&&this.looksPressedMultilink.dispose(),this.looksOverMultilink&&this.looksOverMultilink.dispose();const s=this.listeners.map(o=>o.looksPressedProperty);s.push(this.downProperty),this.looksPressedMultilink=Z.multilinkAny(s,(...o)=>{this.looksPressedProperty.value=_.reduce(o,(n,r)=>n||r,!1)});const t=this.listeners.map(o=>o.looksOverProperty);return this.looksOverMultilink=Z.multilinkAny(t,(...o)=>{this.looksOverProperty.value=_.reduce(o,(n,r)=>n||r,!1)}),i}}T.register("ButtonModel",St);class cs extends St{constructor(e,i,s,t){assert&&assert(s.valueComparisonStrategy==="reference",'ToggleButtonModel depends on "===" equality for value comparison');const o=w()({tandem:L.REQUIRED},t);super(o),this.valueOff=e,this.valueOn=i,this.valueProperty=s;const n=d=>{(this.overProperty.get()||this.focusedProperty.get())&&this.enabledProperty.get()&&!this.interrupted&&(d||this.toggle())};this.downProperty.link(n),this.toggledEmitter=new K({tandem:o.tandem.createTandem("toggledEmitter"),phetioDocumentation:"Emits when the button is toggled",phetioEventType:Ae.USER});const r=()=>{assert&&assert(this.valueProperty.value===this.valueOff||this.valueProperty.value===this.valueOn,`unrecognized value: ${this.valueProperty.value}`),this.valueProperty.value=this.valueProperty.value===this.valueOff?this.valueOn:this.valueOff};this.toggledEmitter.addListener(r),this.disposeToggleButtonModel=()=>{this.downProperty.unlink(n),this.toggledEmitter.dispose()}}dispose(){this.disposeToggleButtonModel(),super.dispose()}toggle(){this.toggledEmitter.emit(),this.produceSoundEmitter.emit()}}T.register("ToggleButtonModel",cs);class bn extends ke{constructor(e,i,s,t){assert&&assert(e.valueComparisonStrategy==="reference",'RectangularToggleButton depends on "===" equality for value comparison');const o=w()({valueOffSoundPlayer:ls,valueOnSoundPlayer:ds,tandem:L.REQUIRED,phetioFeatured:!0},t),n=new cs(i,s,e,o),r=new us(n);super(n,r,o),this.addLinkedElement(e,{tandemName:"property"});const d=()=>{e.value===i?o.valueOffSoundPlayer.play():e.value===s&&o.valueOnSoundPlayer.play()};this.buttonModel.produceSoundEmitter.addListener(d),this.disposeRectangularToggleButton=()=>{this.buttonModel.produceSoundEmitter.removeListener(d),n.dispose()}}dispose(){this.disposeRectangularToggleButton(),super.dispose()}}T.register("RectangularToggleButton",bn);class Sn extends bn{constructor(e,i,s,t){const o=new as(e,i,s),n=w()({content:o,tandem:L.REQUIRED},t);super(e,!1,!0,n),this.disposeBooleanRectangularToggleButton=()=>{o.dispose()}}dispose(){this.disposeBooleanRectangularToggleButton(),super.dispose()}}T.register("BooleanRectangularToggleButton",Sn);const Pn=.6,Ga=(1-Pn)/2;class En extends Sn{constructor(e,i){var p,m;const s=w()({sideLength:25,stroke:"black",touchAreaXDilation:5,touchAreaYDilation:5,tandem:L.REQUIRED,tandemNameSuffix:"Button"},i);s.cornerRadius=.1*s.sideLength,s.xMargin=Ga*s.sideLength,s.yMargin=s.xMargin,s.buttonAppearanceStrategy=be.FlatAppearanceStrategy;const t=Pn*s.sideLength,n={lineWidth:.15*s.sideLength,stroke:"white",centerX:s.sideLength/2,centerY:s.sideLength/2,pickable:!1},r=new N().moveTo(t/2,0).lineTo(t/2,t).moveTo(0,t/2).lineTo(t,t/2),d=new J(r,n),u=new N().moveTo(-t/2,0).lineTo(t/2,0),l=new J(u,n);super(e,l,d,s);const c=V=>{this.baseColor=V?"rgb( 255, 85, 0 )":"rgb( 0, 179, 0 )",this.setPDOMAttribute("aria-expanded",V)};e.link(c),assert&&((m=(p=phet==null?void 0:phet.chipper)==null?void 0:p.queryParameters)!=null&&m.binder)&&G.registerDataURL("sun","ExpandCollapseButton",this),this.disposeExpandCollapseButton=()=>{e.unlink(c)}}dispose(){this.disposeExpandCollapseButton(),super.dispose()}}T.register("ExpandCollapseButton",En);const Ne=class Ne extends qi(k){constructor(e,i){var V,q;assert&&i&&assert(!(i.hasOwnProperty("expandedProperty")&&i.hasOwnProperty("expandedDefaultValue")),"cannot specify expandedProperty and expandedDefaultValue in providedOptions");const s=w()({titleNode:null,expandedProperty:null,expandedDefaultValue:!0,resize:!0,overrideTitleNodePickable:!0,allowContentToOverlapTitle:!1,cursor:"pointer",lineWidth:1,cornerRadius:10,stroke:"black",fill:"rgb( 238, 238, 238 )",minWidth:0,titleAlignX:"center",titleAlignY:"center",titleXMargin:10,titleYMargin:2,titleXSpacing:5,showTitleWhenExpanded:!0,useExpandedBoundsWhenCollapsed:!0,titleBarExpandCollapse:!0,buttonAlign:"left",buttonXMargin:4,buttonYMargin:2,contentAlign:"center",contentVerticalAlign:"center",contentXMargin:15,contentYMargin:8,contentXSpacing:5,contentYSpacing:8,expandedSoundPlayer:qn,collapsedSoundPlayer:gn,tagName:"div",headingTagName:"h3",accessibleNameBehavior:Ne.ACCORDION_BOX_ACCESSIBLE_NAME_BEHAVIOR,voicingNameResponse:null,voicingObjectResponse:null,voicingContextResponse:null,voicingHintResponse:null,tandem:L.REQUIRED,tandemNameSuffix:"AccordionBox",phetioType:Ne.AccordionBoxIO,phetioEventType:Ae.USER,visiblePropertyOptions:{phetioFeatured:!0},titleBarOptions:{fill:null,stroke:null}},i);s.expandCollapseButtonOptions=I({sideLength:16,cursor:s.cursor,valueOnSoundPlayer:s.expandedSoundPlayer,valueOffSoundPlayer:s.collapsedSoundPlayer,voicingNameResponse:s.voicingNameResponse,voicingObjectResponse:s.voicingObjectResponse,voicingContextResponse:s.voicingContextResponse,voicingHintResponse:s.voicingHintResponse,tandem:s.tandem.createTandem("expandCollapseButton")},s.expandCollapseButtonOptions),super(),this.expandedBoxOutline=null,this.collapsedBoxOutline=null;let t=s.titleNode;t||(t=new Nt("",{tandem:s.tandem.createTandem("titleText")}),this.disposeEmitter.addListener(()=>t.dispose())),s.overrideTitleNodePickable&&(t.pickable=!1),this.expandedProperty=s.expandedProperty,this.expandedProperty||(this.expandedProperty=new z(s.expandedDefaultValue,{tandem:s.tandem.createTandem("expandedProperty"),phetioFeatured:!0}),this.disposeEmitter.addListener(()=>this.expandedProperty.dispose())),this.expandCollapseButton=new En(this.expandedProperty,s.expandCollapseButtonOptions),this.disposeEmitter.addListener(()=>this.expandCollapseButton.dispose());const o={fill:s.fill,cornerRadius:s.cornerRadius};this.expandedBox=new Q(o),this.collapsedBox=new Q(o),this.expandedTitleBar=new _a(null,I({lineWidth:s.lineWidth,cursor:s.cursor},s.titleBarOptions)),this.expandedBox.addChild(this.expandedTitleBar),this.collapsedTitleBar=new za(I({cornerRadius:s.cornerRadius,cursor:s.cursor},s.titleBarOptions)),this.collapsedBox.addChild(this.collapsedTitleBar);const n=new Zt(this.expandedTitleBar),r=new Zt(this.collapsedTitleBar);this.disposeEmitter.addListener(()=>{this.collapsedTitleBar.dispose(),this.expandedTitleBar.dispose()}),s.titleBarExpandCollapse?this.collapsedTitleBar.addInputListener({down:()=>{this.expandCollapseButton.isEnabled()&&(this.phetioStartEvent("expanded"),this.expandedProperty.value=!0,s.expandedSoundPlayer.play(),this.phetioEndEvent())}}):(this.expandedTitleBar.interactiveHighlight="invisible",this.collapsedTitleBar.interactiveHighlight="invisible"),s.showTitleWhenExpanded&&s.titleBarExpandCollapse&&this.expandedTitleBar.addInputListener({down:()=>{this.expandCollapseButton.isEnabled()&&(this.phetioStartEvent("collapsed"),s.collapsedSoundPlayer.play(),this.expandedProperty.value=!1,this.phetioEndEvent())}});const d=()=>{const A=this.expandCollapseButton.visible&&this.expandCollapseButton.pickable;this.collapsedTitleBar.pickable=A,this.expandedTitleBar.pickable=A};if(this.expandCollapseButton.visibleProperty.lazyLink(d),this.expandCollapseButton.pickableProperty.lazyLink(d),this.expandCollapseButton.enabledProperty.link(A=>{const h=s.titleBarExpandCollapse&&A;this.collapsedTitleBar.cursor=h&&s.cursor||null,this.expandedTitleBar.cursor=h&&s.cursor||null}),this.expandedBox.addChild(e),s.stroke){const A={stroke:s.stroke,lineWidth:s.lineWidth,cornerRadius:s.cornerRadius,pickable:!1};this.expandedBoxOutline=new Q(A),this.expandedBox.addChild(this.expandedBoxOutline),this.collapsedBoxOutline=new Q(A),this.collapsedBox.addChild(this.collapsedBoxOutline)}const u=new k({excludeInvisibleChildrenFromBounds:!s.useExpandedBoundsWhenCollapsed});this.addChild(u);const l=new k({tagName:"div",ariaRole:"region",pdomOrder:[e],ariaLabelledbyAssociations:[{otherNode:this.expandCollapseButton,otherElementName:ae.PRIMARY_SIBLING,thisElementName:ae.PRIMARY_SIBLING}]}),c=new k({tagName:s.headingTagName,pdomOrder:[this.expandCollapseButton]}),p=new k({children:[c,l]});this.addChild(p),this.constraint=new Ka(this,e,u,this.expandedBox,this.collapsedBox,this.expandedTitleBar,this.collapsedTitleBar,this.expandedBoxOutline,this.collapsedBoxOutline,t,this.expandCollapseButton,s),this.constraint.updateLayout(),this.constraint.enabled=s.resize;const m=()=>{const A=this.expandedProperty.value;this.expandedBox.visible=A,this.collapsedBox.visible=!A,this.expandCollapseButton.setFocusHighlight(A?n:r),t.visible=A&&s.showTitleWhenExpanded||!A,p.setPDOMAttribute("aria-hidden",!A),this.expandCollapseButton.voicingSpeakFullResponse({hintResponse:null})};this.expandedProperty.link(m),this.disposeEmitter.addListener(()=>this.expandedProperty.unlink(m)),this.mutate(_.omit(s,"cursor")),this.resetAccordionBox=()=>{s.expandedProperty||this.expandedProperty.reset()},assert&&((q=(V=phet==null?void 0:phet.chipper)==null?void 0:V.queryParameters)!=null&&q.binder)&&G.registerDataURL("sun","AccordionBox",this)}getCollapsedBoxHeight(){const e=this.constraint.lastCollapsedBoxHeight;return assert&&assert(e!==null),e}getExpandedBoxHeight(){const e=this.constraint.lastExpandedBoxHeight;return assert&&assert(e!==null),e}reset(){this.resetAccordionBox()}};Ne.AccordionBoxIO=new Te("AccordionBoxIO",{valueType:Ne,supertype:k.NodeIO,events:["expanded","collapsed"]}),Ne.ACCORDION_BOX_ACCESSIBLE_NAME_BEHAVIOR=(e,i,s,t)=>(t.push(()=>{e.expandCollapseButton.accessibleName=s}),i);let vi=Ne;class _a extends Xo(J){}class za extends Xo(Q){}class Ka extends Ke{constructor(e,i,s,t,o,n,r,d,u,l,c,p){super(e),this.accordionBox=e,this.contentNode=i,this.containerNode=s,this.expandedBox=t,this.collapsedBox=o,this.expandedTitleBar=n,this.collapsedTitleBar=r,this.expandedBoxOutline=d,this.collapsedBoxOutline=u,this.titleNode=l,this.expandCollapseButton=c,this.options=p,this.lastCollapsedBoxHeight=null,this.lastExpandedBoxHeight=null,this.accordionBox.localPreferredWidthProperty.lazyLink(this._updateLayoutListener),this.accordionBox.localPreferredHeightProperty.lazyLink(this._updateLayoutListener),this.accordionBox.expandedProperty.lazyLink(this._updateLayoutListener),this.addNode(i),this.addNode(l)}layout(){super.layout();const e=this.options;if(this.accordionBox.isChildIncludedInLayout(this.contentNode))this.containerNode.children=[this.expandedBox,this.collapsedBox,this.titleNode,this.expandCollapseButton];else{this.containerNode.children=[];return}const s=this.accordionBox.expandedProperty.value||e.useExpandedBoundsWhenCollapsed,t=e.stroke===null?0:e.lineWidth,o=this.createLayoutProxy(this.contentNode),n=this.createLayoutProxy(this.titleNode),r=o.minimumWidth,d=o.minimumHeight,u=n.minimumWidth,l=Math.max(this.expandCollapseButton.height+2*e.buttonYMargin,this.titleNode.height+2*e.titleYMargin),c=e.showTitleWhenExpanded?Math.max((e.allowContentToOverlapTitle?e.contentYMargin:l+e.contentYSpacing)+d+e.contentYMargin,l):Math.max(this.expandCollapseButton.height+2*e.buttonYMargin,d+2*e.contentYMargin);let p=Math.max(e.minWidth,e.buttonXMargin+this.expandCollapseButton.width+e.titleXSpacing+u+e.titleXMargin);e.titleAlignX==="center"&&(p=Math.max(p,(e.buttonXMargin+this.expandCollapseButton.width+e.titleXSpacing)*2+u),p=Math.max(p,e.titleXMargin*2+u)),e.showTitleWhenExpanded?p=Math.max(p,r+2*e.contentXMargin):p=Math.max(p,this.expandCollapseButton.width+r+e.buttonXMargin+e.contentXMargin+e.contentXSpacing);const m=p+t,V=(s?c:l)+t,q=Math.max(m,this.accordionBox.localPreferredWidth||0),A=Math.max(V,this.accordionBox.localPreferredHeight||0),h=q-t,g=A-t;this.lastCollapsedBoxHeight=l,s&&(this.lastExpandedBoxHeight=g),this.collapsedBox.rectWidth=h,this.collapsedBox.rectHeight=l;const P=this.collapsedBox.selfBounds;if(this.collapsedTitleBar.rectWidth=h,this.collapsedTitleBar.rectHeight=l,this.collapsedBoxOutline&&(this.collapsedBoxOutline.rectWidth=h,this.collapsedBoxOutline.rectHeight=l),s){this.expandedBox.rectWidth=h,this.expandedBox.rectHeight=g;const b=this.expandedBox.selfBounds;this.expandedBoxOutline&&(this.expandedBoxOutline.rectWidth=h,this.expandedBoxOutline.rectHeight=g),this.expandedTitleBar.shape=N.roundedRectangleWithRadii(0,0,h,l,{topLeft:e.cornerRadius,topRight:e.cornerRadius});let E=b.left+e.contentXMargin,f=b.right-e.contentXMargin;e.showTitleWhenExpanded||(e.buttonAlign==="left"?E+=this.expandCollapseButton.width+e.contentXSpacing:f-=this.expandCollapseButton.width+e.contentXSpacing);const B=f-E,D=g-(e.showTitleWhenExpanded&&!e.allowContentToOverlapTitle?l+e.contentYMargin+e.contentYSpacing:2*e.contentYMargin);Be(this.contentNode)&&this.accordionBox.localPreferredWidth!==null&&(this.contentNode.preferredWidth=B),vt(this.contentNode)&&this.accordionBox.localPreferredHeight!==null&&(this.contentNode.preferredHeight=D),e.contentVerticalAlign==="top"?this.contentNode.top=b.bottom-e.contentYMargin-D:e.contentVerticalAlign==="bottom"?this.contentNode.bottom=b.bottom-e.contentYMargin:this.contentNode.centerY=b.bottom-e.contentYMargin-D/2,e.contentAlign==="left"?this.contentNode.left=E:e.contentAlign==="right"?this.contentNode.right=f:this.contentNode.centerX=(E+f)/2}let x=P.left+e.titleXMargin,y=P.right-e.titleXMargin;e.buttonAlign==="left"?(this.expandCollapseButton.left=P.left+e.buttonXMargin,x=this.expandCollapseButton.right+e.titleXSpacing):(this.expandCollapseButton.right=P.right-e.buttonXMargin,y=this.expandCollapseButton.left-e.titleXSpacing),Be(this.titleNode)&&(this.titleNode.preferredWidth=y-x),e.titleAlignX==="left"?this.titleNode.left=x:e.titleAlignX==="right"?this.titleNode.right=y:this.titleNode.centerX=P.centerX,e.titleAlignY==="top"?(this.expandCollapseButton.top=this.collapsedBox.top+Math.max(e.buttonYMargin,e.titleYMargin),this.titleNode.top=this.expandCollapseButton.top):(this.expandCollapseButton.centerY=this.collapsedBox.centerY,this.titleNode.centerY=this.expandCollapseButton.centerY),o.dispose(),n.dispose(),this.accordionBox.localMinimumWidth=m,this.accordionBox.localMinimumHeight=V}dispose(){this.accordionBox.localPreferredWidthProperty.unlink(this._updateLayoutListener),this.accordionBox.localPreferredHeightProperty.unlink(this._updateLayoutListener),this.accordionBox.expandedProperty.unlink(this._updateLayoutListener),super.dispose()}}T.register("AccordionBox",vi);const wn="data:audio/mpeg;base64,//tQxAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAFAAAE5AAzMzMzMzMzMzMzMzMzMzMzMzMzZmZmZmZmZmZmZmZmZmZmZmZmZmaZmZmZmZmZmZmZmZmZmZmZmZmZmczMzMzMzMzMzMzMzMzMzMzMzMzM//////////////////////////8AAAA5TEFNRTMuOTlyAaUAAAAAAAAAABRAJAZmQgAAQAAABOTGvClKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/7UMQAAAjxrv+ggLoZGTXh9oJQAa222FG3ASABBG51MY/j4AAB4AYI3/H3//Pqd/zv0Jp/8//zn3n6Mmf/J7f//8jf+fOeeggHA4RXkGh8XEwHAMHD4udyCYuhAALhgJqWJAEDGMYxvHlyAHxc9P76dP//T/Rm//p+v9tvb0Tzr1XyfnelP/3b0//5vo86Mlm0dHQrscccRQg5oSYpziaiB52oQCkxnR6LQisRCEMhluyeqEhIiWMiSvQjhwDTCtCPyDkNrP+UsBTNwVsJGSD/+1LEFoAQMWtluYaQEWGP7H+wYAR9IvpDLBawV8OWbG5oShmbiVnh8GAU6ZIjnetMKuOcpmaSndX80HuS7puaIKq/6lvM36lIJf8+Zm6CFA0t3fV/91IOhPJ1GCH13q//5o6DJl9/F3ErtwAGRlJ26tx4H5gV4lzzrIqy8jTNBZl1Hep3doI2/x6AMOljV5/M4clzeagOVs4SmnmZk2fTyahylhxZ1R7/1HlnhEe4KgF3SISoKnviYs9T8sp4Ku5ICsAAg3RwNdct5GVqea2W4P/7UsQHgAuZRzrtmE8JO4qkaa4M4MXAzUcoyYPSsZe/D4w5DUicEmE/ziQka1VaLTh0y8+qp/UtRMpQoli5jYCz6St//RjTOrPXlI/KJaZ2RHX6mMrJqxfqVjPM/K/thi6pyAAPlyOxkEr9tPgR2ldNwBRI0383ZJR5NmIAG2zBZOw1tKaJR6jzjIxgTlVLjBgJmawwRo8JXAUYCz1gr/q+aVWur8tO+j4iUe////6ii3UCwZHQhxd93nYdy9H1MjPwThY/VGgQQLo200aOkCDF//tSxA+CCwg1HK3lIQHXlCPo97AIw8D44EBOcB8oGBIND4gcCBc+IFHC7wwUOA+oMiAaH1PDCw+mxbydxPV3/zjbCnci8p/9nIJTQYSH5vktZIAEdHIA5HkiS4k11MYsCUFS8QSbEVhJUnQlFpKIJNQhJJrBKEZ8kiKoJIkqToSj5KJJ6hiCTXCUJUZJEl45Ek9TCUfQkkyuSSbzS72V1mVruLnhMeBUsHREPDQiPA0VOiJwdKuBlR5Fqtbk3f///t8FdSogAuxJp2uAWhIWFmv/+1LEBgPGHADHoIhgIAAANIAAAATcLVLFRWKCwsLCyxUVFVf6xVmLCws1YqKior////2RVn/+LCwtTEFNRTMuOTkuM1VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ==",ja=ne(S,wn),Ja=oe.createLock(wn),pt=new te;let to=!1;const ri=()=>{to||(Ja(),to=!0)},Xa=a=>{pt.audioBufferProperty.value===null&&(pt.audioBufferProperty.set(a),ri())},Za=a=>{console.warn("decode of audio data failed, using stubbed sound, error: "+a),pt.audioBufferProperty.set(S.createBuffer(1,1,S.sampleRate)),ri()},io=S.decodeAudioData(ja.buffer,Xa,Za);io&&io.then(a=>{pt.audioBufferProperty.value===null&&(pt.audioBufferProperty.set(a),ri())}).catch(a=>{console.warn("promise rejection caught for audio decode, error = "+a),ri()});class $a{constructor(){this._basisSoundClip=null,this.soundPlayers=[]}getSoundClipInstance(){return this._basisSoundClip||(this._basisSoundClip=new Wt(pt,{initialOutputLevel:.7,rateChangesAffectPlayingSounds:!1}),ns.addSoundGenerator(this._basisSoundClip,{categoryName:"user-interface"})),this._basisSoundClip}getSelectionSoundPlayer(e){if(!this.soundPlayers[e]){const i=Math.pow(2,-e/12);this.soundPlayers[e]=new el(this.getSoundClipInstance(),i)}return this.soundPlayers[e]}}class el{constructor(e,i){this.soundPlayer=e,this.playbackRate=i}play(){this.soundPlayer.setPlaybackRate(this.playbackRate),this.soundPlayer.play()}stop(){this.soundPlayer.stop()}}const Kt=new $a;Y.register("multiSelectionSoundPlayerFactory",Kt);const gi=class gi extends _t(bt(k)){constructor(e,i,s,t){var x,y;assert&&assert(e.valueComparisonStrategy==="reference",'ToggleSwitch depends on "===" equality for value comparison');const o=w()({centerColor:"black",radius:gi.DEFAULT_RADIUS,selectedColor:"rgb( 143, 197, 250 )",deselectedColor:"white",xSpacing:8,stroke:"black",soundPlayer:Kt.getSelectionSoundPlayer(0),a11yNameAttribute:null,touchAreaXDilation:0,touchAreaYDilation:0,mouseAreaXDilation:0,mouseAreaYDilation:0,cursor:"pointer",disabledOpacity:ge.DISABLED_OPACITY,tandem:L.REQUIRED,tandemNameSuffix:"RadioButton",visiblePropertyOptions:{phetioFeatured:!0},phetioEnabledPropertyInstrumented:!0,tagName:"input",inputType:"radio",containerTagName:"li",labelTagName:"label",appendLabel:!0,appendDescription:!0},t);super(),this.onInputEmitter=new K,this._isMouseAreaCustomized=!1,this._isTouchAreaCustomized=!1,this._isSettingAreas=!1,this.value=i;const n=new k,r=new ot(o.radius/3,{fill:o.centerColor}),d=new ot(o.radius,{fill:o.selectedColor,stroke:o.stroke}),u=new k({children:[d,r]});n.addChild(u);const l=new k,c=new ot(o.radius,{fill:o.deselectedColor,stroke:o.stroke});l.addChild(c);const p=new k({children:[n,l],pickable:!1}),m=()=>{s.left=c.right+o.xSpacing,s.centerY=c.centerY};s.boundsProperty.link(m);const V=new Q({});n.pickable=l.pickable=!1,s.pickable=!1,this.children=[p,s,V],this.constraint=new tl(this,p,s,V,o),this.constraint.updateLayout();const q=b=>{n.visible=b===i,l.visible=!n.visible};e.link(q);const A=()=>{const b=e.value;e.set(i),b!==e.value&&this.onInputEmitter.emit()},h=new ts({fire:A,tandem:o.tandem.createTandem("fireListener")});this.addInputListener(h),this.onInputEmitter.addListener(()=>o.soundPlayer.play());const g={change:A};this.addInputListener(g),e.value===i&&this.setPDOMAttribute("checked","checked");const P=b=>{this.pdomChecked=b===i};e.link(P),o.a11yNameAttribute!==null&&this.setPDOMAttribute("name",o.a11yNameAttribute),this.mutate(o),this.disposeAquaRadioButton=()=>{this.constraint.dispose(),this.onInputEmitter.dispose(),this.removeInputListener(h),this.removeInputListener(g),e.unlink(P),e.unlink(q),s.boundsProperty.hasListener(m)&&s.boundsProperty.unlink(m),h.dispose()},assert&&((y=(x=phet==null?void 0:phet.chipper)==null?void 0:x.queryParameters)!=null&&y.binder)&&G.registerDataURL("sun","AquaRadioButton",this)}dispose(){this.disposeAquaRadioButton(),super.dispose()}};gi.DEFAULT_RADIUS=7;let ai=gi;class tl extends Ke{constructor(e,i,s,t,o){super(e),this.radioButton=e,this.radioNode=i,this.content=s,this.rectangle=t,this.options=o,this.radioButton.localPreferredWidthProperty.lazyLink(this._updateLayoutListener),this.addNode(s)}layout(){super.layout();const e=this.createLayoutProxy(this.content),i=e.minimumWidth,s=this.radioNode.width+this.options.xSpacing+i,t=Math.max(s,this.radioButton.localPreferredWidth||0);Be(this.content)&&(e.preferredWidth=t-this.radioNode.width-this.options.xSpacing),e.left=this.radioNode.right+this.options.xSpacing,e.centerY=this.radioNode.centerY,this.rectangle.rectBounds=this.radioNode.bounds.union(e.bounds).withMaxX(Math.max(this.radioNode.left+t,e.right)),this.radioButton._isSettingAreas=!0,this.radioButton._isTouchAreaCustomized||(this.radioButton.touchArea=this.radioButton.localBounds.dilatedXY(this.options.touchAreaXDilation,this.options.touchAreaYDilation)),this.radioButton._isMouseAreaCustomized||(this.radioButton.mouseArea=this.radioButton.localBounds.dilatedXY(this.options.mouseAreaXDilation,this.options.mouseAreaYDilation)),this.radioButton._isSettingAreas=!1,e.dispose(),this.radioButton.localMinimumWidth=s}dispose(){this.radioButton.localPreferredWidthProperty.unlink(this._updateLayoutListener),super.dispose()}}T.register("AquaRadioButton",ai);let so=0;const il="AquaRadioButtonGroup";class hs extends Ft{constructor(e,i,s){so++;const t=w()({touchAreaXDilation:0,touchAreaYDilation:0,mouseAreaXDilation:0,mouseAreaYDilation:0,orientation:"vertical",spacing:3,stretch:!0,disabledOpacity:ge.DISABLED_OPACITY,tandem:L.REQUIRED,tandemNameSuffix:"RadioButtonGroup",visiblePropertyOptions:{phetioFeatured:!0},phetioEnabledPropertyInstrumented:!0,phetioFeatured:!0,tagName:"ul",labelTagName:"h3",ariaRole:"radiogroup",groupFocusHighlight:!0},s),o=je(i,t.tandem);t.orientation==="vertical"&&(t.align=t.align||"left");const n=i.map((u,l)=>{assert&&assert(!u.tandem,"Cannot specify tandem any more");const c=o[l];return assert&&assert(!c.hasPDOMContent,"Accessibility is provided by AquaRadioButton and AquaRadioButtonGroupItem.labelContent. Additional PDOM content in the provided Node could break accessibility."),new ai(e,u.value,c,I({a11yNameAttribute:il+so,labelContent:u.labelContent||null,soundPlayer:Kt.getSelectionSoundPlayer(l),tandem:u.tandemName?t.tandem.createTandem(u.tandemName):t.tandem===L.OPT_OUT?L.OPT_OUT:L.REQUIRED,touchAreaXDilation:t.orientation==="horizontal"?t.spacing/2:t.touchAreaXDilation,touchAreaYDilation:t.orientation==="vertical"?t.spacing/2:t.touchAreaYDilation,mouseAreaXDilation:t.orientation==="horizontal"?t.spacing/2:t.mouseAreaXDilation,mouseAreaYDilation:t.orientation==="vertical"?t.spacing/2:t.mouseAreaYDilation},t.radioButtonOptions,u.options))});t.children=n,super(t),this.onInputEmitter=new K,this.addAriaLabelledbyAssociation({thisElementName:ae.PRIMARY_SIBLING,otherNode:this,otherElementName:ae.LABEL_SIBLING});const r={keydown:u=>{O.isArrowKey(u.domEvent)&&u.pointer.reserveForKeyboardDrag()}};this.addInputListener(r);const d=this.onRadioButtonInput.bind(this);for(let u=0;u<n.length;u++)n[u].onInputEmitter.addListener(d);this.addLinkedElement(e,{tandemName:"property"}),this.disposeAquaRadioButtonGroup=()=>{this.removeInputListener(r),n.forEach(u=>u.dispose()),this.onInputEmitter.dispose(),o.forEach(u=>u.dispose())},this.radioButtons=n}onRadioButtonInput(){this.onInputEmitter.emit()}dispose(){this.disposeAquaRadioButtonGroup(),super.dispose()}getButton(e){const i=_.find(this.radioButtons,s=>s.value===e);return assert&&assert(i,`no radio button found for value ${e}`),i}}T.register("AquaRadioButtonGroup",hs);const Tn="data:audio/mpeg;base64,//swxAAABlAhPLTAgDE1De+/HoACAH4CwkCAJDo5gDgPRksn2WLHOB8EHShd5cHwfBBwgBBOJw/UCAY/lAxWD/4DB9+CH/6XQjMTIIcYUIQPQIRAIBAACUIawkYq7IQ/BawVqEc7mTjD+OFygBAnHbHq7UkLJ8aCnnrZlPpg3IkRJBgPH/MCQCI985/yAnHAAhmv3lHuAgAgAxJF//syxAOACHQpa7zBAAD8EunxpI3HUCEZHQlA2EYuDsSjE5EkSQGhUDYDxOARLoiBmIgalVgq4qWeWBqsNYKywNO+p/sxFyKwVOlXRFDtZ0S86oQ0C2W+wBOmlaWuS6+BIqZMz+AYy3FuwBkKXM2idVoKlYwUd/oIGgsbLpEbaCsmIyZRtbw6TPwj+mYmGr8QqnGHBLo3LKAAxKabZ//7MsQGAAhsl1OsPMcxAo3mpbCaAvIuuQRmW4WNHhDBJnoBORIlh+I9dvGCTCKP0kzo7rHHTi87diQ2XqnRN77y8lnKUl8zf+X0Fu0iCDV/9AP7el8Cw8raZKqiYShe+6bzYk0zXmEuGnBDcQhyRzPeI4Jbsmj5OxzZVhSX9adVU4Kk9r9esE3etv+/6wUIg3Wm62nA3Ab0EIcLUQ7/+zLECABGICs9oemDMLwEZrQcvFYyDBCUCgUAwQCUSvgROof5poGn9O7o70P/X9P/T+360+lAhIJVtyuNDljXzM7Ek0fGUB/ltZQF8iD7dBcVTs00f31POqR0/V/q/pjEe1z3jyAAQRBHGmSBEEVK6QIYH2miQZKNfgCVtiH9vVLp+w7an/d0jdUx9VnqZIJSvFtsaUFKKFBVCzoe//swxBwABSAhLaDl4nCsA+a0fDyG3vbgKx5OhNXyuPYt7kJJSg9B6heqxP93q/9P6IwSQ8LbYIFBVUF85RwseJPX6+Q7qIq7f/8ayokh7P//V8oyAABbhbGEIBBhOJgEGTBx6KjUiosS54l6y0i3jOz/6f///RVMQU1FMy45OS41VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//syxDWABEQTMaCF4HCNAmL0EJgGVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ==",sl=ne(S,Tn),ol=oe.createLock(Tn),Vt=new te;let oo=!1;const li=()=>{oo||(ol(),oo=!0)},nl=a=>{Vt.audioBufferProperty.value===null&&(Vt.audioBufferProperty.set(a),li())},rl=a=>{console.warn("decode of audio data failed, using stubbed sound, error: "+a),Vt.audioBufferProperty.set(S.createBuffer(1,1,S.sampleRate)),li()},no=S.decodeAudioData(sl.buffer,nl,rl);no&&no.then(a=>{Vt.audioBufferProperty.value===null&&(Vt.audioBufferProperty.set(a),li())}).catch(a=>{console.warn("promise rejection caught for audio decode, error = "+a),li()});const Je=new ie(Vt,{soundClipOptions:{initialOutputLevel:.5},soundManagerOptions:{categoryName:"user-interface"}});Y.register("pushButtonSoundPlayer",Je);const ps=new ft("twixt"),C=class C{constructor(e,i,s){this.value=e,this.derivative=i,this.secondDerivative=s}static polynomialEaseInValue(e,i){return assert&&assert(Se(i),`invalid t: ${i}`),Math.pow(i,e)}static polynomialEaseOutValue(e,i){return assert&&assert(Se(i),`invalid t: ${i}`),1-Math.pow(1-i,e)}static polynomialEaseInOutValue(e,i){return assert&&assert(Se(i),`invalid t: ${i}`),i<=.5?.5*Math.pow(2*i,e):1-C.polynomialEaseInOutValue(e,1-i)}static polynomialEaseInDerivative(e,i){return assert&&assert(Se(i),`invalid t: ${i}`),e*Math.pow(i,e-1)}static polynomialEaseOutDerivative(e,i){return assert&&assert(Se(i),`invalid t: ${i}`),e*Math.pow(1-i,e-1)}static polynomialEaseInOutDerivative(e,i){return assert&&assert(Se(i),`invalid t: ${i}`),i<=.5?Math.pow(2,e-1)*e*Math.pow(i,e-1):C.polynomialEaseInOutDerivative(e,1-i)}static polynomialEaseInSecondDerivative(e,i){return assert&&assert(Se(i),`invalid t: ${i}`),(e-1)*e*Math.pow(i,e-2)}static polynomialEaseOutSecondDerivative(e,i){return assert&&assert(Se(i),`invalid t: ${i}`),-(e-1)*e*Math.pow(1-i,e-2)}static polynomialEaseInOutSecondDerivative(e,i){return assert&&assert(Se(i),`invalid t: ${i}`),i<=.5?Math.pow(2,e-1)*(e-1)*e*Math.pow(i,e-2):-C.polynomialEaseInOutSecondDerivative(e,1-i)}static polynomialEaseIn(e){return new C(C.polynomialEaseInValue.bind(null,e),C.polynomialEaseInDerivative.bind(null,e),C.polynomialEaseInSecondDerivative.bind(null,e))}static polynomialEaseOut(e){return new C(C.polynomialEaseOutValue.bind(null,e),C.polynomialEaseOutDerivative.bind(null,e),C.polynomialEaseOutSecondDerivative.bind(null,e))}static polynomialEaseInOut(e){return new C(C.polynomialEaseInOutValue.bind(null,e),C.polynomialEaseInOutDerivative.bind(null,e),C.polynomialEaseInOutSecondDerivative.bind(null,e))}};C.LINEAR=C.polynomialEaseIn(1),C.QUADRATIC_IN=C.polynomialEaseIn(2),C.QUADRATIC_OUT=C.polynomialEaseOut(2),C.QUADRATIC_IN_OUT=C.polynomialEaseInOut(2),C.CUBIC_IN=C.polynomialEaseIn(3),C.CUBIC_OUT=C.polynomialEaseOut(3),C.CUBIC_IN_OUT=C.polynomialEaseInOut(3),C.QUARTIC_IN=C.polynomialEaseIn(4),C.QUARTIC_OUT=C.polynomialEaseOut(4),C.QUARTIC_IN_OUT=C.polynomialEaseInOut(4),C.QUINTIC_IN=C.polynomialEaseIn(5),C.QUINTIC_OUT=C.polynomialEaseOut(5),C.QUINTIC_IN_OUT=C.polynomialEaseInOut(5);let At=C;function Se(a){return typeof a=="number"&&isFinite(a)&&a>=0&&a<=1}ps.register("Easing",At);class ye{constructor(e){this.startingValue=null,this.endingValue=null;const i=w()({setValue:null,getValue:null,property:null,object:null,attribute:null,to:null,delta:null,speed:null,from:null,easing:At.CUBIC_IN_OUT,blend:ye.DEFAULT_BLEND,distance:ye.DEFAULT_DISTANCE,add:ye.DEFAULT_ADD},e);assert&&assert(+(i.property!==null)+ +(i.object!==null)+ +(i.setValue!==null)==1,"Should have one (and only one) way of defining how to set the animated value. Use one of property/object/setValue"),assert&&assert(i.setValue===null||typeof i.setValue=="function","If setValue is provided, it should be a function."),assert&&assert(i.setValue===null||i.from!==null||typeof i.getValue=="function",'If setValue is provided and no "from" value is specified, then getValue needs to be a function.'),assert&&assert(i.to!==null||i.delta!==null,"Need something to animate to, use to/delta"),assert&&assert(i.property===null||zi(i.property)&&i.property.isSettable(),"If property is provided, it should be a settable Property or TinyProperty"),assert&&assert(i.object===null||typeof i.object=="object"&&typeof i.attribute=="string","If object is provided, then object should be an object, and attribute should be a string."),assert&&assert(i.easing instanceof At,"The easing should be of type Easing"),assert&&assert(typeof i.blend=="function","The blend option should be a function"),assert&&assert(typeof i.distance=="function","The distance option should be a function"),assert&&assert(typeof i.add=="function","The add option should be a function"),i.object&&(assert&&assert(i.attribute!==null),i.setValue=ye.OBJECT_SET(i.object,i.attribute),i.getValue=ye.OBJECT_GET(i.object,i.attribute)),i.property&&(i.setValue=ye.PROPERTY_SET(i.property),i.getValue=ye.PROPERTY_GET(i.property)),assert&&assert(i.setValue!==null),this.getValue=i.getValue,this.setValue=i.setValue,this.easing=i.easing,this.from=i.from,this.to=i.to,this.delta=i.delta,this.speed=i.speed,this.blend=i.blend,this.distance=i.distance,this.add=i.add}static DEFAULT_BLEND(e,i,s){if(assert&&assert(isFinite(s)&&s>=0&&s<=1,`Invalid ratio: ${s}`),s===0)return e;if(s===1)return i;if(typeof e=="number"&&typeof i=="number")return e+(i-e)*s;if(typeof e=="object"&&typeof i=="object"&&typeof e.blend=="function")return e.blend(i,s);throw new Error(`Blending not supported for: ${JSON.stringify(e)}, ${JSON.stringify(i)}, pass in a blend option`)}static DEFAULT_DISTANCE(e,i){if(typeof e=="number"&&typeof i=="number")return Math.abs(e-i);if(typeof e=="object"&&typeof i=="object"&&typeof e.distance=="function")return e.distance(i);throw new Error(`Distance (required for speed) by default not supported for: ${JSON.stringify(e)}, ${JSON.stringify(i)}, pass in a distance option`)}static DEFAULT_ADD(e,i){if(typeof e=="number"&&typeof i=="number")return e+i;if(typeof e=="object"&&typeof i=="object"&&typeof e.plus=="function")return e.plus(i);throw new Error(`Addition (required for delta) by default not supported for: ${JSON.stringify(e)}, ${JSON.stringify(i)}, pass in an add option`)}static OBJECT_SET(e,i){return function(s){e[i]=s}}static OBJECT_GET(e,i){return function(){return e[i]}}static PROPERTY_SET(e){return function(i){e.value=i}}static PROPERTY_GET(e){return function(){return e.value}}computeStartEnd(){assert&&assert(this.to!==null||this.delta!==null),assert&&assert(this.from!==null||this.getValue!==null),this.startingValue=this.from!==null?this.from:this.getValue(),this.endingValue=this.to!==null?this.to:this.add(this.startingValue,this.delta)}update(e){assert&&assert(this.setValue!==null),assert&&assert(this.startingValue!==null),assert&&assert(this.endingValue!==null),this.setValue(this.blend(this.startingValue,this.endingValue,this.easing.value(e)))}hasPreferredDuration(){return this.speed!==null}getPreferredDuration(){return assert&&assert(this.startingValue!==null),assert&&assert(this.delta!==null),this.speed===null?null:this.speed*this.distance(this.startingValue,this.delta)}}ps.register("AnimationTarget",ye);class Bn extends Gi{constructor(e){const i=w()({targets:null,duration:null,delay:0,stepEmitter:Zo},e);assert&&assert(+(i.property!==void 0)+ +(i.object!==void 0)+ +(i.setValue!==void 0)+ +(i.targets!==null)==1,"Should have one (and only one) way of defining how to set the animated value. Use one of property/object/setValue/targets"),assert&&assert(typeof i.delay=="number"&&isFinite(i.delay)&&i.delay>=0,"The delay should be a non-negative number."),assert&&assert(i.stepEmitter===null||i.stepEmitter instanceof K||i.stepEmitter instanceof mr,"stepEmitter must be null or an (Tiny)Emitter"),super(i),this.length=0,this.remainingDelay=0,this.remainingAnimation=0,this.runningProperty=new z(!1),this.animatingProperty=new z(!1),this.startEmitter=new K,this.beginEmitter=new K,this.finishEmitter=new K({parameters:[{valueType:"number"}]}),this.stopEmitter=new K,this.endedEmitter=new K({hasListenerOrderDependencies:!0}),this.updateEmitter=new K,this.targets=(i.targets===null?[i]:i.targets).map(t=>new ye(t)),assert&&assert(+(i.duration!==null)+_.sum(_.map(this.targets,t=>t.hasPreferredDuration()?1:0))===1,"Exactly one duration/speed option should be used."),this.duration=i.duration,this.delay=i.delay;const s=i.stepEmitter;if(s){const t=this.step.bind(this);this.runningProperty.link(o=>{o&&!s.hasListener(t)?s.addListener(t):!o&&s.hasListener(t)&&s.removeListener(t)}),this.disposeEmitter.addListener(()=>{s.hasListener(t)&&s.removeListener(t)})}}start(e){return this.runningProperty.value?this:(this.remainingDelay=this.delay,this.runningProperty.value=!0,this.startEmitter.emit(),this.step(e!==void 0?e:0),this)}stop(){return this.runningProperty.value?(this.runningProperty.value=!1,this.stopEmitter.emit(),this.endedEmitter.emit(),this):this}step(e){if(!this.runningProperty.value)return this;if(!this.animatingProperty.value){if(this.remainingDelay-=e,e=-this.remainingDelay,this.remainingDelay>0)return this;this.length=this.duration;for(let s=0;s<this.targets.length;s++){const t=this.targets[s];t.computeStartEnd(),this.length===null&&(this.length=t.getPreferredDuration())}assert&&assert(this.length!==null,"After going through the targets, we should have a length by now"),this.remainingAnimation=this.length,this.animatingProperty.value=!0,this.beginEmitter.emit()}this.remainingAnimation-=e,e=-this.remainingAnimation,assert&&assert(this.length!==null);const i=this.length>0?X.clamp((this.length-this.remainingAnimation)/this.length,0,1):1;for(let s=0;s<this.targets.length;s++)this.targets[s].update(i);return this.updateEmitter.emit(),i===1&&(this.animatingProperty.value=!1,this.runningProperty.value=!1,this.finishEmitter.emit(e),this.endedEmitter.emit()),this}then(e){return this.finishEmitter.addListener(i=>e.start(i)),e}dispose(){this.runningProperty.dispose(),this.animatingProperty.dispose(),this.startEmitter.dispose(),this.beginEmitter.dispose(),this.finishEmitter.dispose(),this.stopEmitter.dispose(),this.endedEmitter.dispose(),this.updateEmitter.dispose(),super.dispose()}}ps.register("Animation",Bn);class Vs extends kr{constructor(e){super([e.focusedProperty,e.overProperty,e.looksOverProperty,e.looksPressedProperty],(i,s,t,o)=>t&&!o?W.OVER:(s||i)&&o?W.PRESSED:W.IDLE,{valueType:W})}}T.register("PushButtonInteractionStateProperty",Vs);class As extends St{constructor(e){const i=w()({fireOnDown:!1,listener:null,interruptListener:null,fireOnHold:!1,fireOnHoldDelay:400,fireOnHoldInterval:100,tandem:L.REQUIRED,phetioReadOnly:Ve.DEFAULT_OPTIONS.phetioReadOnly},e);super(i),this.startEvent=null,this.isFiringProperty=new z(!1),this.firedEmitter=new K({tandem:i.tandem.createTandem("firedEmitter"),phetioDocumentation:"Emits when the button is fired",phetioReadOnly:i.phetioReadOnly,phetioEventType:Ae.USER,hasListenerOrderDependencies:!0}),i.interruptListener&&this.firedEmitter.addListener(()=>{i.interruptListener(this.startEvent)}),i.listener!==null&&this.firedEmitter.addListener(i.listener),i.fireOnHold&&(this.timer=new $o({callback:this.fire.bind(this),delay:i.fireOnHoldDelay,interval:i.fireOnHoldInterval}));const s=o=>{var n,r,d;if(o)this.enabledProperty.get()&&(this.startEvent=((d=(r=(n=phet==null?void 0:phet.joist)==null?void 0:n.display)==null?void 0:r._input)==null?void 0:d.currentSceneryEvent)||null,i.fireOnDown&&this.fire(),this.timer&&this.timer.start(),(i.fireOnDown||this.timer)&&this.produceSoundEmitter.emit());else{const u=!i.fireOnDown&&(this.overProperty.get()||this.focusedProperty.get())&&this.enabledProperty.get()&&!this.interrupted;this.timer?this.timer.stop(u):u&&(this.produceSoundEmitter.emit(),this.fire())}};this.downProperty.link(s);const t=o=>{!o&&this.timer&&this.timer.stop(!1)};this.enabledProperty.link(t),this.disposePushButtonModel=()=>{this.isFiringProperty.value=!1,this.isFiringProperty.dispose(),this.firedEmitter.dispose(),this.downProperty.unlink(s),this.enabledProperty.unlink(t),this.timer&&(this.timer.dispose(),this.timer=null)}}dispose(){this.disposePushButtonModel(),super.dispose()}addListener(e){this.firedEmitter.addListener(e)}removeListener(e){this.firedEmitter.removeListener(e)}fire(){assert&&assert(!this.isFiringProperty.value,"Cannot fire when already firing"),this.isFiringProperty.value=!0,this.firedEmitter.emit(),this.isFiringProperty.value=!1}}T.register("PushButtonModel",As);class Pt extends ke{constructor(e){var r,d;const i=w()({soundPlayer:Je,tandem:L.REQUIRED},e),s=i.listener,t=_.omit(i,["listener"]),o=new As(t);super(o,new Vs(o),t),this.pushButtonModel=o,s&&this.addListener(s);const n=()=>{i.soundPlayer.play()};o.produceSoundEmitter.addListener(n),this.disposeRectangularPushButton=function(){o.produceSoundEmitter.removeListener(n),o.dispose()},assert&&((d=(r=phet==null?void 0:phet.chipper)==null?void 0:r.queryParameters)!=null&&d.binder)&&G.registerDataURL("sun","RectangularPushButton",this)}dispose(){super.dispose(),this.disposeRectangularPushButton()}addListener(e){this.pushButtonModel.addListener(e)}removeListener(e){this.pushButtonModel.removeListener(e)}}T.register("RectangularPushButton",Pt);const ro={up:0,down:Math.PI,left:-Math.PI/2,right:Math.PI/2};class Ni extends Pt{constructor(e){const i=w()({arrowDirection:"up",arrowSize:new ee(20,7),arrowPathOptions:{stroke:"black",lineWidth:3,lineCap:"round"},baseColor:"rgba( 200, 200, 200, 0.5 )",buttonAppearanceStrategy:be.FlatAppearanceStrategy,cornerRadius:4},e);let s=null;i.stroke===void 0&&(s=new H(i.baseColor,{luminanceFactor:-.8}),i.stroke=s),assert&&assert(ro.hasOwnProperty(i.arrowDirection),`invalid direction: ${i.arrowDirection}`);let t=new N().moveTo(0,0).lineTo(i.arrowSize.width/2,-i.arrowSize.height).lineTo(i.arrowSize.width,0);t=t.transformed(zo.rotation2(ro[i.arrowDirection])),i.content=new J(t,i.arrowPathOptions);const o=i.arrowDirection,n=i.cornerRadius;if(i.leftTopCornerRadius=o==="up"||o==="left"?n:0,i.rightTopCornerRadius=o==="up"||o==="right"?n:0,i.leftBottomCornerRadius=o==="down"||o==="left"?n:0,i.rightBottomCornerRadius=o==="down"||o==="right"?n:0,o==="up"||o==="down"){const r=i.mouseAreaYDilation/2||0,d=i.touchAreaYDilation/2||0;i.mouseAreaYDilation=r,i.touchAreaYDilation=d,i.mouseAreaYShift=o==="up"?-r:r,i.touchAreaYShift=o==="up"?-d:d}else{const r=i.mouseAreaXDilation/2||0,d=i.touchAreaXDilation/2||0;i.mouseAreaXDilation=r,i.touchAreaXDilation=d,i.mouseAreaXShift=o==="left"?-r:r,i.touchAreaXShift=o==="left"?-d:d}super(i),this.customStrokeProperty=s}dispose(){this.customStrokeProperty&&this.customStrokeProperty.dispose(),super.dispose()}}T.register("CarouselButton",Ni);const al=new ee(20,7);class kn extends k{constructor(e,i){var y,b;let s=!1;const t=w()({orientation:"horizontal",fill:"white",stroke:"black",lineWidth:1,cornerRadius:4,defaultPageNumber:0,itemsPerPage:4,spacing:12,margin:6,alignBoxOptions:{phetioType:en,phetioState:!0,visiblePropertyOptions:{phetioFeatured:!0}},buttonOptions:{xMargin:5,yMargin:5,touchAreaXDilation:0,touchAreaYDilation:0,mouseAreaXDilation:0,mouseAreaYDilation:0,baseColor:"rgba( 200, 200, 200, 0.5 )",disabledColor:Yt.LIGHT_GRAY,lineWidth:1,arrowPathOptions:{stroke:"black",lineWidth:3},arrowSize:al,enabledPropertyOptions:{phetioReadOnly:!0,phetioFeatured:!1},soundPlayer:Je},separatorsVisible:!1,separatorOptions:{stroke:"rgb( 180, 180, 180 )",lineWidth:.5,pickable:!1},animationEnabled:!0,animationOptions:{duration:.4,stepEmitter:Zo,easing:At.CUBIC_IN_OUT},tandem:L.OPTIONAL,visiblePropertyOptions:{phetioFeatured:!0}},i);super(),this.isAnimatingProperty=new z(!1),this.animationEnabled=t.animationEnabled,this.items=e,this.itemsPerPage=t.itemsPerPage,this.defaultPageNumber=t.defaultPageNumber;const o=se.fromLayoutOrientation(t.orientation),n=new es,r=t.tandem.createTandem("items");this.carouselItemNodes=je(e,r),this.alignBoxes=e.map((E,f)=>n.createBox(this.carouselItemNodes[f],I({tandem:E.tandemName?r.createTandem(E.tandemName):L.OPTIONAL},t.alignBoxOptions,E.alignBoxOptions))),this.scrollingNode=new ll(this,{children:this.alignBoxes,orientation:t.orientation,spacing:t.spacing,[`${o.opposite.coordinate}Margin`]:t.margin}),this.visibleAlignBoxesProperty=U.deriveAny(this.alignBoxes.map(E=>E.visibleProperty),()=>this.getVisibleAlignBoxes()),this.scrollingNode.childrenReorderedEmitter.addListener(()=>this.visibleAlignBoxesProperty.recomputeDerivation());const d=I({cornerRadius:t.cornerRadius},t.buttonOptions);assert&&assert(t.spacing>=t.margin,"The spacing must be >= the margin, or you will see page 2 items at the end of page 1");const u=t.separatorsVisible?new k({pickable:!1}):null,l=new k({children:t.separatorsVisible?[u,this.scrollingNode]:[this.scrollingNode]}),c=E=>Math.max(Math.ceil(E.length/t.itemsPerPage),1);this.numberOfPagesProperty=new U([this.visibleAlignBoxesProperty],E=>c(E),{isValidValue:E=>E>0});const p=c(this.alignBoxes);assert&&assert(t.defaultPageNumber>=0&&t.defaultPageNumber<=this.numberOfPagesProperty.value-1,`defaultPageNumber is out of range: ${t.defaultPageNumber}`),this.pageNumberProperty=new Ki(t.defaultPageNumber,{tandem:t.tandem.createTandem("pageNumberProperty"),numberType:"Integer",isValidValue:E=>E<this.numberOfPagesProperty.value&&E>=0,range:new ue(0,p-1),phetioFeatured:!0});const m=new U([this.numberOfPagesProperty],E=>E>1),V=new Ni(I({arrowDirection:o===se.HORIZONTAL?"right":"down",tandem:t.tandem.createTandem("nextButton"),listener:()=>this.pageNumberProperty.set(this.pageNumberProperty.get()+1),enabledProperty:new U([this.pageNumberProperty,this.numberOfPagesProperty],(E,f)=>E<f-1),visibleProperty:m},d)),q=new Ni(I({arrowDirection:o===se.HORIZONTAL?"left":"up",tandem:t.tandem.createTandem("previousButton"),listener:()=>this.pageNumberProperty.set(this.pageNumberProperty.get()-1),enabledProperty:new U([this.pageNumberProperty],E=>E>0),visibleProperty:m},d)),A=new k({children:[l]}),h=new Q({cornerRadius:t.cornerRadius,fill:t.fill}),g=new Q({cornerRadius:t.cornerRadius,stroke:t.stroke,pickable:!1});this.carouselConstraint=new dl(this,h,g,A,q,V,l,this.alignBoxes,o,this.scrollingNode,this.itemsPerPage,t.margin,n,u,t.separatorOptions);let P=null;const x=new _i(0,0,0,0);Z.multilink([this.pageNumberProperty,l.localBoundsProperty],(E,f)=>{var v;if(E>=this.numberOfPagesProperty.value)return;P&&P.stop();const B=this.visibleAlignBoxesProperty.value[E*t.itemsPerPage],D=B?-B[o.minSide]+t.margin:0,M=x===null||!x.equals(f);x.set(f),this.animationEnabled&&!((v=Ji)!=null&&v.value)&&s&&!M?(P=new Bn(I({},t.animationOptions,{to:D,getValue:()=>l[o.coordinate],setValue:re=>{l[o.coordinate]=re}})),P.endedEmitter.addListener(()=>this.isAnimatingProperty.set(!1)),P.start(),this.isAnimatingProperty.value=!0):l[o.coordinate]=D}),this.visibleAlignBoxesProperty.link(()=>{this.pageNumberProperty.value=Math.min(this.pageNumberProperty.value,this.numberOfPagesProperty.value-1)}),t.children=[h,A,V,q,g],this.disposeCarousel=()=>{this.visibleAlignBoxesProperty.dispose(),this.pageNumberProperty.dispose(),this.alignBoxes.forEach(E=>{assert&&assert(E.children.length===1,"Carousel AlignBox instances should have only one child"),assert&&assert(this.carouselItemNodes.includes(E.children[0]),"Carousel AlignBox instances should wrap a content node"),E.dispose()}),this.scrollingNode.dispose(),this.carouselConstraint.dispose(),this.carouselItemNodes.forEach(E=>E.dispose())},this.mutate(t),s=!0,assert&&((b=(y=phet==null?void 0:phet.chipper)==null?void 0:y.queryParameters)!=null&&b.binder)&&G.registerDataURL("sun","Carousel",this)}dispose(){this.disposeCarousel(),super.dispose()}reset(e=!1){const i=this.animationEnabled;this.animationEnabled=e,this.pageNumberProperty.value=Math.min(this.defaultPageNumber,this.numberOfPagesProperty.value-1),this.animationEnabled=i}scrollToItemVisibleIndex(e){this.pageNumberProperty.set(this.itemVisibleIndexToPageNumber(e))}scrollToItem(e){this.scrollToAlignBox(this.getAlignBoxForItem(e))}scrollToAlignBox(e){const i=this.visibleAlignBoxesProperty.value.indexOf(e);assert&&assert(i>=0,"item not present or visible"),i>=0&&this.scrollToItemVisibleIndex(i)}setItemVisible(e,i){this.getAlignBoxForItem(e).visible=i}getAlignBoxForItem(e){const i=this.alignBoxes[this.items.indexOf(e)];return assert&&assert(i,"item does not have corresponding alignBox"),i}getNodeForItem(e){const i=this.carouselItemNodes[this.items.indexOf(e)];return assert&&assert(i,"item does not have corresponding node"),i}itemVisibleIndexToPageNumber(e){return assert&&assert(e>=0&&e<this.items.length,`itemIndex out of range: ${e}`),Math.floor(e/this.itemsPerPage)}getVisibleAlignBoxes(){return _.sortBy(this.alignBoxes.filter(e=>e.visible),e=>this.scrollingNode.children.indexOf(e))}}class ll extends Ft{constructor(e,i){super(i),this.carousel=e}onIndexedNodeIOChildMoved(e){this.carousel.scrollToAlignBox(e)}}class dl extends Ke{constructor(e,i,s,t,o,n,r,d,u,l,c,p,m,V,q){super(e),this.carousel=e,this.backgroundNode=i,this.foregroundNode=s,this.windowNode=t,this.previousButton=o,this.nextButton=n,this.scrollingNodeContainer=r,this.alignBoxes=d,this.orientation=u,this.scrollingNode=l,this.itemsPerPage=c,this.margin=p,this.alignGroup=m,this.separatorLayer=V,this.separatorOptions=q,[this.backgroundNode,this.foregroundNode,this.windowNode,this.previousButton,this.nextButton,this.scrollingNodeContainer,...this.alignBoxes].forEach(A=>this.addNode(A,!1)),this.separatorLayer&&this.scrollingNode.constraint.finishedLayoutEmitter.addListener(()=>{this.updateSeparators()}),this.updateLayout()}updateSeparators(){const e=this.carousel.getVisibleAlignBoxes(),i=e.length>=2?_.range(1,e.length):[];this.separatorLayer.children=i.map(s=>{const t=(e[s-1][this.orientation.maxSide]+e[s][this.orientation.minSide])/2;return new Lr(I({[`${this.orientation.coordinate}1`]:t,[`${this.orientation.coordinate}2`]:t,[`${this.orientation.opposite.coordinate}2`]:this.scrollingNode[this.orientation.opposite.size]},this.separatorOptions))})}computeClipArea(){const e=this.orientation,i=this.carousel.getVisibleAlignBoxes();if(i.length===0)return new ee(0,0);{const s=i[this.itemsPerPage-1]||i[i.length-1],t=new ee(s[e.maxSide]-i[0][e.minSide]+2*this.margin,this.scrollingNodeContainer.boundsProperty.value[e.opposite.size]);return this.orientation===se.HORIZONTAL?t:t.swapped()}}getBackgroundDimension(){let e,i;if(this.orientation===se.HORIZONTAL){const s=this.nextButton.visible?this.nextButton.width:0,t=this.previousButton.visible?this.previousButton.width:0;e=this.windowNode.width+s+t,i=this.windowNode.height}else{const s=this.nextButton.visible?this.nextButton.height:0,t=this.previousButton.visible?this.previousButton.height:0;e=this.windowNode.width,i=this.windowNode.height+s+t}return new ee(e,i)}layout(){super.layout();const e=this.orientation,s=this.alignGroup.getMaxSizeProperty(e.opposite).value+2*this.margin;this.nextButton[e.opposite.preferredSize]=s,this.previousButton[e.opposite.preferredSize]=s,this.nextButton[e.opposite.centerCoordinate]=this.backgroundNode[e.opposite.centerCoordinate],this.previousButton[e.opposite.centerCoordinate]=this.backgroundNode[e.opposite.centerCoordinate],this.windowNode[e.opposite.centerCoordinate]=this.backgroundNode[e.opposite.centerCoordinate],this.previousButton[e.minSide]=this.backgroundNode[e.minSide],this.nextButton[e.maxSide]=this.backgroundNode[e.maxSide],this.windowNode[e.centerCoordinate]=this.backgroundNode[e.centerCoordinate];const t=this.computeClipArea().toBounds();this.windowNode.clipArea=N.bounds(t),this.windowNode.localBounds=t;const o=this.getBackgroundDimension();this.carousel.backgroundWidth=o.width,this.carousel.backgroundHeight=o.height;const n=o.toBounds();this.backgroundNode.rectBounds=n,this.foregroundNode.rectBounds=n,this.separatorLayer&&this.updateSeparators()}}T.register("Carousel",kn);const pe={VALUE_NAMED_PLACEHOLDER:"{{value}}",VALUE_NUMBERED_PLACEHOLDER:"{0}",SLIDER_VERTICAL_ROTATION:-Math.PI/2};T.register("SunConstants",pe);class ul{play(){}stop(){}}const We=new ul;Y.register("nullSoundPlayer",We);const Ln="data:audio/mpeg;base64,//swxAAAB5gnMzRhAAEHDWyDNLAAAAAaAQAu7tjAQAAABgMBgNNiBBAWD7ykMQf1g+D5/qBMHwfB/iAEPWCDv+o5wfPg+8EAQBMHz6gQB8Hwfsu2uWDrkw/a9xgUaMwFxxwCLsWS7MHN7VJki8fVT75eTqpn7/Xt1QxW//lJVbnfNuFRTzwrLn/5GVBnKMy/FVs5dTYABARKCMRm//syxAQACHBHWZ2kAAEJi+jxpg1Qlry2AYclVGyMwNoFJ29hqHqa1TRqRMCoetKstcqUzHBxQdCJmVcSJ/EQdEo0FXSoNLGkav/ljqPtEvjAoAE0zuEoM3lMJlLY3Uj65AMeMzQN6QWeLFdCcxLNFy4dBVXVfZ1L+gIki4KPQVBb4dERU6CrsFSoaLVHv/Ev9Hw4ANdAAG7VBBhVdP/7MsQFAAh8YybVowABG49vdx6AAm8ODBg8FDy9pmwIBsHPVGiPMueyERxZdIFnSpkzI8fezb+0z6OJVv7HHw7XBWdXwa6/y34l6sq7uitTjFTEgsFYrFQqFQDAGrQXMbpbb3ZGQWPWvTnyyeKKHgQ/nvlUf/u74oOHp/8v3R/dl/UcSXDz+kMBEHI0p5efiDJqb/64foFiBSWqB2r/+zLEA4AIVDlivZGAAQePKiWmDNhtwTYmBYyxnJdmZwmMtZ8ZjInEMMpo+VFWESqmhsWBoClhKKEhCW5UNPCsFVgqImyWS6KTAhEUrYoO7kaAWIJCwQzbgl5XrFBB27xoQwfnY6kozJtFz0SgICsWM3VIKWs6qr0tgI15/pQomHhblqjycRUCWe1dUOpxFOiJ/ooQC+IEEBlVdh0r//swxAUACGCjMy0kSsDoiCAA95gpQaBI041ceup5PSlsv5QNXMyixFLVkTXWpYUBYy/lEl4YCdWlLoZ//zGlKUBEhV0SiFT+us7WdBXqAbQ2hdxgDfH4RQsI+kgo2RnWVECiCa0TrUSNjalrUVVKyg0yapYqqVlRTNVLFf/2P/1qVadsTFKlitVMQU1FMy45OS4zVVVVVVVVVVVV",cl=ne(S,Ln),hl=oe.createLock(Ln),gt=new te;let ao=!1;const di=()=>{ao||(hl(),ao=!0)},pl=a=>{gt.audioBufferProperty.value===null&&(gt.audioBufferProperty.set(a),di())},Vl=a=>{console.warn("decode of audio data failed, using stubbed sound, error: "+a),gt.audioBufferProperty.set(S.createBuffer(1,1,S.sampleRate)),di()},lo=S.decodeAudioData(cl.buffer,pl,Vl);lo&&lo.then(a=>{gt.audioBufferProperty.value===null&&(gt.audioBufferProperty.set(a),di())}).catch(a=>{console.warn("promise rejection caught for audio decode, error = "+a),di()});const Si=new ie(gt,{soundClipOptions:{initialOutputLevel:.4},soundManagerOptions:{categoryName:"user-interface"}});Y.register("generalCloseSoundPlayer",Si);const xn="data:audio/mpeg;base64,//swxAAABswbPzQxABEQFyzDMlAAAAGoGRIdz0AAARQAAAAAMCd5QEAxBA4sPlz/BAMfw+ooc8EA/EAYKAh/qBBYfwfD4jB/4nD98ZXetEKIxIqnuursF7pTGkY4dNYcaZhOjzgxDNndb75ggdCsIvV3qoeM9HIX215a6Hftuc5FhwFRhvuJuhxbMPp+ir0KlAaCTHVtZuCsLISS//syxAYACGhJXR2jABEVIGmw8YpieZwGg6y5/p6bf69uls4kMS9HVvrXl8hI5WPBY8FawqGh3PYlLA0HQm6ZHvUe/4UB4ChNzls1AZIAAxJNQMBOy4KAeSsL0QgRcxFInzpyhsQ6tvdvaM160ZnbY/2bY19dTlJVJmhrQpT/Vf0eVjfzG////6PMYzmtqJdg0WqADvRwaGDBgBO5T//7MsQFgAkEZSA1swABDRYvdx5QAhmAEZHdFc2HHLBy/LcmfqWvq1yftVsQSJAxzSi25i5w6qqvMy/cjgNSoKu2Q1LHp1S4NCJQsHfLUSINPxK6oxocyIhmMRkMhQAQBuyhLerW2u5zoV4af2nULcHzwOiPxQjFU/nvIyflMKARabfnQqGI/v/FAIV6UJnPAgAca//9NZUgFEnVWuP/+zLEA4AIVL1vnYQAEQkIajDMpMja7T9a7DL+uzSEg2RRajlNmUzFPCBtL7Uyoa/iVlabnj1+Pi9f61X5WuJ9V1XhkOmtYltLGPI1//8s/0PMAKmLuWQPy0Hrh0Uy4C5MCaWoC5bwOjrQpVOQIn9JNDksr2zEBLvAp3LCI8Is9BX1FTsS50j5Us8OCIqEg73ZZ9QByyIAiddlUPU0//swxAUCSEyXLMywatDDBOHA8zBIRfBtlFDU3P7EItHsWE51WgaTVpJLPMzOMYE1qUSth4pRSd1WkZLqqrnGPUobBm4oDUDHol//+rJBUlwL0rYuAoOSuFITEsfTp5a46IhKRBQ6FQkBQCWJESR0KhIeNASKGnsJgJCf///1VUxBTUUzLjk5LjNVVVVVVVVVVVVVVVVVVVVVVVVV",Al=ne(S,xn),gl=oe.createLock(xn),mt=new te;let uo=!1;const ui=()=>{uo||(gl(),uo=!0)},ml=a=>{mt.audioBufferProperty.value===null&&(mt.audioBufferProperty.set(a),ui())},ql=a=>{console.warn("decode of audio data failed, using stubbed sound, error: "+a),mt.audioBufferProperty.set(S.createBuffer(1,1,S.sampleRate)),ui()},co=S.decodeAudioData(Al.buffer,ml,ql);co&&co.then(a=>{mt.audioBufferProperty.value===null&&(mt.audioBufferProperty.set(a),ui())}).catch(a=>{console.warn("promise rejection caught for audio decode, error = "+a),ui()});const Pi=new ie(mt,{soundClipOptions:{initialOutputLevel:.4},soundManagerOptions:{categoryName:"user-interface"}});Y.register("generalOpenSoundPlayer",Pi);class Lt extends bt(k){constructor(e,i,s,t,o,n){const r=w()({cursor:"pointer",align:"left",xMargin:6,highlightFill:"rgb( 245, 245, 245 )",highlightCornerRadius:4,tagName:"li",focusable:!0,ariaRole:"option",positionInPDOM:!0,voicingFocusListener:()=>this.comboBoxListItemNodeVoicingFocusListener(),comboBoxVoicingNameResponsePattern:pe.VALUE_NAMED_PLACEHOLDER,tandem:L.REQUIRED,tandemNameSuffix:"Item",phetioType:en,phetioState:!0,visiblePropertyOptions:{phetioFeatured:!0}},n);r.comboBoxVoicingNameResponsePattern=r.comboBoxVoicingNameResponsePattern.get?r.comboBoxVoicingNameResponsePattern.get():r.comboBoxVoicingNameResponsePattern,assert&&assert(!!phet.chipper.queryParameters.stringTest||r.comboBoxVoicingNameResponsePattern.includes("{{value}}"),"value needs to be filled in");const d=new Q({cornerRadius:r.highlightCornerRadius}),u=new k({children:[i]}),l=h=>{d.rectWidth=h,u.maxWidth=h};t.link(l);const c=h=>{d.rectHeight=h,u.maxHeight=h};o.link(c),r.children=[d,u],super(r),this._supplyOpenResponseOnNextFocus=!1,is.create(this,[d,u],(h,g)=>{r.align==="left"?g.left=h.left+r.xMargin:r.align==="right"?g.right=h.right-r.xMargin:g.centerX=h.centerX,g.centerY=h.centerY});const p=new U([s],h=>h||""),m=typeof r.comboBoxVoicingNameResponsePattern=="string"?new ce(r.comboBoxVoicingNameResponsePattern):r.comboBoxVoicingNameResponsePattern,V=new fi(m,{value:p},{tandem:L.OPT_OUT});this.voicingNameResponse=V;const q=h=>{this.innerContent=h,this.voicingObjectResponse=h};s.link(q),this.item=e,this.localBoundsProperty.link(h=>{this.focusHighlight=N.bounds(h)});const A=new He({attach:!1,tandem:L.OPT_OUT});this.addInputListener(A),A.looksOverProperty.link(h=>{d.fill=h?r.highlightFill:null}),this.disposeComboBoxListItemNode=()=>{A.dispose(),V.dispose(),p.dispose(),s.unlink(q),t.unlink(l),o.unlink(c)}}supplyOpenResponseOnNextFocus(){this._supplyOpenResponseOnNextFocus=!0}dispose(){this.disposeComboBoxListItemNode(),super.dispose()}comboBoxListItemNodeVoicingFocusListener(){this.voicingSpeakFullResponse({nameResponse:this._supplyOpenResponseOnNextFocus?this.voicingNameResponse:null,objectResponse:this._supplyOpenResponseOnNextFocus?null:this.voicingObjectResponse,contextResponse:null,hintResponse:this._supplyOpenResponseOnNextFocus?this.voicingHintResponse:null}),this._supplyOpenResponseOnNextFocus=!1}}T.register("ComboBoxListItemNode",Lt);const Fi=["left","center","right"],Ui={fill:"white",stroke:"black",lineWidth:1,lineDash:[],xMargin:5,yMargin:5,cornerRadius:10,resize:!0,backgroundPickable:!0,excludeInvisibleChildrenFromBounds:!0,align:"left",minWidth:0,minHeight:0};assert&&Object.freeze(Ui);const ks=class ks extends qi(k){constructor(e,i){const s=qr()({},Ui,i);assert&&assert(_.includes(Fi,s.align),`invalid align: ${s.align}`),super(),this._content=e,this._backgroundContainer=new k,this._background=new Q(0,0,1,1,{lineWidth:s.lineWidth,pickable:s.backgroundPickable,lineDash:s.lineDash,cornerRadius:s.cornerRadius}),this.setStroke(s.stroke),this.setFill(s.fill),this.addChild(this._backgroundContainer),this.addChild(e),this.constraint=new yl(this,s),this.constraint.updateLayout(),this.constraint.enabled=s.resize,this.mutate(s)}getStroke(){return this._background.stroke}get stroke(){return this.getStroke()}set stroke(e){this.setStroke(e)}setStroke(e){this._background.stroke=e,this.constraint&&this.constraint.updateLayoutAutomatically()}getFill(){return this._background.fill}get fill(){return this.getFill()}set fill(e){this.setFill(e)}setFill(e){this._background.fill=e}setExcludeInvisibleChildrenFromBounds(e){super.setExcludeInvisibleChildrenFromBounds(e),this.constraint.updateLayoutAutomatically()}};ks.DEFAULT_PANEL_OPTIONS=Ui;let Ht=ks;class yl extends Ke{constructor(e,i){super(e),this.panel=e,assert&&assert(typeof i.minWidth=="number","Panel minWidth should be a number"),assert&&assert(typeof i.xMargin=="number","Panel xMargin should be a number"),assert&&assert(typeof i.yMargin=="number","Panel yMargin should be a number"),assert&&assert(typeof i.lineWidth=="number","Panel lineWidth should be a number"),assert&&assert(Fi.includes(i.align),`Panel align should be one of ${Fi}`),this.minWidth=i.minWidth,this.minHeight=i.minHeight,this.xMargin=i.xMargin,this.yMargin=i.yMargin,this.lineWidth=i.lineWidth,this.align=i.align,this.panel.localPreferredWidthProperty.lazyLink(this._updateLayoutListener),this.panel.localPreferredHeightProperty.lazyLink(this._updateLayoutListener),this.addNode(e._content)}layout(){super.layout();const e=this.panel,i=e._content,s=e._background,t=e.stroke===null?0:this.lineWidth,o=e.isChildIncludedInLayout(i);if(e._backgroundContainer.children=o?[s]:[],!o){e.localMinimumWidth=null,e.localMinimumHeight=null;return}const n=Be(i)&&i.minimumWidth!==null?i.minimumWidth:i.width,r=vt(i)&&i.minimumHeight!==null?i.minimumHeight:i.height,d=Math.max(this.minWidth,n+2*this.xMargin)+t,u=Math.max(this.minHeight,r+2*this.yMargin)+t,l=Math.max(d,e.localPreferredWidth||0),c=Math.max(u,e.localPreferredHeight||0);Be(i)&&e.localPreferredWidth!==null&&(i.preferredWidth=l-t-2*this.xMargin),vt(i)&&e.localPreferredHeight!==null&&(i.preferredHeight=c-t-2*this.yMargin),s.setRect(0,0,l-t,c-t),this.align==="center"?i.center=s.center:this.align==="left"?(i.left=s.centerX-s.rectWidth/2+this.xMargin,i.centerY=s.centerY):(i.right=s.centerX+s.rectWidth/2-this.xMargin,i.centerY=s.centerY),e.localMinimumWidth=d,e.localMinimumHeight=u}dispose(){this.panel.localPreferredWidthProperty.unlink(this._updateLayoutListener),this.panel.localPreferredHeightProperty.unlink(this._updateLayoutListener),super.dispose()}}T.register("Panel",Ht);class Cn extends Ht{constructor(e,i,s,t,o,n,r,d,u){assert&&assert(i.length>0,"empty list box is not supported");const l=w()({highlightFill:"rgb( 245, 245, 245 )",comboBoxListItemNodeOptions:{},xMargin:12,yMargin:8,backgroundPickable:!0,tagName:"ul",ariaRole:"listbox",groupFocusHighlight:!0,openedSoundPlayer:Pi,closedNoChangeSoundPlayer:Si,visiblePropertyOptions:{phetioReadOnly:!0}},u);assert&&assert(l.xMargin>0&&l.yMargin>0,`margins must be > 0, xMargin=${l.xMargin}, yMargin=${l.yMargin}`);const c=new Xi(b=>{const E=b.currentTarget;assert&&assert(E instanceof Lt,"expected a ComboBoxListItemNode"),this.selectionOnFireAction=E;const f=e.value;n(),e.value=this.selectionOnFireAction.item.value,o(),this.voiceOnNewSelection(e.value,f,E),b.abort()},{parameters:[{phetioPrivate:!0,valueType:xr}],tandem:d.createTandem("fireAction"),phetioEventType:Ae.USER}),p={up(b){c.execute(b)},keyup:b=>{b.domEvent&&O.isAnyKeyEvent(b.domEvent,[O.KEY_ENTER,O.KEY_SPACE])&&c.execute(b)},click:b=>{c.execute(b)}},m=Re.getMaxItemWidthProperty(s),V=Re.getMaxItemHeightProperty(s),q=new U([m],b=>b+l.xMargin),A=new U([V],b=>b+l.yMargin),h=[];i.forEach((b,E)=>{const f=t.get(b.value);assert&&assert(f);const B=new Lt(b,s[E],f,q,A,I({align:l.align,highlightFill:l.highlightFill,highlightCornerRadius:l.cornerRadius,xMargin:.5*l.xMargin,tandem:b.tandemName?d.createTandem(b.tandemName):L.OPTIONAL},l.comboBoxListItemNodeOptions,b.comboBoxListItemNodeOptions));h.push(B),B.addInputListener(p)});const g=new yi({spacing:0,excludeInvisibleChildrenFromBounds:!0,children:h});super(g,I({},l,{xMargin:l.xMargin/2,yMargin:l.yMargin/2})),this.content=g,this.voiceOnSelectionNode=r,this.selectionOnFireAction=this.getListItemNode(e.value);const P=i.map(b=>Kt.getSelectionSoundPlayer(i.indexOf(b)));let x;this.visibleProperty.lazyLink(b=>{if(b)l.openedSoundPlayer.play(),x=this.getListItemNode(e.value);else if(assert&&assert(x,"no Node for when list box was opened"),x===this.selectionOnFireAction)l.closedNoChangeSoundPlayer.play();else{const E=this.selectionOnFireAction.item;if(E.soundPlayer)E.soundPlayer.play();else{const f=this.getVisibleListItemNodes().indexOf(this.selectionOnFireAction);f!==-1&&P[f].play()}}});const y=new tn({keys:["escape","tab","shift+tab","arrowUp","arrowDown","home","end"],fire:(b,E)=>{const f=b;assert&&assert(f,"event is required for this listener");const B=this.getVisibleListItemNodes();if(E==="escape"||E==="tab"||E==="shift+tab")o(),n();else if(E==="arrowUp"||E==="arrowDown"){const D=b;assert&&assert(D,"domEvent is required for this listener"),D.preventDefault();const M=E==="arrowDown"?1:-1,v=B.indexOf(this.getFocusedItemNode());assert&&assert(v>-1,"how could we receive keydown without a focused list item?");const re=v+M;B[re]&&B[re].focus()}else E==="home"?B[0].focus():E==="end"&&B[B.length-1].focus()}});this.addInputListener(y),this.disposeComboBoxListBox=()=>{for(let b=0;b<h.length;b++)h[b].dispose();this.removeInputListener(y),y.dispose(),c.dispose(),m.dispose(),V.dispose()}}dispose(){this.disposeComboBoxListBox(),super.dispose()}setItemVisible(e,i){this.getListItemNode(e).visible=i}isItemVisible(e){return this.getListItemNode(e).visible}getAllListItemNodes(){return this.content.children}getVisibleListItemNodes(){return this.getAllListItemNodes().filter(e=>e.visible)}getListItemNode(e){const i=_.find(this.getAllListItemNodes(),s=>s.item.value===e);return assert&&assert(i,`no item found for value: ${e}`),assert&&assert(i instanceof Lt,"invalid listItemNode"),i}getFocusedItemNode(){const e=_.find(this.getAllListItemNodes(),i=>i.focused);return assert&&assert(e,"no item found that has focus"),assert&&assert(e instanceof Lt,"invalid listItemNode"),e}focusListItemNode(e){let i=this.getListItemNode(e);i.visible||(i=_.find(this.getAllListItemNodes(),s=>s.visible)),i&&(i.supplyOpenResponseOnNextFocus(),i.focus())}voiceOnNewSelection(e,i,s){const t={nameResponse:s.voicingNameResponse,objectResponse:null,contextResponse:s.voicingContextResponse,hintResponse:null};i===e&&(t.contextResponse=null),this.voiceOnSelectionNode.voicingSpeakResponse(t)}}T.register("ComboBoxListBox",Cn);const fl=["above","below"],bl=["left","right","center"],ho="Item",Sl=(a,e,i,s)=>(s.push(()=>{a.button.accessibleName=i}),e),Pl=(a,e,i,s)=>(s.push(()=>{a.button.helpText=i}),e),tt=class tt extends _t(k){constructor(e,i,s,t){var d,u;assert&&assert(_.uniqBy(i,l=>l.value).length===i.length,"items must have unique values"),assert&&i.forEach(l=>{assert&&assert(!l.tandemName||l.tandemName.endsWith(ho),`ComboBoxItem tandemName must end with '${ho}': ${l.tandemName}`)}),assert&&assert(s.maxWidth===null,"ComboBox is responsible for scaling listBox. Setting maxWidth for listParent may result in buggy behavior.");const o=w()({align:"left",listPosition:"below",labelXSpacing:10,disabledOpacity:.5,cornerRadius:4,highlightFill:"rgb( 245, 245, 245 )",xMargin:12,yMargin:8,buttonFill:"white",buttonStroke:"black",buttonLineWidth:1,buttonTouchAreaXDilation:0,buttonTouchAreaYDilation:0,buttonMouseAreaXDilation:0,buttonMouseAreaYDilation:0,listFill:"white",listStroke:"black",listLineWidth:1,openedSoundPlayer:Pi,closedNoChangeSoundPlayer:Si,tagName:"div",buttonLabelTagName:"p",accessibleNameBehavior:Sl,helpTextBehavior:Pl,comboBoxVoicingNameResponsePattern:pe.VALUE_NAMED_PLACEHOLDER,comboBoxVoicingContextResponse:null,comboBoxVoicingHintResponse:null,tandem:L.REQUIRED,tandemNameSuffix:"ComboBox",phetioType:tt.ComboBoxIO,phetioFeatured:!0,phetioEventType:Ae.USER,visiblePropertyOptions:{phetioFeatured:!0},phetioEnabledPropertyInstrumented:!0},t),n=je(i,o.tandem.createTandem("items"));assert&&n.forEach(l=>{assert&&assert(!l.hasPDOMContent,"Accessibility is provided by ComboBoxItemNode and ComboBoxItem.a11yLabel. Additional PDOM content in the provided Node could break accessibility.")}),assert&&assert(o.xMargin>0&&o.yMargin>0,`margins must be > 0, xMargin=${o.xMargin}, yMargin=${o.yMargin}`),assert&&assert(_.includes(fl,o.listPosition),`invalid listPosition: ${o.listPosition}`),assert&&assert(_.includes(bl,o.align),`invalid align: ${o.align}`),super(),this.nodes=n,this.a11yNamePropertyMap=tt.getA11yNamePropertyMap(i),this.listPosition=o.listPosition,this.button=new gs(e,i,n,this.a11yNamePropertyMap,{align:o.align,arrowDirection:o.listPosition==="below"?"down":"up",cornerRadius:o.cornerRadius,xMargin:o.xMargin,yMargin:o.yMargin,baseColor:o.buttonFill,stroke:o.buttonStroke,lineWidth:o.buttonLineWidth,touchAreaXDilation:o.buttonTouchAreaXDilation,touchAreaYDilation:o.buttonTouchAreaYDilation,mouseAreaXDilation:o.buttonMouseAreaXDilation,mouseAreaYDilation:o.buttonMouseAreaYDilation,localPreferredWidthProperty:this.localPreferredWidthProperty,localMinimumWidthProperty:this.localMinimumWidthProperty,comboBoxVoicingNameResponsePattern:o.comboBoxVoicingNameResponsePattern,labelTagName:o.buttonLabelTagName,tandem:o.tandem.createTandem("button")}),this.addChild(this.button),this.listBox=new Cn(e,i,n,this.a11yNamePropertyMap,this.hideListBox.bind(this),()=>{this.button.blockNextVoicingFocusListener(),this.button.focus()},this.button,o.tandem.createTandem("listBox"),{align:o.align,highlightFill:o.highlightFill,xMargin:o.xMargin,yMargin:o.yMargin,cornerRadius:o.cornerRadius,fill:o.listFill,stroke:o.listStroke,lineWidth:o.listLineWidth,visible:!1,comboBoxListItemNodeOptions:{comboBoxVoicingNameResponsePattern:o.comboBoxVoicingNameResponsePattern,voicingContextResponse:o.comboBoxVoicingContextResponse,voicingHintResponse:o.comboBoxVoicingHintResponse},openedSoundPlayer:o.openedSoundPlayer,closedNoChangeSoundPlayer:o.closedNoChangeSoundPlayer,ariaLabelledbyAssociations:[{otherNode:this.button,otherElementName:ae.LABEL_SIBLING,thisElementName:ae.PRIMARY_SIBLING}]}),s.addChild(this.listBox),this.listParent=s;const r=new Cr(this.button,this.listParent,{fromCoordinateFrame:"parent",toCoordinateFrame:"local"});Z.multilink([r,this.button.localBoundsProperty,this.listBox.localBoundsProperty],l=>{this.scaleAndPositionListBox(l)}),this.opacityProperty.link(l=>{this.listBox.opacityProperty.value=l}),this.mutate(o),assert&&L.VALIDATION&&this.isPhetioInstrumented()&&i.forEach(l=>{assert&&assert(l.tandemName!==null,`PhET-iO instrumented ComboBoxes require ComboBoxItems to have tandemName: ${l.value}`)}),this.button.addListener(()=>{this.listBox.visibleProperty.value=!this.listBox.visibleProperty.value,this.listBox.visibleProperty.value&&this.listBox.focusListItemNode(e.value)}),this.display=null,this.clickToDismissListener={down:l=>{(!phet.chipper.isFuzzEnabled()||Ko.nextDouble()<.005)&&(l.trail.containsNode(this.button)||l.trail.containsNode(this.listBox)||this.hideListBox())}},this.dismissWithFocusListener=l=>{l&&!l.trail.containsNode(this.listBox)&&this.hideListBox()},Ut.pdomFocusProperty.link(this.dismissWithFocusListener),this.listBox.visibleProperty.link(l=>{l?(this.scaleListBox(),this.listBox.moveToFront(),assert&&assert(!this.display,"unexpected display"),this.display=this.getUniqueTrail().rootNode().getRootedDisplays()[0],this.display.addInputListener(this.clickToDismissListener)):this.display&&this.display.hasInputListener(this.clickToDismissListener)&&(this.display.removeInputListener(this.clickToDismissListener),this.display=null)}),this.displayOnlyProperty=new z(!1,{tandem:o.tandem.createTandem("displayOnlyProperty"),phetioFeatured:!0,phetioDocumentation:"disables interaction with the ComboBox and makes it appear like a display that shows the current selection"}),this.displayOnlyProperty.link(l=>{this.hideListBox(),this.button.setDisplayOnly(l),this.pickable=!l}),this.addLinkedElement(e,{tandemName:"property"}),this.disposeComboBox=()=>{r.dispose(),this.display&&this.display.hasInputListener(this.clickToDismissListener)&&this.display.removeInputListener(this.clickToDismissListener),Ut.pdomFocusProperty.unlink(this.dismissWithFocusListener),this.displayOnlyProperty.dispose(),this.listBox.dispose(),this.button.dispose(),n.forEach(l=>l.dispose())},assert&&((u=(d=phet==null?void 0:phet.chipper)==null?void 0:d.queryParameters)!=null&&u.binder)&&G.registerDataURL("sun","ComboBox",this)}dispose(){this.disposeComboBox(),super.dispose()}showListBox(){this.listBox.visibleProperty.value=!0}hideListBox(){this.listBox.visibleProperty.value=!1}scaleListBox(){if(!this.listBox.localBounds.isEmpty()){const e=this.button.localToGlobalBounds(this.button.localBounds).width/this.button.localBounds.width,i=this.listBox.localToGlobalBounds(this.listBox.localBounds).width/this.listBox.localBounds.width;this.listBox.scale(e/i)}}scaleAndPositionListBox(e){e&&(this.scaleListBox(),this.listPosition==="above"?this.listBox.leftBottom=e.timesVector2(this.button.leftTop):this.listBox.leftTop=e.timesVector2(this.button.leftBottom))}setItemVisible(e,i){this.listBox.setItemVisible(e,i)}isItemVisible(e){return this.listBox.isItemVisible(e)}static getMaxItemWidthProperty(e){const i=_.flatten(e.map(s=>{const t=[s.boundsProperty];return Dr(s)&&(t.push(s.isWidthResizableProperty),t.push(s.minimumWidthProperty)),t}));return U.deriveAny(i,()=>Math.max(...e.map(s=>Be(s)?s.minimumWidth||0:s.width)),{strictAxonDependencies:!1})}static getMaxItemHeightProperty(e){const i=e.map(s=>s.boundsProperty);return U.deriveAny(i,()=>Math.max(...e.map(s=>s.height)),{strictAxonDependencies:!1})}static getA11yNamePropertyMap(e){const i=new Map;return e.forEach(s=>{let t;zi(s.a11yName)?t=s.a11yName:typeof s.a11yName=="string"?t=new j(s.a11yName):t=new j(null),i.set(s.value,t)}),i}};tt.ComboBoxIO=new Te("ComboBoxIO",{valueType:tt,documentation:"A combo box is composed of a push button and a listbox. The listbox contains items that represent choices. Pressing the button pops up the listbox. Selecting from an item in the listbox sets the value of an associated Property. The button shows the item that is currently selected.",supertype:k.NodeIO,events:["listBoxShown","listBoxHidden"]});let Re=tt;T.register("ComboBox",Re);const El=["left","center","right"],wl=["up","down"],Tl=(a,e,i)=>(e.labelContent=i,e);class gs extends Pt{constructor(e,i,s,t,o){const n=w()({align:"left",arrowDirection:"down",arrowFill:"black",comboBoxVoicingNameResponsePattern:pe.VALUE_NAMED_PLACEHOLDER,cursor:"pointer",baseColor:"white",buttonAppearanceStrategy:be.FlatAppearanceStrategy,xMargin:12,yMargin:8,stroke:"black",lineWidth:1,soundPlayer:We,enabledPropertyOptions:{phetioFeatured:!1},visiblePropertyOptions:{phetioFeatured:!1},localPreferredWidthProperty:new j(null),localMinimumWidthProperty:new j(null),containerTagName:"div",labelTagName:"p",accessibleNameBehavior:Tl},o);assert&&assert(_.includes(El,n.align),`invalid align: ${n.align}`),assert&&assert(_.includes(wl,n.arrowDirection),`invalid arrowDirection: ${n.arrowDirection}`);const r=n.xMargin,d=n.yMargin,u=Re.getMaxItemWidthProperty(s),l=Re.getMaxItemHeightProperty(s),c=new J(null,{fill:n.arrowFill}),p=_.find(i,y=>y.value===e.value),m=i.indexOf(p),V=new k({layoutOptions:{yMargin:d,grow:1,xAlign:n.align},children:[s[m]]}),q=new Mr(0,0,0,0,{stroke:"black",lineWidth:n.lineWidth});n.content=new Rr({rows:[[V,q,c]]}),Z.multilink([u,l],(y,b)=>{const E=b+2*d,f=E,B=.35*f,D=2*B*Math.sqrt(3)/3,M=r,v=r-n.lineWidth/2,re=-n.lineWidth/2,Xe=(jt,Ie,Ze)=>jt==="up"?new N().moveTo(0,Ze).lineTo(Ie/2,0).lineTo(Ie,Ze).close():new N().moveTo(0,0).lineTo(Ie,0).lineTo(Ie/2,Ze).close();c.shape=Xe(n.arrowDirection,D,B),c.mutateLayoutOptions({minContentWidth:f,minContentHeight:f}),V.mutateLayoutOptions({minContentWidth:y,minContentHeight:b,leftMargin:M,rightMargin:v}),q.y2=E,q.mutateLayoutOptions({rightMargin:re})}),n.xMargin=0,n.yMargin=0,super(n),this.minimumWidthProperty.link(y=>{n.localMinimumWidthProperty.value=y});const A=y=>{this.preferredWidth=y};n.localPreferredWidthProperty.link(A),this._blockNextVoicingFocusListener=!1,this.voicingFocusListener=()=>{!this._blockNextVoicingFocusListener&&this.defaultFocusListener(),this._blockNextVoicingFocusListener=!1};let h=null;const g=new U([e],y=>{const b=_.find(i,E=>E.value===y);return assert&&assert(b,`no item found for value: ${y}`),b}),P=new U([g],y=>s[i.indexOf(y)]),x=new It(g,{derive:y=>t.get(y.value)});P.link(y=>{V.removeAllChildren(),V.addChild(y)}),x.link(y=>{this.innerContent=y;const b=typeof n.comboBoxVoicingNameResponsePattern=="string"?new ce(n.comboBoxVoicingNameResponsePattern):n.comboBoxVoicingNameResponsePattern;h&&h.dispose(),this.voicingNameResponse=h=new fi(b,{value:y||""},{tandem:L.OPT_OUT})}),this.ariaLabelledbyAssociations=[{otherNode:this,otherElementName:ae.LABEL_SIBLING,thisElementName:ae.PRIMARY_SIBLING},{otherNode:this,otherElementName:ae.PRIMARY_SIBLING,thisElementName:ae.PRIMARY_SIBLING}],Or.mutateNode(this,"listbox"),this.disposeComboBoxButton=()=>{u.dispose(),l.dispose(),g.dispose(),n.localPreferredWidthProperty.unlink(A),h&&h.dispose()},this.arrow=c,this.separatorLine=q}setDisplayOnly(e){this.arrow.visible=!e,this.separatorLine.visible=!e}blockNextVoicingFocusListener(){this._blockNextVoicingFocusListener=!0}dispose(){this.disposeComboBoxButton(),super.dispose()}}T.register("ComboBoxButton",gs);class Dn extends k{constructor(e,i,s){const t=w()({interactive:!1,orientation:"horizontal",dotRadius:3,lineWidth:1,dotSpacing:10,dotTouchAreaDilation:4,dotMouseAreaDilation:4,currentPageFill:"black",currentPageStroke:null,pageFill:"rgb( 200, 200, 200 )",pageStroke:null,tandem:L.REQUIRED,tandemNameSuffix:"PageControl",visiblePropertyOptions:{phetioFeatured:!0}},s);assert&&assert(Gr.includes(t.orientation),`invalid orientation=${t.orientation}`);const o=new He({press:c=>{c.currentTarget instanceof po&&(e.value=c.currentTarget.pageNumber)},tandem:t.tandem.createTandem("pressListener")}),n={lineWidth:t.lineWidth,mouseArea:t.dotMouseAreaDilation===0?null:N.circle(0,0,t.dotRadius+t.dotMouseAreaDilation),touchArea:t.dotTouchAreaDilation===0?null:N.circle(0,0,t.dotRadius+t.dotTouchAreaDilation),boundsMethod:"unstroked",cursor:t.interactive?"pointer":null,inputListeners:t.interactive?[o]:[]},r=new Ft({orientation:t.orientation,spacing:t.dotSpacing});let d=[];r.boundsProperty.link(()=>{r.center=xt.ZERO});const u=c=>{d.forEach(p=>{p.fill=c===p.pageNumber?t.currentPageFill:t.pageFill,p.stroke=c===p.pageNumber?t.currentPageStroke:t.pageStroke})};e.link(u);const l=c=>{assert&&assert(c>=1),d=_.range(0,c).map(p=>new po(p,t.dotRadius,n)),r.children=d,u(e.value)};i.link(l),t.children=[r],super(t),this.disposePageControl=()=>{o.dispose(),i.unlink(l),e.unlink(u)}}dispose(){this.disposePageControl(),super.dispose()}}class po extends ot{constructor(e,i,s){super(i,s),this.pageNumber=e}}T.register("PageControl",Dn);class Bl extends _t(k){constructor(e,i,s){const t=w()({itemNodeOptions:{align:"left",overColor:F.grayColor(245),selectedColor:"yellow",xMargin:6,yMargin:2},carouselOptions:{buttonOptions:{arrowSize:new ee(20,4)},orientation:"vertical",spacing:0,margin:0,itemsPerPage:15},pageControlOptions:{interactive:!0},buttonOptions:{arrowDirection:"down",baseColor:"rgb( 218, 236, 255 )",xMargin:6,yMargin:4},tandem:L.OPTIONAL},s);assert&&assert(t.carouselOptions.orientation==="vertical","orientation must be vertical"),assert&&assert(t.buttonOptions.arrowDirection==="down","arrowDirection must be down"),t.carouselOptions.itemsPerPage=Math.min(t.carouselOptions.itemsPerPage,i.length),t.carouselOptions.tandem=t.carouselOptions.tandem||t.tandem.createTandem("carousel"),t.buttonOptions.tandem=t.buttonOptions.tandem||t.tandem.createTandem("button"),super(),this.a11yNamePropertyMap=Re.getA11yNamePropertyMap(i);const o=new es,n=je(i,t.tandem.createTandem("items")),r=_.map(i,(h,g)=>({createNode:()=>new kl(e,h,n[g],o,t.itemNodeOptions)}));assert&&assert(r.length===i.length,"expected a carouselItem for each comboBoxItem");const d=[],u=new kn(r,t.carouselOptions);d.push(u);let l=null;u.numberOfPagesProperty.value>1&&(l=new Dn(u.pageNumberProperty,u.numberOfPagesProperty,I({orientation:t.carouselOptions.orientation},t.pageControlOptions)),d.push(l));const c=new $i({spacing:4,children:d}),p=new gs(e,i,n,this.a11yNamePropertyMap,I({listener:()=>{c.visible=!c.visible},widthSizable:t.widthSizable,localPreferredWidthProperty:this.localPreferredWidthProperty,localMinimumWidthProperty:this.localMinimumWidthProperty},t.buttonOptions)),m=new yi({spacing:0,align:"left",children:[p,c]});t.children=[m],this.mutate(t);const V=()=>{c.visible=!1};e.link(V);const q={down:h=>{if(assert&&assert(u.visible,"this listener should be registered only when carousel is visible"),!phet.chipper.isFuzzEnabled()||Ko.nextDouble()<.25){const g=h.trail;!g.containsNode(p)&&!g.containsNode(u)&&(!l||!g.containsNode(l))&&(c.visible=!1)}}};let A=null;c.visibleProperty.link(h=>{h?(assert&&assert(!A,"unexpected display"),A=this.getUniqueTrail().rootNode().getRootedDisplays()[0],A.addInputListener(q)):A&&A.hasInputListener(q)&&(A.removeInputListener(q),A=null)}),this.disposeCarouselComboBox=()=>{e.unlink(V),p.dispose(),l&&l.dispose(),u.dispose(),n.forEach(h=>h.dispose())}}dispose(){this.disposeCarouselComboBox(),super.dispose()}}class kl extends k{constructor(e,i,s,t,o){const n=w()({align:"left",xMargin:6,yMargin:2,overColor:F.grayColor(245),selectedColor:"yellow",tandem:L.OPTIONAL},o),r=new rt(s,{xAlign:n.align,group:t}),d=new Q(0,0,1,1);r.boundsProperty.link(c=>{d.setRectBounds(c.dilatedXY(n.xMargin,n.yMargin))}),n.children=[d,r],super(n);const u=new He({press:()=>{e.value=i.value},tandem:n.tandem.createTandem("pressListener")});this.addInputListener(u);const l=new Z([e,u.isOverProperty],(c,p)=>{c===i.value?d.fill=n.selectedColor:p?d.fill=n.overColor:d.fill="transparent"});this.disposeCarouselItemNode=()=>{l.dispose()}}dispose(){this.disposeCarouselItemNode(),super.dispose()}}T.register("CarouselComboBox",Bl);const Ll=new N("M1120 1280h-832q-66 0 -113 -47t-47 -113v-832q0 -66 47 -113t113 -47h832q66 0 113 47t47 113v832q0 66 -47 113t-113 47zM1408 1120v-832q0 -119 -84.5 -203.5t-203.5 -84.5h-832q-119 0 -203.5 84.5t-84.5 203.5v832q0 119 84.5 203.5t203.5 84.5h832 q119 0 203.5 -84.5t84.5 -203.5z").makeImmutable(),xl=new N("M1408 606v-318q0 -119 -84.5 -203.5t-203.5 -84.5h-832q-119 0 -203.5 84.5t-84.5 203.5v832q0 119 84.5 203.5t203.5 84.5h832q63 0 117 -25q15 -7 18 -23q3 -17 -9 -29l-49 -49q-10 -10 -23 -10q-3 0 -9 2q-23 6 -45 6h-832q-66 0 -113 -47t-47 -113v-832 q0 -66 47 -113t113 -47h832q66 0 113 47t47 113v254q0 13 9 22l64 64q10 10 23 10q6 0 12 -3q20 -8 20 -29zM1639 1095l-814 -814q-24 -24 -57 -24t-57 24l-430 430q-24 24 -24 57t24 57l110 110q24 24 57 24t57 -24l263 -263l647 647q24 24 57 24t57 -24l110 -110 q24 -24 24 -57t-24 -57z").makeImmutable(),Mn="data:audio/mpeg;base64,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VxjMbjCAqV6+9lyLbLv3a0X6ESHnjmkrTgX6ewW628bWpy6aAAAEIBKAAYVGgQJzEA7MHBAeERhQBG6YsEF4lDMeEoCAUYKgI6ZVAYEguZjC2ZGtMcWpghOAQLKNr1LwVPu2Wuurc61Zm1tOXWe/o1tDZJ5cXoLq47k/vbkMSqQ57UHqbUISVThclJqqsAa1V3dqUsXjENcTVSBUCQHmLDZKQCFtO+lwC+DVGKFZhA8Ck5ACX2THBAR54Dl4c+jQuNtZdZ7rPuOGX//7cMTJAk6AYtSvdwcB3graIe684Jd3Kc5TLcMqa1j+V2z++ZfljKYdvVqa/VlNNTWpkJR7VjzOVVd5NBQlGc8z5NIkUcNIozLbzkcqq84/8kUcf1PnK74dLEkq30DAFGtNIonJMclvNIy5wMFJGkUZk4lppFE4ldVr+qreaiclZEjO/scSJEtxTEFNRTMuOTguM6qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqCQACQKKEgQswmgpKTiyiyizTjSizDzDy2eLzc/ypo0osoCEihIoDEA5BDcqWco0FBgUUBgQsQLAzjSizDzDy2drzcqpo0ov/+3LE5QJOoF7PjnWHApQz1oW8mbkoso404so8w+GdnZ4tv//+7VNSUWUWUKEihIELECxAoSBFmHxcNebNGlFmnCRQkCFiBYkUJFAYgWIFgZRZRZh5h9VVVUUJppI1VUxBTUUzLjk4LjNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7cMS2A9IFejpDGM3IAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",Cl=ne(S,Mn),Dl=oe.createLock(Mn),qt=new te;let Vo=!1;const ci=()=>{Vo||(Dl(),Vo=!0)},Ml=a=>{qt.audioBufferProperty.value===null&&(qt.audioBufferProperty.set(a),ci())},Rl=a=>{console.warn("decode of audio data failed, using stubbed sound, error: "+a),qt.audioBufferProperty.set(S.createBuffer(1,1,S.sampleRate)),ci()},Ao=S.decodeAudioData(Cl.buffer,Ml,Rl);Ao&&Ao.then(a=>{qt.audioBufferProperty.value===null&&(qt.audioBufferProperty.set(a),ci())}).catch(a=>{console.warn("promise rejection caught for audio decode, error = "+a),ci()});const Rn=new ie(qt,{soundClipOptions:{initialOutputLevel:.7},soundManagerOptions:{categoryName:"user-interface"}});Y.register("checkboxCheckedSoundPlayer",Rn);const On="data:audio/mpeg;base64,//swxAAAB3BPLHWkgAEQCy03MPADAYAEAMYCIAZnV5vYJv2ZoxqgRhBhkBBkRJhwZa9g7/tbYe1+jC4beogQMZ4Z5zn7mgQQdxOH//////6SQAIzbNJJdtgAAAAAAHjcV2B1EBJLBB4wV9rCWp5eq0EHE43FpgLhkjdNEqGhFqhSQlQ4TwqZdZ7fN/Hm6YKiu/33NoUAACApAAAI//syxAOCSGxzQ123gDkDjCZJvLDmDQ0HhMRgBVEjBws2OIM9Cky1VU0REAhgK47nqWwHAkIYcB7ePHvXeo2cV1nG4uL6rjXjzXt951bbjQs/hQuyxEeFQaEGUgRohuYvQkhIfrBnlFyQoUla/qMye4qGxUqjhxTJIFPCOfamTewcOH2SkYCFVa21OLZrySygx+bV4B1xgBhA1DB0Bf/7MsQFAAfISyw1x4AxL4ssNzGAAigYRigH0YoI18mGQKOgZ+FY0UWnyRsLJgZYCShStOpdQYKdeV5/q9jbIDYPkLAYtiTETvrZLIYEb2u2uogAAAAAAhkChusjjbfkXleOGpiySKjhjUIlMla3JEsHQqgBs2ns50DIPtDIgjJE46JnUPRPPPOG5G8/yKxQADAZFTP1KgAAIX0AGkv/+zLEA4IIRJ9DPaUAMQuN5o2tmYqinck4ucZbhxEBHFls3WFfhr6dyvz3zgxEmEABChAREwQIwJRfc1jx6QHFWNNqQkrG5wvNNbdf1b//kxUACACHIGAlgmUgpccbebl+BkKCZXQyCAwpKkwRUzEk7AIAwgTBahUNNHisAuFoYmM12rXbbUJ2v5Cwa++fDf///+mgDERUoJgUemjg//swxAUDSExLJi3phxEQCmQBrbx0BkCOdSyG/xxiJyFwYUOAZiABRh0Zh64k8Pj7NAJTjWFStFgyvxBK5IhTLDstCt9Y/SAqpLqiYU1gRqYoIfCMbtwYtoG77YMaQdBGoPhoQOPIxjIsCrswBnOHTzqNAI9TIQEiAQc0oSX9JssKWBt5O9HJA8fEWBHxeXEQzXUAKsQAXwMjEM3O//syxAUCSDxVLM1lJzEbCWPFrmxBNqHM4RC+k5ZUzwUcEaSmKZZCdwJRBNZkJiwDdFN36YdSqdqUT6pYDZ5ScxSDVfZPSpL8M//b6NxDNtjDhTpxDmMDKQMMw1k08tNDTxrGMKLQxRDCMevDKlACBZi1WYsoiEOBwEwdI9e0vdBptNKZfgzJsVH29qtOpUET8k9v4mAAAExTEHgUKP/7MsQEggfQUyJNc0QA2AklmY2YpukjMG6N4KPFG4xmOjdBnIQqBgcbgGQGmcNGdaHtBQplqcsNdnbkroa0zXiUXxyr9wz/WF9usagQAkSHDHulGU3DjA44xIgQwADplHVAGUl7G/MbPAcXSMAgRGUSoN9OUp+zGuLf///V3//+ugKcCSTofFaj5oNcoyUgyJfAIDMwsQBGeEBQiGf/+zLEDgJHUD8UDOksQN6F39wxsAA60sBDGHr5bR5oZBEMkscKhnEIJPCh6j//////+n6AmBgKjhFZNEIgmCyGD2UQjAVEweC2peqxVyOIpL/WDXZ7cNcFTtQdJCEFQVGLPFgaUHJ6dhojDlVttOCJU4BB0qsXplV/tncqptv/p//+n//6abf////9QTTTTRVV9UEJK0kIixWmqoc///swxBiDxvgCi4CEYAgAADSAAAAE/1TTVEWK6UxBTUUzLjk5LjNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",Ol=ne(S,On),Il=oe.createLock(On),yt=new te;let go=!1;const hi=()=>{go||(Il(),go=!0)},vl=a=>{yt.audioBufferProperty.value===null&&(yt.audioBufferProperty.set(a),hi())},Nl=a=>{console.warn("decode of audio data failed, using stubbed sound, error: "+a),yt.audioBufferProperty.set(S.createBuffer(1,1,S.sampleRate)),hi()},mo=S.decodeAudioData(Ol.buffer,vl,Nl);mo&&mo.then(a=>{yt.audioBufferProperty.value===null&&(yt.audioBufferProperty.set(a),hi())}).catch(a=>{console.warn("promise rejection caught for audio decode, error = "+a),hi()});const In=new ie(yt,{soundClipOptions:{initialOutputLevel:.7},soundManagerOptions:{categoryName:"user-interface"}});Y.register("checkboxUncheckedSoundPlayer",In);const Fl={valueType:"boolean"},vn=yr(.025,0,0,0,-.025,0,0,0,1),Ul=Ll.transformed(vn),Wl=xl.transformed(vn);class Nn extends _t(bt(k)){constructor(e,i,s){var c,p;const t=w()({spacing:5,boxWidth:21,checkboxColor:"black",checkboxColorBackground:"white",touchAreaXDilation:0,touchAreaYDilation:0,mouseAreaXDilation:0,mouseAreaYDilation:0,checkedSoundPlayer:Rn,uncheckedSoundPlayer:In,phetioLinkProperty:!0,cursor:"pointer",disabledOpacity:ge.DISABLED_OPACITY,tandem:L.REQUIRED,tandemNameSuffix:"Checkbox",phetioEventType:Ae.USER,visiblePropertyOptions:{phetioFeatured:!0},phetioEnabledPropertyInstrumented:!0,phetioReadOnly:Ve.DEFAULT_OPTIONS.phetioReadOnly,phetioFeatured:!0,tagName:"input",inputType:"checkbox",appendDescription:!0,voicingCheckedObjectResponse:null,voicingUncheckedObjectResponse:null,checkedContextResponse:null,uncheckedContextResponse:null,voiceNameResponseOnSelection:!0},s);super(),this._isMouseAreaCustomized=!1,this._isTouchAreaCustomized=!1,this._isSettingAreas=!1;const o=new Xi(()=>{e.value=!e.value,jo(e.value,Fl),e.value?(t.checkedSoundPlayer.play(),t.checkedContextResponse&&this.alertDescriptionUtterance(t.checkedContextResponse),this.voicingSpeakResponse({nameResponse:t.voiceNameResponseOnSelection?this.voicingNameResponse:null,objectResponse:De.alertableToText(t.voicingCheckedObjectResponse),contextResponse:De.alertableToText(t.checkedContextResponse)})):(t.uncheckedSoundPlayer.play(),t.uncheckedContextResponse&&this.alertDescriptionUtterance(t.uncheckedContextResponse),this.voicingSpeakResponse({nameResponse:t.voiceNameResponseOnSelection?this.voicingNameResponse:null,objectResponse:De.alertableToText(t.voicingUncheckedObjectResponse),contextResponse:De.alertableToText(t.uncheckedContextResponse)}))},{parameters:[],tandem:t.tandem.createTandem("toggleAction"),phetioDocumentation:"Emits when user input causes the checkbox to toggle, emitting a single arg: the new boolean value of the checkbox state.",phetioReadOnly:!0,phetioEventType:Ae.USER});this.backgroundNode=new Q(0,-t.boxWidth,t.boxWidth*.95,t.boxWidth*.95,t.boxWidth*.2,t.boxWidth*.2,{fill:t.checkboxColorBackground}),this.uncheckedNode=new J(Ul,{fill:t.checkboxColor});const n=t.boxWidth/this.uncheckedNode.width;this.uncheckedNode.scale(n),this.checkedNode=new J(Wl,{scale:n,fill:t.checkboxColor});const r=new k({children:[this.backgroundNode,this.checkedNode,this.uncheckedNode]}),d=new Q({});this.children=[r,i,d],this.constraint=new Yl(this,r,this.checkedNode,i,d,t),this.constraint.updateLayout(),i.pickable=!1,i.pdomVisible=!1;const u=new ts({fire:()=>o.execute(),tandem:t.tandem.createTandem("fireListener")});this.addInputListener(u);const l=m=>{this.checkedNode.visible=m,this.uncheckedNode.visible=!m,this.pdomChecked=m};e.link(l),this.mutate(t),this.setExcludeLabelSiblingFromInput(),t.phetioLinkProperty&&this.addLinkedElement(e,{tandemName:"property"}),assert&&((p=(c=phet==null?void 0:phet.chipper)==null?void 0:c.queryParameters)!=null&&p.binder)&&G.registerDataURL("sun","Checkbox",this),this.disposeCheckbox=()=>{d.dispose(),this.backgroundNode.dispose(),this.uncheckedNode.dispose(),this.checkedNode.dispose(),r.dispose(),u.dispose(),e.hasListener(l)&&e.unlink(l),o.dispose()}}dispose(){this.constraint.dispose(),this.disposeCheckbox(),super.dispose()}setCheckboxColorBackground(e){this.backgroundNode.fill=e}set checkboxColorBackground(e){this.setCheckboxColorBackground(e)}get checkboxColorBackground(){return this.getCheckboxColorBackground()}getCheckboxColorBackground(){return this.backgroundNode.fill}setCheckboxColor(e){this.checkedNode.fill=this.uncheckedNode.fill=e}set checkboxColor(e){this.setCheckboxColor(e)}get checkboxColor(){return this.getCheckboxColor()}getCheckboxColor(){return this.checkedNode.fill}setMouseArea(e){return this._isSettingAreas||(this._isMouseAreaCustomized=!0),super.setMouseArea(e)}setTouchArea(e){return this._isSettingAreas||(this._isTouchAreaCustomized=!0),super.setTouchArea(e)}}class Yl extends Ke{constructor(e,i,s,t,o,n){super(e),this.checkbox=e,this.checkboxNode=i,this.checkedNode=s,this.content=t,this.rectangle=o,this.options=n,this.checkbox.localPreferredWidthProperty.lazyLink(this._updateLayoutListener),this.addNode(t)}layout(){super.layout();const e=this.createLayoutProxy(this.content),i=e.minimumWidth,s=this.checkedNode.right-this.checkboxNode.left,t=s+this.options.spacing+i,o=Math.max(t,this.checkbox.localPreferredWidth||0);Be(this.content)&&this.checkbox.localPreferredWidth!==null&&(e.preferredWidth=o-s-this.options.spacing),e.left=this.checkedNode.right+this.options.spacing,e.centerY=this.checkedNode.centerY,this.rectangle.rectBounds=this.checkboxNode.bounds.union(e.bounds).withMaxX(Math.max(this.checkboxNode.left+o,e.right)),this.checkbox._isSettingAreas=!0,this.checkbox._isTouchAreaCustomized||(this.checkbox.touchArea=this.checkbox.localBounds.dilatedXY(this.options.touchAreaXDilation,this.options.touchAreaYDilation)),this.checkbox._isMouseAreaCustomized||(this.checkbox.mouseArea=this.checkbox.localBounds.dilatedXY(this.options.mouseAreaXDilation,this.options.mouseAreaYDilation)),this.checkbox._isSettingAreas=!1,e.dispose(),this.checkbox.localMinimumWidth=t}dispose(){this.checkbox.localPreferredWidthProperty.unlink(this._updateLayoutListener),super.dispose()}}T.register("Checkbox",Nn);class Hl{constructor(e,i){this.touchThreshold=e,this.mouseThreshold=i,this.items=[]}addDraggableItem(e){this.items.push(e)}removeDraggableItem(e){const i=_.indexOf(this.items,e);assert&&assert(i>=0),this.items.splice(i,1)}down(e){if(e.target===e.currentTarget){let i=0;if(e.pointer.isTouchLike()&&(i=this.touchThreshold),e.pointer instanceof Ir&&(i=this.mouseThreshold),i){let s=null,t=Number.POSITIVE_INFINITY;const o=e.pointer.point,n=this.items.length;for(let r=0;r<n;r++){const d=this.items[r],u=d.computeDistance(o);u<t&&(t=u,s=d)}s&&t<i&&s.startDrag(e)}}}}T.register("ClosestDragForwardingListener",Hl);const Fn="data:audio/mpeg;base64,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qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/+xDE1gPAAAGkAAAAIAAANIAAAASqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqv/7EMTWA8AAAaQAAAAgAAA0gAAABKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//sQxNYDwAABpAAAACAAADSAAAAEqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/+xDE1gPAAAGkAAAAIAAANIAAAASqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==",Ql=ne(S,Fn),Gl=oe.createLock(Fn),Ge=new te;let qo=!1;const pi=()=>{qo||(Gl(),qo=!0)},_l=a=>{Ge.audioBufferProperty.value===null&&(Ge.audioBufferProperty.set(a),pi())},zl=a=>{console.warn("decode of audio data failed, using stubbed sound, error: "+a),Ge.audioBufferProperty.set(S.createBuffer(1,1,S.sampleRate)),pi()},yo=S.decodeAudioData(Ql.buffer,_l,zl);yo&&yo.then(a=>{Ge.audioBufferProperty.value===null&&(Ge.audioBufferProperty.set(a),pi())}).catch(a=>{console.warn("promise rejection caught for audio decode, error = "+a),pi()});const Un="data:audio/mpeg;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAAEAAAE/QCbm5ubm5ubm5ubm5ubm5ubm5ubm5ubm5vBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHB4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4P////////////////////////////////8AAAAUTEFNRTMuMTAwBJgAAAAAAAAAABUgJAXmQQABpAAABP2CPnqIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//ugxAAAAZABXJQAACjSBy/7MvJBlbA24AeHxx+Z+DJ48Acl/O7e/c+wAAAAAAAEggodS1KhDIMHY9Flj8OAaLhIDnqje9htgSxoj0q3Fksjnr007hUgBFiJkAAAAJRul9HpGarkErUNUSqvEO5RRnr0CYblhVBIAACITTDJN3xrY6pMQU1FMy4xMDCqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqpcJoKAAAAAArSgBAzM3OFUFV0GH4AAagOAQ5P8ZoVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sgxNoAw8QpV9zxgCg6A+w4kAkEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7EMTlgMI4H1/EgQggMYHqUBQYBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sQxNYDwAAB/gAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",Kl=ne(S,Un),jl=oe.createLock(Un),_e=new te;let fo=!1;const Vi=()=>{fo||(jl(),fo=!0)},Jl=a=>{_e.audioBufferProperty.value===null&&(_e.audioBufferProperty.set(a),Vi())},Xl=a=>{console.warn("decode of audio data failed, using stubbed sound, error: "+a),_e.audioBufferProperty.set(S.createBuffer(1,1,S.sampleRate)),Vi()},bo=S.decodeAudioData(Kl.buffer,Jl,Xl);bo&&bo.then(a=>{_e.audioBufferProperty.value===null&&(_e.audioBufferProperty.set(a),Vi())}).catch(a=>{console.warn("promise rejection caught for audio decode, error = "+a),Vi()});const ms=new ie(Ge,{soundClipOptions:{initialOutputLevel:.2},soundManagerOptions:{categoryName:"user-interface"}});Y.register("generalBoundaryBoopSoundPlayer",ms);const qs=new ie(_e,{soundClipOptions:{initialOutputLevel:.2},soundManagerOptions:{categoryName:"user-interface"}});Y.register("generalSoftClickSoundPlayer",qs);const So=5,Zl=new ie(Ge,{soundClipOptions:{initialOutputLevel:.2,initialPlaybackRate:1/Math.pow(2,1/6)},soundManagerOptions:{categoryName:"user-interface"}}),$l=new ie(_e,{soundClipOptions:{initialOutputLevel:.2,initialPlaybackRate:1/Math.pow(2,1/6)},soundManagerOptions:{categoryName:"user-interface"}}),ed=a=>X.roundToInterval(a,1e-9),kt=()=>1,Po=()=>{assert&&assert(!1,"Code error: This is a stubbed function and should never be invoked.")},Fe=class Fe extends Gi{constructor(e,i){const s=w()({middleMovingUpSoundPlayer:qs,middleMovingDownSoundPlayer:$l,middleMovingUpPlaybackRateMapper:kt,middleMovingDownPlaybackRateMapper:kt,numberOfMiddleThresholds:null,interThresholdDelta:null,constrainValue:ed,minSoundPlayer:Zl,maxSoundPlayer:ms,minimumInterMiddleSoundTime:.035},i);assert&&assert(s.minimumInterMiddleSoundTime>=0&&s.minimumInterMiddleSoundTime<1,`unreasonable value for minimumInterMiddleSoundTime: ${s.minimumInterMiddleSoundTime}`),assert&&assert(s.numberOfMiddleThresholds===null||s.interThresholdDelta===null,"cannot specify both the number of middle thresholds and the inter-threshold delta"),assert&&assert(s.numberOfMiddleThresholds===null||Number.isInteger(s.numberOfMiddleThresholds),"numberOfMiddleThresholds must be an integer if specified"),assert&&assert(s.middleMovingUpPlaybackRateMapper===kt||s.middleMovingUpSoundPlayer instanceof Wt,"a sound player that supports playback rate changes is required when a playback rate mapper is used"),assert&&assert(s.middleMovingDownPlaybackRateMapper===kt||s.middleMovingDownSoundPlayer instanceof Wt,"a sound player that supports playback rate changes is required when a playback rate mapper is used"),s.numberOfMiddleThresholds===null&&s.interThresholdDelta===null&&(s.numberOfMiddleThresholds=So),super(s),this.interThresholdDistance=So,this.valueRangeProperty=e instanceof ue?new j(e):e,this.middleMovingUpSoundPlayer=s.middleMovingUpSoundPlayer,this.middleMovingDownSoundPlayer=s.middleMovingDownSoundPlayer,this.middleMovingUpPlaybackRateMapper=s.middleMovingUpPlaybackRateMapper,this.middleMovingDownPlaybackRateMapper=s.middleMovingDownPlaybackRateMapper,this.minSoundPlayer=s.minSoundPlayer,this.maxSoundPlayer=s.maxSoundPlayer,this.minimumInterMiddleSoundTime=s.minimumInterMiddleSoundTime,this.timeOfMostRecentMiddleSound=0,this.constrainValue=s.constrainValue;const t=o=>{s.numberOfMiddleThresholds!==null?this.interThresholdDistance=o.getLength()/(s.numberOfMiddleThresholds+1):s.interThresholdDelta!==null?this.interThresholdDistance=s.interThresholdDelta:(assert&&assert(!1,"should never get here, it is a logic error if we do"),this.interThresholdDistance=o.getLength()/2)};this.valueRangeProperty.link(t),this.disposeEmitter.addListener(()=>{this.valueRangeProperty.unlink(t)})}playSoundIfThresholdReached(e,i){if(e!==i){const s=this.constrainValue(e),t=this.constrainValue(i),o=this.getSurroundingThresholds(t),n=this.getSurroundingThresholds(s),r=o.length===1&&n.length===1&&Math.abs(o[0]-n[0])>this.interThresholdDistance||o.length===1&&n.length===2&&o[0]!==n[0]&&o[0]!==n[1]||o.length===2&&n.length===1&&n[0]!==o[0]&&n[0]!==o[1]||o.length===2&&n.length===2&&n[0]!==o[0],d=n.length===1&&(o.length===2||o[0]!==n[0]);(r||d||s===this.valueRangeProperty.value.min||s===this.valueRangeProperty.value.max)&&this.playSoundForValueChange(e,i)}}playSoundForValueChange(e,i){const s=this.constrainValue(e),t=this.constrainValue(i);if(s!==t||i!==e&&(e===this.valueRangeProperty.value.min||e===this.valueRangeProperty.value.max))if(e===this.valueRangeProperty.value.min&&this.minSoundPlayer!==Fe.USE_MIDDLE_SOUND)this.minSoundPlayer.play();else if(e===this.valueRangeProperty.value.max&&this.maxSoundPlayer!==Fe.USE_MIDDLE_SOUND)this.maxSoundPlayer.play();else{const o=S.currentTime;if(o-this.timeOfMostRecentMiddleSound>this.minimumInterMiddleSoundTime){let n,r;s>t?(n=this.middleMovingUpPlaybackRateMapper,r=this.middleMovingUpSoundPlayer):(n=this.middleMovingUpPlaybackRateMapper,r=this.middleMovingDownSoundPlayer),n!==kt&&r.setPlaybackRate(n(e)),r.play(),this.timeOfMostRecentMiddleSound=o}}}getSurroundingThresholds(e){const s=Math.floor(X.roundToInterval((e-this.valueRangeProperty.value.min)/this.interThresholdDistance,1e-7)),t=X.roundToInterval(s*this.interThresholdDistance+this.valueRangeProperty.value.min,1e-7),o=[t];if(t!==e){const n=Math.min(X.roundToInterval(t+this.interThresholdDistance,1e-7),this.valueRangeProperty.value.max);n>t&&o.push(n)}return o}};Fe.NO_SOUND=new Fe(new ue(0,1),{middleMovingUpSoundPlayer:We,minSoundPlayer:We,maxSoundPlayer:We}),Fe.USE_MIDDLE_SOUND={play:Po,stop:Po};let we=Fe;Y.register("ValueChangeSoundPlayer",we);const Wn="input",td=a=>`${a}`,id={withNameResponse:!1,withObjectResponse:!0,onlyOnValueChange:!0},Eo=["startInput","endInput","onInput","constrainValue","keyboardStep","shiftKeyboardStep","pageKeyboardStep","ariaOrientation","panTargetNode","roundToStepSize","pdomMapPDOMValue","pdomMapValue","pdomRepeatEqualValueText","pdomCreateAriaValueText","pdomCreateContextResponseAlert","contextResponsePerValueChangeDelay","contextResponseMaxDelay","pdomDependencies","voicingOnEndResponseOptions"],Ei=(a,e)=>{const i=ss("AccessibleValueHandler",Eo,class extends bt(a){constructor(...t){const o=t[e];assert&&assert(o,"providedOptions has required options"),assert&&assert(o.enabledRangeProperty,"enabledRangeProperty is a required option"),assert&&assert(o.valueProperty,"valueProperty is a required option"),assert&&o&&assert(!o.hasOwnProperty("tagName")||o.tagName===null,"AccessibleValueHandler sets its own tagName. Only provide tagName to clear accessible content from the PDOM"),assert&&o&&assert(!o.hasOwnProperty("inputType"),"AccessibleValueHandler sets its own inputType."),assert&&o&&o.roundToStepSize&&assert(o.keyboardStep,"rounding to keyboardStep, define appropriate keyboardStep to round to"),t[e]=w()({tagName:Wn,inputType:"range"},o),super(...t),this._startInput=_.noop,this._onInput=_.noop,this._endInput=_.noop,this._constrainValue=_.identity,this._pdomMapValue=_.identity,this._panTargetNode=null,this._ariaOrientation=se.HORIZONTAL,this._shiftKey=!1,this._pdomDependencies=[],this._oldValue=null,this._pdomCreateContextResponseAlert=null,this._contextResponseUtterance=new De,this._timesValueTextChangedBeforeAlerting=0,this._contextResponsePerValueChangeDelay=700,this._contextResponseMaxDelay=1500,this._pdomInputHandled=!1,this._blockInput=!1,this._roundToStepSize=!1,this._rangeKeysDown={},this._pdomMapPDOMValue=_.identity,this._pdomCreateAriaValueText=td,this._dependenciesMultilink=null,this._pdomRepeatEqualValueText=!0,this._timesChangedBeforeAlerting=0,this._voicingOnEndResponseOptions=id,this._pdomPointer=null,os(this,["inputValue","setPDOMAttribute"]);const n=o.valueProperty,r=o.enabledRangeProperty;o.reverseAlternativeInput?this._valueProperty=new It(new ce(n),{bidirectional:!0,map:l=>r.value.max-l,inverseMap:l=>r.value.max-l}):this._valueProperty=n,this._enabledRangeProperty=r,this._pdomValueTextUpdateListener=this.invalidateAriaValueText.bind(this),this.keyboardStep=(r.get().max-r.get().min)/20,this.shiftKeyboardStep=(r.get().max-r.get().min)/100,this.pageKeyboardStep=(r.get().max-r.get().min)/10,this._valueOnStart=n.value,this.invalidatePDOMDependencies();const d=this.invalidateEnabledRange.bind(this);this._enabledRangeProperty.link(d);const u=this.invalidateValueProperty.bind(this);this._valueProperty.link(u),this._pdomPointerListener={interrupt:()=>{this._onInteractionEnd(null)}},this._disposeAccessibleValueHandler=()=>{this._enabledRangeProperty.unlink(d),this._valueProperty.unlink(u),o.reverseAlternativeInput&&(assert&&assert(this._valueProperty instanceof It,"Only a DynamicProperty can be disposed, otherwise this is disposing a Property that AccessibleValueHandler does not have ownership over."),this._valueProperty.dispose()),this._dependenciesMultilink&&this._dependenciesMultilink.dispose(),this._panTargetNode=null,this._pdomDependencies=[]}}set startInput(t){this._startInput=t}get startInput(){return this._startInput}set onInput(t){this._onInput=t}get onInput(){return this._onInput}set endInput(t){this._endInput=t}get endInput(){return this._endInput}set constrainValue(t){this._constrainValue=t}get constrainValue(){return this._constrainValue}set panTargetNode(t){this._panTargetNode=t}get panTargetNode(){return this._panTargetNode}set roundToStepSize(t){this._roundToStepSize=t}get roundToStepSize(){return this._roundToStepSize}set pdomMapPDOMValue(t){this._pdomMapPDOMValue=t,this.invalidateEnabledRange(this._enabledRangeProperty.value),this.invalidateValueProperty(),this.invalidateAriaValueText()}get pdomMapPDOMValue(){return this._pdomMapPDOMValue}set pdomMapValue(t){this._pdomMapValue=t}get pdomMapValue(){return this._pdomMapValue}set pdomRepeatEqualValueText(t){this._pdomRepeatEqualValueText=t,this.invalidateAriaValueText()}get pdomRepeatEqualValueText(){return this._pdomRepeatEqualValueText}set pdomCreateAriaValueText(t){this._pdomCreateAriaValueText=t,this.invalidateAriaValueText()}get pdomCreateAriaValueText(){return this._pdomCreateAriaValueText}set pdomCreateContextResponseAlert(t){this._pdomCreateContextResponseAlert=t}get pdomCreateContextResponseAlert(){return this._pdomCreateContextResponseAlert}set contextResponsePerValueChangeDelay(t){this._contextResponsePerValueChangeDelay=t}get contextResponsePerValueChangeDelay(){return this._contextResponsePerValueChangeDelay}set contextResponseMaxDelay(t){this._contextResponseMaxDelay=t}get contextResponseMaxDelay(){return this._contextResponseMaxDelay}set voicingOnEndResponseOptions(t){this._voicingOnEndResponseOptions=t}get voicingOnEndResponseOptions(){return this._voicingOnEndResponseOptions}invalidateAriaValueText(){this._updateAriaValueText(this._oldValue),this._oldValue=this._valueProperty.value}invalidateEnabledRange(t){const o=this._getMappedValue(t.min),n=this._getMappedValue(t.max);this.setPDOMAttribute("min",o),this.setPDOMAttribute("max",n),this._updateSiblingStepAttribute()}invalidateValueProperty(){const t=this._getMappedValue();this.setPDOMAttribute("aria-valuenow",t),this.inputValue=t}invalidatePDOMDependencies(){this._dependenciesMultilink&&this._dependenciesMultilink.dispose(),this._dependenciesMultilink=Z.multilinkAny(this._pdomDependencies.concat([this._valueProperty]),this._pdomValueTextUpdateListener)}setPDOMDependencies(t){assert&&assert(!t.includes(this._valueProperty),"The value Property is already a dependency, and does not need to be added to this list"),this._pdomDependencies=t,this.invalidatePDOMDependencies()}getPDOMDependencies(){return this._pdomDependencies}set pdomDependencies(t){this.setPDOMDependencies(t)}get pdomDependencies(){return this.getPDOMDependencies()}_updateAriaValueText(t){const o=this._getMappedValue(),n=this._pdomCreateAriaValueText(o,this._valueProperty.value,t);let r=Mi.unwrapStringProperty(n);assert&&assert(typeof r=="string");const d=" ";this._pdomRepeatEqualValueText&&this.ariaValueText&&r===this.ariaValueText.replace(new RegExp(d,"g"),"")&&(r=this.ariaValueText+d),this.ariaValueText=r}alertContextResponse(){let t=!1;if(this._pdomCreateContextResponseAlert){const o=this._getMappedValue(),n=this._pdomCreateContextResponseAlert(o,this._valueProperty.value,this._valueOnStart);n&&(this._contextResponseUtterance.alert=n,this.forEachUtteranceQueue(r=>{t||(r.hasUtterance(this._contextResponseUtterance)?(t=!0,this._timesChangedBeforeAlerting++):this._timesChangedBeforeAlerting=1),this._contextResponseUtterance.alertStableDelay=Math.min(this._contextResponseMaxDelay,this._timesChangedBeforeAlerting*this._contextResponsePerValueChangeDelay),r.addToBack(this._contextResponseUtterance)}))}}reset(){this._pdomCreateAriaValueText.reset&&this._pdomCreateAriaValueText.reset(),this._pdomCreateContextResponseAlert&&this._pdomCreateContextResponseAlert.reset&&this._pdomCreateContextResponseAlert.reset(),this._timesChangedBeforeAlerting=0,this._updateAriaValueText(null)}_getMappedValue(t=this._valueProperty.value){return this._pdomMapPDOMValue(t)}getAccessibleValueHandlerInputListener(){return{keydown:this.handleKeyDown.bind(this),keyup:this.handleKeyUp.bind(this),input:this.handleInput.bind(this),change:this.handleChange.bind(this),blur:this.handleBlur.bind(this)}}handleKeyDown(t){const o=t.domEvent,n=O.getEventCode(o);if(n&&(this._shiftKey=o.shiftKey,O.isKeyEvent(o,O.KEY_TAB)&&(this._blockInput=!0),this.enabledProperty.get()&&O.isRangeKey(o)&&(o.preventDefault(),!o.metaKey))){t.pointer.reserveForKeyboardDrag();let r=!0;this._anyKeysDown()||this._onInteractionStart(t),this._rangeKeysDown[n]=!0;let d=this._valueProperty.get();if(O.isAnyKeyEvent(o,[O.KEY_END,O.KEY_HOME]))n===O.KEY_END?d=this._enabledRangeProperty.get().max:n===O.KEY_HOME&&(d=this._enabledRangeProperty.get().min);else{let p;n===O.KEY_PAGE_UP||n===O.KEY_PAGE_DOWN?(p=this.pageKeyboardStep,n===O.KEY_PAGE_UP?d=this._valueProperty.get()+p:n===O.KEY_PAGE_DOWN&&(d=this._valueProperty.get()-p)):O.isArrowKey(o)&&(p=o.shiftKey?this.shiftKeyboardStep:this.keyboardStep,r=!o.shiftKey,n===O.KEY_RIGHT_ARROW||n===O.KEY_UP_ARROW?d=this._valueProperty.get()+p:(n===O.KEY_LEFT_ARROW||n===O.KEY_DOWN_ARROW)&&(d=this._valueProperty.get()-p),this._roundToStepSize&&(d=wo(d,this._valueProperty.get(),p)))}const u=this._pdomMapValue(d,this._valueProperty.get());let l=u;r&&(l=this._constrainValue(u)),this._valueProperty.set(X.clamp(l,this._enabledRangeProperty.get().min,this._enabledRangeProperty.get().max)),this._onInput(t);const c=this._panTargetNode||this;Ds.initialized&&Ds.listener.panToNode(c,!0,c.limitPanDirection)}}handleKeyUp(t){const o=O.getEventCode(t.domEvent);this._allKeysUp()||(O.SHIFT_KEYS.includes(o)&&(this._shiftKey=!1),this.enabledProperty.get()&&O.isRangeKey(t.domEvent)&&(this._rangeKeysDown[o]=!1,this._allKeysUp()&&this._onInteractionEnd(t)))}handleChange(t){this._pdomInputHandled||this.handleInput(t),this._pdomInputHandled=!1}handleInput(t){if(this.enabledProperty.get()&&!this._blockInput){this._pdomInputHandled=!0;let o=this._valueProperty.get();const n=parseFloat(t.domEvent.target.value),r=this._shiftKey?this.shiftKeyboardStep:this.keyboardStep,d=this._getMappedValue();this._onInteractionStart(t),n>d?o=this._valueProperty.get()+r:n<d&&(o=this._valueProperty.get()-r),this._roundToStepSize&&(o=wo(o,this._valueProperty.get(),r)),o=X.clamp(o,this._enabledRangeProperty.get().min,this._enabledRangeProperty.get().max),this._valueProperty.set(this._constrainValue(this._pdomMapValue(o,this._valueProperty.get()))),this._onInput(t),this._onInteractionEnd(t)}this._blockInput=!1}handleBlur(t){this._anyKeysDown()&&this._onInteractionEnd(t),this._shiftKey=!1,this._blockInput=!1,this._rangeKeysDown={}}_onInteractionStart(t){assert&&assert(!this._pdomPointer,"Pointer should have been cleared and detached on end or interrupt."),this._pdomPointer=t.pointer,assert&&assert(this._pdomPointer.attachedListener!==this._pdomPointerListener,"This pointer listener was never removed!"),this._pdomPointer.addInputListener(this._pdomPointerListener,!0),this._valueOnStart=this._valueProperty.value,this._startInput(t)}_onInteractionEnd(t){this._pdomPointer&&(this.alertContextResponse(),this.voicingOnEndResponse(this._valueOnStart),this._endInput(t),assert&&assert(this._pdomPointer.attachedListener===this._pdomPointerListener,"pointer listener should be attached"),this._pdomPointer.removeInputListener(this._pdomPointerListener),this._pdomPointer=null)}setKeyboardStep(t){assert&&assert(t>=0,"keyboard step must be non-negative"),this._keyboardStep=t}set keyboardStep(t){this.setKeyboardStep(t)}get keyboardStep(){return this.getKeyboardStep()}getKeyboardStep(){return this._keyboardStep}setShiftKeyboardStep(t){assert&&assert(t>=0,"shift keyboard step must be non-negative"),this._shiftKeyboardStep=t}set shiftKeyboardStep(t){this.setShiftKeyboardStep(t)}get shiftKeyboardStep(){return this.getShiftKeyboardStep()}getShiftKeyboardStep(){return this._shiftKeyboardStep}getShiftKeyDown(){return this._shiftKey}get shiftKeyDown(){return this.getShiftKeyDown()}setPageKeyboardStep(t){assert&&assert(t>=0,"page keyboard step must be non-negative"),this._pageKeyboardStep=t}set pageKeyboardStep(t){this.setPageKeyboardStep(t)}get pageKeyboardStep(){return this.getPageKeyboardStep()}getPageKeyboardStep(){return this._pageKeyboardStep}setAriaOrientation(t){this._ariaOrientation=t,this.setPDOMAttribute("aria-orientation",t.ariaOrientation)}set ariaOrientation(t){this.setAriaOrientation(t)}get ariaOrientation(){return this._ariaOrientation}getAriaOrientation(){return this._ariaOrientation}_allKeysUp(){return _.every(this._rangeKeysDown,t=>!t)}_anyKeysDown(){return!!_.find(this._rangeKeysDown,t=>t)}_updateSiblingStepAttribute(){let t="any";if(Hr.mobileSafari){const o=Math.min(this.keyboardStep,this.shiftKeyboardStep,this.pageKeyboardStep);t=Math.pow(10,-X.numberOfDecimalPlaces(o));const n=this._getMappedValue(this._enabledRangeProperty.get().min),r=this._getMappedValue(this._enabledRangeProperty.get().max),d=r-n;t/d<1e-5&&(t=r/100,t=Number(t.toPrecision(8)))}this.setPDOMAttribute("step",t)}voicingOnEndResponse(t,o){const n=I({},this._voicingOnEndResponseOptions,o),r=t!==this._valueProperty.value,d=this._valueProperty.value===this._enabledRangeProperty.value.min||this._valueProperty.value===this._enabledRangeProperty.value.max,u=!!(n.withNameResponse&&this.voicingNameResponse)||!!(n.withObjectResponse&&this.voicingObjectResponse);(!n.onlyOnValueChange||d||r)&&u&&this.voicingSpeakFullResponse({nameResponse:n.withNameResponse?this.voicingNameResponse:null,objectResponse:n.withObjectResponse?this.voicingObjectResponse:null,hintResponse:null})}dispose(){this._disposeAccessibleValueHandler(),super.dispose()}});return i.prototype._mutatorKeys=Eo.concat(i.prototype._mutatorKeys),assert&&assert(i.prototype._mutatorKeys.length===_.uniq(i.prototype._mutatorKeys).length,"duplicate mutator keys in AccessibleValueHandler"),i};T.register("AccessibleValueHandler",Ei);const wo=function(a,e,i){let s=a;return i!==0&&(s=X.roundSymmetric(s/i)*i,s=sd(s,e,i)),s},sd=function(a,e,i){let s=a;const t=Math.abs(a-e),o=t>i,n=X.equalsEpsilon(t,i,1e-14);return o&&!n&&(s+=a>e?-i:i),s};Ei.DEFAULT_TAG_NAME=Wn;const To=["startDrag","drag","endDrag"],Yn=(a,e)=>{const i=ss("AccessibleSlider",To,class extends Ei(a,e){constructor(...t){const o=t[e];assert&&o&&assert(Object.getPrototypeOf(o)===Object.prototype,"Extra prototype on AccessibleSlider options object is a code smell (or probably a bug)"),assert&&assert(o.startInput===void 0,"AccessibleSlider sets startInput through options.startDrag"),assert&&assert(o.endInput===void 0,"AccessibleSlider sets endInput through options.endDrag"),assert&&assert(o.onInput===void 0,"AccessibleSlider sets onInput through options.drag"),super(...t),this._startDrag=_.noop,this._drag=_.noop,this._endDrag=_.noop,os(this,["addInputListener","removeInputListener"]);const n=this.getAccessibleValueHandlerInputListener();this.addInputListener(n),this._disposeAccessibleSlider=()=>{this.removeInputListener(n)}}set startDrag(t){this._startDrag=t,this.startInput=t}get startDrag(){return this._startDrag}set drag(t){this._drag=t,this.onInput=t}get drag(){return this._drag}set endDrag(t){this._endDrag=t,this.endInput=t}get endDrag(){return this._endDrag}dispose(){this._disposeAccessibleSlider(),super.dispose()}});return i.prototype._mutatorKeys=To.concat(i.prototype._mutatorKeys),assert&&assert(i.prototype._mutatorKeys.length===_.uniq(i.prototype._mutatorKeys).length,"duplicate mutator keys in AccessibleSlider"),i};T.register("AccessibleSlider",Yn);const od="rgb( 50, 145, 184 )",nd="rgb( 71, 207, 255 )";class Hn extends Q{constructor(e){const i=w()({size:new ee(22,45),fillHighlighted:nd,centerLineStroke:"white",fill:od,stroke:"black",lineWidth:1,tandem:L.REQUIRED,tandemNameSuffix:"ThumbNode"},e);i.cornerRadius===void 0&&(i.cornerRadius=.25*i.size.width),i.cachedPaints=[i.fill,i.fillHighlighted],super(0,0,i.size.width,i.size.height,i);const s=Q.bounds(this.bounds.dilated(5),{fill:"transparent",localBounds:this.bounds,pickable:!1});this.addChild(s);const t=3;this.addChild(new J(N.lineSegment(i.size.width/2,t,i.size.width/2,i.size.height-t),{stroke:i.centerLineStroke}));const o=new He({attach:!1,tandem:L.OPT_OUT});o.isHighlightedProperty.link(n=>{this.fill=n?i.fillHighlighted:i.fill}),this.addInputListener(o)}}T.register("SliderThumb",Hn);class Qn{constructor(e,i,s,t,o,n,r,d,u){this.parent=e,this.value=i,this.label=s,this.labelXProperty=new U([u.valueToPositionProperty],c=>c.evaluate(i)),this.tickNode=new k,e.addChild(this.tickNode);const l=new J(new N().moveTo(0,u.top).lineTo(0,u.top-t),{stroke:o,lineWidth:n});this.labelXProperty.link(c=>{l.x=c}),this.tickNode.addChild(l),s&&(this.labelContainer=new k({pickable:!1}),this.tickNode.addChild(this.labelContainer),this.labelContainer.addChild(s),d===se.VERTICAL&&(this.labelContainer.rotation=-pe.SLIDER_VERTICAL_ROTATION),this.labelManualConstraint=is.create(this.tickNode,[l,this.labelContainer],(c,p)=>{p.centerX=c.centerX,p.bottom=c.top-r.tickLabelSpacing}))}dispose(){this.parent.removeChild(this.tickNode),this.labelContainer&&this.labelContainer.dispose(),this.labelXProperty.dispose(),this.labelManualConstraint&&this.labelManualConstraint.dispose()}}T.register("SliderTick",Qn);const rd=new ee(100,5),ad=new ee(17,34),le=class le extends qi(Yn(k,0)){constructor(e,i,s){var b,E;assert&&Di(s,["thumbNode"],["thumbSize","thumbFill","thumbFillHighlighted","thumbStroke","thumbLineWidth","thumbCenterLineStroke","thumbTouchAreaXDilation","thumbTouchAreaYDilation","thumbMouseAreaXDilation","thumbMouseAreaYDilation"]),assert&&Di(s,["trackNode"],["trackSize","trackFillEnabled","trackFillDisabled","trackStroke","trackLineWidth","trackCornerRadius"]);const t=w()({orientation:se.HORIZONTAL,trackNode:null,trackSize:null,trackFillEnabled:"white",trackFillDisabled:"gray",trackStroke:"black",trackLineWidth:1,trackCornerRadius:0,trackPickable:!0,thumbNode:null,thumbSize:null,thumbFill:"rgb(50,145,184)",thumbFillHighlighted:"rgb(71,207,255)",thumbStroke:"black",thumbLineWidth:1,thumbCenterLineStroke:"white",thumbTouchAreaXDilation:11,thumbTouchAreaYDilation:11,thumbMouseAreaXDilation:0,thumbMouseAreaYDilation:0,thumbYOffset:0,tickLabelSpacing:6,majorTickLength:25,majorTickStroke:"black",majorTickLineWidth:1,minorTickLength:10,minorTickStroke:"black",minorTickLineWidth:1,cursor:"pointer",startDrag:_.noop,drag:_.noop,endDrag:_.noop,constrainValue:_.identity,disabledOpacity:ge.DISABLED_OPACITY,soundGenerator:le.DEFAULT_SOUND_GENERATOR,valueChangeSoundGeneratorOptions:{},phetioLinkedProperty:null,tandem:L.REQUIRED,tandemNameSuffix:"Slider",phetioType:le.SliderIO,phetioFeatured:!0,visiblePropertyOptions:{phetioFeatured:!0},phetioEnabledPropertyInstrumented:!0},s),o=i instanceof ue?new j(i):i;if(assert&&assert(t.soundGenerator===le.DEFAULT_SOUND_GENERATOR||_.isEmpty(t.valueChangeSoundGeneratorOptions),"options should only be supplied when using default sound generator"),t.soundGenerator===le.DEFAULT_SOUND_GENERATOR?t.soundGenerator=new we(o.value,t.valueChangeSoundGeneratorOptions||{}):t.soundGenerator===null&&(t.soundGenerator=we.NO_SOUND),t.soundGenerator!==we.NO_SOUND){let f=e.value;const B=t.drag;t.drag=D=>{D.isFromPDOM()?t.soundGenerator.playSoundForValueChange(e.value,f):t.soundGenerator.playSoundIfThresholdReached(e.value,f),B(D),f=e.value}}t.orientation===se.VERTICAL&&(t.trackSize&&(t.trackSize=t.trackSize.swapped()),t.thumbSize&&(t.thumbSize=t.thumbSize.swapped()),Rs(t,"thumbTouchAreaXDilation","thumbTouchAreaYDilation"),Rs(t,"thumbMouseAreaXDilation","thumbMouseAreaYDilation")),t.trackSize=t.trackSize||rd,t.thumbSize=t.thumbSize||ad;const n=t.tandem.createTandem(le.THUMB_NODE_TANDEM_NAME);L.VALIDATION&&t.thumbNode&&assert&&assert(t.thumbNode.tandem.equals(n),`Passed-in thumbNode must have the correct tandem. Expected: ${n.phetioID}, actual: ${t.thumbNode.tandem.phetioID}`);const r=t.thumbNode||new Hn({size:t.thumbSize,fill:t.thumbFill,fillHighlighted:t.thumbFillHighlighted,stroke:t.thumbStroke,lineWidth:t.thumbLineWidth,centerLineStroke:t.thumbCenterLineStroke,tandem:n}),d=!t.enabledRangeProperty,u=_.pick(t,k.REQUIRES_BOUNDS_OPTION_KEYS),l=I({ariaOrientation:t.orientation,valueProperty:e,panTargetNode:r,enabledRangeProperty:t.enabledRangeProperty||(i instanceof ue?new ce(i,{valueType:ue,isValidValue:f=>f.min>=i.min&&f.max<=i.max,tandem:t.tandem.createTandem("enabledRangeProperty"),phetioValueType:ue.RangeIO,phetioDocumentation:"Sliders support two ranges: the outer range which specifies the min and max of the track and the enabledRangeProperty, which determines how low and high the thumb can be dragged within the track."}):i)},t);super(l),this.ticks=ji(),this.proposedValue=null,this.orientation=l.orientation,this.enabledRangeProperty=l.enabledRangeProperty,this.tickOptions=_.pick(t,"tickLabelSpacing","majorTickLength","majorTickStroke","majorTickLineWidth","minorTickLength","minorTickStroke","minorTickLineWidth");const c=[];this.majorTicksParent=new k,this.minorTicksParent=new k,c.push(this.majorTicksParent),c.push(this.minorTicksParent);const p=t.tandem.createTandem(le.TRACK_NODE_TANDEM_NAME);L.VALIDATION&&t.trackNode&&assert&&assert(t.trackNode.tandem.equals(p),`Passed-in trackNode must have the correct tandem. Expected: ${p.phetioID}, actual: ${t.trackNode.tandem.phetioID}`);const m=new k;c.push(m),assert&&assert(l.trackSize,"trackSize should not be null"),this.track=t.trackNode||new _n(e,i,{size:l.trackSize,fillEnabled:l.trackFillEnabled,fillDisabled:l.trackFillDisabled,stroke:l.trackStroke,lineWidth:l.trackLineWidth,cornerRadius:l.trackCornerRadius,startDrag:l.startDrag,drag:l.drag,endDrag:l.endDrag,constrainValue:l.constrainValue,enabledRangeProperty:this.enabledRangeProperty,soundGenerator:t.soundGenerator,pickable:l.trackPickable,voicingOnEndResponse:this.voicingOnEndResponse.bind(this),tandem:p}),c.push(this.track),r.setCenterY(this.track.centerY+t.thumbYOffset),c.push(r);const V=new k({children:c});t.orientation===se.VERTICAL&&(V.rotation=pe.SLIDER_VERTICAL_ROTATION),this.addChild(V),!t.thumbNode&&(t.thumbTouchAreaXDilation||t.thumbTouchAreaYDilation)&&(r.touchArea=r.localBounds.dilatedXY(t.thumbTouchAreaXDilation,t.thumbTouchAreaYDilation)),!t.thumbNode&&(t.thumbMouseAreaXDilation||t.thumbMouseAreaYDilation)&&(r.mouseArea=r.localBounds.dilatedXY(t.thumbMouseAreaXDilation,t.thumbMouseAreaYDilation));let q=0,A=e.value;const h=new Zi({tandem:r.tandem.createTandem("dragListener"),start:(f,B)=>{this.enabledProperty.get()&&(A=e.value,t.startDrag(f),q=B.pressedTrail.subtrailTo(V).getTransform().inversePosition2(f.pointer.point).x-r.centerX)},drag:(f,B)=>{if(this.enabledProperty.get()){const M=B.pressedTrail.subtrailTo(V).getTransform().inversePosition2(f.pointer.point).x-q;this.proposedValue=this.track.valueToPositionProperty.value.inverse(M);const v=this.enabledRangeProperty.get().constrainValue(this.proposedValue);e.set(t.constrainValue(v)),t.drag(f)}},end:f=>{this.enabledProperty.get()&&(t.endDrag(f),this.voicingOnEndResponse(A)),this.proposedValue=null}});r.addInputListener(h),this.thumbDragListener=h,this.trackDragListener=this.track.dragListener;const g=Z.multilink([e,this.track.valueToPositionProperty],(f,B)=>{r.centerX=B.evaluate(f)}),P=f=>{if(!e.isPhetioInstrumented()||!Ji.value)if(this.proposedValue===null)e.set(X.clamp(e.value,f.min,f.max));else{const B=X.clamp(this.proposedValue,f.min,f.max),D=t.constrainValue(B);e.set(D)}};this.enabledRangeProperty.link(P);const x=new ld(this,this.track,r,V,t.orientation,m,this.ticks);this.disposeSlider=()=>{x.dispose(),r.dispose&&r.dispose(),this.track.dispose&&this.track.dispose(),d?this.enabledRangeProperty.dispose():this.enabledRangeProperty.unlink(P),g.dispose(),h.dispose()},this.focusHighlight=new Zt(r),assert&&L.VALIDATION&&assert(!t.phetioLinkedProperty||t.phetioLinkedProperty.isPhetioInstrumented(),"If provided, phetioLinkedProperty should be PhET-iO instrumented");const y=t.phetioLinkedProperty||(e instanceof Ci?e:null);y&&this.addLinkedElement(y,{tandemName:"valueProperty"}),!d&&this.enabledRangeProperty instanceof Ci&&this.addLinkedElement(this.enabledRangeProperty,{tandemName:"enabledRangeProperty"}),this.mutate(u),assert&&((E=(b=phet==null?void 0:phet.chipper)==null?void 0:b.queryParameters)!=null&&E.binder)&&G.registerDataURL("sun","Slider",this)}get majorTicksVisible(){return this.getMajorTicksVisible()}set majorTicksVisible(e){this.setMajorTicksVisible(e)}get minorTicksVisible(){return this.getMinorTicksVisible()}set minorTicksVisible(e){this.setMinorTicksVisible(e)}dispose(){this.disposeSlider(),this.ticks.forEach(e=>{e.dispose()}),super.dispose()}addMajorTick(e,i){this.addTick(this.majorTicksParent,e,i,this.tickOptions.majorTickLength,this.tickOptions.majorTickStroke,this.tickOptions.majorTickLineWidth)}addMinorTick(e,i){this.addTick(this.minorTicksParent,e,i,this.tickOptions.minorTickLength,this.tickOptions.minorTickStroke,this.tickOptions.minorTickLineWidth)}addTick(e,i,s,t,o,n){this.ticks.push(new Qn(e,i,s,t,o,n,this.tickOptions,this.orientation,this.track))}setMajorTicksVisible(e){this.majorTicksParent.visible=e}getMajorTicksVisible(){return this.majorTicksParent.visible}setMinorTicksVisible(e){this.minorTicksParent.visible=e}getMinorTicksVisible(){return this.minorTicksParent.visible}};le.DEFAULT_SOUND_GENERATOR=new we(new ue(0,1)),le.THUMB_NODE_TANDEM_NAME="thumbNode",le.TRACK_NODE_TANDEM_NAME="trackNode",le.SliderIO=new Te("SliderIO",{valueType:le,documentation:"A traditional slider component, with a knob and possibly tick marks",supertype:k.NodeIO});let ze=le;class ld extends Ke{constructor(e,i,s,t,o,n,r){super(e),this.slider=e,this.track=i,this.thumb=s,this.sliderPartsNode=t,this.orientation=o,this.trackSpacer=n,this.ticks=r,o===se.HORIZONTAL?(e.heightSizable=!1,this.preferredProperty=this.slider.localPreferredWidthProperty):(e.widthSizable=!1,this.preferredProperty=this.slider.localPreferredHeightProperty),this.preferredProperty.lazyLink(this._updateLayoutListener),this.track.rangeProperty.lazyLink(this._updateLayoutListener),this.thumb.localBoundsProperty.lazyLink(this._updateLayoutListener);const d=u=>{u.tickNode.localBoundsProperty.lazyLink(this._updateLayoutListener),r.addItemRemovedListener(l=>{l===u&&l.tickNode.localBoundsProperty.hasListener(this._updateLayoutListener)&&u.tickNode.localBoundsProperty.unlink(this._updateLayoutListener)})};r.addItemAddedListener(d),this.addNode(i),this.layout(),this.disposeSliderConstraint=()=>{r.removeItemAddedListener(d),this.preferredProperty.unlink(this._updateLayoutListener),this.track.rangeProperty.unlink(this._updateLayoutListener),this.thumb.localBoundsProperty.unlink(this._updateLayoutListener)}}layout(){super.layout();const e=this.slider,i=this.track,s=this.thumb;this.trackSpacer.localBounds=i.localBounds.dilatedX(s.width/2),assert&&assert(i.minimumWidth!==null);const t=i.leftVisualOverflow+i.rightVisualOverflow,o=i.minimumWidth,n=o-t,r=p=>X.linear(i.rangeProperty.value.min,i.rangeProperty.value.max,0,1,p),d=-s.width/2-i.leftVisualOverflow,u=s.width/2-i.leftVisualOverflow,l=new ue(d,o+u);if(this.ticks.forEach(p=>{const m=n*r(p.value),V=p.tickNode.width/2;l.includeRange(new ue(-V,V).shifted(m))}),e.widthSizable&&this.preferredProperty.value!==null){const p=$e.max($e.linear(1,u),...this.ticks.map(V=>{const q=r(V.value);return $e.linear(q,V.tickNode.width/2-t*q)})).minus($e.min($e.constant(d),...this.ticks.map(V=>{const q=r(V.value);return $e.linear(q,-V.tickNode.width/2-t*q)}))),m=p.withXValues([o-1,o,...p.points.map(V=>V.x).filter(V=>V>o+1e-10)]).inverted();i.preferredWidth=Math.max(o,m.evaluate(this.preferredProperty.value))}else i.preferredWidth=i.minimumWidth;const c=l.getLength();this.orientation===se.HORIZONTAL?e.localMinimumWidth=c:e.localMinimumHeight=c}dispose(){this.disposeSliderConstraint(),super.dispose()}}T.register("Slider",ze);class Gn extends _t(k){constructor(e,i,s,t){super(),this.rangeProperty=s instanceof ue?new j(s):s;const o=w()({size:new ee(100,5),startDrag:_.noop,drag:_.noop,endDrag:_.noop,constrainValue:_.identity,enabledRangeProperty:this.rangeProperty,soundGenerator:ze.DEFAULT_SOUND_GENERATOR,valueChangeSoundGeneratorOptions:{},voicingOnEndResponse:_.noop,leftVisualOverflow:0,rightVisualOverflow:0,tandem:L.REQUIRED,tandemNameSuffix:"TrackNode"},t);o.soundGenerator===ze.DEFAULT_SOUND_GENERATOR?o.soundGenerator=new we(this.rangeProperty.value,o.valueChangeSoundGeneratorOptions||{}):o.soundGenerator===null&&(o.soundGenerator=we.NO_SOUND),this.leftVisualOverflow=o.leftVisualOverflow,this.rightVisualOverflow=o.rightVisualOverflow,this.minimumSize=o.size,this.minimumWidth=this.minimumSize.width,this.internalWidthProperty=new U([this.localPreferredWidthProperty],d=>(d===null?this.minimumSize.width:Math.max(this.minimumSize.width,d))-o.leftVisualOverflow-o.rightVisualOverflow),this.sizeProperty=new U([this.internalWidthProperty],d=>new ee(d,this.minimumSize.height)),this.valueToPositionProperty=new U([this.rangeProperty,this.internalWidthProperty],(d,u)=>new fr(d.min,d.max,0,u,!0));const n=(d,u)=>{const l=e.value,p=u.subtrailTo(this).getTransform().inversePosition2(d.pointer.point).x,m=this.valueToPositionProperty.value.inverse(p),V=o.enabledRangeProperty.value.constrainValue(m),q=o.constrainValue(V);e.set(q),d.type==="down"&&o.soundGenerator.playSoundIfThresholdReached(q,l)};this.addChild(i);let r=e.value;this.dragListener=new Zi({tandem:o.tandem.createTandem("dragListener"),start:(d,u)=>{o.startDrag(d),r=e.value,n(d,u.pressedTrail)},drag:(d,u)=>{o.drag(d),n(d,u.pressedTrail)},end:d=>{o.endDrag(d),o.voicingOnEndResponse(r)}}),i.addInputListener(this.dragListener),this.mutate(o),this.disposeSliderTrack=()=>{i.removeInputListener(this.dragListener),this.dragListener.dispose()}}dispose(){this.disposeSliderTrack(),super.dispose()}}T.register("SliderTrack",Gn);class _n extends Gn{constructor(e,i,s){const t=w()({fillEnabled:"white",fillDisabled:"gray",stroke:"black",lineWidth:1,cornerRadius:0},s),o=new Q({fill:t.fillDisabled,stroke:t.stroke,lineWidth:t.lineWidth,cornerRadius:t.cornerRadius,cursor:"default",pickable:!1}),n=new Q({fill:t.fillEnabled,stroke:t.stroke,lineWidth:t.lineWidth,cornerRadius:t.cornerRadius}),r=new k({children:[o,n]});super(e,r,i,I({leftVisualOverflow:t.stroke!==null?t.lineWidth/2:0,rightVisualOverflow:t.stroke!==null?t.lineWidth/2:0},t));const d=Z.multilink([t.enabledRangeProperty,this.valueToPositionProperty,this.sizeProperty],(u,l,c)=>{const p=l.evaluate(u.min),m=l.evaluate(u.max);o.setRect(0,0,c.width,c.height),n.setRect(p,0,m-p,c.height)});this.disposeDefaultSliderTrack=()=>{d.dispose()}}dispose(){this.disposeDefaultSliderTrack(),super.dispose()}}T.register("DefaultSliderTrack",_n);const me=new ft("sceneryPhet"),zn=new ft("chipper"),Kn=new ft("joist"),dd="en",Ue=_.sortBy(Object.keys(phet.chipper.strings),a=>nt.localeToLocalizedName(a).toLowerCase()),ud=a=>!!(a&&Ue.includes(a));var Uo;const jn=[phet.chipper.locale,...((Uo=phet.chipper.localeData[phet.chipper.locale])==null?void 0:Uo.fallbackLocales)??[],dd].find(ud);phet.chipper.locale=jn;class cd extends ce{unguardedSet(e){Ue.includes(e)?super.unguardedSet(e):assert&&assert(!1,"Unsupported locale: "+e)}}const Dt=new cd(jn,{tandem:L.GENERAL_MODEL.createTandem("localeProperty"),phetioFeatured:!0,phetioValueType:mi,validValues:Ue,phetioDocumentation:"Specifies language currently displayed in the simulation"});var Wo,Yo;if((Yo=(Wo=phet==null?void 0:phet.chipper)==null?void 0:Wo.queryParameters)!=null&&Yo.keyboardLocaleSwitcher){const a=O.KEY_I,e=O.KEY_U;vr.keydownEmitter.addListener(i=>{const s=t=>{i.preventDefault();const n=(Ue.indexOf(Dt.value)+t+Ue.length)%Ue.length;Dt.value=Ue[n],console.log(Dt.value)};i.ctrlKey&&!i.shiftKey&&!i.metaKey&&!i.altKey&&(O.isKeyEvent(i,a)?s(1):O.isKeyEvent(i,e)&&s(-1))})}Kn.register("localeProperty",Dt);class Jn extends It{constructor(e,i,s){const t=s&&typeof s.phetioReadOnly=="boolean"?s.phetioReadOnly:Cs.PHET_IO_OBJECT_METADATA_DEFAULTS.phetioReadOnly,o=s&&typeof s.phetioFeatured=="boolean"?s.phetioFeatured:!0,n=s&&typeof s.phetioDocumentation=="string"?s.phetioDocumentation:Cs.PHET_IO_OBJECT_METADATA_DEFAULTS.phetioDocumentation;super(Dt,{derive:r=>e.getLocaleSpecificProperty(r),bidirectional:!0,phetioValueType:mi,phetioState:!1,tandem:i,phetioFeatured:o,phetioReadOnly:t,phetioDocumentation:n}),this.localizedString=e}get stringKey(){return this.localizedString.stringKey}}zn.register("LocalizedStringProperty",Jn);const hd="en",Xn=phet.chipper.localeData;assert&&assert(Xn,"localeData expected but global has not been set");class Zn{constructor(e,i,s,t){this.stringKey=e,this.localeToTranslationMap=i,this.localePropertyMap=new Map,this.initialValues={},this.property=new Jn(this,s,t),Ye.push(this)}getStateDelta(){const e={};return this.usedLocales.forEach(i=>{const s=this.initialValues[i],t=this.getLocaleSpecificProperty(i).value;t!==s&&(e[i]=t)}),e}setStateDelta(e){Object.keys(e).forEach(i=>this.getLocaleSpecificProperty(i)),this.usedLocales.forEach(i=>{const s=this.getLocaleSpecificProperty(i),t=this.initialValues[i];assert&&assert(t!==void 0);const o=e[i]!==void 0?e[i]:null;s.value=o??t})}get usedLocales(){return[...this.localePropertyMap.keys()]}getLocaleSpecificProperty(e){if(!this.localePropertyMap.has(e)){const i=[e,...Xn[e].fallbackLocales||[],hd];let s=null;for(const t of i)if(this.localeToTranslationMap[t]!==void 0){s=this.localeToTranslationMap[t];break}assert&&assert(s!==void 0,"no initial value found for",e),this.initialValues[e]=s,this.localePropertyMap.set(e,new j(s))}return this.localePropertyMap.get(e)}dispose(){this.property.dispose(),_o(Ye,this)}restoreInitialValue(e){assert&&assert(typeof this.initialValues[e]=="string","initial value expected for",e),this.property.value=this.initialValues[e]}}zn.register("LocalizedString",Zn);const Bo="en",Ye=[];self.phet.chipper.localizedStrings=Ye;self.phet.chipper.setAllStrings=a=>{Ye.forEach(e=>{e.property.value=a})};const pd=a=>a.replace(/(?:[-_\s]\w)/g,e=>e[1].toUpperCase()),Vd=new Te("StringStateIO",{valueType:Ve,toStateObject:()=>{const a={};return Ye.forEach(e=>{const i=e.getStateDelta();Object.keys(i).length>0&&(a[e.property.tandem.phetioID]=i)}),{data:a}},stateSchema:{data:Nr},applyState:(a,e)=>{Object.keys(e.data).forEach(i=>{if(!Ye.find(t=>t.property.tandem.phetioID===i))throw new Fr}),Ye.forEach(i=>{i.setStateDelta(e.data[i.property.tandem.phetioID]||{})})}});Ve.create({phetioType:Vd,tandem:L.GENERAL_MODEL.createTandem("stringsState"),phetioDocumentation:"Strings that have changed from their initial values. Each string value is specific to the locale it changed in.",phetioState:!0});const $n=a=>{assert&&assert(typeof phet.chipper.locale=="string","phet.chipper.locale should have been loaded by now"),assert&&assert(Object.keys(phet.chipper.localeData).includes(phet.chipper.locale),`phet.chipper.locale:${phet.chipper.locale} is not in localeData`),assert&&assert(phet.chipper.strings,"phet.chipper.strings should have been loaded by now");const e=`${a}/`;let i=Object.keys(phet.chipper.strings[Bo]).filter(t=>t.startsWith(e));phet.chipper.usedStringsEN&&(i=i.filter(t=>phet.chipper.usedStringsEN.hasOwnProperty(t)));const s={};return i.forEach(t=>{const n=t.slice(e.length).split("."),r=n[n.length-1],d=n.slice(0,n.length-1);let u=s,l=e;if(d.forEach((c,p)=>{l+=`${p>0?".":""}${c}`,assert&&assert(typeof u[c]!="string",`It is not allowed to have two different string keys where one is extended by adding a period (.) at the end of the other. The string key ${l} is extended by ${t} in this case, and should be changed.`),u[c]||(u[c]={}),u=u[c]}),assert&&assert(typeof u[r]!="object",`It is not allowed to have two different string keys where one is extended by adding a period (.) at the end of the other. The string key ${t} is extended by another key, something containing ${u[r]&&Object.keys(u[r])}.`),assert&&assert(!u[r],`We should not have defined this place in the object (${t}), otherwise it means a duplicated string key OR extended string key`),typeof u!="string"){let c=L.STRINGS.createTandem(_.camelCase(a));for(let V=0;V<n.length;V++){let q=pd(n[V]);if(V===n.length-1){let A=q,h=0,g=!0;for(;g;)h++,A=`${q}${h===1?"":h}StringProperty`,g=c.hasChild(A);q=A}c=c.createTandem(q)}c.phetioID.includes(".a11y.")&&(c=L.OPT_OUT);const p={};Object.keys(phet.chipper.strings).forEach(V=>{const q=phet.chipper.strings[V][t];(V===Bo||typeof q=="string"&&q!=="")&&(p[V]=phet.chipper.mapString(q))});const m=new Zn(t,p,c,phet.chipper.stringMetadata[t]);u[`${r}StringProperty`]=m.property,m.property.link(V=>{u[r]=V})}}),s},Me=$n("SCENERY_PHET");me.register("SceneryPhetStrings",Me);class ys extends k{constructor(e,i){super(w()({containerTagName:"section",tagName:"div",labelContent:e,labelTagName:"h2"},i))}}me.register("PDOMSectionNode",ys);class er extends ys{constructor(e){super(Me.a11y.simSection.controlAreaStringProperty,e)}}me.register("ControlAreaNode",er);class tr extends ys{constructor(e){super(Me.a11y.simSection.playAreaStringProperty,e)}}me.register("PlayAreaNode",tr);class ir extends k{constructor(){super(),this.openingSummaryNode=new k({tagName:"p"});const e=new k({tagName:"p",innerContent:Me.a11y.simSection.screenSummary.keyboardShortcutsHintStringProperty});this.addChild(this.openingSummaryNode),this.addChild(e),this.pdomOrder=[this.openingSummaryNode,null,e]}setIntroString(e,i,s){this.openingSummaryNode.innerContent=s&&i?nt.fillIn(Me.a11y.simSection.screenSummary.multiScreenIntroStringProperty,{screen:i}):nt.fillIn(Me.a11y.simSection.screenSummary.singleScreenIntroPatternStringProperty,{sim:e})}}me.register("ScreenSummaryNode",ir);const ko=new _i(0,0,1024,618),it=class it extends k{constructor(e){const i=w()({layoutBounds:ko.copy(),layerSplit:!0,excludeInvisible:!0,tandem:L.REQUIRED,visiblePropertyOptions:{phetioState:!1,phetioReadOnly:!0},containerTagName:"article",tagName:"div",screenSummaryContent:null,includePDOMNodes:!0},e);super(i),this._screenSummaryContent=null,assert&&this.isPhetioInstrumented()&&assert&&assert(i.tandem.name==="view","tandem name should be view"),this.layoutBounds=i.layoutBounds,this.visibleBoundsProperty=new ce(i.layoutBounds),this.pdomTitleNode=new k({tagName:"h1",focusHighlight:"invisible"}),this.pdomPlayAreaNode=new tr,this.pdomControlAreaNode=new er,this.pdomScreenSummaryNode=new ir,i.screenSummaryContent&&this.setScreenSummaryContent(i.screenSummaryContent),this.visibleProperty.lazyLink(s=>{s?(assert&&assert(!this.pdomTitleNode.focusable,"about to set to be focusable"),this.pdomTitleNode.focusable=!0,this.pdomTitleNode.focus()):this.pdomTitleNode.focusable=!1}),this.pdomTitleNode.addInputListener({blur:()=>{this.pdomTitleNode.focusable=!1}}),this.pdomParentNode=new k({children:i.includePDOMNodes?[this.pdomTitleNode,this.pdomScreenSummaryNode,this.pdomControlAreaNode,this.pdomPlayAreaNode]:[this.pdomTitleNode]}),this.addChild(this.pdomParentNode),this.pdomParentNode.pdomOrder=i.includePDOMNodes?[this.pdomTitleNode,this.pdomScreenSummaryNode,this.pdomPlayAreaNode,this.pdomControlAreaNode]:[this.pdomTitleNode]}setPDOMOrder(e){throw new Error("Do not set the pdomOrder on ScreenView directly. Order Nodes under the `pdomScreenSummaryNode, pdomPlayAreaNode, and pdomControlAreaNode instead. This ensures that sims have a consistent heading structure and content is under those sections which is important for screen reader accessibility.")}setChildren(e){return k.prototype.setChildren.call(this,e),this.pdomParentNode&&!this.hasChild(this.pdomParentNode)&&(this.addChild(this.pdomParentNode),this.pdomParentNode.moveToBack()),this}getLayoutScale(e){return it.getLayoutScale(this.layoutBounds,e)}layout(e,i){this.matrix=it.getLayoutMatrix(this.layoutBounds,e,i),this.visibleBoundsProperty.value=this.parentToLocalBounds(e)}get screenSummaryContent(){return this._screenSummaryContent}set screenSummaryContent(e){this.setScreenSummaryContent(e)}setScreenSummaryContent(e){assert&&assert(e!==this._screenSummaryContent,"this is already the screen summary Node content"),this._screenSummaryContent&&this.pdomScreenSummaryNode.removeChild(this._screenSummaryContent),this._screenSummaryContent=e,e&&this.pdomScreenSummaryNode.addChild(e)}setScreenSummaryIntroAndTitle(e,i,s,t){this.pdomScreenSummaryNode.setIntroString(e,i,t),this.pdomTitleNode.innerContent=s}getVoicingOverviewContent(){throw new Error("The ScreenView should implement getVoicingOverviewContent if Voicing is enabled")}getVoicingDetailsContent(){throw new Error("The ScreenView should implement getVoicingDetailsContent when the Voicing feature is enabled.")}getVoicingHintContent(){throw new Error("The ScreenView should implement getVoicingHintContent when Voicing is enabled.")}interruptSubtreeInput(){var e,i,s;return(s=(i=(e=self.phet)==null?void 0:e.joist)==null?void 0:i.display)==null||s.interruptOtherPointers(),super.interruptSubtreeInput()}static getLayoutScale(e,i){return Math.min(i.width/e.width,i.height/e.height)}static getLayoutMatrix(e,i,s){const t=w()({verticalAlign:"center"},s),o=i.width,n=i.height,r=it.getLayoutScale(e,i);let d=0,u=0;return r===o/e.width?(u=n/r-e.height,t.verticalAlign==="center"&&(u/=2)):r===n/e.height&&(d=(o/r-e.width)/2),zo.rowMajor(r,0,d*r+i.left,0,r,u*r+i.top,0,0,1)}step(e){}};it.DEFAULT_LAYOUT_BOUNDS=ko;let Qt=it;Kn.register("ScreenView",Qt);const Lo=new F(0,200,0),Bi=new F(255,85,0),Ad=new F(0,135,0),gd=new F(106,206,245),xo=new F(254,225,5),sr={ACCELERATION:new F(255,255,50),APPLIED_FORCE:new F(236,153,55),BUTTON_YELLOW:xo,ELASTIC_POTENTIAL_ENERGY:new F(0,204,255),FRICTION_FORCE:Bi,GRAVITATIONAL_FORCE:new F(50,130,215),GRAVITATIONAL_POTENTIAL_ENERGY:new F(55,130,215),HEAT_THERMAL_ENERGY:Bi,IMAGINARY_PART:new F(153,51,102),KINETIC_ENERGY:new F(30,200,45),MOMENTUM:new F(50,50,255),NET_WORK:Lo,NORMAL_FORCE:new F(255,235,0),PHET_LOGO_BLUE:gd,PHET_LOGO_YELLOW:xo,POSITION:F.BLUE,REAL_PART:new F(255,153,0),RED_COLORBLIND:Bi,RESET_ALL_BUTTON_BASE_COLOR:new F(247,151,34),GREEN_COLORBLIND:Ad,TOTAL_ENERGY:new F(180,180,0),TOTAL_FORCE:Lo,VELOCITY:new F(50,255,50),WALL_FORCE:new F(153,51,0),SCREEN_ICON_FRAME:"#dddddd"};me.register("PhetColorScheme",sr);class or extends Pt{constructor(e){const i=w()({iconLength:16,pathOptions:{stroke:"white",lineWidth:2.5,lineCap:"round"},baseColor:sr.RED_COLORBLIND,xMargin:4,yMargin:4,innerContent:Me.a11y.closeStringProperty,voicingNameResponse:Me.a11y.closeStringProperty},e),s=new N().moveTo(-i.iconLength/2,-i.iconLength/2).lineTo(i.iconLength/2,i.iconLength/2).moveTo(i.iconLength/2,-i.iconLength/2).lineTo(-i.iconLength/2,i.iconLength/2);i.content=new J(s,i.pathOptions),super(i)}}me.register("CloseButton",or);const nr=new Te("DynamicMarkerIO",{supertype:Te.ObjectIO,applyState:_.noop,toStateObject:()=>({}),isValidValue:_.stubTrue,documentation:"PhET-iO Type used as a place holder for dynamic elements to be created when set for state."});Go.register("DynamicMarkerIO",nr);const rr=(a,e)=>class extends a{constructor(...i){var d;super(...i);const s=i[e]||{},t=i[i.length-1];assert&&assert(t!==void 0,"config object is required for Popupable.");const o=Os("phet.joist.sim.showPopup"),n=Os("phet.joist.sim.hidePopup"),r=w()({showPopup:o,hidePopup:n,isModal:!0,layoutBounds:null,focusOnShowNode:null,focusOnHideNode:null,disableModals:_.get(self,"phet.chipper.queryParameters.disableModals")||!1},s);assert&&assert(r.isModal,"Non-modal popups not currently supported"),this.layoutBounds=r.layoutBounds,this._focusOnShowNode=r.focusOnShowNode,this.disableModals=r.disableModals,this.isModal=r.isModal,this._focusOnHideNode=r.focusOnHideNode,this._nodeToFocusOnHide=null,this.popupParent=new md(this,{show:this.show.bind(this),hide:this.hide.bind(this),layout:this.layout.bind(this)}),this.isShowingProperty=new z(!1,{tandem:(d=r.tandem)==null?void 0:d.createTandem("isShowingProperty"),phetioReadOnly:!0,phetioFeatured:!0}),this.isShowingProperty.lazyLink(u=>{u?r.showPopup(this.popupParent,r.isModal):r.hidePopup(this.popupParent,r.isModal)})}layout(i){this.layoutBounds&&(this.popupParent.matrix=Qt.getLayoutMatrix(this.layoutBounds,i))}shouldShowPopup(){return!(this.isModal&&this.disableModals)}show(){this.shouldShowPopup()&&(this._nodeToFocusOnHide=this._focusOnHideNode||Ut.pdomFocusedNode,this.isShowingProperty.value=!0,this._focusOnShowNode&&this._focusOnShowNode.focusable&&this._focusOnShowNode.focus())}hide(){this.interruptSubtreeInput(),this.isShowingProperty.value=!1,this._nodeToFocusOnHide&&this._nodeToFocusOnHide.focusable&&this._nodeToFocusOnHide.focus()}get focusOnHideNode(){return this._focusOnHideNode}dispose(){this.hide(),this.isShowingProperty.dispose(),super.dispose()}};class md extends k{constructor(e,i){const s=w()({children:[e]},i);super(s),this.show=s.show,this.hide=s.hide,this.layout=s.layout}}T.register("Popupable",rr);const Mt=$n("SUN");T.register("SunStrings",Mt);const Rt=class Rt extends rr(Ht,1){constructor(e,i){var V;const s=w()({xSpacing:10,ySpacing:10,topMargin:15,bottomMargin:15,leftMargin:null,maxWidthMargin:12,maxHeightMargin:12,closeButtonLength:18.2,closeButtonTopMargin:10,closeButtonRightMargin:10,title:null,titleAlign:"center",addAriaLabelledByFromTitle:!0,layoutStrategy:qd,closeButtonListener:()=>this.hide(),closeButtonColor:"black",closeButtonTouchAreaXDilation:0,closeButtonTouchAreaYDilation:0,closeButtonMouseAreaXDilation:0,closeButtonMouseAreaYDilation:0,closeButtonVoicingDialogTitle:null,closeButtonLastInPDOM:!1,openedSoundPlayer:Pi,closedSoundPlayer:Si,sim:Qr("phet.joist.sim"),showCallback:null,hideCallback:null,layoutBounds:Qt.DEFAULT_LAYOUT_BOUNDS,focusOnShowNode:null,cornerRadius:10,resize:!0,fill:"white",stroke:"black",backgroundPickable:!0,maxHeight:null,maxWidth:null,tandemNameSuffix:["Dialog",br],phetioType:Rt.DialogIO,phetioState:!0,phetioVisiblePropertyInstrumented:!1,tagName:"div",ariaRole:"dialog"},i);assert&&assert(s.sim,"sim must be provided, as Dialog needs a Sim instance"),assert&&assert(s.xMargin===void 0,"Dialog sets xMargin"),s.xMargin=0,assert&&assert(s.yMargin===void 0,"Dialog sets yMargin"),s.yMargin=0,s.leftMargin===null&&(s.leftMargin=s.xSpacing+s.closeButtonLength+s.closeButtonRightMargin),assert&&assert(s.maxHeight===null||typeof s.maxHeight=="number"),assert&&assert(s.maxWidth===null||typeof s.maxWidth=="number"),!s.maxWidth&&s.layoutBounds&&(s.maxWidth=Co(s.layoutBounds.width,s.maxWidthMargin)),!s.maxHeight&&s.layoutBounds&&(s.maxHeight=Co(s.layoutBounds.height,s.maxHeightMargin));const t=new De({priority:De.MEDIUM_PRIORITY,voicingCanAnnounceProperties:[Ur.voicingFullyEnabledProperty]}),o=new or({iconLength:s.closeButtonLength,baseColor:"transparent",buttonAppearanceStrategy:be.FlatAppearanceStrategy,xMargin:0,yMargin:0,listener:()=>{o.voicingSpeakContextResponse({utterance:t}),s.closeButtonListener()},pathOptions:{stroke:s.closeButtonColor},tandem:(V=s.tandem)==null?void 0:V.createTandem("closeButton"),phetioState:!1,phetioVisiblePropertyInstrumented:!1,phetioEnabledPropertyInstrumented:!1,soundPlayer:We,tagName:"button",innerContent:Mt.a11y.closeStringProperty,voicingContextResponse:Mt.a11y.closedStringProperty});let n;if(s.closeButtonVoicingDialogTitle){const q=typeof s.closeButtonVoicingDialogTitle=="string"?new j(s.closeButtonVoicingDialogTitle):s.closeButtonVoicingDialogTitle;n=o.voicingNameResponse=new fi(Mt.a11y.titleClosePatternStringProperty,{title:q},{tandem:L.OPT_OUT})}o.touchArea=o.bounds.dilatedXY(s.closeButtonTouchAreaXDilation,s.closeButtonTouchAreaYDilation),o.mouseArea=o.bounds.dilatedXY(s.closeButtonMouseAreaXDilation,s.closeButtonMouseAreaYDilation);let r=[s.title,e];s.closeButtonLastInPDOM?r.push(o):r.unshift(o),r=r.filter(q=>q!=null),assert&&assert(r[0]),s.focusOnShowNode=s.focusOnShowNode?s.focusOnShowNode:r[0].focusable?r[0]:o,assert&&assert(s.focusOnShowNode instanceof k,"should be non-null and defined"),assert&&assert(s.focusOnShowNode.focusable,"focusOnShowNode must be focusable.");const d=new yi({children:s.title?[s.title,e]:[e],spacing:s.ySpacing,align:s.titleAlign}),u=new rt(d,{topMargin:s.topMargin,bottomMargin:s.bottomMargin,leftMargin:s.leftMargin}),l=new rt(o,{topMargin:s.closeButtonTopMargin,rightMargin:s.closeButtonRightMargin}),c=new $i({children:[u,l],spacing:s.xSpacing,align:"top"});super(c,s),this.isShowingProperty.lazyLink(q=>{q?(s.openedSoundPlayer.play(),s.showCallback&&s.showCallback()):(s.closedSoundPlayer.play(),s.hideCallback&&s.hideCallback())}),this.sim=s.sim,this.closeButton=o;const p=Z.multilink([this.sim.boundsProperty,this.sim.screenBoundsProperty,this.sim.scaleProperty,this.sim.selectedScreenProperty,this.isShowingProperty,this.localBoundsProperty],(q,A,h)=>{q&&A&&h&&s.layoutStrategy(this,q,A,h)});this.pdomOrder=r,s.title&&s.title.tagName&&s.addAriaLabelledByFromTitle&&this.addAriaLabelledbyAssociation({thisElementName:ae.PRIMARY_SIBLING,otherNode:s.title,otherElementName:ae.PRIMARY_SIBLING});const m=new tn({keys:["escape","tab","shift+tab"],fire:(q,A)=>{assert&&assert(q,"event should be non-null and defined for this listener");const h=q;if(A==="escape")h.preventDefault(),this.hide();else if((A==="tab"||A==="shift+tab")&&Wr.isFullScreen()){assert&&assert(Ut.pdomFocus);const g=Ut.pdomFocus.trail.getUniqueId(),P=Mi.getNextFocusable().id===g,x=Mi.getPreviousFocusable().id===g;P&&x&&h.preventDefault()}}});this.addInputListener(m),this.disposeDialog=()=>{p.dispose(),l.dispose(),this.removeInputListener(m),m.dispose(),n&&n.dispose(),o.dispose(),t.dispose(),d.dispose(),c.removeAllChildren(),c.detach()}}dispose(){this.disposeDialog(),super.dispose()}};Rt.DialogIO=new Te("DialogIO",{valueType:Rt,supertype:nr});let Wi=Rt;function qd(a,e,i,s){a.layoutBounds&&(a.center=a.layoutBounds.center)}function Co(a,e){return a>e*2?a-e*2:a}T.register("Dialog",Wi);class yd extends hs{constructor(e,i,s){super(e,i,w()({orientation:"horizontal"},s))}}T.register("HorizontalAquaRadioButtonGroup",yd);class fd extends ze{constructor(e,i,s){var t,o;super(e,i,w()({orientation:se.HORIZONTAL},s)),assert&&((o=(t=phet==null?void 0:phet.chipper)==null?void 0:t.queryParameters)!=null&&o.binder)&&G.registerDataURL("sun","HSlider",this)}}T.register("HSlider",fd);class bd extends k{constructor(e,i,s,t,o){super(),this.nodeProperty=new ce(null),this._constructInstance=()=>Reflect.construct(e,[...i,Ho(_.mapValues(t,n=>n.value),s)]),this.multilink=Z.multilink(_.values(t),this.replaceCopy.bind(this)),this.mutate(o)}replaceCopy(){const e=this._constructInstance(),i=this.nodeProperty.value;this.nodeProperty.value=e,this.addChild(e),i&&(this.removeChild(i),this.disposeCopy(i))}disposeCopy(e){e.dispose&&e.dispose()}dispose(){this.multilink.dispose(),this.disposeCopy(this.nodeProperty.value),this.nodeProperty.dispose(),super.dispose()}}T.register("MutableOptionsNode",bd);const Do=["pdomTimerDelay","pdomTimerInterval"],fs=(a,e)=>{const i=ss("AccessibleNumberSpinner",Do,class extends Ei(a,e){constructor(...t){const o=t[e];assert&&o&&assert(Object.getPrototypeOf(o)===Object.prototype,"Extra prototype on AccessibleSlider options object is a code smell (or probably a bug)");const n=I({ariaOrientation:se.VERTICAL},o);t[e]=n,super(...t),this._pdomTimerDelay=400,this._pdomTimerInterval=100,os(this,["addInputListener"]),this._callbackTimer=new $o({delay:this._pdomTimerDelay,interval:this._pdomTimerInterval}),this.pdomIncrementDownEmitter=new K({parameters:[{valueType:"boolean"}]}),this.pdomDecrementDownEmitter=new K({parameters:[{valueType:"boolean"}]}),this.setPDOMAttribute("aria-roledescription",Mt.a11y.numberSpinnerRoleDescriptionStringProperty);let r=null,d=null;const u={keydown:l=>{if(this.enabledProperty.get()&&O.isRangeKey(l.domEvent)){const c=l.domEvent;c.preventDefault(),c.metaKey||this._callbackTimer.isRunning()||(this._accessibleNumberSpinnerHandleKeyDown(l),r=this._accessibleNumberSpinnerHandleKeyDown.bind(this,l),d=c,this._callbackTimer.addCallback(r),this._callbackTimer.start())}},keyup:l=>{const c=O.getEventCode(l.domEvent);O.isRangeKey(l.domEvent)&&(d&&c===O.getEventCode(d)&&(this._emitKeyState(l.domEvent,!1),this._callbackTimer.stop(!1),assert&&assert(r),this._callbackTimer.removeCallback(r),r=null,d=null),this.handleKeyUp(l))},blur:l=>{r&&(assert&&assert(d!==null,"key should be down if running downCallback"),this._emitKeyState(d,!1),this._callbackTimer.stop(!1),this._callbackTimer.removeCallback(r)),this.handleBlur(l)},input:this.handleInput.bind(this),change:this.handleChange.bind(this)};this.addInputListener(u),this._disposeAccessibleNumberSpinner=()=>{this._callbackTimer.dispose(),this.pdomIncrementDownEmitter.dispose(),this.pdomDecrementDownEmitter.dispose(),this.removeInputListener(u)}}set pdomTimerDelay(t){this._pdomTimerDelay=t,this._callbackTimer&&(this._callbackTimer.delay=t)}get pdomTimerDelay(){return this._pdomTimerDelay}set pdomTimerInterval(t){this._pdomTimerInterval=t,this._callbackTimer&&(this._callbackTimer.interval=t)}get pdomTimerInterval(){return this._pdomTimerInterval}_accessibleNumberSpinnerHandleKeyDown(t){assert&&assert(t.domEvent,"must have a domEvent"),this.handleKeyDown(t),this._emitKeyState(t.domEvent,!0)}_emitKeyState(t,o){jo(t,{valueType:Event}),O.isAnyKeyEvent(t,[O.KEY_UP_ARROW,O.KEY_RIGHT_ARROW])?this.pdomIncrementDownEmitter.emit(o):O.isAnyKeyEvent(t,[O.KEY_DOWN_ARROW,O.KEY_LEFT_ARROW])&&this.pdomDecrementDownEmitter.emit(o)}dispose(){this._disposeAccessibleNumberSpinner(),super.dispose()}});return i.prototype._mutatorKeys=Do.concat(i.prototype._mutatorKeys),assert&&assert(i.prototype._mutatorKeys.length===_.uniq(i.prototype._mutatorKeys).length,"duplicate mutator keys in AccessibleNumberSpinner"),i};T.register("AccessibleNumberSpinner",fs);const ar=QueryStringMachine.getAll({backgroundColor:{type:"string",defaultValue:"white"},fontFamily:{type:"string",defaultValue:"Arial"}});me.register("sceneryPhetQueryParameters",ar);class bs extends sn{constructor(e){assert&&assert(arguments.length===0||arguments.length===1,"Too many arguments");let i;typeof e=="number"||typeof e=="string"?i={size:e}:i=e||{},i=I({family:ar.fontFamily},i),assert&&assert(i.family),i.family=[i.family,"sans-serif"].join(", "),super(i)}}me.register("PhetFont",bs);const Ss={PLUS:"+",MINUS:"−",TIMES:"×",DIVIDE:"÷",DOT:"⋅",UNARY_PLUS:"+",UNARY_MINUS:"-",EQUAL_TO:"=",NOT_EQUAL_TO:"≠",GREATER_THAN:">",LESS_THAN:"<",LESS_THAN_OR_EQUAL:"≤",GREATER_THAN_OR_EQUAL:"≥",PERCENT:"%",INFINITY:"∞",PI:"π",PLUS_MINUS:"±",THETA:"θ",NO_VALUE:"—",DEGREES:"°"};me.register("MathSymbols",Ss);const Mo=["up","down","over","out"];class Ps extends fs(k,0){constructor(e,i,s){var Ls,xs;const t=w()({color:new F(0,0,255),backgroundColor:"white",cornerRadius:6,xMargin:3,yMargin:3,decimalPlaces:0,font:new bs(24),incrementFunction:R=>R+1,decrementFunction:R=>R-1,timerDelay:400,timerInterval:100,noValueString:Ss.NO_VALUE,align:"center",touchAreaXDilation:10,touchAreaYDilation:10,mouseAreaXDilation:0,mouseAreaYDilation:5,backgroundStroke:"gray",backgroundLineWidth:.5,backgroundDisabledOpacity:1,arrowHeight:6,arrowYSpacing:3,arrowStroke:"black",arrowLineWidth:.25,arrowDisabledOpacity:1,valueMaxWidth:null,onInput:_.noop,incrementEnabledFunction:(R,ve)=>R!=null&&R<ve.max,decrementEnabledFunction:(R,ve)=>R!=null&&R>ve.min,disabledOpacity:ge.DISABLED_OPACITY,valueChangedSoundPlayer:qs,boundarySoundPlayer:ms,cursor:"pointer",valueProperty:e,enabledRangeProperty:i,pageKeyboardStep:2,voicingObjectResponse:()=>e.value,tandem:L.REQUIRED,tandemNameSuffix:"Picker",phetioReadOnly:Ve.DEFAULT_OPTIONS.phetioReadOnly,visiblePropertyOptions:{phetioFeatured:!0},phetioEnabledPropertyInstrumented:!0,phetioFeatured:!0},s);t.formatValue||(t.formatValue=R=>X.toFixed(R,t.decimalPlaces));let o=null;t.pressedColor===void 0&&(o=new H(t.color),t.pressedColor=new U([o],R=>R.darkerColor()));let n=e.value;const r=t.onInput;t.onInput=()=>{r(),e.value!==n&&(e.value===i.get().max||e.value===i.get().min?t.boundarySoundPlayer.play():t.valueChangedSoundPlayer.play()),n=e.value},assert&&assert(!t.keyboardStep,"NumberPicker sets its own keyboardStep"),assert&&assert(!t.shiftKeyboardStep,"NumberPicker sets its own shiftKeyboardStep");const d=t.incrementFunction(e.get())-e.get();t.keyboardStep=d,t.shiftKeyboardStep=d,t.pdomTimerDelay=t.timerDelay,t.pdomTimerInterval=t.timerInterval;const u=_.pick(t,k.REQUIRES_BOUNDS_OPTION_KEYS);super(_.omit(t,k.REQUIRES_BOUNDS_OPTION_KEYS));const l=new Ri("up",{validValues:Mo}),c=new Ri("down",{validValues:Mo}),p=new U([e,i],t.incrementEnabledFunction),m=new U([e,i],t.decrementEnabledFunction),V=new Nt("",{font:t.font,pickable:!1});let q=i.get().min;const A=[];for(;q<=i.get().max;)A.push(q),q=t.incrementFunction(q),assert&&assert(A.length<5e5,"Don't infinite loop here");let h=Math.max.apply(null,A.map(R=>(V.string=t.formatValue(R),V.width)));t.valueMaxWidth!==null&&(h=Math.min(h,t.valueMaxWidth));const g=h+2*t.xMargin,P=V.height+2*t.yMargin,x=1,y=t.cornerRadius;V.maxWidth=h;const b=new J(new N().arc(y,y,y,Math.PI,Math.PI*3/2,!1).arc(g-y,y,y,-Math.PI/2,0,!1).lineTo(g,P/2+x).lineTo(0,P/2+x).close(),{pickable:!1}),E=new J(new N().arc(g-y,P-y,y,0,Math.PI/2,!1).arc(y,P-y,y,Math.PI/2,Math.PI,!1).lineTo(0,P/2).lineTo(g,P/2).close(),{pickable:!1}),f=new Q(0,0,g,P,y,y,{pickable:!1,stroke:t.backgroundStroke,lineWidth:t.backgroundLineWidth,disabledOpacity:t.backgroundDisabledOpacity,enabledProperty:this.enabledProperty}),B=new ee(.5*g,t.arrowHeight),D={stroke:t.arrowStroke,lineWidth:t.arrowLineWidth,disabledOpacity:t.arrowDisabledOpacity,enabledProperty:this.enabledProperty,pickable:!1};this.incrementArrow=new J(new N().moveTo(B.width/2,0).lineTo(B.width,B.height).lineTo(0,B.height).close(),D),this.incrementArrow.centerX=b.centerX,this.incrementArrow.bottom=b.top-t.arrowYSpacing,this.decrementArrow=new J(new N().moveTo(B.width/2,B.height).lineTo(0,0).lineTo(B.width,0).close(),D),this.decrementArrow.centerX=E.centerX,this.decrementArrow.top=E.bottom+t.arrowYSpacing;const M=new k({children:[b,this.incrementArrow]});M.addChild(new Q(M.localBounds));const v=new k({children:[E,this.decrementArrow]});v.addChild(new Q(v.localBounds)),this.addChild(M),this.addChild(v),this.addChild(f),this.addChild(V),M.touchArea=N.rectangle(M.left-t.touchAreaXDilation/2,M.top-t.touchAreaYDilation,M.width+t.touchAreaXDilation,M.height+t.touchAreaYDilation),v.touchArea=N.rectangle(v.left-t.touchAreaXDilation/2,v.top,v.width+t.touchAreaXDilation,v.height+t.touchAreaYDilation),M.mouseArea=N.rectangle(M.left-t.mouseAreaXDilation/2,M.top-t.mouseAreaYDilation,M.width+t.mouseAreaXDilation,M.height+t.mouseAreaYDilation),v.mouseArea=N.rectangle(v.left-t.mouseAreaXDilation/2,v.top,v.width+t.mouseAreaXDilation,v.height+t.mouseAreaYDilation);const re={up:t.color,over:t.color,down:t.pressedColor,out:t.color,disabled:"rgb(176,176,176)"},Xe=Oo(t.color,t.backgroundColor,t.color,P),jt=Oo(t.pressedColor,t.backgroundColor,t.pressedColor,P),Ie={up:t.backgroundColor,over:Xe,down:jt,out:jt,disabled:t.backgroundColor},Ze={fireOnHold:!0,fireOnHoldDelay:t.timerDelay,fireOnHoldInterval:t.timerInterval};this.incrementInputListener=new Ro(l,I({tandem:t.tandem.createTandem("incrementInputListener"),fire:R=>{e.set(Math.min(t.incrementFunction(e.get()),i.get().max)),t.onInput(R),this.voicingSpeakFullResponse({nameResponse:null,hintResponse:null})}},Ze)),M.addInputListener(this.incrementInputListener),this.decrementInputListener=new Ro(c,I({tandem:t.tandem.createTandem("decrementInputListener"),fire:R=>{e.set(Math.max(t.decrementFunction(e.get()),i.get().min)),t.onInput(R),this.voicingSpeakFullResponse({nameResponse:null,hintResponse:null})}},Ze)),v.addInputListener(this.decrementInputListener),p.link(R=>{!R&&this.incrementInputListener.interrupt(),M.pickable=R}),m.link(R=>{!R&&this.decrementInputListener.interrupt(),v.pickable=R});const wi=R=>{if(R==null)V.string=t.noValueString,V.x=(g-V.width)/2;else if(V.string=t.formatValue(R),t.align==="center")V.centerX=b.centerX;else if(t.align==="right")V.right=b.right-t.xMargin;else if(t.align==="left")V.left=b.left+t.xMargin;else throw new Error(`unsupported value for options.align: ${t.align}`);V.centerY=P/2};e.link(wi),Z.multilink([l,p],(R,ve)=>{Io(R,ve,b,this.incrementArrow,Ie,re)}),Z.multilink([c,m],(R,ve)=>{Io(R,ve,E,this.decrementArrow,Ie,re)});const Jt=this.localBounds.dilated(Ms.getDefaultDilationCoefficient());this.focusHighlight=new Ms(N.roundedRectangleWithRadii(Jt.minX,Jt.minY,Jt.width,Jt.height,{topLeft:t.cornerRadius,topRight:t.cornerRadius,bottomLeft:t.cornerRadius,bottomRight:t.cornerRadius})),this.pdomIncrementDownEmitter.addListener(R=>{l.value=R?"down":"up"}),this.pdomDecrementDownEmitter.addListener(R=>{c.value=R?"down":"up"}),this.addLinkedElement(e,{tandemName:"valueProperty"}),this.mutate(u),this.disposeNumberPicker=()=>{o&&o.dispose(),p.dispose(),m.dispose(),this.incrementArrow.dispose(),this.decrementArrow.dispose(),f.dispose(),e.hasListener(wi)&&e.unlink(wi)},assert&&((xs=(Ls=phet==null?void 0:phet.chipper)==null?void 0:Ls.queryParameters)!=null&&xs.binder)&&G.registerDataURL("scenery-phet","NumberPicker",this)}static createIcon(e,i){const s=w()({highlightIncrement:!1,highlightDecrement:!1,range:new ue(e-1,e+1),numberPickerOptions:{pickable:!1,tandem:L.OPT_OUT}},i),t=new Ps(new Ki(e),new ce(s.range),s.numberPickerOptions);return t.removeFromPDOM(),s.highlightDecrement&&(t.decrementInputListener.isOverProperty.value=!0),s.highlightIncrement&&(t.incrementInputListener.isOverProperty.value=!0),t}dispose(){this.disposeNumberPicker(),super.dispose()}setArrowsVisible(e){e||(this.incrementInputListener.interrupt(),this.decrementInputListener.interrupt()),this.incrementArrow.visible=e,this.decrementArrow.visible=e}}class Ro extends ts{constructor(e,i){super(i),Z.multilink([this.isOverProperty,this.isPressedProperty],(s,t)=>{e.set(s&&!t?"over":s&&t?"down":!s&&!t?"up":"out")})}}function Oo(a,e,i,s){return new Ce(0,0,0,s).addColorStop(0,a).addColorStop(.5,e).addColorStop(1,i)}function Io(a,e,i,s,t,o){if(e)if(s.stroke="black",a==="up")i.fill=t.up,s.fill=o.up;else if(a==="over")i.fill=t.over,s.fill=o.over;else if(a==="down")i.fill=t.down,s.fill=o.down;else if(a==="out")i.fill=t.out,s.fill=o.out;else throw new Error(`unsupported buttonState: ${a}`);else i.fill=t.disabled,s.fill=o.disabled,s.stroke=o.disabled}T.register("NumberPicker",Ps);const Sd=new bs(20),vo=["center","left","right"],No=0,Ot=class Ot extends k{constructor(e,i,s){var x,y,b,E;const t=w()({align:"right",valuePattern:pe.VALUE_NAMED_PLACEHOLDER,decimalPlaces:No,numberFormatter:null,numberFormatterDependencies:[],useRichText:!1,useFullHeight:!1,textOptions:{font:Sd,fill:"black",maxWidth:null,phetioReadOnly:!0},xMargin:8,yMargin:2,cornerRadius:0,backgroundFill:"white",backgroundStroke:"lightGray",backgroundLineWidth:1,backgroundLineDash:[],minBackgroundWidth:0,noValueString:Ss.NO_VALUE,noValueAlign:null,noValuePattern:null,tandem:L.OPT_OUT,phetioType:Ot.NumberDisplayIO},s);if(assert){const f=!!t.numberFormatter,B=t.decimalPlaces!==No,D=t.valuePattern!==pe.VALUE_NAMED_PLACEHOLDER,M=B||D;(f||M)&&assert&&assert(f!==M,"options.numberFormatter is mutually exclusive with options.valuePattern and options.decimalPlaces")}const o=new j(t.numberFormatter?t.numberFormatter:f=>t.decimalPlaces===null?`${f}`:X.toFixed(f,t.decimalPlaces));assert&&assert(!t.hasOwnProperty("unitsNode"),"unitsNode is not a supported option"),assert&&assert(_.includes(vo,t.align),`invalid align: ${t.align}`),t.noValueAlign||(t.noValueAlign=t.align),assert&&assert(_.includes(vo,t.noValueAlign),`invalid noValueAlign: ${t.noValueAlign}`),assert&&assert(t.textOptions,"did you accidentally set textOptions to null?");const n=f=>f.includes(pe.VALUE_NUMBERED_PLACEHOLDER)?nt.format(f,pe.VALUE_NAMED_PLACEHOLDER):f,r=typeof t.valuePattern=="string"?new j(n(t.valuePattern)):new U([t.valuePattern],n);assert&&assert(!!((y=(x=phet==null?void 0:phet.chipper)==null?void 0:x.queryParameters)!=null&&y.stringTest)||r.value.includes(pe.VALUE_NAMED_PLACEHOLDER),`missing value placeholder in options.valuePattern: ${r.value}`),t.noValuePattern||(t.noValuePattern=new U([r],f=>f));const d=typeof t.noValuePattern=="string"?new j(t.noValuePattern):t.noValuePattern;assert&&assert(!!((E=(b=phet==null?void 0:phet.chipper)==null?void 0:b.queryParameters)!=null&&E.stringTest)||d.value.includes(pe.VALUE_NAMED_PLACEHOLDER),`missing value placeholder in options.noValuePattern: ${d.value}`);const u=U.deriveAny([o,...t.numberFormatterDependencies],()=>ki(i.min,t.noValueString,o.value)),l=U.deriveAny([o,...t.numberFormatterDependencies],()=>ki(i.max,t.noValueString,o.value)),c=new U([r,u,l],(f,B,D)=>nt.fillIn(f,{value:B.length>D.length?B:D})),p=t.useRichText?Yr:Nt,m=t.textOptions.tandem||t.tandem.createTandem("valueText"),V=U.deriveAny([e,d,r,o,...t.numberFormatterDependencies],()=>{const f=e.value,B=d.value,D=r.value,M=o.value,v=f===null&&B?B:D,re=ki(f,t.noValueString,M);return nt.fillIn(v,{value:re})},{phetioFeatured:!0,phetioValueType:mi,tandemNameSuffix:"StringProperty",tandem:m.createTandem(Nt.STRING_PROPERTY_TANDEM_NAME)}),q=I({tandem:m},t.textOptions,{maxWidth:null}),A=new p(V,q),h=A.height,g=new Q({cornerRadius:t.cornerRadius,fill:t.backgroundFill,stroke:t.backgroundStroke,lineWidth:t.backgroundLineWidth,lineDash:t.backgroundLineDash});c.link(f=>{const B=new p(f,_.omit(q,"tandem"));A.maxWidth=t.textOptions.maxWidth!==null?t.textOptions.maxWidth:B.width!==0?B.width:null,B.maxWidth=A.maxWidth,g.rectWidth=Math.max(t.minBackgroundWidth,B.width+2*t.xMargin),g.rectHeight=(t.useFullHeight?h:B.height)+2*t.yMargin});const P=new k({children:[A]});t.children=[g,P],super(),this.numberFormatterProperty=o,this.valueText=A,this.backgroundNode=g,is.create(this,[P,g],(f,B)=>{const D=e.value===null?t.noValueAlign:t.align,M=B.centerY;D==="center"?f.center=new xt(B.centerX,M):D==="left"?f.leftCenter=new xt(B.left+t.xMargin,M):f.rightCenter=new xt(B.right-t.xMargin,M)}),this.mutate(t),this.disposeNumberDisplay=()=>{V.dispose(),r.dispose()}}dispose(){this.disposeNumberDisplay(),super.dispose()}setNumberFont(e){this.valueText.font=e}set numberFont(e){this.setNumberFont(e)}setNumberFill(e){this.valueText.fill=e}set numberFill(e){this.setNumberFill(e)}setBackgroundFill(e){this.backgroundNode.fill=e}set backgroundFill(e){this.setBackgroundFill(e)}get backgroundFill(){return this.getBackgroundFill()}getBackgroundFill(){return this.backgroundNode.fill}setBackgroundStroke(e){this.backgroundNode.stroke=e}set backgroundStroke(e){this.setBackgroundStroke(e)}getBackgroundWidth(){return this.backgroundNode.getRectWidth()}setBackgroundWidth(e){this.backgroundNode.setRectWidth(e)}get backgroundWidth(){return this.getBackgroundWidth()}set backgroundWidth(e){this.setBackgroundWidth(e)}};Ot.NumberDisplayIO=new Te("NumberDisplayIO",{valueType:Ot,supertype:k.NodeIO,documentation:"A numeric readout with a background"});let Ai=Ot;me.register("NumberDisplay",Ai);const ki=(a,e,i)=>{let s=e;return a!==null&&(s=i(a)),s},Li=20;class Yi extends Pt{constructor(e,i,s){const t=w()({cursor:"pointer",baseColor:"white",stroke:"black",lineWidth:1,cornerRadius:4,xMargin:7,yMargin:5,touchAreaXDilation:7,touchAreaYDilation:7,arrowHeight:Li,arrowWidth:Li*Math.sqrt(3)/2,arrowFill:"black",arrowStroke:null,arrowLineWidth:1,numberOfArrows:1,arrowSpacing:-Li*.5,fireOnHold:!0,fireOnHoldDelay:400,fireOnHoldInterval:100,startCallback:_.noop,endCallback:_.noop},s);t.listener=i;const o=new N;for(let n=0;n<t.numberOfArrows;n++){const r=n*(t.arrowHeight+t.arrowSpacing);if(e==="up")o.moveTo(t.arrowHeight/2,r).lineTo(t.arrowHeight,t.arrowWidth+r).lineTo(0,t.arrowWidth+r).close();else if(e==="down")o.moveTo(0,r).lineTo(t.arrowHeight,r).lineTo(t.arrowHeight/2,t.arrowWidth+r).close();else if(e==="left")o.moveTo(r,t.arrowHeight/2).lineTo(t.arrowWidth+r,0).lineTo(t.arrowWidth+r,t.arrowHeight).close();else if(e==="right")o.moveTo(r,0).lineTo(t.arrowWidth+r,t.arrowHeight/2).lineTo(r,t.arrowHeight).close();else throw new Error(`unsupported direction: ${e}`)}t.content=new J(o,{fill:t.arrowFill,stroke:t.arrowStroke,lineWidth:t.arrowLineWidth,pickable:!1}),super(t)}}T.register("ArrowButton",Yi);class Pd extends fs(k,0){constructor(e,i,s){var P,x;assert&&assert(i.value.contains(e.get()),`value ${e.get()} is out of range ${i.value.toString()}`);const t=w()({arrowsSoundPlayer:Je,arrowsPosition:"bothRight",arrowsScale:null,arrowButtonFill:"white",arrowButtonStroke:"black",arrowButtonLineWidth:1,deltaValue:1,xSpacing:5,ySpacing:3,numberDisplayOptions:{cornerRadius:5,backgroundStroke:"black"},touchAreaXDilation:0,touchAreaYDilation:0,mouseAreaXDilation:0,mouseAreaYDilation:0,valueProperty:e,enabledRangeProperty:i,disabledOpacity:ge.DISABLED_OPACITY,interactiveHighlight:"invisible",tandem:L.REQUIRED,tandemNameSuffix:"Spinner",phetioFeatured:!0,phetioEnabledPropertyInstrumented:!0},s),o=t.incrementFunction||(y=>y+t.deltaValue),n=t.decrementFunction||(y=>y-t.deltaValue),r=new Ai(e,i.value,I({tandem:t.tandem.createTandem("numberDisplay")},t.numberDisplayOptions)),d={baseColor:t.arrowButtonFill,stroke:t.arrowButtonStroke,lineWidth:t.arrowButtonLineWidth,focusable:!1,soundPlayer:We,enabledPropertyOptions:{phetioReadOnly:!0,phetioFeatured:!1}},u=new Yi(t.arrowsPosition==="topBottom"||t.arrowsPosition==="bothRight"?"up":"right",()=>{e.set(o(e.get())),t.arrowsSoundPlayer.play()},I({tandem:t.tandem.createTandem("incrementButton")},d)),l=new Yi(t.arrowsPosition==="topBottom"||t.arrowsPosition==="bothRight"?"down":"left",()=>{e.set(n(e.get())),t.arrowsSoundPlayer.play()},I({tandem:t.tandem.createTandem("decrementButton")},d));let c;c||(t.arrowsPosition==="leftRight"?c=r.height/u.height:t.arrowsPosition==="topBottom"?c=r.width/u.width:t.arrowsPosition==="bothRight"?c=(r.height/2-t.ySpacing/2)/u.height:c=(r.width/2-t.xSpacing/2)/u.width),t.arrowsScale&&(c=c*t.arrowsScale),u.setScaleMagnitude(c),l.setScaleMagnitude(c);const p=()=>{t.arrowsPosition==="leftRight"?(u.left=r.right+t.xSpacing,l.right=r.left-t.xSpacing,u.centerY=l.centerY=r.centerY):t.arrowsPosition==="topBottom"?(u.centerX=l.centerX=r.centerX,u.bottom=r.top-t.ySpacing,l.top=r.bottom+t.ySpacing):t.arrowsPosition==="bothRight"?(u.left=l.left=r.right+t.xSpacing,u.bottom=r.centerY-t.ySpacing/2,l.top=r.centerY+t.ySpacing/2):(u.left=r.centerX+t.xSpacing/2,l.right=r.centerX-t.xSpacing/2,u.top=l.top=r.bottom+t.ySpacing)};r.boundsProperty.link(()=>p()),(t.touchAreaXDilation||t.touchAreaYDilation)&&(u.touchArea=u.localBounds.dilatedXY(t.touchAreaXDilation,t.touchAreaYDilation),l.touchArea=l.localBounds.dilatedXY(t.touchAreaXDilation,t.touchAreaYDilation),t.arrowsPosition==="bothRight"?(u.touchArea=u.touchArea.shiftedY(-t.touchAreaYDilation),l.touchArea=l.touchArea.shiftedY(t.touchAreaYDilation)):t.arrowsPosition==="bothBottom"&&(u.touchArea=u.touchArea.shiftedX(t.touchAreaXDilation),l.touchArea=l.touchArea.shiftedX(-t.touchAreaXDilation))),(t.mouseAreaXDilation||t.mouseAreaYDilation)&&(u.mouseArea=u.localBounds.dilatedXY(t.mouseAreaXDilation,t.mouseAreaYDilation),l.mouseArea=l.localBounds.dilatedXY(t.mouseAreaXDilation,t.mouseAreaYDilation),t.arrowsPosition==="bothRight"?(u.mouseArea=u.mouseArea.shiftedY(-t.mouseAreaYDilation),l.mouseArea=l.mouseArea.shiftedY(t.mouseAreaYDilation)):t.arrowsPosition==="bothBottom"&&(u.mouseArea=u.mouseArea.shiftedX(t.mouseAreaXDilation),l.mouseArea=l.mouseArea.shiftedX(-t.mouseAreaXDilation))),t.children=[r,u,l],assert&&assert(t.keyboardStep===void 0,"NumberSpinner sets keyboardStep, it will be the same as deltaValue"),assert&&assert(t.shiftKeyboardStep===void 0,"NumberSpinner sets shiftKeyboardStep, it will be the same as deltaValue"),assert&&assert(t.pageKeyboardStep===void 0,"NumberSpinner sets pageKeyboardStep, it should not be used with NumberSpinner"),t.keyboardStep=0,t.shiftKeyboardStep=0,t.pageKeyboardStep=0;const m=_.pick(t,k.REQUIRES_BOUNDS_OPTION_KEYS);super(_.omit(t,k.REQUIRES_BOUNDS_OPTION_KEYS));const V=()=>{u.enabled=o(e.value)<=i.value.max,l.enabled=n(e.value)>=i.value.min},q=y=>{assert&&assert(i.value.contains(y),`value out of range: ${y}`),V()};e.link(q);const A=y=>{e.value=y.constrainValue(e.value),V()};i.link(A);const h=y=>y&&u.pdomClick(),g=y=>y&&l.pdomClick();this.pdomIncrementDownEmitter.addListener(h),this.pdomDecrementDownEmitter.addListener(g),this.disposeNumberSpinner=()=>{r.dispose(),u.dispose(),l.dispose(),this.pdomIncrementDownEmitter.removeListener(h),this.pdomDecrementDownEmitter.removeListener(g),e.unlink(q),i.unlink(A)},this.mutate(m),this.numberDisplay=r,this.addLinkedElement(e,{tandemName:"property"}),assert&&((x=(P=phet==null?void 0:phet.chipper)==null?void 0:P.queryParameters)!=null&&x.binder)&&G.registerDataURL("sun","NumberSpinner",this)}dispose(){this.disposeNumberSpinner(),super.dispose()}}T.register("NumberSpinner",Pd);class Ed extends rs{constructor(e,i){const s=w()({trackFillLeft:"white",trackFillRight:"rgb( 0, 200, 0 )"},i);super(e,!1,!0,s)}}T.register("OnOffSwitch",Ed);const wd=QueryStringMachine.getAll({backgroundColor:{type:"string",defaultValue:"white"},component:{type:"string",defaultValue:null},layout:{type:"string",defaultValue:"Width of multiple panels"}});T.register("sunQueryParameters",wd);class Td extends hs{constructor(e,i,s){super(e,i,w()({orientation:"vertical",align:"left"},s))}}T.register("VerticalAquaRadioButtonGroup",Td);class Bd extends yi{constructor(e,i){const s=w()({touchAreaXDilation:5,mouseAreaXDilation:5,spacing:10,align:"left",stretch:!0,tandem:L.REQUIRED},i),t=je(e,s.tandem),o=[];s.children=[];for(let n=0;n<e.length;n++){const r=e[n],d=t[n];assert&&assert(!d.hasPDOMContent,"Accessibility is provided by Checkbox and VerticalCheckboxGroupItem.options. Additional PDOM content in the provided Node could break accessibility.");const u=s.spacing/2;assert&&assert(!r.tandem,"Cannot specify tandem on item, use tandemName instead");const l=new Nn(r.property,d,I({tandem:r.tandemName?s.tandem.createTandem(r.tandemName):L.OPTIONAL,mouseAreaXDilation:s.mouseAreaXDilation,touchAreaXDilation:s.touchAreaXDilation,mouseAreaYDilation:u,touchAreaYDilation:u},s.checkboxOptions,r.options));o.push(l),s.children.push(l)}super(s),this.disposeVerticalCheckboxGroup=()=>{o.forEach(n=>n.dispose()),t.forEach(n=>n.dispose())}}dispose(){this.disposeVerticalCheckboxGroup(),super.dispose()}}T.register("VerticalCheckboxGroup",Bd);class kd extends ze{constructor(e,i,s){var t,o;s=w()({orientation:se.VERTICAL},s),super(e,i,s),assert&&((o=(t=phet==null?void 0:phet.chipper)==null?void 0:t.queryParameters)!=null&&o.binder)&&G.registerDataURL("sun","VSlider",this)}}T.register("VSlider",kd);class Es extends on{constructor(e){super([e.focusedProperty,e.overProperty,e.looksOverProperty,e.looksPressedProperty,e.valueProperty],(i,s,t,o,n)=>{const r=n===e.valueDown;return t&&!(o||r)?W.OVER:(s||i)&&(o||r)||r?W.PRESSED:W.IDLE},{valueType:W})}}T.register("StickyToggleButtonInteractionStateProperty",Es);class ws extends St{constructor(e,i,s,t){assert&&assert(s.valueComparisonStrategy==="reference",'StickyToggleButtonModel depends on "===" equality for value comparison');const o=w()({tandem:L.REQUIRED},t);super(o),this.valueUp=e,this.valueDown=i,this.valueProperty=s,this.toggledEmitter=new K({tandem:o.tandem.createTandem("toggledEmitter"),phetioDocumentation:"Emits when the button is toggled",phetioEventType:Ae.USER}),this.toggledEmitter.addListener(()=>{assert&&assert(this.valueProperty.value===this.valueUp||this.valueProperty.value===this.valueDown,`unrecognized value: ${this.valueProperty.value}`),this.valueProperty.value=this.valueProperty.value===this.valueUp?this.valueDown:this.valueUp}),this.pressedWhileDownProperty=new z(!1);const n=u=>{const l=this.overProperty.get()||this.focusedProperty.get();this.enabledProperty.get()&&l&&!this.interrupted&&(u&&s.value===e&&(this.toggle(),this.pressedWhileDownProperty.set(!1)),!u&&s.value===i&&(this.pressedWhileDownProperty.get()?this.toggle():this.pressedWhileDownProperty.set(!0))),!u&&!l&&this.pressedWhileDownProperty.set(!0)};this.downProperty.link(n);const r=u=>{this.downProperty.set(u===i)};s.link(r);const d=u=>{u&&this.pressedWhileDownProperty.set(!0)};this.enabledProperty.link(d),this.disposeToggleButtonModel=()=>{this.downProperty.unlink(n),this.enabledProperty.unlink(d),s.unlink(r),this.toggledEmitter.dispose()}}dispose(){this.disposeToggleButtonModel(),super.dispose()}toggle(){this.toggledEmitter.emit(),this.produceSoundEmitter.emit()}}T.register("StickyToggleButtonModel",ws);class lr extends ke{constructor(e,i,s,t){const o=new ws(i,s,e,t),n=new Es(o);super(o,n,t),this.disposeRectangularStickyToggleButton=()=>{o.dispose()}}dispose(){this.disposeRectangularStickyToggleButton(),super.dispose()}}T.register("RectangularStickyToggleButton",lr);class Ld extends lr{constructor(e,i){super(e,!1,!0,i)}}T.register("BooleanRectangularStickyToggleButton",Ld);const xi=5;class Oe extends be{constructor(e,i,s){const t=w()({radius:s&&s.content?null:30,lineWidth:.5,stroke:null,touchAreaDilation:0,mouseAreaDilation:0,touchAreaXShift:0,touchAreaYShift:0,mouseAreaXShift:0,mouseAreaYShift:0,aspectRatio:1,cursor:"pointer",xMargin:5,yMargin:5,buttonAppearanceStrategy:Oe.ThreeDAppearanceStrategy},s);t.content||assert&&assert(typeof t.radius=="number",`invalid radius: ${t.radius}`),t.radius&&(assert&&assert(t.xMargin<t.radius,"xMargin cannot be larger than radius"),assert&&assert(t.yMargin<t.radius,"yMargin cannot be larger than radius"),t.minUnstrokedWidth=t.radius*2,t.minUnstrokedHeight=t.radius*2),t.buttonAppearanceStrategyOptions||(t.buttonAppearanceStrategyOptions={stroke:t.stroke,lineWidth:t.lineWidth});const o=t.radius||Math.max(t.content.width+t.xMargin*2,t.content.height+t.yMargin*2)/2;if(t.content&&t.radius){const d=t.content,u=Math.min((t.radius-t.xMargin)*2/d.width,(t.radius-t.yMargin)*2/d.height);t.content=new k({children:[d],scale:u})}const n=new ot(o);super(e,n,i,t);const r=n.localBounds.width/2;this.touchArea=N.circle(t.touchAreaXShift,t.touchAreaYShift,r+t.touchAreaDilation),this.mouseArea=N.circle(t.mouseAreaXShift,t.mouseAreaYShift,r+t.mouseAreaDilation),this.focusHighlight=N.circle(0,0,r+5)}}class xd{constructor(e,i,s,t){const o=t&&t.stroke?t.stroke:new H(s,{luminanceFactor:-.4}),n=t&&t.lineWidth!==void 0?t.lineWidth:.3,r=w()({stroke:o,lineWidth:n,overStroke:o,overLineWidth:n,overButtonOpacity:1,selectedStroke:o,selectedLineWidth:n,selectedButtonOpacity:1,deselectedStroke:o,deselectedLineWidth:n,deselectedButtonOpacity:1,overFill:s},t),d=new H(s,{luminanceFactor:.8}),u=new H(s,{luminanceFactor:.7}),l=new H(s,{luminanceFactor:.3}),c=new H(s,{luminanceFactor:-.1}),p=new H(s,{luminanceFactor:-.2}),m=new H(s,{luminanceFactor:-.4}),V=new H(s,{luminanceFactor:-.5}),q=new U([s],M=>M.withAlpha(0)),A=e.width/2,h=A-xi/2,g=A+xi/2,P=xi/2,x=new wt(P,P,h,P,P,g).addColorStop(0,s).addColorStop(1,u),y=new wt(-P,-P,h,-P,-P,g).addColorStop(0,q).addColorStop(1,V),b=new wt(P,P,h,P,P,g).addColorStop(0,l).addColorStop(1,d),E=new wt(-P,-P,h,-P,-P,g).addColorStop(0,q).addColorStop(1,V),f=new wt(-P,-P,0,0,0,g).addColorStop(0,c).addColorStop(.6,p).addColorStop(.8,s).addColorStop(1,d),B=new ot(A,{stroke:r.stroke?r.stroke:m,lineWidth:r.lineWidth,pickable:!1});e.addChild(B),this.maxLineWidth=B.hasStroke()&&r&&typeof r.lineWidth=="number"?r.lineWidth:0,e.cachedPaints=[x,b,f],B.cachedPaints=[y,E];function D(M){switch(M){case W.IDLE:e.fill=x,e.stroke=r.deselectedStroke,e.lineWidth=r.deselectedLineWidth,e.opacity=r.deselectedButtonOpacity,B.fill=y,B.opacity=r.deselectedButtonOpacity;break;case W.OVER:e.fill=b,e.stroke=r.overStroke,e.lineWidth=r.overLineWidth,e.opacity=r.overButtonOpacity,B.fill=E,B.opacity=r.overButtonOpacity;break;case W.PRESSED:e.fill=f,e.stroke=r.selectedStroke,e.lineWidth=r.selectedLineWidth,e.opacity=r.selectedButtonOpacity,B.fill=E,B.opacity=r.selectedButtonOpacity;break;default:throw new Error(`unsupported interactionState: ${M}`)}}i.link(D),this.disposeThreeDAppearanceStrategy=()=>{i.hasListener(D)&&i.unlink(D),d.dispose(),u.dispose(),l.dispose(),c.dispose(),p.dispose(),m.dispose(),V.dispose(),q.dispose()}}dispose(){this.disposeThreeDAppearanceStrategy()}}Oe.ThreeDAppearanceStrategy=xd;T.register("RoundButton",Oe);class dr extends Oe{constructor(e,i,s,t){assert&&assert(e.valueComparisonStrategy==="reference",'RoundStickyToggleButton depends on "===" equality for value comparison');const o=w()({soundPlayer:Je,tandem:L.REQUIRED},t),n=new ws(i,s,e,o),r=new Es(n);super(n,r,o);const d=()=>o.soundPlayer.play();n.produceSoundEmitter.addListener(d);const u=()=>this.setPDOMAttribute("aria-pressed",e.value===s);e.link(u),this.disposeRoundStickyToggleButton=()=>{e.unlink(u),n.produceSoundEmitter.removeListener(d),n.dispose()}}dispose(){this.disposeRoundStickyToggleButton(),super.dispose()}}T.register("RoundStickyToggleButton",dr);class Cd extends dr{constructor(e,i){super(e,!1,!0,i)}}T.register("BooleanRoundStickyToggleButton",Cd);class ur extends Oe{constructor(e,i,s,t){assert&&assert(e.valueComparisonStrategy==="reference",'RoundToggleButton depends on "===" equality for value comparison');const o=w()({valueOffSoundPlayer:ls,valueOnSoundPlayer:ds,tandem:L.REQUIRED,phetioFeatured:!0},t),n=new cs(i,s,e,o),r=new us(n);super(n,r,o),this.addLinkedElement(e,{tandemName:"property"});const d=()=>{e.value===i?o.valueOffSoundPlayer.play():e.value===s&&o.valueOnSoundPlayer.play()};this.buttonModel.produceSoundEmitter.addListener(d),this.disposeRoundToggleButton=()=>{this.buttonModel.produceSoundEmitter.removeListener(d),n.dispose()}}dispose(){this.disposeRoundToggleButton(),super.dispose()}}T.register("RoundToggleButton",ur);class Dd extends ur{constructor(e,i,s,t){const o=w()({content:null,tandem:L.REQUIRED},t),n=new as(e,i,s,{tandem:o.tandem.createTandem("toggleNode")});o.content=n,super(e,!1,!0,o),this.disposeBooleanRoundToggleButton=function(){n.dispose()}}dispose(){this.disposeBooleanRoundToggleButton(),super.dispose()}}T.register("BooleanRoundToggleButton",Dd);class Ts extends Jo{constructor(e){super([e.looksOverProperty,e.looksPressedProperty],(i,s)=>i&&!s?W.OVER:s?W.PRESSED:W.IDLE,{valueType:W})}}T.register("MomentaryButtonInteractionStateProperty",Ts);class Bs extends St{constructor(e,i,s,t){const o=w()({tandem:L.REQUIRED,phetioReadOnly:Ve.DEFAULT_OPTIONS.phetioReadOnly},t);super(o);const n=d=>{d?this.enabledProperty.get()&&s.set(i):s.set(e)};this.downProperty.lazyLink(n);const r=d=>{this.downProperty.set(d===i)};s.link(r),this.disposeMomentaryButtonModel=()=>{this.downProperty.unlink(n),s.unlink(r)}}dispose(){this.disposeMomentaryButtonModel(),super.dispose()}}T.register("MomentaryButtonModel",Bs);const he=class he extends Hi{};he.SELECTED=new he,he.DESELECTED=new he,he.OVER=new he,he.PRESSED=new he,he.enumeration=new Qi(he);let $=he;T.register("RadioButtonInteractionState",$);class cr extends on{constructor(e,i,s){super([e.focusedProperty,e.overProperty,e.looksOverProperty,e.looksPressedProperty,i],(t,o,n,r,d)=>{const u=d===s;return n&&!(r||u)?$.OVER:(o||t)&&r?$.PRESSED:u?$.SELECTED:$.DESELECTED},{valueType:$})}}T.register("RadioButtonInteractionStateProperty",cr);class Md extends ke{constructor(e,i,s,t){var r,d;const o=w()({tandem:L.REQUIRED},t),n=new Bs(i,s,e,o);super(n,new Ts(n),o),this.disposeRectangularMomentaryButton=()=>{n.dispose()},assert&&((d=(r=phet==null?void 0:phet.chipper)==null?void 0:r.queryParameters)!=null&&d.binder)&&G.registerDataURL("sun","RectangularMomentaryButton",this)}dispose(){this.disposeRectangularMomentaryButton(),super.dispose()}}T.register("RectangularMomentaryButton",Md);const st=class st extends ke{constructor(e,i,s){assert&&assert(e.valueComparisonStrategy==="reference",'RectangularRadioButton depends on "===" equality for value comparison');const t=w()({soundPlayer:null,baseColor:Yt.LIGHT_BLUE,buttonAppearanceStrategy:st.FlatAppearanceStrategy,buttonAppearanceStrategyOptions:{overButtonOpacity:.8,overStroke:null,selectedStroke:F.BLACK,selectedLineWidth:1.5,selectedButtonOpacity:1,deselectedStroke:new F(50,50,50),deselectedLineWidth:1,deselectedButtonOpacity:.6},contentAppearanceStrategy:st.ContentAppearanceStrategy,contentAppearanceStrategyOptions:{overContentOpacity:.8,selectedContentOpacity:1,deselectedContentOpacity:.6},tagName:"input",inputType:"radio",labelTagName:"label",containerTagName:"li",appendDescription:!0,appendLabel:!0,accessibleName:L.toAccessibleName(s,"RadioButton"),tandem:L.REQUIRED,tandemNameSuffix:"RadioButton",phetioReadOnly:Ve.DEFAULT_OPTIONS.phetioReadOnly},s),o=new St({enabledPropertyOptions:t.enabledPropertyOptions,tandem:t.tandem,phetioEnabledPropertyInstrumented:t.phetioEnabledPropertyInstrumented}),n=new cr(o,e,i);super(o,n,t),this.interactionStateProperty=n,e.value===i&&this.setPDOMAttribute("checked","checked");const r=l=>{this.pdomChecked=l===i};e.link(r),this.property=e,this.value=i,this.firedEmitter=new K({tandem:t.tandem.createTandem("firedEmitter"),phetioDocumentation:"Emits when the radio button is pressed",phetioReadOnly:t.phetioReadOnly,phetioEventType:Ae.USER}),this.firedEmitter.addListener(()=>e.set(i)),o.downProperty.link(l=>{!l&&(o.overProperty.get()||o.focusedProperty.get())&&!o.interrupted&&(this.fire(),this.voicingSpeakFullResponse({hintResponse:null}))});const d=t.soundPlayer||Je,u=()=>{d.play()};o.produceSoundEmitter.addListener(u),this.disposeRectangularRadioButton=()=>{e.unlink(r),this.firedEmitter.dispose(),o.produceSoundEmitter.removeListener(u),o.dispose(),this.interactionStateProperty.dispose()}}dispose(){this.disposeRectangularRadioButton(),super.dispose()}fire(){this.buttonModel.enabledProperty.get()&&(this.firedEmitter.emit(),this.buttonModel.produceSoundEmitter.emit())}};st.FlatAppearanceStrategy=class{constructor(i,s,t,o){const n=w()({stroke:t,lineWidth:1,deselectedButtonOpacity:1,deselectedLineWidth:1,deselectedStroke:"gray",overButtonOpacity:.8,overFill:null,overLineWidth:0,overStroke:null,selectedButtonOpacity:1,selectedLineWidth:1,selectedStroke:"black"},o),r=new H(t,{luminanceFactor:-.4}),d=new H(n.overFill||t,{luminanceFactor:o&&o.overFill?0:.4}),u=new H(n.overStroke||n.deselectedStroke,{luminanceFactor:o&&o.overStroke?0:-.4});this.maxLineWidth=Math.max(n.selectedLineWidth,n.deselectedLineWidth,n.overLineWidth),i.cachedPaints=[t,d,r,u,n.selectedStroke,n.deselectedStroke];function l(c){switch(c){case $.SELECTED:i.fill=t,i.stroke=n.selectedStroke,i.lineWidth=n.selectedLineWidth,i.opacity=n.selectedButtonOpacity;break;case $.DESELECTED:i.fill=t,i.stroke=n.deselectedStroke,i.lineWidth=n.deselectedLineWidth,i.opacity=n.deselectedButtonOpacity;break;case $.OVER:i.fill=d,i.stroke=u,i.lineWidth=Math.max(n.overLineWidth,n.deselectedLineWidth),i.opacity=n.overButtonOpacity;break;case $.PRESSED:i.fill=r,i.stroke=n.deselectedStroke,i.lineWidth=n.deselectedLineWidth,i.opacity=n.selectedButtonOpacity;break;default:throw new Error(`unsupported interactionState: ${c}`)}}s.link(l),this.disposeFlatAppearanceStrategy=()=>{s.hasListener(l)&&s.unlink(l),u.dispose(),d.dispose(),r.dispose()}}dispose(){this.disposeFlatAppearanceStrategy()}},st.ContentAppearanceStrategy=class{constructor(i,s,t){const o=w()({deselectedContentOpacity:1,overContentOpacity:1,selectedContentOpacity:1},t);function n(r){if(i!==null)switch(r){case $.DESELECTED:i.opacity=o.deselectedContentOpacity;break;case $.OVER:i.opacity=o.overContentOpacity;break;case $.SELECTED:i.opacity=o.selectedContentOpacity;break;case $.PRESSED:i.opacity=o.deselectedContentOpacity;break;default:throw new Error(`unsupported state: ${r}`)}}s.link(n),this.disposeContentAppearanceStrategy=()=>{s.hasListener(n)&&s.unlink(n)}}dispose(){this.disposeContentAppearanceStrategy()}};let Gt=st;T.register("RectangularRadioButton",Gt);let Fo=0;const Rd="RectangularRadioButtonGroup";class Od extends Ft{constructor(e,i,s){var q,A;assert&&assert(_.uniqBy(i,h=>h.value).length===i.length,"items must have unique values"),assert&&assert(_.find(i,h=>h.value===e.value),"one radio button must be associated with property.value");const t=w()({soundPlayers:null,labelAlign:"bottom",labelSpacing:0,touchAreaXDilation:0,touchAreaYDilation:0,mouseAreaXDilation:0,mouseAreaYDilation:0,radioButtonOptions:{baseColor:Yt.LIGHT_BLUE,cornerRadius:4,xMargin:5,yMargin:5,xAlign:"center",yAlign:"center",buttonAppearanceStrategyOptions:{selectedStroke:"black",selectedLineWidth:1.5,selectedButtonOpacity:1,deselectedStroke:new F(50,50,50),deselectedLineWidth:1,deselectedButtonOpacity:.6,overButtonOpacity:.8},contentAppearanceStrategy:Gt.ContentAppearanceStrategy,contentAppearanceStrategyOptions:{overContentOpacity:.8,selectedContentOpacity:1,deselectedContentOpacity:.6}},spacing:10,stretch:!0,orientation:"vertical",disabledOpacity:ge.DISABLED_OPACITY,tandem:L.REQUIRED,tandemNameSuffix:"ButtonGroup",visiblePropertyOptions:{phetioFeatured:!0},phetioEnabledPropertyInstrumented:!0,phetioFeatured:!0,tagName:"ul",labelTagName:"h3",ariaRole:"radiogroup",groupFocusHighlight:!0},s);assert&&assert(t.soundPlayers===null||t.soundPlayers.length===i.length,"If soundPlayers is provided, there must be one per radio button."),Fo++;const o=new Map,n=je(i,t.tandem);assert&&assert(_.every(n,h=>!h.hasPDOMContent),"Accessibility is provided by RectangularRadioButton and RectangularRadioButtonGroupItem.labelContent. Additional PDOM content in the provided Node could break accessibility.");const r=_.maxBy(n,h=>h.width).width,d=_.maxBy(n,h=>h.height).height,u=[],l=[],c=[],p=t.radioButtonOptions.xMargin,m=t.radioButtonOptions.yMargin;for(let h=0;h<i.length;h++){const g=i[h],P=n[h],x=I({content:P,minWidth:r+2*p,minHeight:d+2*m,soundPlayer:t.soundPlayers?t.soundPlayers[h]:Kt.getSelectionSoundPlayer(h),tandem:g.tandemName?t.tandem.createTandem(g.tandemName):t.tandem===L.OPT_OUT?L.OPT_OUT:L.REQUIRED,phetioDocumentation:g.phetioDocumentation||"",touchAreaXDilation:t.orientation==="horizontal"?t.spacing/2:t.touchAreaXDilation,touchAreaYDilation:t.orientation==="vertical"?t.spacing/2:t.touchAreaYDilation,mouseAreaXDilation:t.orientation==="horizontal"?t.spacing/2:t.mouseAreaXDilation,mouseAreaYDilation:t.orientation==="vertical"?t.spacing/2:t.mouseAreaYDilation},t.radioButtonOptions,g.options);g.labelContent&&(x.labelContent=g.labelContent,x.voicingNameResponse=g.labelContent),g.descriptionContent&&(x.descriptionContent=g.descriptionContent),g.voicingContextResponse&&(x.voicingContextResponse=g.voicingContextResponse);const y=new Gt(e,g.value,x);o.set(g.value,y),y.setPDOMAttribute("name",Rd+Fo);let b;if(g.label){const f=g.label,B=t.labelAlign==="bottom"||t.labelAlign==="top"?"vertical":"horizontal",D=t.labelAlign==="left"||t.labelAlign==="top"?[f,y]:[y,f];b=new Ft({children:D,spacing:t.labelSpacing,orientation:B}),f.pickable=!1,t.radioButtonOptions.contentAppearanceStrategy&&c.push(new t.radioButtonOptions.contentAppearanceStrategy(f,y.interactionStateProperty,t.radioButtonOptions.contentAppearanceStrategyOptions))}else b=y;u.push(b);const E=new Zt(b);l.push({radioButton:y,layoutNode:b,focusHighlight:E}),y.focusHighlight=E}t.children=u,super(t),this.radioButtonMap=o,this.addAriaLabelledbyAssociation({thisElementName:ae.PRIMARY_SIBLING,otherNode:this,otherElementName:ae.LABEL_SIBLING});const V={keydown:h=>h.pointer.reserveForKeyboardDrag()};this.addInputListener(V),this.addLinkedElement(e,{tandemName:"property"}),this.disposeRadioButtonGroup=()=>{this.removeInputListener(V),l.forEach(h=>{h.focusHighlight.dispose(),h.radioButton.dispose(),h.radioButton!==h.layoutNode&&h.layoutNode.dispose()}),c.forEach(h=>h.dispose&&h.dispose()),n.forEach(h=>h.dispose())},assert&&((A=(q=phet==null?void 0:phet.chipper)==null?void 0:q.queryParameters)!=null&&A.binder)&&G.registerDataURL("sun","RectangularRadioButtonGroup",this)}getButtonForValue(e){const i=this.radioButtonMap.get(e);return assert&&assert(i,"No button found for value: "+e),i}dispose(){this.radioButtonMap.clear(),this.disposeRadioButtonGroup(),super.dispose()}}T.register("RectangularRadioButtonGroup",Od);class Id extends Oe{constructor(e,i,s,t){const o=w()({tandem:L.REQUIRED},t),n=new Bs(i,s,e,o);super(n,new Ts(n),o),this.disposeRoundMomentaryButton=()=>{n.dispose()}}dispose(){this.disposeRoundMomentaryButton(),super.dispose()}}T.register("RoundMomentaryButton",Id);class vd extends Oe{constructor(e){var r,d;const i=w()({soundPlayer:Je,tandem:L.REQUIRED},e),s=i.listener,t=_.omit(i,["listener"]),o=new As(t);super(o,new Vs(o),t),this.pushButtonModel=o,s&&this.addListener(s);const n=()=>{i.soundPlayer.play()};o.produceSoundEmitter.addListener(n),this.disposeRoundPushButton=()=>{o.produceSoundEmitter.removeListener(n),o.dispose()},assert&&((d=(r=phet==null?void 0:phet.chipper)==null?void 0:r.queryParameters)!=null&&d.binder)&&G.registerDataURL("sun","RoundPushButton",this)}dispose(){super.dispose(),this.disposeRoundPushButton()}addListener(e){this.pushButtonModel.addListener(e)}removeListener(e){this.pushButtonModel.removeListener(e)}}T.register("RoundPushButton",vd);class Nd extends Pt{constructor(e,i){const s=w()({font:sn.DEFAULT,textFill:"black",maxTextWidth:null,tandem:L.REQUIRED,innerContent:e},i),t=new Nt(e,I({font:s.font,fill:s.textFill,maxWidth:s.maxTextWidth},s.textNodeOptions));s.content=t,super(s),this.disposeTextPushButton=()=>{t.dispose()}}dispose(){this.disposeTextPushButton(),super.dispose()}}T.register("TextPushButton",Nd);export{Yi as A,Dd as B,Nn as C,nn as D,At as E,G as I,Yd as L,Ai as N,Ed as O,Ht as P,Od as R,ze as S,Nd as T,Td as V,te as W,Qd as a,zt as b,Pt as c,Gd as d,Hd as e,hs as f,fi as g,Bn as h,we as i,bs as j,ne as k,ie as l,Me as m,We as n,Wt as o,S as p,ns as q,ke as r,me as s,Y as t,_d as u};
