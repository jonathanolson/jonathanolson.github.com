import{S as D,am as et}from"./patternBoards-DsO5TEFU.js";import{s as P,I as X,h as Kt,E as Jt,D as zt,i as dt,j as rt,S as qt,N as Zt,A as At,n as ft,k as it,W as ot,p as M,l as It,t as xt,B as $t,m as Lt,o as mt,q as K}from"./TextPushButton-jnVfkaQ5.js";import{o as C,V as yt,f as gt,b as E,n as Ft,R as te,c as I,O as nt,D as at,I as ee}from"./UnivariatePolynomial-B7u1WGdr.js";import{P as O,N as L,s as ie,R as B,B as oe,n as se,l as Nt,o as R,c as G,C as Y,a as pt,b as J,p as wt,k as St,q as re,W as ne,T as Vt,r as ae,t as Ve,V as v,H as F,d as le,K as he,u as de}from"./PhetioControlledVisibilityProperty-DLWPAyRL.js";class st extends D{constructor(t,i,e,r,o){if(super(),e!==t||r!==i){const n=st.getArrowShapePoints(t,i,e,r,[],o);this.moveTo(n[0].x,n[0].y);const a=_.tail(n);_.each(a,h=>this.lineTo(h.x,h.y)),this.close()}}static getArrowShapePoints(t,i,e,r,o,n){const a=C()({tailWidth:5,headWidth:10,headHeight:10,fractionalHeadHeight:.5,doubleHead:!1,isHeadDynamic:!1,scaleTailToo:!1},n);if(o||(o=[]),e===t&&r===i)o.length=0;else{const h=new yt(e-t,r-i),s=h.magnitude;let A=a.headWidth,p=a.headHeight,l=a.tailWidth;if(a.isHeadDynamic){const y=a.fractionalHeadHeight*s;a.headHeight>y&&(p=y,a.scaleTailToo&&(A=a.headWidth*p/a.headHeight,l=a.tailWidth*p/a.headHeight))}else p=Math.min(a.headHeight,a.doubleHead?.35*s:.99*s);let c=0;const g=h.normalized(),S=g.rotated(Math.PI/2),q=function(y,w){const d=g.x*y+S.x*w+t,f=g.y*y+S.y*w+i;o[c]?(o[c].x=d,o[c].y=f):o.push(new yt(d,f)),c++};a.doubleHead?(q(0,0),q(p,A/2),q(p,l/2)):q(0,l/2),q(s-p,l/2),q(s-p,A/2),q(s,0),q(s-p,-A/2),q(s-p,-l/2),a.doubleHead?(q(p,-l/2),q(p,-A/2)):q(0,-l/2),c<o.length&&(o.length=c)}return o}}P.register("ArrowShape",st);class pe extends O{constructor(t,i,e,r,o){var a,h;const n=C()({headHeight:10,headWidth:10,tailWidth:5,isHeadDynamic:!1,scaleTailToo:!1,fractionalHeadHeight:.5,doubleHead:!1,fill:"black",stroke:"black",lineWidth:1},o);assert&&assert(n.headWidth>n.tailWidth),super(null),this.options=n,this.shapePoints=[],this._tailX=t,this._tailY=i,this._tipX=e,this._tipY=r,this.setTailAndTip(t,i,e,r),this.mutate(n),assert&&((h=(a=phet==null?void 0:phet.chipper)==null?void 0:a.queryParameters)!=null&&h.binder)&&X.registerDataURL("scenery-phet","ArrowNode",this)}get tailX(){return this._tailX}get tailY(){return this._tailY}get tipX(){return this._tipX}get tipY(){return this._tipY}setTailAndTip(t,i,e,r){this._tailX=t,this._tailY=i,this._tipX=e,this._tipY=r;const o=this.updateShapePoints();!this.shape||o?this.updateShape():this.shape.invalidatePoints()}updateShape(){const t=new D;if(this.shapePoints.length>1){t.moveToPoint(this.shapePoints[0]);for(let i=1;i<this.shapePoints.length;i++)t.lineToPoint(this.shapePoints[i]);t.close()}this.shape=t}setTail(t,i){this.setTailAndTip(t,i,this._tipX,this._tipY)}setTip(t,i){this.setTailAndTip(this._tailX,this._tailY,t,i)}updateShapePoints(){const t=this.shapePoints.length;return this.shapePoints=st.getArrowShapePoints(this._tailX,this._tailY,this._tipX,this._tipY,this.shapePoints,this.options),this.shapePoints.length!==t}setTailWidth(t){this.options.tailWidth=t,this.updateShapePoints(),this.updateShape()}setDoubleHead(t){this.options.doubleHead=t,this.updateShapePoints(),this.updateShape()}}P.register("ArrowNode",pe);class ce extends L{constructor(t,i){var m,j;const e=C()({size:null,cornerRadius:0,xMargin:0,yMargin:0,open:!0,handlePosition:"top",handleSize:new gt(70,20),handleCornerRadius:5,handleFill:"rgb( 230, 230, 230 )",handleTouchAreaXDilation:0,handleTouchAreaYDilation:0,handleMouseAreaXDilation:0,handleMouseAreaYDilation:0,grippyDotRadius:1,grippyDotColor:"black",grippyDotRows:2,grippyDotColumns:4,grippyDotXSpacing:9,grippyDotYSpacing:5,beforeOpen:()=>{t.visible=!0},afterClose:()=>{t.visible=!1},animationEnabled:!0,animationDuration:.5,stepEmitter:ie},i),r=t.width+2*e.xMargin,o=t.height+2*e.yMargin,n=e.size?e.size.width:r,a=e.size?e.size.height:o,h=new B(0,0,n,a,{fill:"white",cornerRadius:e.cornerRadius}),s=new B(0,0,n,a,{stroke:"black",cornerRadius:e.cornerRadius});if(e.size){const b=Math.min(1,Math.min(n/r,a/o));t.setScaleMagnitude(b)}const A=e.handlePosition==="top"?{topLeft:e.handleCornerRadius,topRight:e.handleCornerRadius}:{bottomLeft:e.handleCornerRadius,bottomRight:e.handleCornerRadius},p=D.roundedRectangleWithRadii(0,0,e.handleSize.width,e.handleSize.height,A),l=new O(p,{cursor:"pointer",fill:e.handleFill,stroke:"black"}),c=new D;let g=0,S=0;for(let b=0;b<e.grippyDotRows;b++)for(let k=0;k<e.grippyDotColumns;k++)g=k*e.grippyDotXSpacing,S=b*e.grippyDotYSpacing,c.moveTo(g,S),c.arc(g,S,e.grippyDotRadius,0,2*Math.PI);const q=new O(c,{fill:e.grippyDotColor,center:l.center});if(l.addChild(q),e.handleTouchAreaXDilation!==0||e.handleTouchAreaYDilation!==0){const b=e.handlePosition==="top"?-e.handleTouchAreaYDilation:e.handleTouchAreaYDilation;l.touchArea=l.localBounds.dilatedXY(e.handleTouchAreaXDilation,e.handleTouchAreaYDilation).shiftedY(b)}if(e.handleMouseAreaXDilation!==0||e.handleMouseAreaYDilation!==0){const b=e.handlePosition==="top"?-e.handleMouseAreaYDilation:e.handleMouseAreaYDilation;l.mouseArea=l.localBounds.dilatedXY(e.handleMouseAreaXDilation,e.handleMouseAreaYDilation).shiftedY(b)}h.x=0,l.centerX=h.centerX,e.handlePosition==="top"?(l.top=0,h.top=l.bottom-1):(h.top=0,l.top=h.bottom-1),s.center=h.center,t.center=h.center;const y=new L({children:[l,h,t,s]});e.children=[y],e.clipArea=D.bounds(y.bounds),super(e),this.contentsNode=t,this._animationEnabled=e.animationEnabled;const w=0,d=e.handlePosition==="top"?h.height:-h.height;y.y=e.open?w:d;let f=null;this.openProperty=new oe(e.open),l.addInputListener(new se({press:(b,k)=>this.openProperty.set(!this.openProperty.get())}));const u=b=>{f&&f.stop(),b&&e.beforeOpen&&e.beforeOpen(),this._animationEnabled?(f=new Kt({stepEmitter:e.stepEmitter,duration:e.animationDuration,easing:Jt.QUADRATIC_IN_OUT,setValue:k=>{y.y=k},getValue:()=>y.y,to:b?w:d}),f.start()):(y.y=b?w:d,!b&&e.afterClose&&e.afterClose())};this.openProperty.lazyLink(u),this.disposeDrawer=()=>{this.openProperty.unlink(u),this.openProperty.dispose()},assert&&((j=(m=phet==null?void 0:phet.chipper)==null?void 0:m.queryParameters)!=null&&j.binder)&&X.registerDataURL("scenery-phet","Drawer",this)}dispose(){this.disposeDrawer(),super.dispose()}reset(t){t=t===void 0?this.animationEnabled:t;const i=this.animationEnabled;this.animationEnabled=t,this.openProperty.reset(),this.animationEnabled=i}setAnimationEnabled(t){this._animationEnabled=t}set animationEnabled(t){this.setAnimationEnabled(t)}get animationEnabled(){return this.getAnimationEnabled()}getAnimationEnabled(){return this._animationEnabled}}P.register("Drawer",ce);class ue extends L{constructor(t,i){var a,h;const e=C()({headFill:Nt.YELLOW,headStroke:null,eyeFill:"black",mouthStroke:"black",headLineWidth:1},i);super();const r=new R(e.headFill);e.headStroke=e.headStroke||new G([r],s=>s.darkerColor()),this.addChild(new Y(t/2,{fill:e.headFill,stroke:e.headStroke,lineWidth:e.headLineWidth}));const o=t*.075;this.addChild(new Y(o,{fill:e.eyeFill,centerX:-t*.2,centerY:-t*.1})),this.addChild(new Y(o,{fill:e.eyeFill,centerX:t*.2,centerY:-t*.1}));const n=t*.05;this.smileMouth=new O(new D().arc(0,t*.05,t*.25,Math.PI*.2,Math.PI*.8),{stroke:e.mouthStroke,lineWidth:n,lineCap:"round"}),this.addChild(this.smileMouth),this.frownMouth=new O(new D().arc(0,t*.4,t*.2,-Math.PI*.75,-Math.PI*.25),{stroke:e.mouthStroke,lineWidth:n,lineCap:"round"}),this.addChild(this.frownMouth),this.smile(),this.mutate(e),assert&&((h=(a=phet==null?void 0:phet.chipper)==null?void 0:a.queryParameters)!=null&&h.binder)&&X.registerDataURL("scenery-phet","FaceNode",this)}smile(){return this.smileMouth.visible=!0,this.frownMouth.visible=!1,this}frown(){return this.smileMouth.visible=!1,this.frownMouth.visible=!0,this}}P.register("FaceNode",ue);const ge=["roundMargins","border","extension","margin","xMargin","yMargin","leftMargin","rightMargin","topMargin","bottomMargin"];class _t extends B{constructor(t){super({}),this._leftMargin=0,this._rightMargin=0,this._topMargin=0,this._bottomMargin=0,this._extension=0,this._roundMargins=!0,this._fillProperty=new R(this.fill),this._borderOverrideProperty=new R(null),this._borderProperty=new G([this._fillProperty,this._borderOverrideProperty],(i,e)=>this._borderOverrideProperty.paint===null?i.withAlpha(0):e),this.roundedShape=new D().moveTo(0,0).arc(0,0,1,0,Math.PI/2,!1).close().makeImmutable(),this.rectangularShape=D.rectangle(0,0,1,1).makeImmutable(),this.leftSide=new B(0,0,1,1),this.rightSide=new B(0,0,1,1),this.topSide=new B(0,0,1,1),this.bottomSide=new B(0,0,1,1),this.topLeftCorner=new O(null),this.topRightCorner=new O(null),this.bottomLeftCorner=new O(null),this.bottomRightCorner=new O(null),this.invalidateGradients(),this.invalidateRoundMargins(),this.invalidateMargin(),this.mutate(t)}invalidateRoundMargins(){this._roundMargins?(this.topLeftCorner.shape=this.roundedShape,this.topRightCorner.shape=this.roundedShape,this.bottomLeftCorner.shape=this.roundedShape,this.bottomRightCorner.shape=this.roundedShape):(this.topLeftCorner.shape=this.rectangularShape,this.topRightCorner.shape=this.rectangularShape,this.bottomLeftCorner.shape=this.rectangularShape,this.bottomRightCorner.shape=this.rectangularShape)}invalidateGradients(){const t=new pt(0,0,1,0).addColorStop(this._extension,this._fillProperty).addColorStop(1,this._borderProperty),i=new J(0,0,0,0,0,1).addColorStop(this._extension,this._fillProperty).addColorStop(1,this._borderProperty);this.leftSide.fill=t,this.rightSide.fill=t,this.topSide.fill=t,this.bottomSide.fill=t,this.topLeftCorner.fill=i,this.topRightCorner.fill=i,this.bottomLeftCorner.fill=i,this.bottomRightCorner.fill=i}invalidateRectangle(){super.invalidateRectangle(),this.invalidateMargin()}invalidateMargin(){this.children=[...this._leftMargin>0&&this.rectHeight>0?[this.leftSide]:[],...this._rightMargin>0&&this.rectHeight>0?[this.rightSide]:[],...this._topMargin>0&&this.rectWidth>0?[this.topSide]:[],...this._bottomMargin>0&&this.rectWidth>0?[this.bottomSide]:[],...this._topMargin>0&&this._leftMargin>0?[this.topLeftCorner]:[],...this._topMargin>0&&this._rightMargin>0?[this.topRightCorner]:[],...this._bottomMargin>0&&this._leftMargin>0?[this.bottomLeftCorner]:[],...this._bottomMargin>0&&this._rightMargin>0?[this.bottomRightCorner]:[]];const t=this.rectWidth,i=this.rectHeight,e=this.rectX,r=this.rectY,o=this.rectX+t,n=this._rectY+i;this.leftSide.hasParent()&&(this.leftSide.matrix=new E().rowMajor(-this._leftMargin,0,e,0,i,r,0,0,1)),this.rightSide.hasParent()&&(this.rightSide.matrix=new E().rowMajor(this._rightMargin,0,o,0,i,r,0,0,1)),this.topSide.hasParent()&&(this.topSide.matrix=new E().rowMajor(0,t,e,-this._topMargin,0,r,0,0,1)),this.bottomSide.hasParent()&&(this.bottomSide.matrix=new E().rowMajor(0,t,e,this._bottomMargin,0,n,0,0,1)),this.topLeftCorner.hasParent()&&(this.topLeftCorner.matrix=new E().rowMajor(-this._leftMargin,0,e,0,-this._topMargin,r,0,0,1)),this.topRightCorner.hasParent()&&(this.topRightCorner.matrix=new E().rowMajor(this._rightMargin,0,o,0,-this._topMargin,r,0,0,1)),this.bottomLeftCorner.hasParent()&&(this.bottomLeftCorner.matrix=new E().rowMajor(-this._leftMargin,0,e,0,this._bottomMargin,n,0,0,1)),this.bottomRightCorner.hasParent()&&(this.bottomRightCorner.matrix=new E().rowMajor(this._rightMargin,0,o,0,this._bottomMargin,n,0,0,1))}dispose(){this._fillProperty.dispose(),this._borderOverrideProperty.dispose(),super.dispose()}setFill(t){return assert&&assert(wt.isColorDef(t),"GradientRectangle only supports ColorDef as a fill"),super.setFill(t),this._fillProperty.paint=t,this}setStroke(t){return assert&&assert(t===null,"GradientRectangle only supports a null stroke"),super.setStroke(t),this}set leftMargin(t){assert&&assert(isFinite(t)&&t>=0,"leftMargin should be a finite non-negative number"),this._leftMargin!==t&&(this._leftMargin=t,this.invalidateMargin())}get leftMargin(){return this._leftMargin}set rightMargin(t){assert&&assert(isFinite(t)&&t>=0,"rightMargin should be a finite non-negative number"),this._rightMargin!==t&&(this._rightMargin=t,this.invalidateMargin())}get rightMargin(){return this._rightMargin}set topMargin(t){assert&&assert(isFinite(t)&&t>=0,"topMargin should be a finite non-negative number"),this._topMargin!==t&&(this._topMargin=t,this.invalidateMargin())}get topMargin(){return this._topMargin}set bottomMargin(t){assert&&assert(isFinite(t)&&t>=0,"bottomMargin should be a finite non-negative number"),this._bottomMargin!==t&&(this._bottomMargin=t,this.invalidateMargin())}get bottomMargin(){return this._bottomMargin}set xMargin(t){assert&&assert(isFinite(t)&&t>=0,"xMargin should be a finite non-negative number"),(this._leftMargin!==t||this._rightMargin!==t)&&(this._leftMargin=t,this._rightMargin=t,this.invalidateMargin())}get xMargin(){return assert&&assert(this._leftMargin===this._rightMargin,"leftMargin and rightMargin differ, so getting xMargin is not well-defined"),this._leftMargin}set yMargin(t){assert&&assert(isFinite(t)&&t>=0,"yMargin should be a finite non-negative number"),(this._topMargin!==t||this._bottomMargin!==t)&&(this._topMargin=t,this._bottomMargin=t,this.invalidateMargin())}get yMargin(){return assert&&assert(this._topMargin===this._bottomMargin,"leftMargin and rightMargin differ, so getting yMargin is not well-defined"),this._topMargin}set margin(t){assert&&assert(isFinite(t)&&t>=0,"margin should be a finite non-negative number"),(this._leftMargin!==t||this._rightMargin!==t||this._topMargin!==t||this._bottomMargin!==t)&&(this._leftMargin=t,this._rightMargin=t,this._topMargin=t,this._bottomMargin=t,this.invalidateMargin())}get margin(){return assert&&assert(this._leftMargin===this._rightMargin&&this._rightMargin===this._topMargin&&this._topMargin===this._bottomMargin,"Some margins differ, so getting margin is not well-defined"),this._leftMargin}set roundMargins(t){this._roundMargins!==t&&(this._roundMargins=t,this.invalidateRoundMargins())}get roundMargins(){return this._roundMargins}set border(t){assert&&assert(wt.isColorDef(t)),this._borderOverrideProperty.paint!==t&&(this._borderOverrideProperty.paint=t)}get border(){return this._borderOverrideProperty.paint}set extension(t){assert&&assert(isFinite(t)&&t>=0&&t<1),this._extension!==t&&(this._extension=t,this.invalidateGradients())}get extension(){return this._extension}mutate(t){return super.mutate(t)}}_t.prototype._mutatorKeys=[...ge,...B.prototype._mutatorKeys];P.register("GradientRectangle",_t);class qe extends O{constructor(t,i,e,r,o){const n=C()({stroke:"gray"},o);super(null,n),t.link(a=>{const h=new D,s=-r*i+e.x,A=r*i+e.x,p=-r*i+e.y,l=r*i+e.y;for(let c=-r;c<=r;c++){const g=c*i+e.x,S=c*i+e.y;h.moveTo(s,S).lineTo(A,S),h.moveTo(g,p).lineTo(g,l)}this.shape=a.modelToViewShape(h)})}}P.register("GridNode",qe);const lt="italic",N=class N extends St{constructor(t){(typeof t=="number"||typeof t=="string")&&(t={size:t});const i=C()({family:N.FAMILY,style:lt},t);super(i)}static getRichTextMarkup(t,i=lt){return assert&&assert(St.isFontStyle(i),`invalid style: ${i}`),re.fillIn("<span style='font-family: {{family}};font-style: {{style}}'>{{text}}</span>",{family:N.FAMILY,style:i,text:t})}static createDerivedProperty(t,i){const e=i||{};return new zt([t],r=>N.getRichTextMarkup(r,e.style||lt),{tandem:e.tandem||Ft.OPT_OUT})}};N.FAMILY='"Times New Roman", Times, serif';let ct=N;P.register("MathSymbolFont",ct);const Ae=["startDrag","endDrag","leftStart","leftEnd","rightStart","rightEnd"],ht=new dt(new te(0,1)),bt=new gt(180,3),Ct=new gt(17,34),T=class T extends ne(L){constructor(t,i,e,r){var y,w;fe(r||{});const o=C()({numberDisplayOptions:{},sliderOptions:{},arrowButtonOptions:{},titleNodeOptions:{},startCallback:_.noop,endCallback:_.noop,delta:1,disabledOpacity:.5,layoutFunction:T.createLayoutFunction1(),includeArrowButtons:!0,soundGenerator:ht,valueChangeSoundGeneratorOptions:{},tandem:Ft.REQUIRED,tandemNameSuffix:"Control",phetioType:T.NumberControlIO,phetioEnabledPropertyInstrumented:!0,visiblePropertyOptions:{phetioFeatured:!0}},r);assert&&assert(o.groupFocusHighlight===void 0,"NumberControl sets groupFocusHighlight"),super();const n=o.arrowButtonOptions&&o.arrowButtonOptions.hasOwnProperty("scale"),a=()=>s.enabledRangeProperty?s.enabledRangeProperty.value:e,h=d=>{assert&&assert(s.delta!==void 0);const f=at.roundToInterval(d,s.delta);return a().constrainValue(f)};if(assert&&assert(o.soundGenerator===ht||_.isEmpty(o.valueChangeSoundGeneratorOptions),"options should only be supplied when using default sound generator"),o.soundGenerator===ht){let d=o.valueChangeSoundGeneratorOptions;_.isEmpty(o.valueChangeSoundGeneratorOptions)&&(d={interThresholdDelta:o.delta,constrainValue:h}),o.soundGenerator=new dt(e,d)}else o.soundGenerator===null&&(o.soundGenerator=dt.NO_SOUND);const s=I({arrowButtonOptions:{touchAreaXDilation:3.5,touchAreaYDilation:7,mouseAreaXDilation:0,mouseAreaYDilation:0,enabledEpsilon:0,leftStart:o.startCallback,leftEnd:o.endCallback,rightStart:o.startCallback,rightEnd:o.endCallback,enabledPropertyOptions:{phetioReadOnly:!0,phetioFeatured:!1}},sliderOptions:{orientation:nt.HORIZONTAL,startDrag:o.startCallback,endDrag:o.endCallback,majorTickLength:20,minorTickStroke:"rgba( 0, 0, 0, 0.3 )",majorTicks:[],minorTickSpacing:0,constrainValue:h,soundGenerator:o.soundGenerator,tandem:o.tandem.createTandem(T.SLIDER_TANDEM_NAME)},numberDisplayOptions:{textOptions:{font:new rt(12),stringPropertyOptions:{phetioFeatured:!0}},tandem:o.tandem.createTandem("numberDisplay"),visiblePropertyOptions:{phetioFeatured:!0}},titleNodeOptions:{font:new rt(12),maxWidth:null,fill:"black",tandem:o.tandem.createTandem("titleText")}},o);assert&&assert(!s.startDrag,"use options.startCallback instead of options.startDrag"),assert&&assert(!s.endDrag,"use options.endCallback instead of options.endDrag"),assert&&assert(!s.tagName,"Provide accessibility through options.sliderOptions which will be applied to the NumberControl Node."),s.enabledRangeProperty&&(s.sliderOptions.enabledRangeProperty=s.enabledRangeProperty),assert&&assert(s.arrowButtonOptions.tagName===void 0,"NumberControl's accessible content is just the slider, do not set accessible content on the buttons. Instead set a11y through options.sliderOptions."),s.arrowButtonOptions.tagName=null,this.groupFocusHighlight=s.includeArrowButtons,s.sliderOptions.trackNode||(s.sliderOptions=I({trackSize:s.sliderOptions.orientation===nt.HORIZONTAL?bt:bt.swapped()},s.sliderOptions)),s.sliderOptions.thumbNode||(s.sliderOptions=I({thumbSize:s.sliderOptions.orientation===nt.HORIZONTAL?Ct:Ct.swapped(),thumbTouchAreaXDilation:6},s.sliderOptions)),assert&&assert(!s.sliderOptions.hasOwnProperty("phetioType"),"NumberControl sets phetioType"),s.sliderOptions=I({shiftKeyboardStep:s.delta,phetioType:qt.SliderIO},s.sliderOptions),s.sliderOptions.thumbFill&&!s.sliderOptions.thumbFillHighlighted&&(this.thumbFillProperty=new R(s.sliderOptions.thumbFill),s.sliderOptions.thumbFillHighlighted=new G([this.thumbFillProperty],d=>d.brighterColor()));const A=new Vt(t,s.titleNodeOptions),p=new Zt(i,e,s.numberDisplayOptions);this.slider=new qt(i,e,s.sliderOptions);let l=null,c=null,g=null;if(s.includeArrowButtons){const d=s.arrowButtonOptions.touchAreaXDilation,f=s.arrowButtonOptions.mouseAreaXDilation;if(assert&&assert(d!==void 0&&f!==void 0,"Should be defined, since we have defaults above"),l=new At("left",()=>{const u=i.get();let m=i.get()-s.delta;m=at.roundToInterval(m,s.delta),m=Math.max(m,a().min),i.set(m),s.soundGenerator.playSoundForValueChange(m,u),this.slider.voicingOnEndResponse(u)},I({soundPlayer:ft,startCallback:s.arrowButtonOptions.leftStart,endCallback:s.arrowButtonOptions.leftEnd,tandem:s.tandem.createTandem("decrementButton"),touchAreaXShift:-d,mouseAreaXShift:-f},s.arrowButtonOptions)),c=new At("right",()=>{const u=i.get();let m=i.get()+s.delta;m=at.roundToInterval(m,s.delta),m=Math.min(m,a().max),i.set(m),s.soundGenerator.playSoundForValueChange(m,u),this.slider.voicingOnEndResponse(u)},I({soundPlayer:ft,startCallback:s.arrowButtonOptions.rightStart,endCallback:s.arrowButtonOptions.rightEnd,tandem:s.tandem.createTandem("incrementButton"),touchAreaXShift:d,mouseAreaXShift:f},s.arrowButtonOptions)),!n){l.setScaleMagnitude(1);const m=p.localBounds.height/l.height;l.setScaleMagnitude(m),c.setScaleMagnitude(m)}g=()=>{const u=i.value;assert&&assert(s.arrowButtonOptions.enabledEpsilon!==void 0),l.enabled=u-s.arrowButtonOptions.enabledEpsilon>a().min&&!this.slider.isFocused(),c.enabled=u+s.arrowButtonOptions.enabledEpsilon<a().max&&!this.slider.isFocused()},i.lazyLink(g),s.enabledRangeProperty&&s.enabledRangeProperty.lazyLink(g),g(),this.slider.addInputListener({focus:()=>{l.enabled=!1,c.enabled=!1},blur:()=>g()})}const S=s.sliderOptions.majorTicks;assert&&assert(S);for(let d=0;d<S.length;d++)this.slider.addMajorTick(S[d].value,S[d].label);if(assert&&assert(s.sliderOptions.minorTickSpacing!==void 0),s.sliderOptions.minorTickSpacing>0)for(let d=e.min;d<=e.max;)_.find(S,f=>f.value===d)||this.slider.addMinorTick(d),d+=s.sliderOptions.minorTickSpacing;const q=s.layoutFunction(A,p,this.slider,l,c);if(this.widthSizable=ae(q),Ve(q)){const d=u=>{this.localMinimumWidth=u};q.minimumWidthProperty.link(d);const f=u=>{q.preferredWidth=u};this.localPreferredWidthProperty.link(f),this.disposeEmitter.addListener(()=>{q.minimumWidthProperty.unlink(d),this.localPreferredWidthProperty.unlink(f)})}s.children=[q],this.mutate(s),this.numberDisplay=p,this.disposeNumberControl=()=>{A.dispose(),p.dispose(),this.slider.dispose(),this.thumbFillProperty&&this.thumbFillProperty.dispose(),l&&l.dispose(),c&&c.dispose(),g&&i.unlink(g),g&&s.enabledRangeProperty&&s.enabledRangeProperty.unlink(g)},assert&&((w=(y=phet==null?void 0:phet.chipper)==null?void 0:y.queryParameters)!=null&&w.binder)&&X.registerDataURL("scenery-phet","NumberControl",this)}dispose(){this.disposeNumberControl(),super.dispose()}static withMinMaxTicks(t,i,e,r){const o=C()({tickLabelFont:new rt(12)},r);return o.sliderOptions=I({majorTicks:[{value:e.min,label:new Vt(e.min,{font:o.tickLabelFont})},{value:e.max,label:new Vt(e.max,{font:o.tickLabelFont})}]},o.sliderOptions),new T(t,i,e,o)}static createLayoutFunction1(t){const i=C()({align:"center",titleXSpacing:5,arrowButtonsXSpacing:15,ySpacing:5},t);return(e,r,o,n,a)=>(assert&&assert(n,"There is no decrementButton!"),assert&&assert(a,"There is no incrementButton!"),o.mutateLayoutOptions({grow:1}),new v({align:i.align,spacing:i.ySpacing,children:[new F({spacing:i.titleXSpacing,children:[e,r]}),new F({layoutOptions:{stretch:!0},spacing:i.arrowButtonsXSpacing,children:[n,o,a]})]}))}static createLayoutFunction2(t){const i=C()({align:"center",xSpacing:5,ySpacing:5},t);return(e,r,o,n,a)=>(assert&&assert(n),assert&&assert(a),o.mutateLayoutOptions({stretch:!0}),new v({align:i.align,spacing:i.ySpacing,children:[new F({spacing:i.xSpacing,children:[e,n,r,a]}),o]}))}static createLayoutFunction3(t){const i=C()({alignTitle:"center",alignNumber:"center",titleLeftIndent:0,xSpacing:5,ySpacing:5},t);return(e,r,o,n,a)=>{assert&&assert(n),assert&&assert(a),o.mutateLayoutOptions({stretch:!0});const h=new v({spacing:i.ySpacing,align:i.alignTitle,children:[new le(e,{leftMargin:i.titleLeftIndent}),new v({layoutOptions:{stretch:!0},spacing:i.ySpacing,align:i.alignNumber,children:[new F({spacing:i.xSpacing,children:[n,r,a]}),o]})]});return e.boundsProperty.lazyLink(()=>{h.updateLayout()}),h}}static createLayoutFunction4(t){const i=C()({sliderPadding:0,verticalSpacing:5,arrowButtonSpacing:5,hasReadoutProperty:null,layoutInvisibleButtons:!1,createBottomContent:null},t);return(e,r,o,n,a)=>{o.mutateLayoutOptions({grow:1});const h=!!n,s=new F({spacing:i.arrowButtonSpacing,children:h?[n,o,a]:[o],excludeInvisibleChildrenFromBounds:!i.layoutInvisibleButtons}),A=i.createBottomContent?i.createBottomContent(s):s;return A.mutateLayoutOptions({stretch:!0,xMargin:i.sliderPadding}),new v({spacing:i.verticalSpacing,children:[new F({spacing:i.sliderPadding,children:[e,new L({children:[r],visibleProperty:i.hasReadoutProperty||null,excludeInvisibleChildrenFromBounds:!0})],layoutOptions:{stretch:!0}}),A]})}}};T.NumberControlIO=new ee("NumberControlIO",{valueType:T,documentation:"A number control with a title, slider and +/- buttons",supertype:L.NodeIO}),T.SLIDER_TANDEM_NAME="slider";let ut=T;function fe(V){const t=!!(V.startCallback||V.endCallback);let i=!1,e=!1;V.arrowButtonOptions&&(i=Mt(V.arrowButtonOptions)),V.sliderOptions&&(e=Mt(V.sliderOptions));const r=i||e;assert&&assert(!(t&&r),'Use general callbacks like "startCallback" or specific callbacks like "sliderOptions.startDrag" but not both.')}function Mt(V){const t=Object.keys(V);return Ae.filter(e=>_.includes(t,e)).length>0}P.register("NumberControl",ut);const x={DEFAULT_BUTTON_RADIUS:20.8,PLAY_CONTROL_BUTTON_RADIUS:28,DEFAULT_DRAG_CLIP_OPTIONS:{initialOutputLevel:.4},DEFAULT_GRAB_SOUND_GENERATOR_ADD_OPTIONS:{categoryName:"user-interface"}};P.register("SceneryPhetConstants",x);class Gt extends D{constructor(t){super(),this.rect(0,0,t,t)}}P.register("StopIconShape",Gt);const Yt="data:audio/mpeg;base64,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",me=it(M,Yt),ye=et.createLock(Yt),U=new ot;let Pt=!1;const z=()=>{Pt||(ye(),Pt=!0)},we=V=>{U.audioBufferProperty.value===null&&(U.audioBufferProperty.set(V),z())},Se=V=>{console.warn("decode of audio data failed, using stubbed sound, error: "+V),U.audioBufferProperty.set(M.createBuffer(1,1,M.sampleRate)),z()},Ot=M.decodeAudioData(me.buffer,we,Se);Ot&&Ot.then(V=>{U.audioBufferProperty.value===null&&(U.audioBufferProperty.set(V),z())}).catch(V=>{console.warn("promise rejection caught for audio decode, error = "+V),z()});const Ut=new It(U,{soundClipOptions:{initialOutputLevel:.7},soundManagerOptions:{categoryName:"user-interface"}});xt.register("pauseSoundPlayer",Ut);const Ht="data:audio/mpeg;base64,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",be=it(M,Ht),Ce=et.createLock(Ht),H=new ot;let Dt=!1;const Z=()=>{Dt||(Ce(),Dt=!0)},Me=V=>{H.audioBufferProperty.value===null&&(H.audioBufferProperty.set(V),Z())},Pe=V=>{console.warn("decode of audio data failed, using stubbed sound, error: "+V),H.audioBufferProperty.set(M.createBuffer(1,1,M.sampleRate)),Z()},kt=M.decodeAudioData(be.buffer,Me,Pe);kt&&kt.then(V=>{H.audioBufferProperty.value===null&&(H.audioBufferProperty.set(V),Z())}).catch(V=>{console.warn("promise rejection caught for audio decode, error = "+V),Z()});const Wt=new It(H,{soundClipOptions:{initialOutputLevel:.7},soundManagerOptions:{categoryName:"user-interface"}});xt.register("playSoundPlayer",Wt);class Qt extends D{constructor(t,i){super(),this.moveTo(0,0),this.lineTo(t,i/2),this.lineTo(0,i),this.close()}}P.register("PlayIconShape",Qt);class vt extends $t{constructor(t,i,e){const r=C()({radius:x.PLAY_CONTROL_BUTTON_RADIUS,scaleFactorWhenNotPlaying:1,includeGlobalHotkey:!1,startPlayingLabel:Lt.a11y.playControlButton.playStringProperty,endPlayingLabel:null,valueOffSoundPlayer:Ut,valueOnSoundPlayer:Wt,xMargin:0,yMargin:0},e);assert&&assert(r.scaleFactorWhenNotPlaying>0,"button scale factor must be greater than 0");const o=r.radius*.8,n=r.radius,a=new O(new Qt(o,n),{fill:"black",centerX:r.radius*.05,centerY:0}),h=new Y(r.radius,{children:[a]});i.centerX=0,i.centerY=0;const s=new Y(r.radius,{children:[i]});super(t,s,h,r);const A=(l,c)=>{this.innerContent=l?r.endPlayingLabel:r.startPlayingLabel;const g=c===null?1:1/r.scaleFactorWhenNotPlaying;this.scale(l?g:r.scaleFactorWhenNotPlaying)};t.link(A);let p=null;r.includeGlobalHotkey&&phet.chipper.queryParameters.supportsInteractiveDescription&&(p=he.createGlobal(this,{keys:["alt+k"],fireOnDown:!1,fire:()=>{t.set(!t.get());const l=t.get()?r.valueOnSoundPlayer:r.valueOffSoundPlayer;l&&l.play()}})),this.disposePlayStopButton=()=>{t.hasListener(A)&&t.unlink(A),p&&p.dispose()}}dispose(){this.disposePlayStopButton(),super.dispose()}}P.register("PlayControlButton",vt);class Oe extends vt{constructor(t,i){var n,a;const e=C()({radius:x.PLAY_CONTROL_BUTTON_RADIUS,endPlayingLabel:Lt.a11y.playControlButton.stopStringProperty},i),r=e.radius*.75,o=new O(new Gt(r),{fill:"black"});super(t,o,e),assert&&((a=(n=phet==null?void 0:phet.chipper)==null?void 0:n.queryParameters)!=null&&a.binder)&&X.registerDataURL("scenery-phet","PlayStopButton",this)}}P.register("PlayStopButton",Oe);class De extends L{constructor(t,i){super();const e=C()({baseColor:new Nt(80,130,230),lightFactor:.5,lighterFactor:.1,darkFactor:.5,darkerFactor:.1,cornerRadius:10,lightSource:"leftTop",lightOffset:.525,darkOffset:.375},i);assert&&assert(e.lightOffset<1,"options.lightOffset needs to be less than 1"),assert&&assert(e.darkOffset<1,"options.darkOffset needs to be less than 1");const r=e.lightSource.includes("left"),o=e.lightSource.includes("Top"),n=e.cornerRadius;this.lighterPaintProperty=new R(e.baseColor,{luminanceFactor:e.lightFactor+e.lighterFactor}),this.lightPaintProperty=new R(e.baseColor,{luminanceFactor:e.lightFactor}),this.darkPaintProperty=new R(e.baseColor,{luminanceFactor:-e.darkFactor}),this.darkerPaintProperty=new R(e.baseColor,{luminanceFactor:-e.darkFactor-e.darkerFactor});const a=o?this.lighterPaintProperty:this.darkerPaintProperty,h=r?this.lightPaintProperty:this.darkPaintProperty,s=r?this.darkPaintProperty:this.lightPaintProperty,A=o?this.darkerPaintProperty:this.lighterPaintProperty,p=e.lightOffset*n,l=e.darkOffset*n,c=o?p:l,g=r?p:l,S=r?l:p,q=o?l:p,y=B.roundedBounds(t,n,n,{pickable:!1}),w=B.roundedBounds(t,n,n,{pickable:!1});y.fill=new pt(y.left,0,y.right,0).addColorStop(0,h).addColorStop(g/w.width,e.baseColor).addColorStop(1-S/w.width,e.baseColor).addColorStop(1,s),w.fill=new pt(0,w.top,0,w.bottom).addColorStop(0,a).addColorStop(c/w.height,new G([a],k=>k.withAlpha(0))).addColorStop(1-q/w.height,new G([A],k=>k.withAlpha(0))).addColorStop(1,A);const d=new D().moveTo(0,0).arc(0,0,n,-Math.PI/2,0,!1).close(),f={leftTop:-Math.PI/2,rightTop:0,rightBottom:Math.PI/2,leftBottom:Math.PI}[e.lightSource],u=t.eroded(n),m=new O(d,{x:r?u.minX:u.maxX,y:o?u.minY:u.maxY,rotation:f,fill:new J(0,0,0,0,0,n).addColorStop(0,e.baseColor).addColorStop(1-p/n,e.baseColor).addColorStop(1,this.lighterPaintProperty),pickable:!1}),j=new O(d,{x:r?u.maxX:u.minX,y:o?u.maxY:u.minY,rotation:f+Math.PI,fill:new J(0,0,0,0,0,n).addColorStop(0,e.baseColor).addColorStop(1-l/n,e.baseColor).addColorStop(1,this.darkerPaintProperty),pickable:!1}),b=B.roundedBounds(t,n,n,{stroke:new G([s],k=>k.withAlpha(.4))});this.addChild(y),this.addChild(w),this.addChild(m),this.addChild(j),this.addChild(b),this.mutate(e)}dispose(){this.lighterPaintProperty.dispose(),this.lightPaintProperty.dispose(),this.darkPaintProperty.dispose(),this.darkerPaintProperty.dispose(),super.dispose()}}P.register("ShadedRectangle",De);const Xt="data:audio/mpeg;base64,//swxAAABognHnWRADEriei3OrACCEgYAPOkFXghY6uD++Piw3kA4B4y7hchMBxIxLKSksCwfB8Hw+7wfB8H3/E4P+GP/++D58AABoNsRiAAegAAAcAAwfGEzHKEwATU0FYIw6Dg+OLEOCqwYUAazcxYAwgAWZl5g4CTyjQM3o0EQLO/PjeedH/0g7/quk7v////9CoAAgKS3agA//syxAOACFhpYb2WADkFBWUpz2ROAUr4AUY00DNWPwkiueFpjWamdXncJm4WSUvPYHtdLyIybUkqNbEdOAeIJqJS89odMGRdRGULsKEKKu9sAAFgQA2oDCIoIgGYfBxqSpmFgSkaq7FxnJizGCsESGsoBS/52SlqFCkhXIYlBMPwLKiSRYVd1f///7f/lUfvy2gAAL45ZHAEVS5wEP/7MsQFgkd0HRVM9wJwooOhqMw8TrAOxggWZrdB4KswIKoWwjoMDKpkDpawRH8EDMvQbb5c2fQ5IXBwEGakBD9/3/5ub1lQm4/cLYHDTARtPRS+xTotNKqDqFAVBUFeVBUFU4lBYO8sDQNB3iIGqkxBTUUzLjk5LjWqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/+zLEFwPAAAGkAAAAIAAANIAAAASqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//swxFsDwAABpAAAACAAADSAAAAEqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//syxJ6DwAABpAAAACAAADSAAAAEqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==",ke=it(M,Xt),Be=et.createLock(Xt),W=new ot;let Bt=!1;const $=()=>{Bt||(Be(),Bt=!0)},Te=V=>{W.audioBufferProperty.value===null&&(W.audioBufferProperty.set(V),$())},Ee=V=>{console.warn("decode of audio data failed, using stubbed sound, error: "+V),W.audioBufferProperty.set(M.createBuffer(1,1,M.sampleRate)),$()},Tt=M.decodeAudioData(ke.buffer,Te,Ee);Tt&&Tt.then(V=>{W.audioBufferProperty.value===null&&(W.audioBufferProperty.set(V),$())}).catch(V=>{console.warn("promise rejection caught for audio decode, error = "+V),$()});const jt="data:audio/mpeg;base64,//swxAAABpAhE1WQgDEChGf3OiJCAAAJRgWMA3lCIUyXzv3PfM52Qw9nimjE2HsTh+X09sHwQBB10u/y4e//+gEAQ5cP/u//4nAABASEQsFsvw9GFpIAMRiGNLEgMlRmNb+1MIjHNu4KFilyMxQYzAAc3e/P+566F6J7olttvvTZ9lv1/6++U+z1qgAJHLdLYAABaRtXAaLgn8Bq//syxAiAiaBvUb22ADjOA6MNz+wKcSQr2BxEgs/qJ0XkEPODBEPhEBEOh7HwdhJLwTjcKQmIaxUepm3yySi6sRnp0hr1J8lYfUroW0RJYrMlFAAMN5mqFGCchxplBCFCZuwLfmAFg8RsPKaZAGhqJlpCZMCBA+iTjFW///////Xb//1B2gACzEgggAM2IOQFMKEH4x1EgzS0KJMJgP/7MsQMAkZUGwtNe0BwqQNgNawkjoI6rU0xQyo8AgUADX4Q45so+ubX4c/Qr//w0AVA5axJGw1awwFk8Bk0bAWushk77jjeDg6Vcjgr38sDQNfUJZ3KgqCoK0xBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+zLEIYPAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//swxGWDwAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy45OS41VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//syxKkDwAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy45OS41VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7MsS7g8AAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+zLEu4PAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//swxLwDwAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",Re=it(M,jt),Ie=et.createLock(jt),Q=new ot;let Et=!1;const tt=()=>{Et||(Ie(),Et=!0)},xe=V=>{Q.audioBufferProperty.value===null&&(Q.audioBufferProperty.set(V),tt())},Le=V=>{console.warn("decode of audio data failed, using stubbed sound, error: "+V),Q.audioBufferProperty.set(M.createBuffer(1,1,M.sampleRate)),tt()},Rt=M.decodeAudioData(Re.buffer,xe,Le);Rt&&Rt.then(V=>{Q.audioBufferProperty.value===null&&(Q.audioBufferProperty.set(V),tt())}).catch(V=>{console.warn("promise rejection caught for audio decode, error = "+V),tt()});class Fe extends de{constructor(t){const i=C()({grabSound:W,releaseSound:Q,grabSoundClipOptions:x.DEFAULT_DRAG_CLIP_OPTIONS,releaseSoundClipOptions:x.DEFAULT_DRAG_CLIP_OPTIONS,grabSoundGeneratorAddOptions:x.DEFAULT_GRAB_SOUND_GENERATOR_ADD_OPTIONS,releaseSoundGeneratorAddOptions:x.DEFAULT_GRAB_SOUND_GENERATOR_ADD_OPTIONS},t);let e;if(i.grabSound){e=new mt(i.grabSound,i.grabSoundClipOptions),K.addSoundGenerator(e,i.grabSoundGeneratorAddOptions);const o=i.start;i.start=(...n)=>{o&&o(...n),e.play()}}let r;if(i.releaseSound){r=new mt(i.releaseSound,i.releaseSoundClipOptions),K.addSoundGenerator(r,i.releaseSoundGeneratorAddOptions);const o=i.end;i.end=(...n)=>{o&&o(...n),!this.interrupted&&r.play()}}super(i),this.disposeEmitter.addListener(()=>{e&&(e.dispose(),K.removeSoundGenerator(e)),r&&(r.dispose(),K.removeSoundGenerator(r))})}}P.register("RichKeyboardDragListener",Fe);class Ne extends Y{constructor(t,i){const e=C()({mainColor:"gray",highlightColor:"white",shadowColor:"black",highlightDiameterRatio:.5,highlightXOffset:-.4,highlightYOffset:-.4},i);assert&&assert(e.highlightDiameterRatio<1,`highlightDiameterRatio must be < diameter: ${e.highlightDiameterRatio}`),assert&&assert(e.highlightXOffset>=-1&&e.highlightXOffset<=1,`highlightXOffset out of range: ${e.highlightXOffset}`),assert&&assert(e.highlightYOffset>=-1&&e.highlightYOffset<=1,`highlightYOffset out of range: ${e.highlightYOffset}`),super(t/2,e),this.updateShadedSphereFill=()=>{const r=this.radius,o=r*e.highlightXOffset,n=r*e.highlightYOffset;this.fill=new J(o,n,0,o,n,r*2).addColorStop(0,e.highlightColor).addColorStop(e.highlightDiameterRatio,e.mainColor).addColorStop(1,e.shadowColor)},this.updateShadedSphereFill()}invalidatePath(){super.invalidatePath(),this.updateShadedSphereFill&&this.updateShadedSphereFill()}}P.register("ShadedSphereNode",Ne);export{pe as A,ut as N};
