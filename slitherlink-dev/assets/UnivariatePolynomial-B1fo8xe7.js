var Qg=Object.defineProperty;var t1=(o,t,e)=>t in o?Qg(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var Oi=(o,t,e)=>(t1(o,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const h of a.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function e(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(n){if(n.ep)return;n.ep=!0;const a=e(n);fetch(n.href,a)}})();var rr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof self<"u"?self:{};function iA(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function rA(o){if(o.__esModule)return o;var t=o.default;if(typeof t=="function"){var e=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(o).forEach(function(i){var n=Object.getOwnPropertyDescriptor(o,i);Object.defineProperty(e,i,n.get?n:{enumerable:!0,get:function(){return o[i]}})}),e}var Zn={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Zn.exports;(function(o,t){(function(){var e,i="4.17.4",n=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",h="Expected a function",c="__lodash_hash_undefined__",f=500,g="__lodash_placeholder__",y=1,w=2,I=4,O=1,N=2,F=1,b=2,v=4,E=8,B=16,Y=32,q=64,K=128,nt=256,tt=512,m=30,p="...",Q=800,jt=16,x=1,us=2,Je=3,U=1/0,ht=9007199254740991,Rt=17976931348623157e292,At=NaN,st=4294967295,mt=st-1,Gt=st>>>1,Lt=[["ary",K],["bind",F],["bindKey",b],["curry",E],["curryRight",B],["flip",tt],["partial",Y],["partialRight",q],["rearg",nt]],pt="[object Arguments]",Ot="[object Array]",hs="[object AsyncFunction]",De="[object Boolean]",Re="[object Date]",yi="[object DOMException]",ws="[object Error]",Wt="[object Function]",vs="[object GeneratorFunction]",Le="[object Map]",qs="[object Number]",Ei="[object Null]",os="[object Object]",ut="[object Promise]",re="[object Proxy]",ls="[object RegExp]",le="[object Set]",xi="[object String]",qi="[object Symbol]",z="[object Undefined]",gt="[object WeakMap]",H="[object WeakSet]",yt="[object ArrayBuffer]",et="[object DataView]",_t="[object Float32Array]",ye="[object Float64Array]",Ee="[object Int8Array]",Qe="[object Int16Array]",gr="[object Int32Array]",zi="[object Uint8Array]",Ar="[object Uint8ClampedArray]",ta="[object Uint16Array]",ea="[object Uint32Array]",cc=/\b__p \+= '';/g,mc=/\b(__p \+=) '' \+/g,fc=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Hu=/&(?:amp|lt|gt|quot|#39);/g,Zu=/[&<>"']/g,dc=RegExp(Hu.source),pc=RegExp(Zu.source),gc=/<%-([\s\S]+?)%>/g,Ac=/<%([\s\S]+?)%>/g,ju=/<%=([\s\S]+?)%>/g,Dc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,yc=/^\w*$/,Ec=/^\./,xc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,sa=/[\\^$.*+?()[\]{}|]/g,bc=RegExp(sa.source),Gu=/^\s+|\s+$/g,Wu=/^\s+/,wc=/\s+$/,vc=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Tc=/\{\n\/\* \[wrapped with (.+)\] \*/,Ic=/,? & /,Cc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Sc=/\\(\\)?/g,Mc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,$u=/\w*$/,Oc=/^[-+]0x[0-9a-f]+$/i,Nc=/^0b[01]+$/i,Fc=/^\[object .+?Constructor\]$/,Pc=/^0o[0-7]+$/i,Bc=/^(?:0|[1-9]\d*)$/,Vc=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Jr=/($^)/,_c=/['\n\r\u2028\u2029\\]/g,Qr="\\ud800-\\udfff",Rc="\\u0300-\\u036f",Lc="\\ufe20-\\ufe2f",Yc="\\u20d0-\\u20ff",Ku=Rc+Lc+Yc,Ju="\\u2700-\\u27bf",Qu="a-z\\xdf-\\xf6\\xf8-\\xff",Xc="\\xac\\xb1\\xd7\\xf7",qc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",zc="\\u2000-\\u206f",kc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",th="A-Z\\xc0-\\xd6\\xd8-\\xde",eh="\\ufe0e\\ufe0f",sh=Xc+qc+zc+kc,ia="['’]",Uc="["+Qr+"]",ih="["+sh+"]",tn="["+Ku+"]",rh="\\d+",Hc="["+Ju+"]",nh="["+Qu+"]",ah="[^"+Qr+sh+rh+Ju+Qu+th+"]",ra="\\ud83c[\\udffb-\\udfff]",Zc="(?:"+tn+"|"+ra+")",uh="[^"+Qr+"]",na="(?:\\ud83c[\\udde6-\\uddff]){2}",aa="[\\ud800-\\udbff][\\udc00-\\udfff]",ki="["+th+"]",hh="\\u200d",oh="(?:"+nh+"|"+ah+")",jc="(?:"+ki+"|"+ah+")",lh="(?:"+ia+"(?:d|ll|m|re|s|t|ve))?",ch="(?:"+ia+"(?:D|LL|M|RE|S|T|VE))?",mh=Zc+"?",fh="["+eh+"]?",Gc="(?:"+hh+"(?:"+[uh,na,aa].join("|")+")"+fh+mh+")*",Wc="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",$c="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",dh=fh+mh+Gc,Kc="(?:"+[Hc,na,aa].join("|")+")"+dh,Jc="(?:"+[uh+tn+"?",tn,na,aa,Uc].join("|")+")",Qc=RegExp(ia,"g"),t2=RegExp(tn,"g"),ua=RegExp(ra+"(?="+ra+")|"+Jc+dh,"g"),e2=RegExp([ki+"?"+nh+"+"+lh+"(?="+[ih,ki,"$"].join("|")+")",jc+"+"+ch+"(?="+[ih,ki+oh,"$"].join("|")+")",ki+"?"+oh+"+"+lh,ki+"+"+ch,$c,Wc,rh,Kc].join("|"),"g"),s2=RegExp("["+hh+Qr+Ku+eh+"]"),i2=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,r2=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],n2=-1,zt={};zt[_t]=zt[ye]=zt[Ee]=zt[Qe]=zt[gr]=zt[zi]=zt[Ar]=zt[ta]=zt[ea]=!0,zt[pt]=zt[Ot]=zt[yt]=zt[De]=zt[et]=zt[Re]=zt[ws]=zt[Wt]=zt[Le]=zt[qs]=zt[os]=zt[ls]=zt[le]=zt[xi]=zt[gt]=!1;var Yt={};Yt[pt]=Yt[Ot]=Yt[yt]=Yt[et]=Yt[De]=Yt[Re]=Yt[_t]=Yt[ye]=Yt[Ee]=Yt[Qe]=Yt[gr]=Yt[Le]=Yt[qs]=Yt[os]=Yt[ls]=Yt[le]=Yt[xi]=Yt[qi]=Yt[zi]=Yt[Ar]=Yt[ta]=Yt[ea]=!0,Yt[ws]=Yt[Wt]=Yt[gt]=!1;var a2={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},u2={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},h2={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},o2={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},l2=parseFloat,c2=parseInt,ph=typeof rr=="object"&&rr&&rr.Object===Object&&rr,m2=typeof self=="object"&&self&&self.Object===Object&&self,ce=ph||m2||Function("return this")(),ha=t&&!t.nodeType&&t,en=ha&&!0&&o&&!o.nodeType&&o,gh=en&&en.exports===ha,oa=gh&&ph.process,cs=function(){try{return oa&&oa.binding&&oa.binding("util")}catch{}}(),Ah=cs&&cs.isArrayBuffer,Dh=cs&&cs.isDate,yh=cs&&cs.isMap,Eh=cs&&cs.isRegExp,xh=cs&&cs.isSet,bh=cs&&cs.isTypedArray;function f2(S,V){return S.set(V[0],V[1]),S}function d2(S,V){return S.add(V),S}function Ye(S,V,P){switch(P.length){case 0:return S.call(V);case 1:return S.call(V,P[0]);case 2:return S.call(V,P[0],P[1]);case 3:return S.call(V,P[0],P[1],P[2])}return S.apply(V,P)}function p2(S,V,P,W){for(var ct=-1,Ct=S==null?0:S.length;++ct<Ct;){var ne=S[ct];V(W,ne,P(ne),S)}return W}function ms(S,V){for(var P=-1,W=S==null?0:S.length;++P<W&&V(S[P],P,S)!==!1;);return S}function g2(S,V){for(var P=S==null?0:S.length;P--&&V(S[P],P,S)!==!1;);return S}function wh(S,V){for(var P=-1,W=S==null?0:S.length;++P<W;)if(!V(S[P],P,S))return!1;return!0}function ti(S,V){for(var P=-1,W=S==null?0:S.length,ct=0,Ct=[];++P<W;){var ne=S[P];V(ne,P,S)&&(Ct[ct++]=ne)}return Ct}function sn(S,V){var P=S==null?0:S.length;return!!P&&Ui(S,V,0)>-1}function la(S,V,P){for(var W=-1,ct=S==null?0:S.length;++W<ct;)if(P(V,S[W]))return!0;return!1}function Ht(S,V){for(var P=-1,W=S==null?0:S.length,ct=Array(W);++P<W;)ct[P]=V(S[P],P,S);return ct}function ei(S,V){for(var P=-1,W=V.length,ct=S.length;++P<W;)S[ct+P]=V[P];return S}function Dr(S,V,P,W){var ct=-1,Ct=S==null?0:S.length;for(W&&Ct&&(P=S[++ct]);++ct<Ct;)P=V(P,S[ct],ct,S);return P}function A2(S,V,P,W){var ct=S==null?0:S.length;for(W&&ct&&(P=S[--ct]);ct--;)P=V(P,S[ct],ct,S);return P}function ca(S,V){for(var P=-1,W=S==null?0:S.length;++P<W;)if(V(S[P],P,S))return!0;return!1}var D2=ma("length");function y2(S){return S.split("")}function E2(S){return S.match(Cc)||[]}function vh(S,V,P){var W;return P(S,function(ct,Ct,ne){if(V(ct,Ct,ne))return W=Ct,!1}),W}function rn(S,V,P,W){for(var ct=S.length,Ct=P+(W?1:-1);W?Ct--:++Ct<ct;)if(V(S[Ct],Ct,S))return Ct;return-1}function Ui(S,V,P){return V===V?F2(S,V,P):rn(S,Th,P)}function x2(S,V,P,W){for(var ct=P-1,Ct=S.length;++ct<Ct;)if(W(S[ct],V))return ct;return-1}function Th(S){return S!==S}function Ih(S,V){var P=S==null?0:S.length;return P?da(S,V)/P:At}function ma(S){return function(V){return V==null?e:V[S]}}function fa(S){return function(V){return S==null?e:S[V]}}function Ch(S,V,P,W,ct){return ct(S,function(Ct,ne,Xt){P=W?(W=!1,Ct):V(P,Ct,ne,Xt)}),P}function b2(S,V){var P=S.length;for(S.sort(V);P--;)S[P]=S[P].value;return S}function da(S,V){for(var P,W=-1,ct=S.length;++W<ct;){var Ct=V(S[W]);Ct!==e&&(P=P===e?Ct:P+Ct)}return P}function pa(S,V){for(var P=-1,W=Array(S);++P<S;)W[P]=V(P);return W}function w2(S,V){return Ht(V,function(P){return[P,S[P]]})}function ts(S){return function(V){return S(V)}}function ga(S,V){return Ht(V,function(P){return S[P]})}function yr(S,V){return S.has(V)}function Sh(S,V){for(var P=-1,W=S.length;++P<W&&Ui(V,S[P],0)>-1;);return P}function Mh(S,V){for(var P=S.length;P--&&Ui(V,S[P],0)>-1;);return P}function v2(S,V){for(var P=S.length,W=0;P--;)S[P]===V&&++W;return W}var T2=fa(a2),I2=fa(u2);function C2(S){return"\\"+o2[S]}function S2(S,V){return S==null?e:S[V]}function Hi(S){return s2.test(S)}function M2(S){return i2.test(S)}function O2(S){for(var V,P=[];!(V=S.next()).done;)P.push(V.value);return P}function Er(S){var V=-1,P=Array(S.size);return S.forEach(function(W,ct){P[++V]=[ct,W]}),P}function Oh(S,V){return function(P){return S(V(P))}}function si(S,V){for(var P=-1,W=S.length,ct=0,Ct=[];++P<W;){var ne=S[P];(ne===V||ne===g)&&(S[P]=g,Ct[ct++]=P)}return Ct}function Zi(S){var V=-1,P=Array(S.size);return S.forEach(function(W){P[++V]=W}),P}function N2(S){var V=-1,P=Array(S.size);return S.forEach(function(W){P[++V]=[W,W]}),P}function F2(S,V,P){for(var W=P-1,ct=S.length;++W<ct;)if(S[W]===V)return W;return-1}function P2(S,V,P){for(var W=P+1;W--;)if(S[W]===V)return W;return W}function ji(S){return Hi(S)?V2(S):D2(S)}function Ts(S){return Hi(S)?_2(S):y2(S)}var B2=fa(h2);function V2(S){for(var V=ua.lastIndex=0;ua.test(S);)++V;return V}function _2(S){return S.match(ua)||[]}function R2(S){return S.match(e2)||[]}var L2=function S(V){V=V==null?ce:bi.defaults(ce.Object(),V,bi.pick(ce,r2));var P=V.Array,W=V.Date,ct=V.Error,Ct=V.Function,ne=V.Math,Xt=V.Object,Aa=V.RegExp,Y2=V.String,fs=V.TypeError,nn=P.prototype,X2=Ct.prototype,xr=Xt.prototype,an=V["__core-js_shared__"],un=X2.toString,kt=xr.hasOwnProperty,q2=0,Nh=function(){var s=/[^.]+$/.exec(an&&an.keys&&an.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),Fh=xr.toString,z2=un.call(Xt),k2=ce._,U2=Aa("^"+un.call(kt).replace(sa,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),hn=gh?V.Buffer:e,ii=V.Symbol,on=V.Uint8Array,Ph=hn?hn.allocUnsafe:e,ln=Oh(Xt.getPrototypeOf,Xt),Bh=Xt.create,Vh=xr.propertyIsEnumerable,cn=nn.splice,_h=ii?ii.isConcatSpreadable:e,br=ii?ii.iterator:e,wi=ii?ii.toStringTag:e,mn=function(){try{var s=Ci(Xt,"defineProperty");return s({},"",{}),s}catch{}}(),H2=V.clearTimeout!==ce.clearTimeout&&V.clearTimeout,Z2=W&&W.now!==ce.Date.now&&W.now,j2=V.setTimeout!==ce.setTimeout&&V.setTimeout,fn=ne.ceil,dn=ne.floor,Da=Xt.getOwnPropertySymbols,G2=hn?hn.isBuffer:e,W2=V.isFinite,$2=nn.join,K2=Oh(Xt.keys,Xt),ae=ne.max,xe=ne.min,J2=W.now,Q2=V.parseInt,Rh=ne.random,tm=nn.reverse,ya=Ci(V,"DataView"),wr=Ci(V,"Map"),Ea=Ci(V,"Promise"),Gi=Ci(V,"Set"),vr=Ci(V,"WeakMap"),Tr=Ci(Xt,"create"),pn=vr&&new vr,Ir={},em=Si(ya),sm=Si(wr),im=Si(Ea),rm=Si(Gi),nm=Si(vr),gn=ii?ii.prototype:e,Cr=gn?gn.valueOf:e,Lh=gn?gn.toString:e;function A(s){if($t(s)&&!ft(s)&&!(s instanceof bt)){if(s instanceof ds)return s;if(kt.call(s,"__wrapped__"))return Lo(s)}return new ds(s)}var Wi=function(){function s(){}return function(r){if(!Zt(r))return{};if(Bh)return Bh(r);s.prototype=r;var u=new s;return s.prototype=e,u}}();function An(){}function ds(s,r){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=e}A.templateSettings={escape:gc,evaluate:Ac,interpolate:ju,variable:"",imports:{_:A}},A.prototype=An.prototype,A.prototype.constructor=A,ds.prototype=Wi(An.prototype),ds.prototype.constructor=ds;function bt(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=st,this.__views__=[]}function am(){var s=new bt(this.__wrapped__);return s.__actions__=Xe(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=Xe(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=Xe(this.__views__),s}function um(){if(this.__filtered__){var s=new bt(this);s.__dir__=-1,s.__filtered__=!0}else s=this.clone(),s.__dir__*=-1;return s}function hm(){var s=this.__wrapped__.value(),r=this.__dir__,u=ft(s),l=r<0,d=u?s.length:0,D=vf(0,d,this.__views__),T=D.start,C=D.end,M=C-T,L=l?C:T-1,R=this.__iteratees__,X=R.length,Z=0,J=xe(M,this.__takeCount__);if(!u||!l&&d==M&&J==M)return ho(s,this.__actions__);var at=[];t:for(;M--&&Z<J;){L+=r;for(var Et=-1,ot=s[L];++Et<X;){var It=R[Et],Ft=It.iteratee,Se=It.type,Me=Ft(ot);if(Se==us)ot=Me;else if(!Me){if(Se==x)continue t;break t}}at[Z++]=ot}return at}bt.prototype=Wi(An.prototype),bt.prototype.constructor=bt;function vi(s){var r=-1,u=s==null?0:s.length;for(this.clear();++r<u;){var l=s[r];this.set(l[0],l[1])}}function om(){this.__data__=Tr?Tr(null):{},this.size=0}function lm(s){var r=this.has(s)&&delete this.__data__[s];return this.size-=r?1:0,r}function cm(s){var r=this.__data__;if(Tr){var u=r[s];return u===c?e:u}return kt.call(r,s)?r[s]:e}function mm(s){var r=this.__data__;return Tr?r[s]!==e:kt.call(r,s)}function fm(s,r){var u=this.__data__;return this.size+=this.has(s)?0:1,u[s]=Tr&&r===e?c:r,this}vi.prototype.clear=om,vi.prototype.delete=lm,vi.prototype.get=cm,vi.prototype.has=mm,vi.prototype.set=fm;function zs(s){var r=-1,u=s==null?0:s.length;for(this.clear();++r<u;){var l=s[r];this.set(l[0],l[1])}}function dm(){this.__data__=[],this.size=0}function pm(s){var r=this.__data__,u=Dn(r,s);if(u<0)return!1;var l=r.length-1;return u==l?r.pop():cn.call(r,u,1),--this.size,!0}function gm(s){var r=this.__data__,u=Dn(r,s);return u<0?e:r[u][1]}function Am(s){return Dn(this.__data__,s)>-1}function Dm(s,r){var u=this.__data__,l=Dn(u,s);return l<0?(++this.size,u.push([s,r])):u[l][1]=r,this}zs.prototype.clear=dm,zs.prototype.delete=pm,zs.prototype.get=gm,zs.prototype.has=Am,zs.prototype.set=Dm;function ks(s){var r=-1,u=s==null?0:s.length;for(this.clear();++r<u;){var l=s[r];this.set(l[0],l[1])}}function ym(){this.size=0,this.__data__={hash:new vi,map:new(wr||zs),string:new vi}}function Em(s){var r=On(this,s).delete(s);return this.size-=r?1:0,r}function xm(s){return On(this,s).get(s)}function bm(s){return On(this,s).has(s)}function wm(s,r){var u=On(this,s),l=u.size;return u.set(s,r),this.size+=u.size==l?0:1,this}ks.prototype.clear=ym,ks.prototype.delete=Em,ks.prototype.get=xm,ks.prototype.has=bm,ks.prototype.set=wm;function Ti(s){var r=-1,u=s==null?0:s.length;for(this.__data__=new ks;++r<u;)this.add(s[r])}function vm(s){return this.__data__.set(s,c),this}function Tm(s){return this.__data__.has(s)}Ti.prototype.add=Ti.prototype.push=vm,Ti.prototype.has=Tm;function Is(s){var r=this.__data__=new zs(s);this.size=r.size}function Im(){this.__data__=new zs,this.size=0}function Cm(s){var r=this.__data__,u=r.delete(s);return this.size=r.size,u}function Sm(s){return this.__data__.get(s)}function Mm(s){return this.__data__.has(s)}function Om(s,r){var u=this.__data__;if(u instanceof zs){var l=u.__data__;if(!wr||l.length<n-1)return l.push([s,r]),this.size=++u.size,this;u=this.__data__=new ks(l)}return u.set(s,r),this.size=u.size,this}Is.prototype.clear=Im,Is.prototype.delete=Cm,Is.prototype.get=Sm,Is.prototype.has=Mm,Is.prototype.set=Om;function Yh(s,r){var u=ft(s),l=!u&&Mi(s),d=!u&&!l&&hi(s),D=!u&&!l&&!d&&tr(s),T=u||l||d||D,C=T?pa(s.length,Y2):[],M=C.length;for(var L in s)(r||kt.call(s,L))&&!(T&&(L=="length"||d&&(L=="offset"||L=="parent")||D&&(L=="buffer"||L=="byteLength"||L=="byteOffset")||js(L,M)))&&C.push(L);return C}function Xh(s){var r=s.length;return r?s[Na(0,r-1)]:e}function Nm(s,r){return Nn(Xe(s),Ii(r,0,s.length))}function Fm(s){return Nn(Xe(s))}function xa(s,r,u){(u!==e&&!Bs(s[r],u)||u===e&&!(r in s))&&Us(s,r,u)}function Sr(s,r,u){var l=s[r];(!(kt.call(s,r)&&Bs(l,u))||u===e&&!(r in s))&&Us(s,r,u)}function Dn(s,r){for(var u=s.length;u--;)if(Bs(s[u][0],r))return u;return-1}function Pm(s,r,u,l){return ri(s,function(d,D,T){r(l,d,u(d),T)}),l}function qh(s,r){return s&&Fs(r,me(r),s)}function Bm(s,r){return s&&Fs(r,is(r),s)}function Us(s,r,u){r=="__proto__"&&mn?mn(s,r,{configurable:!0,enumerable:!0,value:u,writable:!0}):s[r]=u}function ba(s,r){for(var u=-1,l=r.length,d=P(l),D=s==null;++u<l;)d[u]=D?e:su(s,r[u]);return d}function Ii(s,r,u){return s===s&&(u!==e&&(s=s<=u?s:u),r!==e&&(s=s>=r?s:r)),s}function Cs(s,r,u,l,d,D){var T,C=r&y,M=r&w,L=r&I;if(u&&(T=d?u(s,l,d,D):u(s)),T!==e)return T;if(!Zt(s))return s;var R=ft(s);if(R){if(T=If(s),!C)return Xe(s,T)}else{var X=be(s),Z=X==Wt||X==vs;if(hi(s))return lo(s,C);if(X==os||X==pt||Z&&!d){if(T=M||Z?{}:Mo(s),!C)return M?pf(s,Bm(T,s)):df(s,qh(T,s))}else{if(!Yt[X])return d?s:{};T=Cf(s,X,Cs,C)}}D||(D=new Is);var J=D.get(s);if(J)return J;D.set(s,T);var at=L?M?ka:za:M?is:me,Et=R?e:at(s);return ms(Et||s,function(ot,It){Et&&(It=ot,ot=s[It]),Sr(T,It,Cs(ot,r,u,It,s,D))}),T}function Vm(s){var r=me(s);return function(u){return zh(u,s,r)}}function zh(s,r,u){var l=u.length;if(s==null)return!l;for(s=Xt(s);l--;){var d=u[l],D=r[d],T=s[d];if(T===e&&!(d in s)||!D(T))return!1}return!0}function kh(s,r,u){if(typeof s!="function")throw new fs(h);return Vr(function(){s.apply(e,u)},r)}function Mr(s,r,u,l){var d=-1,D=sn,T=!0,C=s.length,M=[],L=r.length;if(!C)return M;u&&(r=Ht(r,ts(u))),l?(D=la,T=!1):r.length>=n&&(D=yr,T=!1,r=new Ti(r));t:for(;++d<C;){var R=s[d],X=u==null?R:u(R);if(R=l||R!==0?R:0,T&&X===X){for(var Z=L;Z--;)if(r[Z]===X)continue t;M.push(R)}else D(r,X,l)||M.push(R)}return M}var ri=go(Ns),Uh=go(va,!0);function _m(s,r){var u=!0;return ri(s,function(l,d,D){return u=!!r(l,d,D),u}),u}function yn(s,r,u){for(var l=-1,d=s.length;++l<d;){var D=s[l],T=r(D);if(T!=null&&(C===e?T===T&&!ss(T):u(T,C)))var C=T,M=D}return M}function Rm(s,r,u,l){var d=s.length;for(u=dt(u),u<0&&(u=-u>d?0:d+u),l=l===e||l>d?d:dt(l),l<0&&(l+=d),l=u>l?0:rl(l);u<l;)s[u++]=r;return s}function Hh(s,r){var u=[];return ri(s,function(l,d,D){r(l,d,D)&&u.push(l)}),u}function ge(s,r,u,l,d){var D=-1,T=s.length;for(u||(u=Mf),d||(d=[]);++D<T;){var C=s[D];r>0&&u(C)?r>1?ge(C,r-1,u,l,d):ei(d,C):l||(d[d.length]=C)}return d}var wa=Ao(),Zh=Ao(!0);function Ns(s,r){return s&&wa(s,r,me)}function va(s,r){return s&&Zh(s,r,me)}function En(s,r){return ti(r,function(u){return Gs(s[u])})}function $i(s,r){r=ai(r,s);for(var u=0,l=r.length;s!=null&&u<l;)s=s[Ps(r[u++])];return u&&u==l?s:e}function jh(s,r,u){var l=r(s);return ft(s)?l:ei(l,u(s))}function Ce(s){return s==null?s===e?z:Ei:wi&&wi in Xt(s)?wf(s):_f(s)}function Ta(s,r){return s>r}function Lm(s,r){return s!=null&&kt.call(s,r)}function Ym(s,r){return s!=null&&r in Xt(s)}function Xm(s,r,u){return s>=xe(r,u)&&s<ae(r,u)}function Ia(s,r,u){for(var l=u?la:sn,d=s[0].length,D=s.length,T=D,C=P(D),M=1/0,L=[];T--;){var R=s[T];T&&r&&(R=Ht(R,ts(r))),M=xe(R.length,M),C[T]=!u&&(r||d>=120&&R.length>=120)?new Ti(T&&R):e}R=s[0];var X=-1,Z=C[0];t:for(;++X<d&&L.length<M;){var J=R[X],at=r?r(J):J;if(J=u||J!==0?J:0,!(Z?yr(Z,at):l(L,at,u))){for(T=D;--T;){var Et=C[T];if(!(Et?yr(Et,at):l(s[T],at,u)))continue t}Z&&Z.push(at),L.push(J)}}return L}function qm(s,r,u,l){return Ns(s,function(d,D,T){r(l,u(d),D,T)}),l}function Or(s,r,u){r=ai(r,s),s=Po(s,r);var l=s==null?s:s[Ps(gs(r))];return l==null?e:Ye(l,s,u)}function Gh(s){return $t(s)&&Ce(s)==pt}function zm(s){return $t(s)&&Ce(s)==yt}function km(s){return $t(s)&&Ce(s)==Re}function Nr(s,r,u,l,d){return s===r?!0:s==null||r==null||!$t(s)&&!$t(r)?s!==s&&r!==r:Um(s,r,u,l,Nr,d)}function Um(s,r,u,l,d,D){var T=ft(s),C=ft(r),M=T?Ot:be(s),L=C?Ot:be(r);M=M==pt?os:M,L=L==pt?os:L;var R=M==os,X=L==os,Z=M==L;if(Z&&hi(s)){if(!hi(r))return!1;T=!0,R=!1}if(Z&&!R)return D||(D=new Is),T||tr(s)?Io(s,r,u,l,d,D):xf(s,r,M,u,l,d,D);if(!(u&O)){var J=R&&kt.call(s,"__wrapped__"),at=X&&kt.call(r,"__wrapped__");if(J||at){var Et=J?s.value():s,ot=at?r.value():r;return D||(D=new Is),d(Et,ot,u,l,D)}}return Z?(D||(D=new Is),bf(s,r,u,l,d,D)):!1}function Hm(s){return $t(s)&&be(s)==Le}function Ca(s,r,u,l){var d=u.length,D=d,T=!l;if(s==null)return!D;for(s=Xt(s);d--;){var C=u[d];if(T&&C[2]?C[1]!==s[C[0]]:!(C[0]in s))return!1}for(;++d<D;){C=u[d];var M=C[0],L=s[M],R=C[1];if(T&&C[2]){if(L===e&&!(M in s))return!1}else{var X=new Is;if(l)var Z=l(L,R,M,s,r,X);if(!(Z===e?Nr(R,L,O|N,l,X):Z))return!1}}return!0}function Wh(s){if(!Zt(s)||Nf(s))return!1;var r=Gs(s)?U2:Fc;return r.test(Si(s))}function Zm(s){return $t(s)&&Ce(s)==ls}function jm(s){return $t(s)&&be(s)==le}function Gm(s){return $t(s)&&Rn(s.length)&&!!zt[Ce(s)]}function $h(s){return typeof s=="function"?s:s==null?ke:typeof s=="object"?ft(s)?Qh(s[0],s[1]):Jh(s):pl(s)}function Sa(s){if(!Br(s))return K2(s);var r=[];for(var u in Xt(s))kt.call(s,u)&&u!="constructor"&&r.push(u);return r}function Wm(s){if(!Zt(s))return Vf(s);var r=Br(s),u=[];for(var l in s)l=="constructor"&&(r||!kt.call(s,l))||u.push(l);return u}function Ma(s,r){return s<r}function Kh(s,r){var u=-1,l=ze(s)?P(s.length):[];return ri(s,function(d,D,T){l[++u]=r(d,D,T)}),l}function Jh(s){var r=Ha(s);return r.length==1&&r[0][2]?No(r[0][0],r[0][1]):function(u){return u===s||Ca(u,s,r)}}function Qh(s,r){return ja(s)&&Oo(r)?No(Ps(s),r):function(u){var l=su(u,s);return l===e&&l===r?iu(u,s):Nr(r,l,O|N)}}function xn(s,r,u,l,d){s!==r&&wa(r,function(D,T){if(Zt(D))d||(d=new Is),$m(s,r,T,u,xn,l,d);else{var C=l?l(s[T],D,T+"",s,r,d):e;C===e&&(C=D),xa(s,T,C)}},is)}function $m(s,r,u,l,d,D,T){var C=s[u],M=r[u],L=T.get(M);if(L){xa(s,u,L);return}var R=D?D(C,M,u+"",s,r,T):e,X=R===e;if(X){var Z=ft(M),J=!Z&&hi(M),at=!Z&&!J&&tr(M);R=M,Z||J||at?ft(C)?R=C:Qt(C)?R=Xe(C):J?(X=!1,R=lo(M,!0)):at?(X=!1,R=co(M,!0)):R=[]:_r(M)||Mi(M)?(R=C,Mi(C)?R=nl(C):(!Zt(C)||l&&Gs(C))&&(R=Mo(M))):X=!1}X&&(T.set(M,R),d(R,M,l,D,T),T.delete(M)),xa(s,u,R)}function to(s,r){var u=s.length;if(u)return r+=r<0?u:0,js(r,u)?s[r]:e}function eo(s,r,u){var l=-1;r=Ht(r.length?r:[ke],ts(it()));var d=Kh(s,function(D,T,C){var M=Ht(r,function(L){return L(D)});return{criteria:M,index:++l,value:D}});return b2(d,function(D,T){return ff(D,T,u)})}function Km(s,r){return so(s,r,function(u,l){return iu(s,l)})}function so(s,r,u){for(var l=-1,d=r.length,D={};++l<d;){var T=r[l],C=$i(s,T);u(C,T)&&Fr(D,ai(T,s),C)}return D}function Jm(s){return function(r){return $i(r,s)}}function Oa(s,r,u,l){var d=l?x2:Ui,D=-1,T=r.length,C=s;for(s===r&&(r=Xe(r)),u&&(C=Ht(s,ts(u)));++D<T;)for(var M=0,L=r[D],R=u?u(L):L;(M=d(C,R,M,l))>-1;)C!==s&&cn.call(C,M,1),cn.call(s,M,1);return s}function io(s,r){for(var u=s?r.length:0,l=u-1;u--;){var d=r[u];if(u==l||d!==D){var D=d;js(d)?cn.call(s,d,1):Ba(s,d)}}return s}function Na(s,r){return s+dn(Rh()*(r-s+1))}function Qm(s,r,u,l){for(var d=-1,D=ae(fn((r-s)/(u||1)),0),T=P(D);D--;)T[l?D:++d]=s,s+=u;return T}function Fa(s,r){var u="";if(!s||r<1||r>ht)return u;do r%2&&(u+=s),r=dn(r/2),r&&(s+=s);while(r);return u}function Dt(s,r){return Wa(Fo(s,r,ke),s+"")}function tf(s){return Xh(er(s))}function ef(s,r){var u=er(s);return Nn(u,Ii(r,0,u.length))}function Fr(s,r,u,l){if(!Zt(s))return s;r=ai(r,s);for(var d=-1,D=r.length,T=D-1,C=s;C!=null&&++d<D;){var M=Ps(r[d]),L=u;if(d!=T){var R=C[M];L=l?l(R,M,C):e,L===e&&(L=Zt(R)?R:js(r[d+1])?[]:{})}Sr(C,M,L),C=C[M]}return s}var ro=pn?function(s,r){return pn.set(s,r),s}:ke,sf=mn?function(s,r){return mn(s,"toString",{configurable:!0,enumerable:!1,value:nu(r),writable:!0})}:ke;function rf(s){return Nn(er(s))}function ps(s,r,u){var l=-1,d=s.length;r<0&&(r=-r>d?0:d+r),u=u>d?d:u,u<0&&(u+=d),d=r>u?0:u-r>>>0,r>>>=0;for(var D=P(d);++l<d;)D[l]=s[l+r];return D}function nf(s,r){var u;return ri(s,function(l,d,D){return u=r(l,d,D),!u}),!!u}function bn(s,r,u){var l=0,d=s==null?l:s.length;if(typeof r=="number"&&r===r&&d<=Gt){for(;l<d;){var D=l+d>>>1,T=s[D];T!==null&&!ss(T)&&(u?T<=r:T<r)?l=D+1:d=D}return d}return Pa(s,r,ke,u)}function Pa(s,r,u,l){r=u(r);for(var d=0,D=s==null?0:s.length,T=r!==r,C=r===null,M=ss(r),L=r===e;d<D;){var R=dn((d+D)/2),X=u(s[R]),Z=X!==e,J=X===null,at=X===X,Et=ss(X);if(T)var ot=l||at;else L?ot=at&&(l||Z):C?ot=at&&Z&&(l||!J):M?ot=at&&Z&&!J&&(l||!Et):J||Et?ot=!1:ot=l?X<=r:X<r;ot?d=R+1:D=R}return xe(D,mt)}function no(s,r){for(var u=-1,l=s.length,d=0,D=[];++u<l;){var T=s[u],C=r?r(T):T;if(!u||!Bs(C,M)){var M=C;D[d++]=T===0?0:T}}return D}function ao(s){return typeof s=="number"?s:ss(s)?At:+s}function es(s){if(typeof s=="string")return s;if(ft(s))return Ht(s,es)+"";if(ss(s))return Lh?Lh.call(s):"";var r=s+"";return r=="0"&&1/s==-U?"-0":r}function ni(s,r,u){var l=-1,d=sn,D=s.length,T=!0,C=[],M=C;if(u)T=!1,d=la;else if(D>=n){var L=r?null:yf(s);if(L)return Zi(L);T=!1,d=yr,M=new Ti}else M=r?[]:C;t:for(;++l<D;){var R=s[l],X=r?r(R):R;if(R=u||R!==0?R:0,T&&X===X){for(var Z=M.length;Z--;)if(M[Z]===X)continue t;r&&M.push(X),C.push(R)}else d(M,X,u)||(M!==C&&M.push(X),C.push(R))}return C}function Ba(s,r){return r=ai(r,s),s=Po(s,r),s==null||delete s[Ps(gs(r))]}function uo(s,r,u,l){return Fr(s,r,u($i(s,r)),l)}function wn(s,r,u,l){for(var d=s.length,D=l?d:-1;(l?D--:++D<d)&&r(s[D],D,s););return u?ps(s,l?0:D,l?D+1:d):ps(s,l?D+1:0,l?d:D)}function ho(s,r){var u=s;return u instanceof bt&&(u=u.value()),Dr(r,function(l,d){return d.func.apply(d.thisArg,ei([l],d.args))},u)}function Va(s,r,u){var l=s.length;if(l<2)return l?ni(s[0]):[];for(var d=-1,D=P(l);++d<l;)for(var T=s[d],C=-1;++C<l;)C!=d&&(D[d]=Mr(D[d]||T,s[C],r,u));return ni(ge(D,1),r,u)}function oo(s,r,u){for(var l=-1,d=s.length,D=r.length,T={};++l<d;){var C=l<D?r[l]:e;u(T,s[l],C)}return T}function _a(s){return Qt(s)?s:[]}function Ra(s){return typeof s=="function"?s:ke}function ai(s,r){return ft(s)?s:ja(s,r)?[s]:Ro(Nt(s))}var af=Dt;function ui(s,r,u){var l=s.length;return u=u===e?l:u,!r&&u>=l?s:ps(s,r,u)}var uf=H2||function(s){return ce.clearTimeout(s)};function lo(s,r){if(r)return s.slice();var u=s.length,l=Ph?Ph(u):new s.constructor(u);return s.copy(l),l}function La(s){var r=new s.constructor(s.byteLength);return new on(r).set(new on(s)),r}function hf(s,r){var u=r?La(s.buffer):s.buffer;return new s.constructor(u,s.byteOffset,s.byteLength)}function of(s,r,u){var l=r?u(Er(s),y):Er(s);return Dr(l,f2,new s.constructor)}function lf(s){var r=new s.constructor(s.source,$u.exec(s));return r.lastIndex=s.lastIndex,r}function cf(s,r,u){var l=r?u(Zi(s),y):Zi(s);return Dr(l,d2,new s.constructor)}function mf(s){return Cr?Xt(Cr.call(s)):{}}function co(s,r){var u=r?La(s.buffer):s.buffer;return new s.constructor(u,s.byteOffset,s.length)}function mo(s,r){if(s!==r){var u=s!==e,l=s===null,d=s===s,D=ss(s),T=r!==e,C=r===null,M=r===r,L=ss(r);if(!C&&!L&&!D&&s>r||D&&T&&M&&!C&&!L||l&&T&&M||!u&&M||!d)return 1;if(!l&&!D&&!L&&s<r||L&&u&&d&&!l&&!D||C&&u&&d||!T&&d||!M)return-1}return 0}function ff(s,r,u){for(var l=-1,d=s.criteria,D=r.criteria,T=d.length,C=u.length;++l<T;){var M=mo(d[l],D[l]);if(M){if(l>=C)return M;var L=u[l];return M*(L=="desc"?-1:1)}}return s.index-r.index}function fo(s,r,u,l){for(var d=-1,D=s.length,T=u.length,C=-1,M=r.length,L=ae(D-T,0),R=P(M+L),X=!l;++C<M;)R[C]=r[C];for(;++d<T;)(X||d<D)&&(R[u[d]]=s[d]);for(;L--;)R[C++]=s[d++];return R}function po(s,r,u,l){for(var d=-1,D=s.length,T=-1,C=u.length,M=-1,L=r.length,R=ae(D-C,0),X=P(R+L),Z=!l;++d<R;)X[d]=s[d];for(var J=d;++M<L;)X[J+M]=r[M];for(;++T<C;)(Z||d<D)&&(X[J+u[T]]=s[d++]);return X}function Xe(s,r){var u=-1,l=s.length;for(r||(r=P(l));++u<l;)r[u]=s[u];return r}function Fs(s,r,u,l){var d=!u;u||(u={});for(var D=-1,T=r.length;++D<T;){var C=r[D],M=l?l(u[C],s[C],C,u,s):e;M===e&&(M=s[C]),d?Us(u,C,M):Sr(u,C,M)}return u}function df(s,r){return Fs(s,Za(s),r)}function pf(s,r){return Fs(s,Co(s),r)}function vn(s,r){return function(u,l){var d=ft(u)?p2:Pm,D=r?r():{};return d(u,s,it(l,2),D)}}function Ki(s){return Dt(function(r,u){var l=-1,d=u.length,D=d>1?u[d-1]:e,T=d>2?u[2]:e;for(D=s.length>3&&typeof D=="function"?(d--,D):e,T&&qe(u[0],u[1],T)&&(D=d<3?e:D,d=1),r=Xt(r);++l<d;){var C=u[l];C&&s(r,C,l,D)}return r})}function go(s,r){return function(u,l){if(u==null)return u;if(!ze(u))return s(u,l);for(var d=u.length,D=r?d:-1,T=Xt(u);(r?D--:++D<d)&&l(T[D],D,T)!==!1;);return u}}function Ao(s){return function(r,u,l){for(var d=-1,D=Xt(r),T=l(r),C=T.length;C--;){var M=T[s?C:++d];if(u(D[M],M,D)===!1)break}return r}}function gf(s,r,u){var l=r&F,d=Pr(s);function D(){var T=this&&this!==ce&&this instanceof D?d:s;return T.apply(l?u:this,arguments)}return D}function Do(s){return function(r){r=Nt(r);var u=Hi(r)?Ts(r):e,l=u?u[0]:r.charAt(0),d=u?ui(u,1).join(""):r.slice(1);return l[s]()+d}}function Ji(s){return function(r){return Dr(fl(ml(r).replace(Qc,"")),s,"")}}function Pr(s){return function(){var r=arguments;switch(r.length){case 0:return new s;case 1:return new s(r[0]);case 2:return new s(r[0],r[1]);case 3:return new s(r[0],r[1],r[2]);case 4:return new s(r[0],r[1],r[2],r[3]);case 5:return new s(r[0],r[1],r[2],r[3],r[4]);case 6:return new s(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return new s(r[0],r[1],r[2],r[3],r[4],r[5],r[6])}var u=Wi(s.prototype),l=s.apply(u,r);return Zt(l)?l:u}}function Af(s,r,u){var l=Pr(s);function d(){for(var D=arguments.length,T=P(D),C=D,M=Qi(d);C--;)T[C]=arguments[C];var L=D<3&&T[0]!==M&&T[D-1]!==M?[]:si(T,M);if(D-=L.length,D<u)return wo(s,r,Tn,d.placeholder,e,T,L,e,e,u-D);var R=this&&this!==ce&&this instanceof d?l:s;return Ye(R,this,T)}return d}function yo(s){return function(r,u,l){var d=Xt(r);if(!ze(r)){var D=it(u,3);r=me(r),u=function(C){return D(d[C],C,d)}}var T=s(r,u,l);return T>-1?d[D?r[T]:T]:e}}function Eo(s){return Zs(function(r){var u=r.length,l=u,d=ds.prototype.thru;for(s&&r.reverse();l--;){var D=r[l];if(typeof D!="function")throw new fs(h);if(d&&!T&&Mn(D)=="wrapper")var T=new ds([],!0)}for(l=T?l:u;++l<u;){D=r[l];var C=Mn(D),M=C=="wrapper"?Ua(D):e;M&&Ga(M[0])&&M[1]==(K|E|Y|nt)&&!M[4].length&&M[9]==1?T=T[Mn(M[0])].apply(T,M[3]):T=D.length==1&&Ga(D)?T[C]():T.thru(D)}return function(){var L=arguments,R=L[0];if(T&&L.length==1&&ft(R))return T.plant(R).value();for(var X=0,Z=u?r[X].apply(this,L):R;++X<u;)Z=r[X].call(this,Z);return Z}})}function Tn(s,r,u,l,d,D,T,C,M,L){var R=r&K,X=r&F,Z=r&b,J=r&(E|B),at=r&tt,Et=Z?e:Pr(s);function ot(){for(var It=arguments.length,Ft=P(It),Se=It;Se--;)Ft[Se]=arguments[Se];if(J)var Me=Qi(ot),oi=v2(Ft,Me);if(l&&(Ft=fo(Ft,l,d,J)),D&&(Ft=po(Ft,D,T,J)),It-=oi,J&&It<L){var te=si(Ft,Me);return wo(s,r,Tn,ot.placeholder,u,Ft,te,C,M,L-It)}var Ss=X?u:this,$s=Z?Ss[s]:s;return It=Ft.length,C?Ft=Rf(Ft,C):at&&It>1&&Ft.reverse(),R&&M<It&&(Ft.length=M),this&&this!==ce&&this instanceof ot&&($s=Et||Pr($s)),$s.apply(Ss,Ft)}return ot}function xo(s,r){return function(u,l){return qm(u,s,r(l),{})}}function In(s,r){return function(u,l){var d;if(u===e&&l===e)return r;if(u!==e&&(d=u),l!==e){if(d===e)return l;typeof u=="string"||typeof l=="string"?(u=es(u),l=es(l)):(u=ao(u),l=ao(l)),d=s(u,l)}return d}}function Ya(s){return Zs(function(r){return r=Ht(r,ts(it())),Dt(function(u){var l=this;return s(r,function(d){return Ye(d,l,u)})})})}function Cn(s,r){r=r===e?" ":es(r);var u=r.length;if(u<2)return u?Fa(r,s):r;var l=Fa(r,fn(s/ji(r)));return Hi(r)?ui(Ts(l),0,s).join(""):l.slice(0,s)}function Df(s,r,u,l){var d=r&F,D=Pr(s);function T(){for(var C=-1,M=arguments.length,L=-1,R=l.length,X=P(R+M),Z=this&&this!==ce&&this instanceof T?D:s;++L<R;)X[L]=l[L];for(;M--;)X[L++]=arguments[++C];return Ye(Z,d?u:this,X)}return T}function bo(s){return function(r,u,l){return l&&typeof l!="number"&&qe(r,u,l)&&(u=l=e),r=Ws(r),u===e?(u=r,r=0):u=Ws(u),l=l===e?r<u?1:-1:Ws(l),Qm(r,u,l,s)}}function Sn(s){return function(r,u){return typeof r=="string"&&typeof u=="string"||(r=As(r),u=As(u)),s(r,u)}}function wo(s,r,u,l,d,D,T,C,M,L){var R=r&E,X=R?T:e,Z=R?e:T,J=R?D:e,at=R?e:D;r|=R?Y:q,r&=~(R?q:Y),r&v||(r&=~(F|b));var Et=[s,r,d,J,X,at,Z,C,M,L],ot=u.apply(e,Et);return Ga(s)&&Bo(ot,Et),ot.placeholder=l,Vo(ot,s,r)}function Xa(s){var r=ne[s];return function(u,l){if(u=As(u),l=l==null?0:xe(dt(l),292),l){var d=(Nt(u)+"e").split("e"),D=r(d[0]+"e"+(+d[1]+l));return d=(Nt(D)+"e").split("e"),+(d[0]+"e"+(+d[1]-l))}return r(u)}}var yf=Gi&&1/Zi(new Gi([,-0]))[1]==U?function(s){return new Gi(s)}:hu;function vo(s){return function(r){var u=be(r);return u==Le?Er(r):u==le?N2(r):w2(r,s(r))}}function Hs(s,r,u,l,d,D,T,C){var M=r&b;if(!M&&typeof s!="function")throw new fs(h);var L=l?l.length:0;if(L||(r&=~(Y|q),l=d=e),T=T===e?T:ae(dt(T),0),C=C===e?C:dt(C),L-=d?d.length:0,r&q){var R=l,X=d;l=d=e}var Z=M?e:Ua(s),J=[s,r,u,l,d,R,X,D,T,C];if(Z&&Bf(J,Z),s=J[0],r=J[1],u=J[2],l=J[3],d=J[4],C=J[9]=J[9]===e?M?0:s.length:ae(J[9]-L,0),!C&&r&(E|B)&&(r&=~(E|B)),!r||r==F)var at=gf(s,r,u);else r==E||r==B?at=Af(s,r,C):(r==Y||r==(F|Y))&&!d.length?at=Df(s,r,u,l):at=Tn.apply(e,J);var Et=Z?ro:Bo;return Vo(Et(at,J),s,r)}function qa(s,r,u,l){return s===e||Bs(s,xr[u])&&!kt.call(l,u)?r:s}function To(s,r,u,l,d,D){return Zt(s)&&Zt(r)&&(D.set(r,s),xn(s,r,e,To,D),D.delete(r)),s}function Ef(s){return _r(s)?e:s}function Io(s,r,u,l,d,D){var T=u&O,C=s.length,M=r.length;if(C!=M&&!(T&&M>C))return!1;var L=D.get(s);if(L&&D.get(r))return L==r;var R=-1,X=!0,Z=u&N?new Ti:e;for(D.set(s,r),D.set(r,s);++R<C;){var J=s[R],at=r[R];if(l)var Et=T?l(at,J,R,r,s,D):l(J,at,R,s,r,D);if(Et!==e){if(Et)continue;X=!1;break}if(Z){if(!ca(r,function(ot,It){if(!yr(Z,It)&&(J===ot||d(J,ot,u,l,D)))return Z.push(It)})){X=!1;break}}else if(!(J===at||d(J,at,u,l,D))){X=!1;break}}return D.delete(s),D.delete(r),X}function xf(s,r,u,l,d,D,T){switch(u){case et:if(s.byteLength!=r.byteLength||s.byteOffset!=r.byteOffset)return!1;s=s.buffer,r=r.buffer;case yt:return!(s.byteLength!=r.byteLength||!D(new on(s),new on(r)));case De:case Re:case qs:return Bs(+s,+r);case ws:return s.name==r.name&&s.message==r.message;case ls:case xi:return s==r+"";case Le:var C=Er;case le:var M=l&O;if(C||(C=Zi),s.size!=r.size&&!M)return!1;var L=T.get(s);if(L)return L==r;l|=N,T.set(s,r);var R=Io(C(s),C(r),l,d,D,T);return T.delete(s),R;case qi:if(Cr)return Cr.call(s)==Cr.call(r)}return!1}function bf(s,r,u,l,d,D){var T=u&O,C=za(s),M=C.length,L=za(r),R=L.length;if(M!=R&&!T)return!1;for(var X=M;X--;){var Z=C[X];if(!(T?Z in r:kt.call(r,Z)))return!1}var J=D.get(s);if(J&&D.get(r))return J==r;var at=!0;D.set(s,r),D.set(r,s);for(var Et=T;++X<M;){Z=C[X];var ot=s[Z],It=r[Z];if(l)var Ft=T?l(It,ot,Z,r,s,D):l(ot,It,Z,s,r,D);if(!(Ft===e?ot===It||d(ot,It,u,l,D):Ft)){at=!1;break}Et||(Et=Z=="constructor")}if(at&&!Et){var Se=s.constructor,Me=r.constructor;Se!=Me&&"constructor"in s&&"constructor"in r&&!(typeof Se=="function"&&Se instanceof Se&&typeof Me=="function"&&Me instanceof Me)&&(at=!1)}return D.delete(s),D.delete(r),at}function Zs(s){return Wa(Fo(s,e,qo),s+"")}function za(s){return jh(s,me,Za)}function ka(s){return jh(s,is,Co)}var Ua=pn?function(s){return pn.get(s)}:hu;function Mn(s){for(var r=s.name+"",u=Ir[r],l=kt.call(Ir,r)?u.length:0;l--;){var d=u[l],D=d.func;if(D==null||D==s)return d.name}return r}function Qi(s){var r=kt.call(A,"placeholder")?A:s;return r.placeholder}function it(){var s=A.iteratee||au;return s=s===au?$h:s,arguments.length?s(arguments[0],arguments[1]):s}function On(s,r){var u=s.__data__;return Of(r)?u[typeof r=="string"?"string":"hash"]:u.map}function Ha(s){for(var r=me(s),u=r.length;u--;){var l=r[u],d=s[l];r[u]=[l,d,Oo(d)]}return r}function Ci(s,r){var u=S2(s,r);return Wh(u)?u:e}function wf(s){var r=kt.call(s,wi),u=s[wi];try{s[wi]=e;var l=!0}catch{}var d=Fh.call(s);return l&&(r?s[wi]=u:delete s[wi]),d}var Za=Da?function(s){return s==null?[]:(s=Xt(s),ti(Da(s),function(r){return Vh.call(s,r)}))}:ou,Co=Da?function(s){for(var r=[];s;)ei(r,Za(s)),s=ln(s);return r}:ou,be=Ce;(ya&&be(new ya(new ArrayBuffer(1)))!=et||wr&&be(new wr)!=Le||Ea&&be(Ea.resolve())!=ut||Gi&&be(new Gi)!=le||vr&&be(new vr)!=gt)&&(be=function(s){var r=Ce(s),u=r==os?s.constructor:e,l=u?Si(u):"";if(l)switch(l){case em:return et;case sm:return Le;case im:return ut;case rm:return le;case nm:return gt}return r});function vf(s,r,u){for(var l=-1,d=u.length;++l<d;){var D=u[l],T=D.size;switch(D.type){case"drop":s+=T;break;case"dropRight":r-=T;break;case"take":r=xe(r,s+T);break;case"takeRight":s=ae(s,r-T);break}}return{start:s,end:r}}function Tf(s){var r=s.match(Tc);return r?r[1].split(Ic):[]}function So(s,r,u){r=ai(r,s);for(var l=-1,d=r.length,D=!1;++l<d;){var T=Ps(r[l]);if(!(D=s!=null&&u(s,T)))break;s=s[T]}return D||++l!=d?D:(d=s==null?0:s.length,!!d&&Rn(d)&&js(T,d)&&(ft(s)||Mi(s)))}function If(s){var r=s.length,u=s.constructor(r);return r&&typeof s[0]=="string"&&kt.call(s,"index")&&(u.index=s.index,u.input=s.input),u}function Mo(s){return typeof s.constructor=="function"&&!Br(s)?Wi(ln(s)):{}}function Cf(s,r,u,l){var d=s.constructor;switch(r){case yt:return La(s);case De:case Re:return new d(+s);case et:return hf(s,l);case _t:case ye:case Ee:case Qe:case gr:case zi:case Ar:case ta:case ea:return co(s,l);case Le:return of(s,l,u);case qs:case xi:return new d(s);case ls:return lf(s);case le:return cf(s,l,u);case qi:return mf(s)}}function Sf(s,r){var u=r.length;if(!u)return s;var l=u-1;return r[l]=(u>1?"& ":"")+r[l],r=r.join(u>2?", ":" "),s.replace(vc,`{
/* [wrapped with `+r+`] */
`)}function Mf(s){return ft(s)||Mi(s)||!!(_h&&s&&s[_h])}function js(s,r){return r=r??ht,!!r&&(typeof s=="number"||Bc.test(s))&&s>-1&&s%1==0&&s<r}function qe(s,r,u){if(!Zt(u))return!1;var l=typeof r;return(l=="number"?ze(u)&&js(r,u.length):l=="string"&&r in u)?Bs(u[r],s):!1}function ja(s,r){if(ft(s))return!1;var u=typeof s;return u=="number"||u=="symbol"||u=="boolean"||s==null||ss(s)?!0:yc.test(s)||!Dc.test(s)||r!=null&&s in Xt(r)}function Of(s){var r=typeof s;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?s!=="__proto__":s===null}function Ga(s){var r=Mn(s),u=A[r];if(typeof u!="function"||!(r in bt.prototype))return!1;if(s===u)return!0;var l=Ua(u);return!!l&&s===l[0]}function Nf(s){return!!Nh&&Nh in s}var Ff=an?Gs:lu;function Br(s){var r=s&&s.constructor,u=typeof r=="function"&&r.prototype||xr;return s===u}function Oo(s){return s===s&&!Zt(s)}function No(s,r){return function(u){return u==null?!1:u[s]===r&&(r!==e||s in Xt(u))}}function Pf(s){var r=Vn(s,function(l){return u.size===f&&u.clear(),l}),u=r.cache;return r}function Bf(s,r){var u=s[1],l=r[1],d=u|l,D=d<(F|b|K),T=l==K&&u==E||l==K&&u==nt&&s[7].length<=r[8]||l==(K|nt)&&r[7].length<=r[8]&&u==E;if(!(D||T))return s;l&F&&(s[2]=r[2],d|=u&F?0:v);var C=r[3];if(C){var M=s[3];s[3]=M?fo(M,C,r[4]):C,s[4]=M?si(s[3],g):r[4]}return C=r[5],C&&(M=s[5],s[5]=M?po(M,C,r[6]):C,s[6]=M?si(s[5],g):r[6]),C=r[7],C&&(s[7]=C),l&K&&(s[8]=s[8]==null?r[8]:xe(s[8],r[8])),s[9]==null&&(s[9]=r[9]),s[0]=r[0],s[1]=d,s}function Vf(s){var r=[];if(s!=null)for(var u in Xt(s))r.push(u);return r}function _f(s){return Fh.call(s)}function Fo(s,r,u){return r=ae(r===e?s.length-1:r,0),function(){for(var l=arguments,d=-1,D=ae(l.length-r,0),T=P(D);++d<D;)T[d]=l[r+d];d=-1;for(var C=P(r+1);++d<r;)C[d]=l[d];return C[r]=u(T),Ye(s,this,C)}}function Po(s,r){return r.length<2?s:$i(s,ps(r,0,-1))}function Rf(s,r){for(var u=s.length,l=xe(r.length,u),d=Xe(s);l--;){var D=r[l];s[l]=js(D,u)?d[D]:e}return s}var Bo=_o(ro),Vr=j2||function(s,r){return ce.setTimeout(s,r)},Wa=_o(sf);function Vo(s,r,u){var l=r+"";return Wa(s,Sf(l,Lf(Tf(l),u)))}function _o(s){var r=0,u=0;return function(){var l=J2(),d=jt-(l-u);if(u=l,d>0){if(++r>=Q)return arguments[0]}else r=0;return s.apply(e,arguments)}}function Nn(s,r){var u=-1,l=s.length,d=l-1;for(r=r===e?l:r;++u<r;){var D=Na(u,d),T=s[D];s[D]=s[u],s[u]=T}return s.length=r,s}var Ro=Pf(function(s){var r=[];return Ec.test(s)&&r.push(""),s.replace(xc,function(u,l,d,D){r.push(d?D.replace(Sc,"$1"):l||u)}),r});function Ps(s){if(typeof s=="string"||ss(s))return s;var r=s+"";return r=="0"&&1/s==-U?"-0":r}function Si(s){if(s!=null){try{return un.call(s)}catch{}try{return s+""}catch{}}return""}function Lf(s,r){return ms(Lt,function(u){var l="_."+u[0];r&u[1]&&!sn(s,l)&&s.push(l)}),s.sort()}function Lo(s){if(s instanceof bt)return s.clone();var r=new ds(s.__wrapped__,s.__chain__);return r.__actions__=Xe(s.__actions__),r.__index__=s.__index__,r.__values__=s.__values__,r}function Yf(s,r,u){(u?qe(s,r,u):r===e)?r=1:r=ae(dt(r),0);var l=s==null?0:s.length;if(!l||r<1)return[];for(var d=0,D=0,T=P(fn(l/r));d<l;)T[D++]=ps(s,d,d+=r);return T}function Xf(s){for(var r=-1,u=s==null?0:s.length,l=0,d=[];++r<u;){var D=s[r];D&&(d[l++]=D)}return d}function qf(){var s=arguments.length;if(!s)return[];for(var r=P(s-1),u=arguments[0],l=s;l--;)r[l-1]=arguments[l];return ei(ft(u)?Xe(u):[u],ge(r,1))}var zf=Dt(function(s,r){return Qt(s)?Mr(s,ge(r,1,Qt,!0)):[]}),kf=Dt(function(s,r){var u=gs(r);return Qt(u)&&(u=e),Qt(s)?Mr(s,ge(r,1,Qt,!0),it(u,2)):[]}),Uf=Dt(function(s,r){var u=gs(r);return Qt(u)&&(u=e),Qt(s)?Mr(s,ge(r,1,Qt,!0),e,u):[]});function Hf(s,r,u){var l=s==null?0:s.length;return l?(r=u||r===e?1:dt(r),ps(s,r<0?0:r,l)):[]}function Zf(s,r,u){var l=s==null?0:s.length;return l?(r=u||r===e?1:dt(r),r=l-r,ps(s,0,r<0?0:r)):[]}function jf(s,r){return s&&s.length?wn(s,it(r,3),!0,!0):[]}function Gf(s,r){return s&&s.length?wn(s,it(r,3),!0):[]}function Wf(s,r,u,l){var d=s==null?0:s.length;return d?(u&&typeof u!="number"&&qe(s,r,u)&&(u=0,l=d),Rm(s,r,u,l)):[]}function Yo(s,r,u){var l=s==null?0:s.length;if(!l)return-1;var d=u==null?0:dt(u);return d<0&&(d=ae(l+d,0)),rn(s,it(r,3),d)}function Xo(s,r,u){var l=s==null?0:s.length;if(!l)return-1;var d=l-1;return u!==e&&(d=dt(u),d=u<0?ae(l+d,0):xe(d,l-1)),rn(s,it(r,3),d,!0)}function qo(s){var r=s==null?0:s.length;return r?ge(s,1):[]}function $f(s){var r=s==null?0:s.length;return r?ge(s,U):[]}function Kf(s,r){var u=s==null?0:s.length;return u?(r=r===e?1:dt(r),ge(s,r)):[]}function Jf(s){for(var r=-1,u=s==null?0:s.length,l={};++r<u;){var d=s[r];l[d[0]]=d[1]}return l}function zo(s){return s&&s.length?s[0]:e}function Qf(s,r,u){var l=s==null?0:s.length;if(!l)return-1;var d=u==null?0:dt(u);return d<0&&(d=ae(l+d,0)),Ui(s,r,d)}function td(s){var r=s==null?0:s.length;return r?ps(s,0,-1):[]}var ed=Dt(function(s){var r=Ht(s,_a);return r.length&&r[0]===s[0]?Ia(r):[]}),sd=Dt(function(s){var r=gs(s),u=Ht(s,_a);return r===gs(u)?r=e:u.pop(),u.length&&u[0]===s[0]?Ia(u,it(r,2)):[]}),id=Dt(function(s){var r=gs(s),u=Ht(s,_a);return r=typeof r=="function"?r:e,r&&u.pop(),u.length&&u[0]===s[0]?Ia(u,e,r):[]});function rd(s,r){return s==null?"":$2.call(s,r)}function gs(s){var r=s==null?0:s.length;return r?s[r-1]:e}function nd(s,r,u){var l=s==null?0:s.length;if(!l)return-1;var d=l;return u!==e&&(d=dt(u),d=d<0?ae(l+d,0):xe(d,l-1)),r===r?P2(s,r,d):rn(s,Th,d,!0)}function ad(s,r){return s&&s.length?to(s,dt(r)):e}var ud=Dt(ko);function ko(s,r){return s&&s.length&&r&&r.length?Oa(s,r):s}function hd(s,r,u){return s&&s.length&&r&&r.length?Oa(s,r,it(u,2)):s}function od(s,r,u){return s&&s.length&&r&&r.length?Oa(s,r,e,u):s}var ld=Zs(function(s,r){var u=s==null?0:s.length,l=ba(s,r);return io(s,Ht(r,function(d){return js(d,u)?+d:d}).sort(mo)),l});function cd(s,r){var u=[];if(!(s&&s.length))return u;var l=-1,d=[],D=s.length;for(r=it(r,3);++l<D;){var T=s[l];r(T,l,s)&&(u.push(T),d.push(l))}return io(s,d),u}function $a(s){return s==null?s:tm.call(s)}function md(s,r,u){var l=s==null?0:s.length;return l?(u&&typeof u!="number"&&qe(s,r,u)?(r=0,u=l):(r=r==null?0:dt(r),u=u===e?l:dt(u)),ps(s,r,u)):[]}function fd(s,r){return bn(s,r)}function dd(s,r,u){return Pa(s,r,it(u,2))}function pd(s,r){var u=s==null?0:s.length;if(u){var l=bn(s,r);if(l<u&&Bs(s[l],r))return l}return-1}function gd(s,r){return bn(s,r,!0)}function Ad(s,r,u){return Pa(s,r,it(u,2),!0)}function Dd(s,r){var u=s==null?0:s.length;if(u){var l=bn(s,r,!0)-1;if(Bs(s[l],r))return l}return-1}function yd(s){return s&&s.length?no(s):[]}function Ed(s,r){return s&&s.length?no(s,it(r,2)):[]}function xd(s){var r=s==null?0:s.length;return r?ps(s,1,r):[]}function bd(s,r,u){return s&&s.length?(r=u||r===e?1:dt(r),ps(s,0,r<0?0:r)):[]}function wd(s,r,u){var l=s==null?0:s.length;return l?(r=u||r===e?1:dt(r),r=l-r,ps(s,r<0?0:r,l)):[]}function vd(s,r){return s&&s.length?wn(s,it(r,3),!1,!0):[]}function Td(s,r){return s&&s.length?wn(s,it(r,3)):[]}var Id=Dt(function(s){return ni(ge(s,1,Qt,!0))}),Cd=Dt(function(s){var r=gs(s);return Qt(r)&&(r=e),ni(ge(s,1,Qt,!0),it(r,2))}),Sd=Dt(function(s){var r=gs(s);return r=typeof r=="function"?r:e,ni(ge(s,1,Qt,!0),e,r)});function Md(s){return s&&s.length?ni(s):[]}function Od(s,r){return s&&s.length?ni(s,it(r,2)):[]}function Nd(s,r){return r=typeof r=="function"?r:e,s&&s.length?ni(s,e,r):[]}function Ka(s){if(!(s&&s.length))return[];var r=0;return s=ti(s,function(u){if(Qt(u))return r=ae(u.length,r),!0}),pa(r,function(u){return Ht(s,ma(u))})}function Uo(s,r){if(!(s&&s.length))return[];var u=Ka(s);return r==null?u:Ht(u,function(l){return Ye(r,e,l)})}var Fd=Dt(function(s,r){return Qt(s)?Mr(s,r):[]}),Pd=Dt(function(s){return Va(ti(s,Qt))}),Bd=Dt(function(s){var r=gs(s);return Qt(r)&&(r=e),Va(ti(s,Qt),it(r,2))}),Vd=Dt(function(s){var r=gs(s);return r=typeof r=="function"?r:e,Va(ti(s,Qt),e,r)}),_d=Dt(Ka);function Rd(s,r){return oo(s||[],r||[],Sr)}function Ld(s,r){return oo(s||[],r||[],Fr)}var Yd=Dt(function(s){var r=s.length,u=r>1?s[r-1]:e;return u=typeof u=="function"?(s.pop(),u):e,Uo(s,u)});function Ho(s){var r=A(s);return r.__chain__=!0,r}function Xd(s,r){return r(s),s}function Fn(s,r){return r(s)}var qd=Zs(function(s){var r=s.length,u=r?s[0]:0,l=this.__wrapped__,d=function(D){return ba(D,s)};return r>1||this.__actions__.length||!(l instanceof bt)||!js(u)?this.thru(d):(l=l.slice(u,+u+(r?1:0)),l.__actions__.push({func:Fn,args:[d],thisArg:e}),new ds(l,this.__chain__).thru(function(D){return r&&!D.length&&D.push(e),D}))});function zd(){return Ho(this)}function kd(){return new ds(this.value(),this.__chain__)}function Ud(){this.__values__===e&&(this.__values__=il(this.value()));var s=this.__index__>=this.__values__.length,r=s?e:this.__values__[this.__index__++];return{done:s,value:r}}function Hd(){return this}function Zd(s){for(var r,u=this;u instanceof An;){var l=Lo(u);l.__index__=0,l.__values__=e,r?d.__wrapped__=l:r=l;var d=l;u=u.__wrapped__}return d.__wrapped__=s,r}function jd(){var s=this.__wrapped__;if(s instanceof bt){var r=s;return this.__actions__.length&&(r=new bt(this)),r=r.reverse(),r.__actions__.push({func:Fn,args:[$a],thisArg:e}),new ds(r,this.__chain__)}return this.thru($a)}function Gd(){return ho(this.__wrapped__,this.__actions__)}var Wd=vn(function(s,r,u){kt.call(s,u)?++s[u]:Us(s,u,1)});function $d(s,r,u){var l=ft(s)?wh:_m;return u&&qe(s,r,u)&&(r=e),l(s,it(r,3))}function Kd(s,r){var u=ft(s)?ti:Hh;return u(s,it(r,3))}var Jd=yo(Yo),Qd=yo(Xo);function tp(s,r){return ge(Pn(s,r),1)}function ep(s,r){return ge(Pn(s,r),U)}function sp(s,r,u){return u=u===e?1:dt(u),ge(Pn(s,r),u)}function Zo(s,r){var u=ft(s)?ms:ri;return u(s,it(r,3))}function jo(s,r){var u=ft(s)?g2:Uh;return u(s,it(r,3))}var ip=vn(function(s,r,u){kt.call(s,u)?s[u].push(r):Us(s,u,[r])});function rp(s,r,u,l){s=ze(s)?s:er(s),u=u&&!l?dt(u):0;var d=s.length;return u<0&&(u=ae(d+u,0)),Ln(s)?u<=d&&s.indexOf(r,u)>-1:!!d&&Ui(s,r,u)>-1}var np=Dt(function(s,r,u){var l=-1,d=typeof r=="function",D=ze(s)?P(s.length):[];return ri(s,function(T){D[++l]=d?Ye(r,T,u):Or(T,r,u)}),D}),ap=vn(function(s,r,u){Us(s,u,r)});function Pn(s,r){var u=ft(s)?Ht:Kh;return u(s,it(r,3))}function up(s,r,u,l){return s==null?[]:(ft(r)||(r=r==null?[]:[r]),u=l?e:u,ft(u)||(u=u==null?[]:[u]),eo(s,r,u))}var hp=vn(function(s,r,u){s[u?0:1].push(r)},function(){return[[],[]]});function op(s,r,u){var l=ft(s)?Dr:Ch,d=arguments.length<3;return l(s,it(r,4),u,d,ri)}function lp(s,r,u){var l=ft(s)?A2:Ch,d=arguments.length<3;return l(s,it(r,4),u,d,Uh)}function cp(s,r){var u=ft(s)?ti:Hh;return u(s,_n(it(r,3)))}function mp(s){var r=ft(s)?Xh:tf;return r(s)}function fp(s,r,u){(u?qe(s,r,u):r===e)?r=1:r=dt(r);var l=ft(s)?Nm:ef;return l(s,r)}function dp(s){var r=ft(s)?Fm:rf;return r(s)}function pp(s){if(s==null)return 0;if(ze(s))return Ln(s)?ji(s):s.length;var r=be(s);return r==Le||r==le?s.size:Sa(s).length}function gp(s,r,u){var l=ft(s)?ca:nf;return u&&qe(s,r,u)&&(r=e),l(s,it(r,3))}var Ap=Dt(function(s,r){if(s==null)return[];var u=r.length;return u>1&&qe(s,r[0],r[1])?r=[]:u>2&&qe(r[0],r[1],r[2])&&(r=[r[0]]),eo(s,ge(r,1),[])}),Bn=Z2||function(){return ce.Date.now()};function Dp(s,r){if(typeof r!="function")throw new fs(h);return s=dt(s),function(){if(--s<1)return r.apply(this,arguments)}}function Go(s,r,u){return r=u?e:r,r=s&&r==null?s.length:r,Hs(s,K,e,e,e,e,r)}function Wo(s,r){var u;if(typeof r!="function")throw new fs(h);return s=dt(s),function(){return--s>0&&(u=r.apply(this,arguments)),s<=1&&(r=e),u}}var Ja=Dt(function(s,r,u){var l=F;if(u.length){var d=si(u,Qi(Ja));l|=Y}return Hs(s,l,r,u,d)}),$o=Dt(function(s,r,u){var l=F|b;if(u.length){var d=si(u,Qi($o));l|=Y}return Hs(r,l,s,u,d)});function Ko(s,r,u){r=u?e:r;var l=Hs(s,E,e,e,e,e,e,r);return l.placeholder=Ko.placeholder,l}function Jo(s,r,u){r=u?e:r;var l=Hs(s,B,e,e,e,e,e,r);return l.placeholder=Jo.placeholder,l}function Qo(s,r,u){var l,d,D,T,C,M,L=0,R=!1,X=!1,Z=!0;if(typeof s!="function")throw new fs(h);r=As(r)||0,Zt(u)&&(R=!!u.leading,X="maxWait"in u,D=X?ae(As(u.maxWait)||0,r):D,Z="trailing"in u?!!u.trailing:Z);function J(te){var Ss=l,$s=d;return l=d=e,L=te,T=s.apply($s,Ss),T}function at(te){return L=te,C=Vr(It,r),R?J(te):T}function Et(te){var Ss=te-M,$s=te-L,gl=r-Ss;return X?xe(gl,D-$s):gl}function ot(te){var Ss=te-M,$s=te-L;return M===e||Ss>=r||Ss<0||X&&$s>=D}function It(){var te=Bn();if(ot(te))return Ft(te);C=Vr(It,Et(te))}function Ft(te){return C=e,Z&&l?J(te):(l=d=e,T)}function Se(){C!==e&&uf(C),L=0,l=M=d=C=e}function Me(){return C===e?T:Ft(Bn())}function oi(){var te=Bn(),Ss=ot(te);if(l=arguments,d=this,M=te,Ss){if(C===e)return at(M);if(X)return C=Vr(It,r),J(M)}return C===e&&(C=Vr(It,r)),T}return oi.cancel=Se,oi.flush=Me,oi}var yp=Dt(function(s,r){return kh(s,1,r)}),Ep=Dt(function(s,r,u){return kh(s,As(r)||0,u)});function xp(s){return Hs(s,tt)}function Vn(s,r){if(typeof s!="function"||r!=null&&typeof r!="function")throw new fs(h);var u=function(){var l=arguments,d=r?r.apply(this,l):l[0],D=u.cache;if(D.has(d))return D.get(d);var T=s.apply(this,l);return u.cache=D.set(d,T)||D,T};return u.cache=new(Vn.Cache||ks),u}Vn.Cache=ks;function _n(s){if(typeof s!="function")throw new fs(h);return function(){var r=arguments;switch(r.length){case 0:return!s.call(this);case 1:return!s.call(this,r[0]);case 2:return!s.call(this,r[0],r[1]);case 3:return!s.call(this,r[0],r[1],r[2])}return!s.apply(this,r)}}function bp(s){return Wo(2,s)}var wp=af(function(s,r){r=r.length==1&&ft(r[0])?Ht(r[0],ts(it())):Ht(ge(r,1),ts(it()));var u=r.length;return Dt(function(l){for(var d=-1,D=xe(l.length,u);++d<D;)l[d]=r[d].call(this,l[d]);return Ye(s,this,l)})}),Qa=Dt(function(s,r){var u=si(r,Qi(Qa));return Hs(s,Y,e,r,u)}),tl=Dt(function(s,r){var u=si(r,Qi(tl));return Hs(s,q,e,r,u)}),vp=Zs(function(s,r){return Hs(s,nt,e,e,e,r)});function Tp(s,r){if(typeof s!="function")throw new fs(h);return r=r===e?r:dt(r),Dt(s,r)}function Ip(s,r){if(typeof s!="function")throw new fs(h);return r=r==null?0:ae(dt(r),0),Dt(function(u){var l=u[r],d=ui(u,0,r);return l&&ei(d,l),Ye(s,this,d)})}function Cp(s,r,u){var l=!0,d=!0;if(typeof s!="function")throw new fs(h);return Zt(u)&&(l="leading"in u?!!u.leading:l,d="trailing"in u?!!u.trailing:d),Qo(s,r,{leading:l,maxWait:r,trailing:d})}function Sp(s){return Go(s,1)}function Mp(s,r){return Qa(Ra(r),s)}function Op(){if(!arguments.length)return[];var s=arguments[0];return ft(s)?s:[s]}function Np(s){return Cs(s,I)}function Fp(s,r){return r=typeof r=="function"?r:e,Cs(s,I,r)}function Pp(s){return Cs(s,y|I)}function Bp(s,r){return r=typeof r=="function"?r:e,Cs(s,y|I,r)}function Vp(s,r){return r==null||zh(s,r,me(r))}function Bs(s,r){return s===r||s!==s&&r!==r}var _p=Sn(Ta),Rp=Sn(function(s,r){return s>=r}),Mi=Gh(function(){return arguments}())?Gh:function(s){return $t(s)&&kt.call(s,"callee")&&!Vh.call(s,"callee")},ft=P.isArray,Lp=Ah?ts(Ah):zm;function ze(s){return s!=null&&Rn(s.length)&&!Gs(s)}function Qt(s){return $t(s)&&ze(s)}function Yp(s){return s===!0||s===!1||$t(s)&&Ce(s)==De}var hi=G2||lu,Xp=Dh?ts(Dh):km;function qp(s){return $t(s)&&s.nodeType===1&&!_r(s)}function zp(s){if(s==null)return!0;if(ze(s)&&(ft(s)||typeof s=="string"||typeof s.splice=="function"||hi(s)||tr(s)||Mi(s)))return!s.length;var r=be(s);if(r==Le||r==le)return!s.size;if(Br(s))return!Sa(s).length;for(var u in s)if(kt.call(s,u))return!1;return!0}function kp(s,r){return Nr(s,r)}function Up(s,r,u){u=typeof u=="function"?u:e;var l=u?u(s,r):e;return l===e?Nr(s,r,e,u):!!l}function tu(s){if(!$t(s))return!1;var r=Ce(s);return r==ws||r==yi||typeof s.message=="string"&&typeof s.name=="string"&&!_r(s)}function Hp(s){return typeof s=="number"&&W2(s)}function Gs(s){if(!Zt(s))return!1;var r=Ce(s);return r==Wt||r==vs||r==hs||r==re}function el(s){return typeof s=="number"&&s==dt(s)}function Rn(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=ht}function Zt(s){var r=typeof s;return s!=null&&(r=="object"||r=="function")}function $t(s){return s!=null&&typeof s=="object"}var Zp=yh?ts(yh):Hm;function jp(s,r){return s===r||Ca(s,r,Ha(r))}function Gp(s,r,u){return u=typeof u=="function"?u:e,Ca(s,r,Ha(r),u)}function Wp(s){return sl(s)&&s!=+s}function $p(s){if(Ff(s))throw new ct(a);return Wh(s)}function Kp(s){return s===null}function Jp(s){return s==null}function sl(s){return typeof s=="number"||$t(s)&&Ce(s)==qs}function _r(s){if(!$t(s)||Ce(s)!=os)return!1;var r=ln(s);if(r===null)return!0;var u=kt.call(r,"constructor")&&r.constructor;return typeof u=="function"&&u instanceof u&&un.call(u)==z2}var eu=Eh?ts(Eh):Zm;function Qp(s){return el(s)&&s>=-ht&&s<=ht}var t0=xh?ts(xh):jm;function Ln(s){return typeof s=="string"||!ft(s)&&$t(s)&&Ce(s)==xi}function ss(s){return typeof s=="symbol"||$t(s)&&Ce(s)==qi}var tr=bh?ts(bh):Gm;function e0(s){return s===e}function s0(s){return $t(s)&&be(s)==gt}function i0(s){return $t(s)&&Ce(s)==H}var r0=Sn(Ma),n0=Sn(function(s,r){return s<=r});function il(s){if(!s)return[];if(ze(s))return Ln(s)?Ts(s):Xe(s);if(br&&s[br])return O2(s[br]());var r=be(s),u=r==Le?Er:r==le?Zi:er;return u(s)}function Ws(s){if(!s)return s===0?s:0;if(s=As(s),s===U||s===-U){var r=s<0?-1:1;return r*Rt}return s===s?s:0}function dt(s){var r=Ws(s),u=r%1;return r===r?u?r-u:r:0}function rl(s){return s?Ii(dt(s),0,st):0}function As(s){if(typeof s=="number")return s;if(ss(s))return At;if(Zt(s)){var r=typeof s.valueOf=="function"?s.valueOf():s;s=Zt(r)?r+"":r}if(typeof s!="string")return s===0?s:+s;s=s.replace(Gu,"");var u=Nc.test(s);return u||Pc.test(s)?c2(s.slice(2),u?2:8):Oc.test(s)?At:+s}function nl(s){return Fs(s,is(s))}function a0(s){return s?Ii(dt(s),-ht,ht):s===0?s:0}function Nt(s){return s==null?"":es(s)}var u0=Ki(function(s,r){if(Br(r)||ze(r)){Fs(r,me(r),s);return}for(var u in r)kt.call(r,u)&&Sr(s,u,r[u])}),al=Ki(function(s,r){Fs(r,is(r),s)}),Rr=Ki(function(s,r,u,l){Fs(r,is(r),s,l)}),h0=Ki(function(s,r,u,l){Fs(r,me(r),s,l)}),o0=Zs(ba);function l0(s,r){var u=Wi(s);return r==null?u:qh(u,r)}var c0=Dt(function(s){return s.push(e,qa),Ye(Rr,e,s)}),m0=Dt(function(s){return s.push(e,To),Ye(ul,e,s)});function f0(s,r){return vh(s,it(r,3),Ns)}function d0(s,r){return vh(s,it(r,3),va)}function p0(s,r){return s==null?s:wa(s,it(r,3),is)}function g0(s,r){return s==null?s:Zh(s,it(r,3),is)}function A0(s,r){return s&&Ns(s,it(r,3))}function D0(s,r){return s&&va(s,it(r,3))}function y0(s){return s==null?[]:En(s,me(s))}function E0(s){return s==null?[]:En(s,is(s))}function su(s,r,u){var l=s==null?e:$i(s,r);return l===e?u:l}function x0(s,r){return s!=null&&So(s,r,Lm)}function iu(s,r){return s!=null&&So(s,r,Ym)}var b0=xo(function(s,r,u){s[r]=u},nu(ke)),w0=xo(function(s,r,u){kt.call(s,r)?s[r].push(u):s[r]=[u]},it),v0=Dt(Or);function me(s){return ze(s)?Yh(s):Sa(s)}function is(s){return ze(s)?Yh(s,!0):Wm(s)}function T0(s,r){var u={};return r=it(r,3),Ns(s,function(l,d,D){Us(u,r(l,d,D),l)}),u}function I0(s,r){var u={};return r=it(r,3),Ns(s,function(l,d,D){Us(u,d,r(l,d,D))}),u}var C0=Ki(function(s,r,u){xn(s,r,u)}),ul=Ki(function(s,r,u,l){xn(s,r,u,l)}),S0=Zs(function(s,r){var u={};if(s==null)return u;var l=!1;r=Ht(r,function(D){return D=ai(D,s),l||(l=D.length>1),D}),Fs(s,ka(s),u),l&&(u=Cs(u,y|w|I,Ef));for(var d=r.length;d--;)Ba(u,r[d]);return u});function M0(s,r){return hl(s,_n(it(r)))}var O0=Zs(function(s,r){return s==null?{}:Km(s,r)});function hl(s,r){if(s==null)return{};var u=Ht(ka(s),function(l){return[l]});return r=it(r),so(s,u,function(l,d){return r(l,d[0])})}function N0(s,r,u){r=ai(r,s);var l=-1,d=r.length;for(d||(d=1,s=e);++l<d;){var D=s==null?e:s[Ps(r[l])];D===e&&(l=d,D=u),s=Gs(D)?D.call(s):D}return s}function F0(s,r,u){return s==null?s:Fr(s,r,u)}function P0(s,r,u,l){return l=typeof l=="function"?l:e,s==null?s:Fr(s,r,u,l)}var ol=vo(me),ll=vo(is);function B0(s,r,u){var l=ft(s),d=l||hi(s)||tr(s);if(r=it(r,4),u==null){var D=s&&s.constructor;d?u=l?new D:[]:Zt(s)?u=Gs(D)?Wi(ln(s)):{}:u={}}return(d?ms:Ns)(s,function(T,C,M){return r(u,T,C,M)}),u}function V0(s,r){return s==null?!0:Ba(s,r)}function _0(s,r,u){return s==null?s:uo(s,r,Ra(u))}function R0(s,r,u,l){return l=typeof l=="function"?l:e,s==null?s:uo(s,r,Ra(u),l)}function er(s){return s==null?[]:ga(s,me(s))}function L0(s){return s==null?[]:ga(s,is(s))}function Y0(s,r,u){return u===e&&(u=r,r=e),u!==e&&(u=As(u),u=u===u?u:0),r!==e&&(r=As(r),r=r===r?r:0),Ii(As(s),r,u)}function X0(s,r,u){return r=Ws(r),u===e?(u=r,r=0):u=Ws(u),s=As(s),Xm(s,r,u)}function q0(s,r,u){if(u&&typeof u!="boolean"&&qe(s,r,u)&&(r=u=e),u===e&&(typeof r=="boolean"?(u=r,r=e):typeof s=="boolean"&&(u=s,s=e)),s===e&&r===e?(s=0,r=1):(s=Ws(s),r===e?(r=s,s=0):r=Ws(r)),s>r){var l=s;s=r,r=l}if(u||s%1||r%1){var d=Rh();return xe(s+d*(r-s+l2("1e-"+((d+"").length-1))),r)}return Na(s,r)}var z0=Ji(function(s,r,u){return r=r.toLowerCase(),s+(u?cl(r):r)});function cl(s){return ru(Nt(s).toLowerCase())}function ml(s){return s=Nt(s),s&&s.replace(Vc,T2).replace(t2,"")}function k0(s,r,u){s=Nt(s),r=es(r);var l=s.length;u=u===e?l:Ii(dt(u),0,l);var d=u;return u-=r.length,u>=0&&s.slice(u,d)==r}function U0(s){return s=Nt(s),s&&pc.test(s)?s.replace(Zu,I2):s}function H0(s){return s=Nt(s),s&&bc.test(s)?s.replace(sa,"\\$&"):s}var Z0=Ji(function(s,r,u){return s+(u?"-":"")+r.toLowerCase()}),j0=Ji(function(s,r,u){return s+(u?" ":"")+r.toLowerCase()}),G0=Do("toLowerCase");function W0(s,r,u){s=Nt(s),r=dt(r);var l=r?ji(s):0;if(!r||l>=r)return s;var d=(r-l)/2;return Cn(dn(d),u)+s+Cn(fn(d),u)}function $0(s,r,u){s=Nt(s),r=dt(r);var l=r?ji(s):0;return r&&l<r?s+Cn(r-l,u):s}function K0(s,r,u){s=Nt(s),r=dt(r);var l=r?ji(s):0;return r&&l<r?Cn(r-l,u)+s:s}function J0(s,r,u){return u||r==null?r=0:r&&(r=+r),Q2(Nt(s).replace(Wu,""),r||0)}function Q0(s,r,u){return(u?qe(s,r,u):r===e)?r=1:r=dt(r),Fa(Nt(s),r)}function tg(){var s=arguments,r=Nt(s[0]);return s.length<3?r:r.replace(s[1],s[2])}var eg=Ji(function(s,r,u){return s+(u?"_":"")+r.toLowerCase()});function sg(s,r,u){return u&&typeof u!="number"&&qe(s,r,u)&&(r=u=e),u=u===e?st:u>>>0,u?(s=Nt(s),s&&(typeof r=="string"||r!=null&&!eu(r))&&(r=es(r),!r&&Hi(s))?ui(Ts(s),0,u):s.split(r,u)):[]}var ig=Ji(function(s,r,u){return s+(u?" ":"")+ru(r)});function rg(s,r,u){return s=Nt(s),u=u==null?0:Ii(dt(u),0,s.length),r=es(r),s.slice(u,u+r.length)==r}function ng(s,r,u){var l=A.templateSettings;u&&qe(s,r,u)&&(r=e),s=Nt(s),r=Rr({},r,l,qa);var d=Rr({},r.imports,l.imports,qa),D=me(d),T=ga(d,D),C,M,L=0,R=r.interpolate||Jr,X="__p += '",Z=Aa((r.escape||Jr).source+"|"+R.source+"|"+(R===ju?Mc:Jr).source+"|"+(r.evaluate||Jr).source+"|$","g"),J="//# sourceURL="+("sourceURL"in r?r.sourceURL:"lodash.templateSources["+ ++n2+"]")+`
`;s.replace(Z,function(ot,It,Ft,Se,Me,oi){return Ft||(Ft=Se),X+=s.slice(L,oi).replace(_c,C2),It&&(C=!0,X+=`' +
__e(`+It+`) +
'`),Me&&(M=!0,X+=`';
`+Me+`;
__p += '`),Ft&&(X+=`' +
((__t = (`+Ft+`)) == null ? '' : __t) +
'`),L=oi+ot.length,ot}),X+=`';
`;var at=r.variable;at||(X=`with (obj) {
`+X+`
}
`),X=(M?X.replace(cc,""):X).replace(mc,"$1").replace(fc,"$1;"),X="function("+(at||"obj")+`) {
`+(at?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(C?", __e = _.escape":"")+(M?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+X+`return __p
}`;var Et=dl(function(){return Ct(D,J+"return "+X).apply(e,T)});if(Et.source=X,tu(Et))throw Et;return Et}function ag(s){return Nt(s).toLowerCase()}function ug(s){return Nt(s).toUpperCase()}function hg(s,r,u){if(s=Nt(s),s&&(u||r===e))return s.replace(Gu,"");if(!s||!(r=es(r)))return s;var l=Ts(s),d=Ts(r),D=Sh(l,d),T=Mh(l,d)+1;return ui(l,D,T).join("")}function og(s,r,u){if(s=Nt(s),s&&(u||r===e))return s.replace(wc,"");if(!s||!(r=es(r)))return s;var l=Ts(s),d=Mh(l,Ts(r))+1;return ui(l,0,d).join("")}function lg(s,r,u){if(s=Nt(s),s&&(u||r===e))return s.replace(Wu,"");if(!s||!(r=es(r)))return s;var l=Ts(s),d=Sh(l,Ts(r));return ui(l,d).join("")}function cg(s,r){var u=m,l=p;if(Zt(r)){var d="separator"in r?r.separator:d;u="length"in r?dt(r.length):u,l="omission"in r?es(r.omission):l}s=Nt(s);var D=s.length;if(Hi(s)){var T=Ts(s);D=T.length}if(u>=D)return s;var C=u-ji(l);if(C<1)return l;var M=T?ui(T,0,C).join(""):s.slice(0,C);if(d===e)return M+l;if(T&&(C+=M.length-C),eu(d)){if(s.slice(C).search(d)){var L,R=M;for(d.global||(d=Aa(d.source,Nt($u.exec(d))+"g")),d.lastIndex=0;L=d.exec(R);)var X=L.index;M=M.slice(0,X===e?C:X)}}else if(s.indexOf(es(d),C)!=C){var Z=M.lastIndexOf(d);Z>-1&&(M=M.slice(0,Z))}return M+l}function mg(s){return s=Nt(s),s&&dc.test(s)?s.replace(Hu,B2):s}var fg=Ji(function(s,r,u){return s+(u?" ":"")+r.toUpperCase()}),ru=Do("toUpperCase");function fl(s,r,u){return s=Nt(s),r=u?e:r,r===e?M2(s)?R2(s):E2(s):s.match(r)||[]}var dl=Dt(function(s,r){try{return Ye(s,e,r)}catch(u){return tu(u)?u:new ct(u)}}),dg=Zs(function(s,r){return ms(r,function(u){u=Ps(u),Us(s,u,Ja(s[u],s))}),s});function pg(s){var r=s==null?0:s.length,u=it();return s=r?Ht(s,function(l){if(typeof l[1]!="function")throw new fs(h);return[u(l[0]),l[1]]}):[],Dt(function(l){for(var d=-1;++d<r;){var D=s[d];if(Ye(D[0],this,l))return Ye(D[1],this,l)}})}function gg(s){return Vm(Cs(s,y))}function nu(s){return function(){return s}}function Ag(s,r){return s==null||s!==s?r:s}var Dg=Eo(),yg=Eo(!0);function ke(s){return s}function au(s){return $h(typeof s=="function"?s:Cs(s,y))}function Eg(s){return Jh(Cs(s,y))}function xg(s,r){return Qh(s,Cs(r,y))}var bg=Dt(function(s,r){return function(u){return Or(u,s,r)}}),wg=Dt(function(s,r){return function(u){return Or(s,u,r)}});function uu(s,r,u){var l=me(r),d=En(r,l);u==null&&!(Zt(r)&&(d.length||!l.length))&&(u=r,r=s,s=this,d=En(r,me(r)));var D=!(Zt(u)&&"chain"in u)||!!u.chain,T=Gs(s);return ms(d,function(C){var M=r[C];s[C]=M,T&&(s.prototype[C]=function(){var L=this.__chain__;if(D||L){var R=s(this.__wrapped__),X=R.__actions__=Xe(this.__actions__);return X.push({func:M,args:arguments,thisArg:s}),R.__chain__=L,R}return M.apply(s,ei([this.value()],arguments))})}),s}function vg(){return ce._===this&&(ce._=k2),this}function hu(){}function Tg(s){return s=dt(s),Dt(function(r){return to(r,s)})}var Ig=Ya(Ht),Cg=Ya(wh),Sg=Ya(ca);function pl(s){return ja(s)?ma(Ps(s)):Jm(s)}function Mg(s){return function(r){return s==null?e:$i(s,r)}}var Og=bo(),Ng=bo(!0);function ou(){return[]}function lu(){return!1}function Fg(){return{}}function Pg(){return""}function Bg(){return!0}function Vg(s,r){if(s=dt(s),s<1||s>ht)return[];var u=st,l=xe(s,st);r=it(r),s-=st;for(var d=pa(l,r);++u<s;)r(u);return d}function _g(s){return ft(s)?Ht(s,Ps):ss(s)?[s]:Xe(Ro(Nt(s)))}function Rg(s){var r=++q2;return Nt(s)+r}var Lg=In(function(s,r){return s+r},0),Yg=Xa("ceil"),Xg=In(function(s,r){return s/r},1),qg=Xa("floor");function zg(s){return s&&s.length?yn(s,ke,Ta):e}function kg(s,r){return s&&s.length?yn(s,it(r,2),Ta):e}function Ug(s){return Ih(s,ke)}function Hg(s,r){return Ih(s,it(r,2))}function Zg(s){return s&&s.length?yn(s,ke,Ma):e}function jg(s,r){return s&&s.length?yn(s,it(r,2),Ma):e}var Gg=In(function(s,r){return s*r},1),Wg=Xa("round"),$g=In(function(s,r){return s-r},0);function Kg(s){return s&&s.length?da(s,ke):0}function Jg(s,r){return s&&s.length?da(s,it(r,2)):0}return A.after=Dp,A.ary=Go,A.assign=u0,A.assignIn=al,A.assignInWith=Rr,A.assignWith=h0,A.at=o0,A.before=Wo,A.bind=Ja,A.bindAll=dg,A.bindKey=$o,A.castArray=Op,A.chain=Ho,A.chunk=Yf,A.compact=Xf,A.concat=qf,A.cond=pg,A.conforms=gg,A.constant=nu,A.countBy=Wd,A.create=l0,A.curry=Ko,A.curryRight=Jo,A.debounce=Qo,A.defaults=c0,A.defaultsDeep=m0,A.defer=yp,A.delay=Ep,A.difference=zf,A.differenceBy=kf,A.differenceWith=Uf,A.drop=Hf,A.dropRight=Zf,A.dropRightWhile=jf,A.dropWhile=Gf,A.fill=Wf,A.filter=Kd,A.flatMap=tp,A.flatMapDeep=ep,A.flatMapDepth=sp,A.flatten=qo,A.flattenDeep=$f,A.flattenDepth=Kf,A.flip=xp,A.flow=Dg,A.flowRight=yg,A.fromPairs=Jf,A.functions=y0,A.functionsIn=E0,A.groupBy=ip,A.initial=td,A.intersection=ed,A.intersectionBy=sd,A.intersectionWith=id,A.invert=b0,A.invertBy=w0,A.invokeMap=np,A.iteratee=au,A.keyBy=ap,A.keys=me,A.keysIn=is,A.map=Pn,A.mapKeys=T0,A.mapValues=I0,A.matches=Eg,A.matchesProperty=xg,A.memoize=Vn,A.merge=C0,A.mergeWith=ul,A.method=bg,A.methodOf=wg,A.mixin=uu,A.negate=_n,A.nthArg=Tg,A.omit=S0,A.omitBy=M0,A.once=bp,A.orderBy=up,A.over=Ig,A.overArgs=wp,A.overEvery=Cg,A.overSome=Sg,A.partial=Qa,A.partialRight=tl,A.partition=hp,A.pick=O0,A.pickBy=hl,A.property=pl,A.propertyOf=Mg,A.pull=ud,A.pullAll=ko,A.pullAllBy=hd,A.pullAllWith=od,A.pullAt=ld,A.range=Og,A.rangeRight=Ng,A.rearg=vp,A.reject=cp,A.remove=cd,A.rest=Tp,A.reverse=$a,A.sampleSize=fp,A.set=F0,A.setWith=P0,A.shuffle=dp,A.slice=md,A.sortBy=Ap,A.sortedUniq=yd,A.sortedUniqBy=Ed,A.split=sg,A.spread=Ip,A.tail=xd,A.take=bd,A.takeRight=wd,A.takeRightWhile=vd,A.takeWhile=Td,A.tap=Xd,A.throttle=Cp,A.thru=Fn,A.toArray=il,A.toPairs=ol,A.toPairsIn=ll,A.toPath=_g,A.toPlainObject=nl,A.transform=B0,A.unary=Sp,A.union=Id,A.unionBy=Cd,A.unionWith=Sd,A.uniq=Md,A.uniqBy=Od,A.uniqWith=Nd,A.unset=V0,A.unzip=Ka,A.unzipWith=Uo,A.update=_0,A.updateWith=R0,A.values=er,A.valuesIn=L0,A.without=Fd,A.words=fl,A.wrap=Mp,A.xor=Pd,A.xorBy=Bd,A.xorWith=Vd,A.zip=_d,A.zipObject=Rd,A.zipObjectDeep=Ld,A.zipWith=Yd,A.entries=ol,A.entriesIn=ll,A.extend=al,A.extendWith=Rr,uu(A,A),A.add=Lg,A.attempt=dl,A.camelCase=z0,A.capitalize=cl,A.ceil=Yg,A.clamp=Y0,A.clone=Np,A.cloneDeep=Pp,A.cloneDeepWith=Bp,A.cloneWith=Fp,A.conformsTo=Vp,A.deburr=ml,A.defaultTo=Ag,A.divide=Xg,A.endsWith=k0,A.eq=Bs,A.escape=U0,A.escapeRegExp=H0,A.every=$d,A.find=Jd,A.findIndex=Yo,A.findKey=f0,A.findLast=Qd,A.findLastIndex=Xo,A.findLastKey=d0,A.floor=qg,A.forEach=Zo,A.forEachRight=jo,A.forIn=p0,A.forInRight=g0,A.forOwn=A0,A.forOwnRight=D0,A.get=su,A.gt=_p,A.gte=Rp,A.has=x0,A.hasIn=iu,A.head=zo,A.identity=ke,A.includes=rp,A.indexOf=Qf,A.inRange=X0,A.invoke=v0,A.isArguments=Mi,A.isArray=ft,A.isArrayBuffer=Lp,A.isArrayLike=ze,A.isArrayLikeObject=Qt,A.isBoolean=Yp,A.isBuffer=hi,A.isDate=Xp,A.isElement=qp,A.isEmpty=zp,A.isEqual=kp,A.isEqualWith=Up,A.isError=tu,A.isFinite=Hp,A.isFunction=Gs,A.isInteger=el,A.isLength=Rn,A.isMap=Zp,A.isMatch=jp,A.isMatchWith=Gp,A.isNaN=Wp,A.isNative=$p,A.isNil=Jp,A.isNull=Kp,A.isNumber=sl,A.isObject=Zt,A.isObjectLike=$t,A.isPlainObject=_r,A.isRegExp=eu,A.isSafeInteger=Qp,A.isSet=t0,A.isString=Ln,A.isSymbol=ss,A.isTypedArray=tr,A.isUndefined=e0,A.isWeakMap=s0,A.isWeakSet=i0,A.join=rd,A.kebabCase=Z0,A.last=gs,A.lastIndexOf=nd,A.lowerCase=j0,A.lowerFirst=G0,A.lt=r0,A.lte=n0,A.max=zg,A.maxBy=kg,A.mean=Ug,A.meanBy=Hg,A.min=Zg,A.minBy=jg,A.stubArray=ou,A.stubFalse=lu,A.stubObject=Fg,A.stubString=Pg,A.stubTrue=Bg,A.multiply=Gg,A.nth=ad,A.noConflict=vg,A.noop=hu,A.now=Bn,A.pad=W0,A.padEnd=$0,A.padStart=K0,A.parseInt=J0,A.random=q0,A.reduce=op,A.reduceRight=lp,A.repeat=Q0,A.replace=tg,A.result=N0,A.round=Wg,A.runInContext=S,A.sample=mp,A.size=pp,A.snakeCase=eg,A.some=gp,A.sortedIndex=fd,A.sortedIndexBy=dd,A.sortedIndexOf=pd,A.sortedLastIndex=gd,A.sortedLastIndexBy=Ad,A.sortedLastIndexOf=Dd,A.startCase=ig,A.startsWith=rg,A.subtract=$g,A.sum=Kg,A.sumBy=Jg,A.template=ng,A.times=Vg,A.toFinite=Ws,A.toInteger=dt,A.toLength=rl,A.toLower=ag,A.toNumber=As,A.toSafeInteger=a0,A.toString=Nt,A.toUpper=ug,A.trim=hg,A.trimEnd=og,A.trimStart=lg,A.truncate=cg,A.unescape=mg,A.uniqueId=Rg,A.upperCase=fg,A.upperFirst=ru,A.each=Zo,A.eachRight=jo,A.first=zo,uu(A,function(){var s={};return Ns(A,function(r,u){kt.call(A.prototype,u)||(s[u]=r)}),s}(),{chain:!1}),A.VERSION=i,ms(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){A[s].placeholder=A}),ms(["drop","take"],function(s,r){bt.prototype[s]=function(u){u=u===e?1:ae(dt(u),0);var l=this.__filtered__&&!r?new bt(this):this.clone();return l.__filtered__?l.__takeCount__=xe(u,l.__takeCount__):l.__views__.push({size:xe(u,st),type:s+(l.__dir__<0?"Right":"")}),l},bt.prototype[s+"Right"]=function(u){return this.reverse()[s](u).reverse()}}),ms(["filter","map","takeWhile"],function(s,r){var u=r+1,l=u==x||u==Je;bt.prototype[s]=function(d){var D=this.clone();return D.__iteratees__.push({iteratee:it(d,3),type:u}),D.__filtered__=D.__filtered__||l,D}}),ms(["head","last"],function(s,r){var u="take"+(r?"Right":"");bt.prototype[s]=function(){return this[u](1).value()[0]}}),ms(["initial","tail"],function(s,r){var u="drop"+(r?"":"Right");bt.prototype[s]=function(){return this.__filtered__?new bt(this):this[u](1)}}),bt.prototype.compact=function(){return this.filter(ke)},bt.prototype.find=function(s){return this.filter(s).head()},bt.prototype.findLast=function(s){return this.reverse().find(s)},bt.prototype.invokeMap=Dt(function(s,r){return typeof s=="function"?new bt(this):this.map(function(u){return Or(u,s,r)})}),bt.prototype.reject=function(s){return this.filter(_n(it(s)))},bt.prototype.slice=function(s,r){s=dt(s);var u=this;return u.__filtered__&&(s>0||r<0)?new bt(u):(s<0?u=u.takeRight(-s):s&&(u=u.drop(s)),r!==e&&(r=dt(r),u=r<0?u.dropRight(-r):u.take(r-s)),u)},bt.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},bt.prototype.toArray=function(){return this.take(st)},Ns(bt.prototype,function(s,r){var u=/^(?:filter|find|map|reject)|While$/.test(r),l=/^(?:head|last)$/.test(r),d=A[l?"take"+(r=="last"?"Right":""):r],D=l||/^find/.test(r);d&&(A.prototype[r]=function(){var T=this.__wrapped__,C=l?[1]:arguments,M=T instanceof bt,L=C[0],R=M||ft(T),X=function(It){var Ft=d.apply(A,ei([It],C));return l&&Z?Ft[0]:Ft};R&&u&&typeof L=="function"&&L.length!=1&&(M=R=!1);var Z=this.__chain__,J=!!this.__actions__.length,at=D&&!Z,Et=M&&!J;if(!D&&R){T=Et?T:new bt(this);var ot=s.apply(T,C);return ot.__actions__.push({func:Fn,args:[X],thisArg:e}),new ds(ot,Z)}return at&&Et?s.apply(this,C):(ot=this.thru(X),at?l?ot.value()[0]:ot.value():ot)})}),ms(["pop","push","shift","sort","splice","unshift"],function(s){var r=nn[s],u=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",l=/^(?:pop|shift)$/.test(s);A.prototype[s]=function(){var d=arguments;if(l&&!this.__chain__){var D=this.value();return r.apply(ft(D)?D:[],d)}return this[u](function(T){return r.apply(ft(T)?T:[],d)})}}),Ns(bt.prototype,function(s,r){var u=A[r];if(u){var l=u.name+"",d=Ir[l]||(Ir[l]=[]);d.push({name:r,func:u})}}),Ir[Tn(e,b).name]=[{name:"wrapper",func:e}],bt.prototype.clone=am,bt.prototype.reverse=um,bt.prototype.value=hm,A.prototype.at=qd,A.prototype.chain=zd,A.prototype.commit=kd,A.prototype.next=Ud,A.prototype.plant=Zd,A.prototype.reverse=jd,A.prototype.toJSON=A.prototype.valueOf=A.prototype.value=Gd,A.prototype.first=A.prototype.head,br&&(A.prototype[br]=Hd),A},bi=L2();en?((en.exports=bi)._=bi,ha._=bi):ce._=bi,ce._=bi}).call(self)})(Zn,Zn.exports);Zn.exports;(function(){self.phetio=self.phetio||{};const o=".",t="_",e="-",i="general",n="global",a="homeScreen",h="model",c="view",f="colors",g="strings",y="controller",w="Screen",I="archetype",O="Capsule";self.phetio.PhetioIDUtils={append:function(N,...F){return F.forEach(b=>{if(assert&&assert(b.indexOf(o)===-1,`separator appears in componentName: ${b}`),b==="")return;N+=(N===""?"":o)+b}),N},getComponentName:function(N){assert&&assert(N.length>0);const F=N.lastIndexOf(o);return F===-1?N:N.substring(F+1,N.length)},getParentID:function(N){const F=N.lastIndexOf(o);return F===-1?null:N.substring(0,F)},getDOMElementID:function(N){return`phetioID:${N}`},getScreenID:function(N){const F=[],b=N.split(o);for(let v=0;v<b.length;v++){const E=b[v];F.push(E);const B=E.indexOf(w);if(B>0&&B+w.length===E.length)return F.join(o)}return null},getGroupElementIndex:function(N){return assert&&assert(N.indexOf(self.phetio.PhetioIDUtils.GROUP_SEPARATOR)>=0,"component name for phetioID should have group element syntax"),Number(N.split(self.phetio.PhetioIDUtils.GROUP_SEPARATOR)[1])},isAncestor:function(N,F){const b=N.split(o),v=F.split(o);for(let E=0;E<b.length;E++)if(b[E]!==v[E])return!1;return F!==N},getArchetypalPhetioID:function(N){const F=N.split(o);for(let b=0;b<F.length;b++){const v=F[b];if(v.endsWith(O)&&b<F.length-1)F[b+1]=I,b++;else{const E=v.split(e).map(B=>B.includes(t)?I:B);F[b]=E.join(e)}}return F.join(o)},SEPARATOR:o,GROUP_SEPARATOR:t,INTER_TERM_SEPARATOR:e,GENERAL_COMPONENT_NAME:i,GLOBAL_COMPONENT_NAME:n,HOME_SCREEN_COMPONENT_NAME:a,MODEL_COMPONENT_NAME:h,VIEW_COMPONENT_NAME:c,CONTROLLER_COMPONENT_NAME:y,COLORS_COMPONENT_NAME:f,STRINGS_COMPONENT_NAME:g,ARCHETYPE:I,CAPSULE_SUFFIX:O}})();self.LineBreaker=(()=>{const o=(()=>{var At=0,st=-3;function mt(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function Gt(z,gt){this.source=z,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=gt,this.destLen=0,this.ltree=new mt,this.dtree=new mt}var Lt=new mt,pt=new mt,Ot=new Uint8Array(30),hs=new Uint16Array(30),De=new Uint8Array(30),Re=new Uint16Array(30),yi=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ws=new mt,Wt=new Uint8Array(320);function vs(z,gt,H,yt){var et,_t;for(et=0;et<H;++et)z[et]=0;for(et=0;et<30-H;++et)z[et+H]=et/H|0;for(_t=yt,et=0;et<30;++et)gt[et]=_t,_t+=1<<z[et]}function Le(z,gt){var H;for(H=0;H<7;++H)z.table[H]=0;for(z.table[7]=24,z.table[8]=152,z.table[9]=112,H=0;H<24;++H)z.trans[H]=256+H;for(H=0;H<144;++H)z.trans[24+H]=H;for(H=0;H<8;++H)z.trans[168+H]=280+H;for(H=0;H<112;++H)z.trans[176+H]=144+H;for(H=0;H<5;++H)gt.table[H]=0;for(gt.table[5]=32,H=0;H<32;++H)gt.trans[H]=H}var qs=new Uint16Array(16);function Ei(z,gt,H,yt){var et,_t;for(et=0;et<16;++et)z.table[et]=0;for(et=0;et<yt;++et)z.table[gt[H+et]]++;for(z.table[0]=0,_t=0,et=0;et<16;++et)qs[et]=_t,_t+=z.table[et];for(et=0;et<yt;++et)gt[H+et]&&(z.trans[qs[gt[H+et]]++]=et)}function os(z){z.bitcount--||(z.tag=z.source[z.sourceIndex++],z.bitcount=7);var gt=z.tag&1;return z.tag>>>=1,gt}function ut(z,gt,H){if(!gt)return H;for(;z.bitcount<24;)z.tag|=z.source[z.sourceIndex++]<<z.bitcount,z.bitcount+=8;var yt=z.tag&65535>>>16-gt;return z.tag>>>=gt,z.bitcount-=gt,yt+H}function re(z,gt){for(;z.bitcount<24;)z.tag|=z.source[z.sourceIndex++]<<z.bitcount,z.bitcount+=8;var H=0,yt=0,et=0,_t=z.tag;do yt=2*yt+(_t&1),_t>>>=1,++et,H+=gt.table[et],yt-=gt.table[et];while(yt>=0);return z.tag=_t,z.bitcount-=et,gt.trans[H+yt]}function ls(z,gt,H){var yt,et,_t,ye,Ee,Qe;for(yt=ut(z,5,257),et=ut(z,5,1),_t=ut(z,4,4),ye=0;ye<19;++ye)Wt[ye]=0;for(ye=0;ye<_t;++ye){var gr=ut(z,3,0);Wt[yi[ye]]=gr}for(Ei(ws,Wt,0,19),Ee=0;Ee<yt+et;){var zi=re(z,ws);switch(zi){case 16:var Ar=Wt[Ee-1];for(Qe=ut(z,2,3);Qe;--Qe)Wt[Ee++]=Ar;break;case 17:for(Qe=ut(z,3,3);Qe;--Qe)Wt[Ee++]=0;break;case 18:for(Qe=ut(z,7,11);Qe;--Qe)Wt[Ee++]=0;break;default:Wt[Ee++]=zi;break}}Ei(gt,Wt,0,yt),Ei(H,Wt,yt,et)}function le(z,gt,H){for(;;){var yt=re(z,gt);if(yt===256)return At;if(yt<256)z.dest[z.destLen++]=yt;else{var et,_t,ye,Ee;for(yt-=257,et=ut(z,Ot[yt],hs[yt]),_t=re(z,H),ye=z.destLen-ut(z,De[_t],Re[_t]),Ee=ye;Ee<ye+et;++Ee)z.dest[z.destLen++]=z.dest[Ee]}}}function xi(z){for(var gt,H,yt;z.bitcount>8;)z.sourceIndex--,z.bitcount-=8;if(gt=z.source[z.sourceIndex+1],gt=256*gt+z.source[z.sourceIndex],H=z.source[z.sourceIndex+3],H=256*H+z.source[z.sourceIndex+2],gt!==(~H&65535))return st;for(z.sourceIndex+=4,yt=gt;yt;--yt)z.dest[z.destLen++]=z.source[z.sourceIndex++];return z.bitcount=0,At}function qi(z,gt){var H=new Gt(z,gt),yt,et,_t;do{switch(yt=os(H),et=ut(H,2,0),et){case 0:_t=xi(H);break;case 1:_t=le(H,Lt,pt);break;case 2:ls(H,H.ltree,H.dtree),_t=le(H,H.ltree,H.dtree);break;default:_t=st}if(_t!==At)throw new Error("Data error")}while(!yt);return H.destLen<H.dest.length?typeof H.dest.slice=="function"?H.dest.slice(0,H.destLen):H.dest.subarray(0,H.destLen):H.dest}return Le(Lt,pt),vs(Ot,hs,4,3),vs(De,Re,2,1),Ot[28]=0,hs[28]=258,qi})(),t=(()=>{const At=new Uint8Array(new Uint32Array([305419896]).buffer)[0]===18,st=(Lt,pt,Ot)=>{let hs=Lt[pt];Lt[pt]=Lt[Ot],Lt[Ot]=hs},mt=Lt=>{const pt=Lt.length;for(let Ot=0;Ot<pt;Ot+=4)st(Lt,Ot,Ot+3),st(Lt,Ot+1,Ot+2)};return Lt=>{At&&mt(Lt)}})(),e=(()=>{class Ei{constructor(ut){const re=typeof ut.readUInt32BE=="function"&&typeof ut.slice=="function";if(re||ut instanceof Uint8Array){let ls;if(re)this.highStart=ut.readUInt32LE(0),this.errorValue=ut.readUInt32LE(4),ls=ut.readUInt32LE(8),ut=ut.slice(12);else{const le=new DataView(ut.buffer);this.highStart=le.getUint32(0,!0),this.errorValue=le.getUint32(4,!0),ls=le.getUint32(8,!0),ut=ut.subarray(12)}ut=o(ut,new Uint8Array(ls)),ut=o(ut,new Uint8Array(ls)),t(ut),this.data=new Uint32Array(ut.buffer)}else({data:this.data,highStart:this.highStart,errorValue:this.errorValue}=ut)}get(ut){let re;return ut<0||ut>1114111?this.errorValue:ut<55296||ut>56319&&ut<=65535?(re=(this.data[ut>>5]<<2)+(ut&31),this.data[re]):ut<=65535?(re=(this.data[2048+(ut-55296>>5)]<<2)+(ut&31),this.data[re]):ut<this.highStart?(re=this.data[2080+(ut>>11)],re=this.data[re+(ut>>5&63)],re=(re<<2)+(ut&31),this.data[re]):this.data[this.data.length-4]}}return Ei})(),a=(At=>{const st=self.atob(At),mt=new Uint8Array(st.length);for(var Gt=0;Gt<st.length;Gt++)mt[Gt]=st.charCodeAt(Gt);return mt})("AAgOAAAAAAAQ4QAAAQ0P8vDtnQuMXUUZx+eyu7d7797d9m5bHoWltKVUlsjLWE0VJNigQoMVqkStEoNQQUl5GIo1KKmogEgqkKbBRki72lYabZMGKoGAjQRtJJDaCCIRiiigREBQS3z+xzOTnZ3O+3HOhd5NfpkzZx7fN9988zivu2M9hGwB28F94DnwEngd/Asc1EtIs9c/bIPDwCxwLDgezHcodyo4w5C+CCwBS8FnwSXgCnA1uFbI93XwbXAbWAfWgx+CzWAb+An4KfgFeAzsYWWfYuFz4CXwGvgb+Dfo6yNkEEwGh4CZYB44FpwI3g1OY+kfBItZOo2fB84Hy8DF4HJwNbiWpV8PVoO1LH4n2NRXyN+KcAd4kNVP9XsY4aPgcfAbsBfs6SniL4K/sPjfEf6HlanXCRkCw2BGvUh/keWfXS/CY+pFXs7x9XHmM94LTmWIeU2cgbxnS/k/B3kf86jDhU8L9V2E40vAFWAlWFUfb++NOL4F3C7JX4/4GiE+hvgWsF0oS7mXldspnN+F493gyXrh9xTav0cg3EvzgVfBG6wsmVSEkxBOBgdPGpd7JI6PnqRvJ68/xlbHof53gPeA94OzwLngk+ACsAwsByvASrAK3MB0Ws3CtQjvBJvAVrADPMDSHkb4CNijaccTwvnf4fiPEs8Lxy+D18A/QU8/xjgYBjPAbDAKTgYLwOngTHAO+EQ/8wuEF4EvsPiVCFf2+9tsFStzA8LVHuXXBsi6QyqzUYiPMR/7Mc7dAx7oL8bzw/3u/Bw8Bp4Az4AXwCtgHzsmDXP5fiF9iiVvly5d0sHngar16NKlS5cuXbp06fLmYlqHXrcd3ph4P0THUY3iXh49novju4S0tzfs5d+JPKewfAsRntZb3K9ZhOMlrO6lCC8An28U9+OuovcPcPxlVu5rCL/VmHh/iHIrzn3fIPu7SN8Axmg+8AOwEWwCm7tp3bRuWjetm5Y8bSu4B9zbKO6ZVsnORrVU3f4uXTqZ2H3sLoyx3eDXjfDndE9qyj6L838CfwVvgFpzYnof4oNgOhgBc8Fos9DrZIQLmtXPP1MmF6wGj4H+KXoWguvADkXaPil+YpuQy8Am8Ey7ODdtmJDF4HowBp4De6HDTNjhfHAHeBr0DBBy0kDxfPbcgSIusgrcWhtnJ8vL+TPix7UIOQtcBq4C28Cr4KRBnANbwSuDE+s50JgyNNFuXbp06XIgsXjIvPafjvXozKY+fVFz/z0LT1uCtKVSWbrOLWPnztG8e0Xfy7ol8XtZJi7WtG+5od2UFXQ/A12vUeS7jp27yVKHjdsU9lXB869TyNvAzt0lpP2oWbwLdjiO78bx/Sz+EMJHwK9Y/LcIfw+eZ3F67/Hl5vh9xX80J+rwX8SvRDhpgL17iPAQMHNArfPrqHPewLheI+AERV6efwV418B4nOZ/H+IfYHV8GOF5LJ3eAz0fx8sM9S0fUNud39O9CulfGZhY5huI3wzWgNvBelbHZoTbNPVpfYjKQpkHwUNgl0LWblbnk0LbbDxr0OMFpL3iqWdu9nWYPlVAWkXY39LnGdCkDbeqv1YNbfcMQ3t9oe8lzm6NH9N1ZB6Ln4BwfkJZJk7RyFnYKt6b/JDQXx9p5X+eFdqOjzM9P9MB/lUlFzr20aXIdzlY4dmn9F3YqtvoO76/2hp/D/xA5Zue88nNyL8GbFbs075X0tyUig3Qd2MCnf//HjnzpbsR3g9+1kHzzVjdnE71/qVBX9rGPUh/ysNWe1neFzvIDi5zAufV1sT0N0poR22wkFUfTOPfA4N2mbZ5fSrqOHSw+IbkSBbOGSzSRgf91/GTUWYBOB2cIZQ/G8cfBZ8CFwrnL8XxF8FKcA24jqXdiPA7Qr61OF7H4mMItwzuv2/YLth1ISt3Hzu3k4W7EH5JqPdRHD/O4k+z8A8IX5Lq3y7Z4nXE9xn6kX6vQ4bKfy+ok+hH+xf3hq9dnTTHhjKd2GmDuWA242iHMq4cC7A8kJ7i8o1+skSa7Jieo38HCWnoNjKFhdSFBxzpZ7QE6lI8N4S14aASZcryaV/WWHw66f6NHuCoxuQxmvM56GX9QMd8Q4D65ywGP+ZzRJuM+zQvx/MOS2VFeqQ4IXnH26zM9Xe6/E6D+4foAzzuajPZp8Qyw5ayZVDWuH0z0BtYRkeIDqH9KO9VbH1btd/lhNqCzvl8zeLnG0S/hnU6baHfpiuO6yy0rd+DHURo/zYF5H26j03rQsip2ndzz82u1z9N4VjWKWeb68Tedpt95HRVXp7H1R6p+/Wt4FPy/PpWwscOLRJ+PVWF/+W0iVyGzs18TIvXkOJ1Wxm66vSXz+vylenrZcj1ub439W+K8RNCGTJi2p/TJ1K23VaXr35tRpnzmjxequgfcfyk6B/TGBVlyedsNgpdd/h+W1U3P99QyFPNo1X3TwpM/WLTIWYfoBqXrv6iskHZ/RFr79R6hIyHBrH3f1nrUVnjP8SnZZ+rYtzr9Exld5MNbPNErusAPg+77u/eDOPftU9yj39TH7rezxd1LvsZQJlzkWlOirG/79zjMj/mtHUKu7vKy+3/LnXr9okyKedjX5/0He9iP/j63LwOQdarEVlfy8OO/Lqw023j6xcqmwxLiOd6heM2i9cV9LJy8jMJ23yQ+rpbfu7EQ/pXE8KYvUSqvVnb4XzZa6LrHMXHR+zcLvqWbm/Bn0/HzIs6fWPHoat8XfnDKmZGxRxeMbn2UqZ5Q94nmcZRbqqUXbZ8+lcjE+cPX11t814orvvAXNcG8vqj2vvk1MGn3anlj0bIT72v47bvE+Lc98T9b6r7AKn6j+8Duf7D0nnZx/j7Zjn0j9nbpSTndaLr9WNLivP+iN23xF7L+fqv6ZouFyb78jxVXvv5jJ9YUs9/sddO8h7KNg5jrhfaJGztT6G7KF+1d6yCmD5Kdb2fan60rSc552fZr3zeQ9DpnPp+Si5cx5Ktv2QfSzF/mMbWdOm46rFI4XstnU9xeqX4NKb7TKEdcr6pZOK3ID1k/LvFHkVczEuZLEDr499YqvqBym1aEHWgcvoYOtv0M91qQl5TfpO/in6rWx8OVpT1Wedkv3f5xom3T/xeR/6Gx6V86PWAOB4bBpqWdN+yTcVxjIyGRz/FrDGu6w/3d7kPm8StX8RyPu+uuvpNju/vTLJV37GpvoM0oZPnW87VLnL/5pDno1NoW1R6yedU6TyUv3u19a3KFnIbTLYz+ZCLP4T0tU1uivFgso0pnsJ/UtXvarNY28Xq5cvkBDrQP/E5ZaiuQwwfmTlsOiQRU1fMuqrDd/3ISSuwjOwXOfTyGUMpZIXq4GpLn3pUcdfzch2x7XO1u2uZHOPb1G6b3Xg9PH1IIWeEpJlPQtqos2EKW8b0u8rnuP1UeVLoXJb9be0uG9nnbchjU+XTszT5VeNBThPHnc5OKj1U9aj0GTHIVaGy1YhEWT4ixns00DT+XEzWn/7VAsIc63Cov3OdyhwjrnaqQqZvWKXdypRdlq+k8msZ031U+Rm4fA+3TtyeR9hwfW9G9yxDN0fZMN33F+9TE6md4hwoxumfaUzI9fN3PFT3xVV2msrQ3UsnChm6Nulk8TndpS28D3zX9tTIPsF/z7Am5OkTjm1tI1JZW74+4VgsZ0N3L1yXV3WeP5uR7TGHHdvC3JQlxybfpd22tDlk/2eofRK8TzrN/qnar/K/OUTth6I/+jAnEptNbPvFHP2gs40N3+dfMWtwqvVct7/wfd8gtQ7imifial9ZJ9/3IHLYU6eDj3+4PhsNhX+vwvcWLnu6kGfEMe8DuciPfUfGZB8X/7HJy/Gefe5n+VRGFd/wyP2ta7/LO4yh/sbLV/k9lev6kfO9Dt/5U67b1/6u/epqB1U9Me23jfHY9sscAg4tkbLl+e4/U36rJ9ddxfd6sg5vq5ice42Wpk/pb9FOJ36/W9tpv4kbC79nUbZceX8Zu6/qJ+P3WvhvA8v3reh7Jbn2d6rrNC7XNZTLma4Ba0JI9efX2uLzF5scG/w9UNU1ZxW+ymUfzELeTllXlQ1rUuhzjS5fp9c964iFBOqeSz63bU065nZKdU+mDEz3qHIjjifquw0pnb/raRtvrnsYcb46ihT3taoYz6brdNW9l6rWRnE/navdPn1XlR1km7hcz1WlH/elKuSOSvLLuE8U6m8uzwRdfcGl73VyTHuyMvzJ1Sa2cWDTP/Z63Kc94n2B1PYr24dz1JlyHLlcP+S4B6vD1c9EW4q2LWstCvUjeVy63k/LMYdUNd5D1xQfvVTzX1VjkMsUv88N8VH5fReVn/Fjn++/h6X6Q8a6b1/q3g/i/ewi0/Scs8zxXeV6mWIOUPlPzBgdFerW+bZrm2P18dnjuK6HunEp+rHvPMXbr+sHVb/lnL+pTP57jPw9Cvk3PW178JD9qChfzuvTf7Htl38L1QUf/VKu9SFjwWbTWPvFEvu7Uq76y7+31g6QlYPc669pbsm9Xur2LWI9Pu8ypfDXqm3A2z8s1FWGn4ntL9NfQu2oSlftX9uetvTtv7J8Ql4zxfXGZ3zk8PeQ9w59x2uMfqI8/q5eKh/l9cb2rwsu9rSNl06ZP2Pmxtz+rNMx93yno0n2/82rVH7rQ+y9P15H6FyRun9ViH81ATmffI7nJ5r8uXXW6enbP6b/B8/l5OifVHYLnb9S39s2zcc+Ph+rh8+eQgVPS72elzGWY/tUtbbabBpDiI7yN1q6/4th2y+ErAc5+9BVvu/7KamJbWNZeuqI/R4tRf+YyD1HmOZM1bMV3/14Sn10c0Xu+Sj1nOXb5jL73ncdy02uvlXZNde65dOHYl7Vs4KYuS6FzWLn2zJlpZqPXPVPOa5yzKOyn1VhT9lmMfdbfH7D11Wf2PXN5h9y+dD287+qxgSnaYmnIrRtIb8pJe6/Uv9OVer6Whn0zfGO/BEloZI9ojmfAlUflClDd178bTmVHVTpZXOkAlk/lb42UujmI89HH5V+cl7XtowY6vTxLVWok6UrGzoGTHN+bB+6ri05687VNpvfuvRfaP2uMlNQth1D5JjGelm/8yn+9p3p/7qk9gnfeddXZmq/Sm333PJT659Kv1zjNbZ9uv2Oi//67CV8/N1nj1DmviyXDNVeJkaeaX8UsyesYg8cu2+NvdaPfb+lLDu5tvt/"),h=new e(a),c=5,f=12,g=13,y=16,w=17,I=22,O=28,N=31,F=33,b=34,v=35,E=36,B=37,Y=38,q=39,K=40,nt=41,tt=42,m=0,p=1,Q=2,jt=3,x=4,us=[[x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,jt,x,x,x,x,x,x,x,x,x,x,x],[m,x,x,p,p,x,x,x,x,p,p,m,m,m,m,p,p,p,m,m,x,Q,x,m,m,m,m,m,m,m,m,p,m],[m,x,x,p,p,x,x,x,x,p,p,p,p,p,m,p,p,p,m,m,x,Q,x,m,m,m,m,m,m,m,m,p,m],[x,x,x,p,p,p,x,x,x,p,p,p,p,p,p,p,p,p,p,p,x,Q,x,p,p,p,p,p,p,p,p,p,p],[p,x,x,p,p,p,x,x,x,p,p,p,p,p,p,p,p,p,p,p,x,Q,x,p,p,p,p,p,p,p,p,p,p],[m,x,x,p,p,p,x,x,x,m,m,m,m,m,m,p,p,p,m,m,x,Q,x,m,m,m,m,m,m,m,m,p,m],[m,x,x,p,p,p,x,x,x,m,m,m,m,m,m,p,p,p,m,m,x,Q,x,m,m,m,m,m,m,m,m,p,m],[m,x,x,p,p,p,x,x,x,m,m,p,m,p,m,p,p,p,m,m,x,Q,x,m,m,m,m,m,m,m,m,p,m],[m,x,x,p,p,p,x,x,x,m,m,p,p,p,m,p,p,p,m,m,x,Q,x,m,m,m,m,m,m,m,m,p,m],[p,x,x,p,p,p,x,x,x,m,m,p,p,p,p,p,p,p,m,m,x,Q,x,p,p,p,p,p,m,p,p,p,m],[p,x,x,p,p,p,x,x,x,m,m,p,p,p,m,p,p,p,m,m,x,Q,x,m,m,m,m,m,m,m,m,p,m],[p,x,x,p,p,p,x,x,x,p,p,p,p,p,m,p,p,p,m,m,x,Q,x,m,m,m,m,m,m,m,m,p,m],[p,x,x,p,p,p,x,x,x,p,p,p,p,p,m,p,p,p,m,m,x,Q,x,m,m,m,m,m,m,m,m,p,m],[p,x,x,p,p,p,x,x,x,p,p,p,p,p,m,p,p,p,m,m,x,Q,x,m,m,m,m,m,m,m,m,p,m],[m,x,x,p,p,p,x,x,x,m,p,m,m,m,m,p,p,p,m,m,x,Q,x,m,m,m,m,m,m,m,m,p,m],[m,x,x,p,p,p,x,x,x,m,m,m,m,m,m,p,p,p,m,m,x,Q,x,m,m,m,m,m,m,m,m,p,m],[m,x,x,p,m,p,x,x,x,m,m,p,m,m,m,p,p,p,m,m,x,Q,x,m,m,m,m,m,m,m,m,p,m],[m,x,x,p,m,p,x,x,x,m,m,m,m,m,m,p,p,p,m,m,x,Q,x,m,m,m,m,m,m,m,m,p,m],[p,x,x,p,p,p,x,x,x,p,p,p,p,p,p,p,p,p,p,p,x,Q,x,p,p,p,p,p,p,p,p,p,m],[m,x,x,p,p,p,x,x,x,m,m,m,m,m,m,p,p,p,m,x,x,Q,x,m,m,m,m,m,m,m,m,p,m],[m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,x,m,m,m,m,m,m,m,m,m,m,m,m],[p,x,x,p,p,p,x,x,x,p,p,p,p,p,m,p,p,p,m,m,x,Q,x,m,m,m,m,m,m,m,m,p,m],[p,x,x,p,p,p,x,x,x,p,p,p,p,p,p,p,p,p,p,p,x,Q,x,p,p,p,p,p,p,p,p,p,p],[m,x,x,p,p,p,x,x,x,m,p,m,m,m,m,p,p,p,m,m,x,Q,x,m,m,m,p,p,m,m,m,p,m],[m,x,x,p,p,p,x,x,x,m,p,m,m,m,m,p,p,p,m,m,x,Q,x,m,m,m,m,p,m,m,m,p,m],[m,x,x,p,p,p,x,x,x,m,p,m,m,m,m,p,p,p,m,m,x,Q,x,p,p,p,p,m,m,m,m,p,m],[m,x,x,p,p,p,x,x,x,m,p,m,m,m,m,p,p,p,m,m,x,Q,x,m,m,m,p,p,m,m,m,p,m],[m,x,x,p,p,p,x,x,x,m,p,m,m,m,m,p,p,p,m,m,x,Q,x,m,m,m,m,p,m,m,m,p,m],[m,x,x,p,p,p,x,x,x,m,m,m,m,m,m,p,p,p,m,m,x,Q,x,m,m,m,m,m,p,m,m,p,m],[m,x,x,p,p,p,x,x,x,m,p,m,m,m,m,p,p,p,m,m,x,Q,x,m,m,m,m,m,m,m,p,p,m],[m,x,x,p,p,p,x,x,x,m,p,m,m,m,m,p,p,p,m,m,x,Q,x,m,m,m,m,m,m,m,m,p,m],[p,x,x,p,p,p,x,x,x,p,p,p,p,p,m,p,p,p,m,m,x,Q,x,m,m,m,m,m,m,m,m,p,m],[m,x,x,p,p,m,x,x,x,m,m,m,m,m,m,m,m,m,m,m,x,Q,x,m,m,m,m,m,m,m,m,p,m]],Je=function(At){switch(At){case F:return f;case q:case K:case tt:return f;case v:return c;default:return At}},U=function(At){switch(At){case B:case Y:return b;case nt:return I;default:return At}};class ht{constructor(st,mt=!1){this.position=st,this.required=mt}}class Rt{constructor(st){this.string=st,this.pos=0,this.lastPos=0,this.curClass=null,this.nextClass=null,this.LB8a=!1,this.LB21a=!1,this.LB30a=0}nextCodePoint(){const st=this.string.charCodeAt(this.pos++),mt=this.string.charCodeAt(this.pos);return 55296<=st&&st<=56319&&56320<=mt&&mt<=57343?(this.pos++,(st-55296)*1024+(mt-56320)+65536):st}nextCharClass(){return Je(h.get(this.nextCodePoint()))}getSimpleBreak(){switch(this.nextClass){case nt:return!1;case b:case B:case Y:return this.curClass=b,!1;case E:return this.curClass=E,!1}return null}getPairTableBreak(st){let mt=!1;switch(us[this.curClass][this.nextClass]){case m:mt=!0;break;case p:mt=st===nt;break;case Q:if(mt=st===nt,!mt)return mt=!1,mt;break;case jt:if(st!==nt)return mt;break}return this.LB8a&&(mt=!1),this.LB21a&&(this.curClass===y||this.curClass===w)?(mt=!1,this.LB21a=!1):this.LB21a=this.curClass===g,this.curClass===O?(this.LB30a++,this.LB30a==2&&this.nextClass===O&&(mt=!0,this.LB30a=0)):this.LB30a=0,this.curClass=this.nextClass,mt}nextBreak(){if(this.curClass==null){let st=this.nextCharClass();this.curClass=U(st),this.nextClass=st,this.LB8a=st===N,this.LB30a=0}for(;this.pos<this.string.length;){this.lastPos=this.pos;const st=this.nextClass;if(this.nextClass=this.nextCharClass(),this.curClass===b||this.curClass===E&&this.nextClass!==B)return this.curClass=U(Je(this.nextClass)),new ht(this.lastPos,!0);let mt=this.getSimpleBreak();if(mt===null&&(mt=this.getPairTableBreak(st)),this.LB8a=this.nextClass===N,mt)return new ht(this.lastPos)}return this.lastPos<this.string.length?(this.lastPos=this.string.length,new ht(this.string.length)):null}}return Rt})();class e1{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(t,e){let i=this.length++;for(this.ids[i]=t,this.values[i]=e;i>0;){const n=i-1>>1,a=this.values[n];if(e>=a)break;this.ids[i]=this.ids[n],this.values[i]=a,i=n}this.ids[i]=t,this.values[i]=e}pop(){if(this.length===0)return;const t=this.ids[0];if(this.length--,this.length>0){const e=this.ids[0]=this.ids[this.length],i=this.values[0]=this.values[this.length],n=this.length>>1;let a=0;for(;a<n;){let h=(a<<1)+1;const c=h+1;let f=this.ids[h],g=this.values[h];const y=this.values[c];if(c<this.length&&y<g&&(h=c,f=this.ids[c],g=y),g>=i)break;this.ids[a]=f,this.values[a]=g,a=h}this.ids[a]=e,this.values[a]=i}return t}peek(){if(this.length!==0)return this.ids[0]}peekValue(){if(this.length!==0)return this.values[0]}}self.FlatQueue=e1;/*! https://mths.be/he v1.1.1 by @mathias | MIT license */(function(o,t){(function(e){var i=typeof rr=="object"&&rr;(i.global===i||i.window===i)&&(e=i);var n=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,a=/[\x01-\x7F]/g,h=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,c=/<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g,f={"­":"shy","‌":"zwnj","‍":"zwj","‎":"lrm","⁣":"ic","⁢":"it","⁡":"af","‏":"rlm","​":"ZeroWidthSpace","⁠":"NoBreak","̑":"DownBreve","⃛":"tdot","⃜":"DotDot","	":"Tab","\n":"NewLine"," ":"puncsp"," ":"MediumSpace"," ":"thinsp"," ":"hairsp"," ":"emsp13"," ":"ensp"," ":"emsp14"," ":"emsp"," ":"numsp"," ":"nbsp","  ":"ThickSpace","‾":"oline",_:"lowbar","‐":"dash","–":"ndash","—":"mdash","―":"horbar",",":"comma",";":"semi","⁏":"bsemi",":":"colon","⩴":"Colone","!":"excl","¡":"iexcl","?":"quest","¿":"iquest",".":"period","‥":"nldr","…":"mldr","·":"middot","'":"apos","‘":"lsquo","’":"rsquo","‚":"sbquo","‹":"lsaquo","›":"rsaquo",'"':"quot","“":"ldquo","”":"rdquo","„":"bdquo","«":"laquo","»":"raquo","(":"lpar",")":"rpar","[":"lsqb","]":"rsqb","{":"lcub","}":"rcub","⌈":"lceil","⌉":"rceil","⌊":"lfloor","⌋":"rfloor","⦅":"lopar","⦆":"ropar","⦋":"lbrke","⦌":"rbrke","⦍":"lbrkslu","⦎":"rbrksld","⦏":"lbrksld","⦐":"rbrkslu","⦑":"langd","⦒":"rangd","⦓":"lparlt","⦔":"rpargt","⦕":"gtlPar","⦖":"ltrPar","⟦":"lobrk","⟧":"robrk","⟨":"lang","⟩":"rang","⟪":"Lang","⟫":"Rang","⟬":"loang","⟭":"roang","❲":"lbbrk","❳":"rbbrk","‖":"Vert","§":"sect","¶":"para","@":"commat","*":"ast","/":"sol",undefined:null,"&":"amp","#":"num","%":"percnt","‰":"permil","‱":"pertenk","†":"dagger","‡":"Dagger","•":"bull","⁃":"hybull","′":"prime","″":"Prime","‴":"tprime","⁗":"qprime","‵":"bprime","⁁":"caret","`":"grave","´":"acute","˜":"tilde","^":"Hat","¯":"macr","˘":"breve","˙":"dot","¨":"die","˚":"ring","˝":"dblac","¸":"cedil","˛":"ogon","ˆ":"circ","ˇ":"caron","°":"deg","©":"copy","®":"reg","℗":"copysr","℘":"wp","℞":"rx","℧":"mho","℩":"iiota","←":"larr","↚":"nlarr","→":"rarr","↛":"nrarr","↑":"uarr","↓":"darr","↔":"harr","↮":"nharr","↕":"varr","↖":"nwarr","↗":"nearr","↘":"searr","↙":"swarr","↝":"rarrw","↝̸":"nrarrw","↞":"Larr","↟":"Uarr","↠":"Rarr","↡":"Darr","↢":"larrtl","↣":"rarrtl","↤":"mapstoleft","↥":"mapstoup","↦":"map","↧":"mapstodown","↩":"larrhk","↪":"rarrhk","↫":"larrlp","↬":"rarrlp","↭":"harrw","↰":"lsh","↱":"rsh","↲":"ldsh","↳":"rdsh","↵":"crarr","↶":"cularr","↷":"curarr","↺":"olarr","↻":"orarr","↼":"lharu","↽":"lhard","↾":"uharr","↿":"uharl","⇀":"rharu","⇁":"rhard","⇂":"dharr","⇃":"dharl","⇄":"rlarr","⇅":"udarr","⇆":"lrarr","⇇":"llarr","⇈":"uuarr","⇉":"rrarr","⇊":"ddarr","⇋":"lrhar","⇌":"rlhar","⇐":"lArr","⇍":"nlArr","⇑":"uArr","⇒":"rArr","⇏":"nrArr","⇓":"dArr","⇔":"iff","⇎":"nhArr","⇕":"vArr","⇖":"nwArr","⇗":"neArr","⇘":"seArr","⇙":"swArr","⇚":"lAarr","⇛":"rAarr","⇝":"zigrarr","⇤":"larrb","⇥":"rarrb","⇵":"duarr","⇽":"loarr","⇾":"roarr","⇿":"hoarr","∀":"forall","∁":"comp","∂":"part","∂̸":"npart","∃":"exist","∄":"nexist","∅":"empty","∇":"Del","∈":"in","∉":"notin","∋":"ni","∌":"notni","϶":"bepsi","∏":"prod","∐":"coprod","∑":"sum","+":"plus","±":"pm","÷":"div","×":"times","<":"lt","≮":"nlt","<⃒":"nvlt","=":"equals","≠":"ne","=⃥":"bne","⩵":"Equal",">":"gt","≯":"ngt",">⃒":"nvgt","¬":"not","|":"vert","¦":"brvbar","−":"minus","∓":"mp","∔":"plusdo","⁄":"frasl","∖":"setmn","∗":"lowast","∘":"compfn","√":"Sqrt","∝":"prop","∞":"infin","∟":"angrt","∠":"ang","∠⃒":"nang","∡":"angmsd","∢":"angsph","∣":"mid","∤":"nmid","∥":"par","∦":"npar","∧":"and","∨":"or","∩":"cap","∩︀":"caps","∪":"cup","∪︀":"cups","∫":"int","∬":"Int","∭":"tint","⨌":"qint","∮":"oint","∯":"Conint","∰":"Cconint","∱":"cwint","∲":"cwconint","∳":"awconint","∴":"there4","∵":"becaus","∶":"ratio","∷":"Colon","∸":"minusd","∺":"mDDot","∻":"homtht","∼":"sim","≁":"nsim","∼⃒":"nvsim","∽":"bsim","∽̱":"race","∾":"ac","∾̳":"acE","∿":"acd","≀":"wr","≂":"esim","≂̸":"nesim","≃":"sime","≄":"nsime","≅":"cong","≇":"ncong","≆":"simne","≈":"ap","≉":"nap","≊":"ape","≋":"apid","≋̸":"napid","≌":"bcong","≍":"CupCap","≭":"NotCupCap","≍⃒":"nvap","≎":"bump","≎̸":"nbump","≏":"bumpe","≏̸":"nbumpe","≐":"doteq","≐̸":"nedot","≑":"eDot","≒":"efDot","≓":"erDot","≔":"colone","≕":"ecolon","≖":"ecir","≗":"cire","≙":"wedgeq","≚":"veeeq","≜":"trie","≟":"equest","≡":"equiv","≢":"nequiv","≡⃥":"bnequiv","≤":"le","≰":"nle","≤⃒":"nvle","≥":"ge","≱":"nge","≥⃒":"nvge","≦":"lE","≦̸":"nlE","≧":"gE","≧̸":"ngE","≨︀":"lvnE","≨":"lnE","≩":"gnE","≩︀":"gvnE","≪":"ll","≪̸":"nLtv","≪⃒":"nLt","≫":"gg","≫̸":"nGtv","≫⃒":"nGt","≬":"twixt","≲":"lsim","≴":"nlsim","≳":"gsim","≵":"ngsim","≶":"lg","≸":"ntlg","≷":"gl","≹":"ntgl","≺":"pr","⊀":"npr","≻":"sc","⊁":"nsc","≼":"prcue","⋠":"nprcue","≽":"sccue","⋡":"nsccue","≾":"prsim","≿":"scsim","≿̸":"NotSucceedsTilde","⊂":"sub","⊄":"nsub","⊂⃒":"vnsub","⊃":"sup","⊅":"nsup","⊃⃒":"vnsup","⊆":"sube","⊈":"nsube","⊇":"supe","⊉":"nsupe","⊊︀":"vsubne","⊊":"subne","⊋︀":"vsupne","⊋":"supne","⊍":"cupdot","⊎":"uplus","⊏":"sqsub","⊏̸":"NotSquareSubset","⊐":"sqsup","⊐̸":"NotSquareSuperset","⊑":"sqsube","⋢":"nsqsube","⊒":"sqsupe","⋣":"nsqsupe","⊓":"sqcap","⊓︀":"sqcaps","⊔":"sqcup","⊔︀":"sqcups","⊕":"oplus","⊖":"ominus","⊗":"otimes","⊘":"osol","⊙":"odot","⊚":"ocir","⊛":"oast","⊝":"odash","⊞":"plusb","⊟":"minusb","⊠":"timesb","⊡":"sdotb","⊢":"vdash","⊬":"nvdash","⊣":"dashv","⊤":"top","⊥":"bot","⊧":"models","⊨":"vDash","⊭":"nvDash","⊩":"Vdash","⊮":"nVdash","⊪":"Vvdash","⊫":"VDash","⊯":"nVDash","⊰":"prurel","⊲":"vltri","⋪":"nltri","⊳":"vrtri","⋫":"nrtri","⊴":"ltrie","⋬":"nltrie","⊴⃒":"nvltrie","⊵":"rtrie","⋭":"nrtrie","⊵⃒":"nvrtrie","⊶":"origof","⊷":"imof","⊸":"mumap","⊹":"hercon","⊺":"intcal","⊻":"veebar","⊽":"barvee","⊾":"angrtvb","⊿":"lrtri","⋀":"Wedge","⋁":"Vee","⋂":"xcap","⋃":"xcup","⋄":"diam","⋅":"sdot","⋆":"Star","⋇":"divonx","⋈":"bowtie","⋉":"ltimes","⋊":"rtimes","⋋":"lthree","⋌":"rthree","⋍":"bsime","⋎":"cuvee","⋏":"cuwed","⋐":"Sub","⋑":"Sup","⋒":"Cap","⋓":"Cup","⋔":"fork","⋕":"epar","⋖":"ltdot","⋗":"gtdot","⋘":"Ll","⋘̸":"nLl","⋙":"Gg","⋙̸":"nGg","⋚︀":"lesg","⋚":"leg","⋛":"gel","⋛︀":"gesl","⋞":"cuepr","⋟":"cuesc","⋦":"lnsim","⋧":"gnsim","⋨":"prnsim","⋩":"scnsim","⋮":"vellip","⋯":"ctdot","⋰":"utdot","⋱":"dtdot","⋲":"disin","⋳":"isinsv","⋴":"isins","⋵":"isindot","⋵̸":"notindot","⋶":"notinvc","⋷":"notinvb","⋹":"isinE","⋹̸":"notinE","⋺":"nisd","⋻":"xnis","⋼":"nis","⋽":"notnivc","⋾":"notnivb","⌅":"barwed","⌆":"Barwed","⌌":"drcrop","⌍":"dlcrop","⌎":"urcrop","⌏":"ulcrop","⌐":"bnot","⌒":"profline","⌓":"profsurf","⌕":"telrec","⌖":"target","⌜":"ulcorn","⌝":"urcorn","⌞":"dlcorn","⌟":"drcorn","⌢":"frown","⌣":"smile","⌭":"cylcty","⌮":"profalar","⌶":"topbot","⌽":"ovbar","⌿":"solbar","⍼":"angzarr","⎰":"lmoust","⎱":"rmoust","⎴":"tbrk","⎵":"bbrk","⎶":"bbrktbrk","⏜":"OverParenthesis","⏝":"UnderParenthesis","⏞":"OverBrace","⏟":"UnderBrace","⏢":"trpezium","⏧":"elinters","␣":"blank","─":"boxh","│":"boxv","┌":"boxdr","┐":"boxdl","└":"boxur","┘":"boxul","├":"boxvr","┤":"boxvl","┬":"boxhd","┴":"boxhu","┼":"boxvh","═":"boxH","║":"boxV","╒":"boxdR","╓":"boxDr","╔":"boxDR","╕":"boxdL","╖":"boxDl","╗":"boxDL","╘":"boxuR","╙":"boxUr","╚":"boxUR","╛":"boxuL","╜":"boxUl","╝":"boxUL","╞":"boxvR","╟":"boxVr","╠":"boxVR","╡":"boxvL","╢":"boxVl","╣":"boxVL","╤":"boxHd","╥":"boxhD","╦":"boxHD","╧":"boxHu","╨":"boxhU","╩":"boxHU","╪":"boxvH","╫":"boxVh","╬":"boxVH","▀":"uhblk","▄":"lhblk","█":"block","░":"blk14","▒":"blk12","▓":"blk34","□":"squ","▪":"squf","▫":"EmptyVerySmallSquare","▭":"rect","▮":"marker","▱":"fltns","△":"xutri","▴":"utrif","▵":"utri","▸":"rtrif","▹":"rtri","▽":"xdtri","▾":"dtrif","▿":"dtri","◂":"ltrif","◃":"ltri","◊":"loz","○":"cir","◬":"tridot","◯":"xcirc","◸":"ultri","◹":"urtri","◺":"lltri","◻":"EmptySmallSquare","◼":"FilledSmallSquare","★":"starf","☆":"star","☎":"phone","♀":"female","♂":"male","♠":"spades","♣":"clubs","♥":"hearts","♦":"diams","♪":"sung","✓":"check","✗":"cross","✠":"malt","✶":"sext","❘":"VerticalSeparator","⟈":"bsolhsub","⟉":"suphsol","⟵":"xlarr","⟶":"xrarr","⟷":"xharr","⟸":"xlArr","⟹":"xrArr","⟺":"xhArr","⟼":"xmap","⟿":"dzigrarr","⤂":"nvlArr","⤃":"nvrArr","⤄":"nvHarr","⤅":"Map","⤌":"lbarr","⤍":"rbarr","⤎":"lBarr","⤏":"rBarr","⤐":"RBarr","⤑":"DDotrahd","⤒":"UpArrowBar","⤓":"DownArrowBar","⤖":"Rarrtl","⤙":"latail","⤚":"ratail","⤛":"lAtail","⤜":"rAtail","⤝":"larrfs","⤞":"rarrfs","⤟":"larrbfs","⤠":"rarrbfs","⤣":"nwarhk","⤤":"nearhk","⤥":"searhk","⤦":"swarhk","⤧":"nwnear","⤨":"toea","⤩":"tosa","⤪":"swnwar","⤳":"rarrc","⤳̸":"nrarrc","⤵":"cudarrr","⤶":"ldca","⤷":"rdca","⤸":"cudarrl","⤹":"larrpl","⤼":"curarrm","⤽":"cularrp","⥅":"rarrpl","⥈":"harrcir","⥉":"Uarrocir","⥊":"lurdshar","⥋":"ldrushar","⥎":"LeftRightVector","⥏":"RightUpDownVector","⥐":"DownLeftRightVector","⥑":"LeftUpDownVector","⥒":"LeftVectorBar","⥓":"RightVectorBar","⥔":"RightUpVectorBar","⥕":"RightDownVectorBar","⥖":"DownLeftVectorBar","⥗":"DownRightVectorBar","⥘":"LeftUpVectorBar","⥙":"LeftDownVectorBar","⥚":"LeftTeeVector","⥛":"RightTeeVector","⥜":"RightUpTeeVector","⥝":"RightDownTeeVector","⥞":"DownLeftTeeVector","⥟":"DownRightTeeVector","⥠":"LeftUpTeeVector","⥡":"LeftDownTeeVector","⥢":"lHar","⥣":"uHar","⥤":"rHar","⥥":"dHar","⥦":"luruhar","⥧":"ldrdhar","⥨":"ruluhar","⥩":"rdldhar","⥪":"lharul","⥫":"llhard","⥬":"rharul","⥭":"lrhard","⥮":"udhar","⥯":"duhar","⥰":"RoundImplies","⥱":"erarr","⥲":"simrarr","⥳":"larrsim","⥴":"rarrsim","⥵":"rarrap","⥶":"ltlarr","⥸":"gtrarr","⥹":"subrarr","⥻":"suplarr","⥼":"lfisht","⥽":"rfisht","⥾":"ufisht","⥿":"dfisht","⦚":"vzigzag","⦜":"vangrt","⦝":"angrtvbd","⦤":"ange","⦥":"range","⦦":"dwangle","⦧":"uwangle","⦨":"angmsdaa","⦩":"angmsdab","⦪":"angmsdac","⦫":"angmsdad","⦬":"angmsdae","⦭":"angmsdaf","⦮":"angmsdag","⦯":"angmsdah","⦰":"bemptyv","⦱":"demptyv","⦲":"cemptyv","⦳":"raemptyv","⦴":"laemptyv","⦵":"ohbar","⦶":"omid","⦷":"opar","⦹":"operp","⦻":"olcross","⦼":"odsold","⦾":"olcir","⦿":"ofcir","⧀":"olt","⧁":"ogt","⧂":"cirscir","⧃":"cirE","⧄":"solb","⧅":"bsolb","⧉":"boxbox","⧍":"trisb","⧎":"rtriltri","⧏":"LeftTriangleBar","⧏̸":"NotLeftTriangleBar","⧐":"RightTriangleBar","⧐̸":"NotRightTriangleBar","⧜":"iinfin","⧝":"infintie","⧞":"nvinfin","⧣":"eparsl","⧤":"smeparsl","⧥":"eqvparsl","⧫":"lozf","⧴":"RuleDelayed","⧶":"dsol","⨀":"xodot","⨁":"xoplus","⨂":"xotime","⨄":"xuplus","⨆":"xsqcup","⨍":"fpartint","⨐":"cirfnint","⨑":"awint","⨒":"rppolint","⨓":"scpolint","⨔":"npolint","⨕":"pointint","⨖":"quatint","⨗":"intlarhk","⨢":"pluscir","⨣":"plusacir","⨤":"simplus","⨥":"plusdu","⨦":"plussim","⨧":"plustwo","⨩":"mcomma","⨪":"minusdu","⨭":"loplus","⨮":"roplus","⨯":"Cross","⨰":"timesd","⨱":"timesbar","⨳":"smashp","⨴":"lotimes","⨵":"rotimes","⨶":"otimesas","⨷":"Otimes","⨸":"odiv","⨹":"triplus","⨺":"triminus","⨻":"tritime","⨼":"iprod","⨿":"amalg","⩀":"capdot","⩂":"ncup","⩃":"ncap","⩄":"capand","⩅":"cupor","⩆":"cupcap","⩇":"capcup","⩈":"cupbrcap","⩉":"capbrcup","⩊":"cupcup","⩋":"capcap","⩌":"ccups","⩍":"ccaps","⩐":"ccupssm","⩓":"And","⩔":"Or","⩕":"andand","⩖":"oror","⩗":"orslope","⩘":"andslope","⩚":"andv","⩛":"orv","⩜":"andd","⩝":"ord","⩟":"wedbar","⩦":"sdote","⩪":"simdot","⩭":"congdot","⩭̸":"ncongdot","⩮":"easter","⩯":"apacir","⩰":"apE","⩰̸":"napE","⩱":"eplus","⩲":"pluse","⩳":"Esim","⩷":"eDDot","⩸":"equivDD","⩹":"ltcir","⩺":"gtcir","⩻":"ltquest","⩼":"gtquest","⩽":"les","⩽̸":"nles","⩾":"ges","⩾̸":"nges","⩿":"lesdot","⪀":"gesdot","⪁":"lesdoto","⪂":"gesdoto","⪃":"lesdotor","⪄":"gesdotol","⪅":"lap","⪆":"gap","⪇":"lne","⪈":"gne","⪉":"lnap","⪊":"gnap","⪋":"lEg","⪌":"gEl","⪍":"lsime","⪎":"gsime","⪏":"lsimg","⪐":"gsiml","⪑":"lgE","⪒":"glE","⪓":"lesges","⪔":"gesles","⪕":"els","⪖":"egs","⪗":"elsdot","⪘":"egsdot","⪙":"el","⪚":"eg","⪝":"siml","⪞":"simg","⪟":"simlE","⪠":"simgE","⪡":"LessLess","⪡̸":"NotNestedLessLess","⪢":"GreaterGreater","⪢̸":"NotNestedGreaterGreater","⪤":"glj","⪥":"gla","⪦":"ltcc","⪧":"gtcc","⪨":"lescc","⪩":"gescc","⪪":"smt","⪫":"lat","⪬":"smte","⪬︀":"smtes","⪭":"late","⪭︀":"lates","⪮":"bumpE","⪯":"pre","⪯̸":"npre","⪰":"sce","⪰̸":"nsce","⪳":"prE","⪴":"scE","⪵":"prnE","⪶":"scnE","⪷":"prap","⪸":"scap","⪹":"prnap","⪺":"scnap","⪻":"Pr","⪼":"Sc","⪽":"subdot","⪾":"supdot","⪿":"subplus","⫀":"supplus","⫁":"submult","⫂":"supmult","⫃":"subedot","⫄":"supedot","⫅":"subE","⫅̸":"nsubE","⫆":"supE","⫆̸":"nsupE","⫇":"subsim","⫈":"supsim","⫋︀":"vsubnE","⫋":"subnE","⫌︀":"vsupnE","⫌":"supnE","⫏":"csub","⫐":"csup","⫑":"csube","⫒":"csupe","⫓":"subsup","⫔":"supsub","⫕":"subsub","⫖":"supsup","⫗":"suphsub","⫘":"supdsub","⫙":"forkv","⫚":"topfork","⫛":"mlcp","⫤":"Dashv","⫦":"Vdashl","⫧":"Barv","⫨":"vBar","⫩":"vBarv","⫫":"Vbar","⫬":"Not","⫭":"bNot","⫮":"rnmid","⫯":"cirmid","⫰":"midcir","⫱":"topcir","⫲":"nhpar","⫳":"parsim","⫽":"parsl","⫽⃥":"nparsl","♭":"flat","♮":"natur","♯":"sharp","¤":"curren","¢":"cent",$:"dollar","£":"pound","¥":"yen","€":"euro","¹":"sup1","½":"half","⅓":"frac13","¼":"frac14","⅕":"frac15","⅙":"frac16","⅛":"frac18","²":"sup2","⅔":"frac23","⅖":"frac25","³":"sup3","¾":"frac34","⅗":"frac35","⅜":"frac38","⅘":"frac45","⅚":"frac56","⅝":"frac58","⅞":"frac78","𝒶":"ascr","𝕒":"aopf","𝔞":"afr","𝔸":"Aopf","𝔄":"Afr","𝒜":"Ascr",ª:"ordf",á:"aacute",Á:"Aacute",à:"agrave",À:"Agrave",ă:"abreve",Ă:"Abreve",â:"acirc",Â:"Acirc",å:"aring",Å:"angst",ä:"auml",Ä:"Auml",ã:"atilde",Ã:"Atilde",ą:"aogon",Ą:"Aogon",ā:"amacr",Ā:"Amacr",æ:"aelig",Æ:"AElig","𝒷":"bscr","𝕓":"bopf","𝔟":"bfr","𝔹":"Bopf",ℬ:"Bscr","𝔅":"Bfr","𝔠":"cfr","𝒸":"cscr","𝕔":"copf",ℭ:"Cfr","𝒞":"Cscr",ℂ:"Copf",ć:"cacute",Ć:"Cacute",ĉ:"ccirc",Ĉ:"Ccirc",č:"ccaron",Č:"Ccaron",ċ:"cdot",Ċ:"Cdot",ç:"ccedil",Ç:"Ccedil","℅":"incare","𝔡":"dfr","ⅆ":"dd","𝕕":"dopf","𝒹":"dscr","𝒟":"Dscr","𝔇":"Dfr","ⅅ":"DD","𝔻":"Dopf",ď:"dcaron",Ď:"Dcaron",đ:"dstrok",Đ:"Dstrok",ð:"eth",Ð:"ETH","ⅇ":"ee",ℯ:"escr","𝔢":"efr","𝕖":"eopf",ℰ:"Escr","𝔈":"Efr","𝔼":"Eopf",é:"eacute",É:"Eacute",è:"egrave",È:"Egrave",ê:"ecirc",Ê:"Ecirc",ě:"ecaron",Ě:"Ecaron",ë:"euml",Ë:"Euml",ė:"edot",Ė:"Edot",ę:"eogon",Ę:"Eogon",ē:"emacr",Ē:"Emacr","𝔣":"ffr","𝕗":"fopf","𝒻":"fscr","𝔉":"Ffr","𝔽":"Fopf",ℱ:"Fscr",ﬀ:"fflig",ﬃ:"ffilig",ﬄ:"ffllig",ﬁ:"filig",fj:"fjlig",ﬂ:"fllig",ƒ:"fnof",ℊ:"gscr","𝕘":"gopf","𝔤":"gfr","𝒢":"Gscr","𝔾":"Gopf","𝔊":"Gfr",ǵ:"gacute",ğ:"gbreve",Ğ:"Gbreve",ĝ:"gcirc",Ĝ:"Gcirc",ġ:"gdot",Ġ:"Gdot",Ģ:"Gcedil","𝔥":"hfr",ℎ:"planckh","𝒽":"hscr","𝕙":"hopf",ℋ:"Hscr",ℌ:"Hfr",ℍ:"Hopf",ĥ:"hcirc",Ĥ:"Hcirc",ℏ:"hbar",ħ:"hstrok",Ħ:"Hstrok","𝕚":"iopf","𝔦":"ifr","𝒾":"iscr","ⅈ":"ii","𝕀":"Iopf",ℐ:"Iscr",ℑ:"Im",í:"iacute",Í:"Iacute",ì:"igrave",Ì:"Igrave",î:"icirc",Î:"Icirc",ï:"iuml",Ï:"Iuml",ĩ:"itilde",Ĩ:"Itilde",İ:"Idot",į:"iogon",Į:"Iogon",ī:"imacr",Ī:"Imacr",ĳ:"ijlig",Ĳ:"IJlig",ı:"imath","𝒿":"jscr","𝕛":"jopf","𝔧":"jfr","𝒥":"Jscr","𝔍":"Jfr","𝕁":"Jopf",ĵ:"jcirc",Ĵ:"Jcirc","ȷ":"jmath","𝕜":"kopf","𝓀":"kscr","𝔨":"kfr","𝒦":"Kscr","𝕂":"Kopf","𝔎":"Kfr",ķ:"kcedil",Ķ:"Kcedil","𝔩":"lfr","𝓁":"lscr",ℓ:"ell","𝕝":"lopf",ℒ:"Lscr","𝔏":"Lfr","𝕃":"Lopf",ĺ:"lacute",Ĺ:"Lacute",ľ:"lcaron",Ľ:"Lcaron",ļ:"lcedil",Ļ:"Lcedil",ł:"lstrok",Ł:"Lstrok",ŀ:"lmidot",Ŀ:"Lmidot","𝔪":"mfr","𝕞":"mopf","𝓂":"mscr","𝔐":"Mfr","𝕄":"Mopf",ℳ:"Mscr","𝔫":"nfr","𝕟":"nopf","𝓃":"nscr",ℕ:"Nopf","𝒩":"Nscr","𝔑":"Nfr",ń:"nacute",Ń:"Nacute",ň:"ncaron",Ň:"Ncaron",ñ:"ntilde",Ñ:"Ntilde",ņ:"ncedil",Ņ:"Ncedil","№":"numero",ŋ:"eng",Ŋ:"ENG","𝕠":"oopf","𝔬":"ofr",ℴ:"oscr","𝒪":"Oscr","𝔒":"Ofr","𝕆":"Oopf",º:"ordm",ó:"oacute",Ó:"Oacute",ò:"ograve",Ò:"Ograve",ô:"ocirc",Ô:"Ocirc",ö:"ouml",Ö:"Ouml",ő:"odblac",Ő:"Odblac",õ:"otilde",Õ:"Otilde",ø:"oslash",Ø:"Oslash",ō:"omacr",Ō:"Omacr",œ:"oelig",Œ:"OElig","𝔭":"pfr","𝓅":"pscr","𝕡":"popf",ℙ:"Popf","𝔓":"Pfr","𝒫":"Pscr","𝕢":"qopf","𝔮":"qfr","𝓆":"qscr","𝒬":"Qscr","𝔔":"Qfr",ℚ:"Qopf",ĸ:"kgreen","𝔯":"rfr","𝕣":"ropf","𝓇":"rscr",ℛ:"Rscr",ℜ:"Re",ℝ:"Ropf",ŕ:"racute",Ŕ:"Racute",ř:"rcaron",Ř:"Rcaron",ŗ:"rcedil",Ŗ:"Rcedil","𝕤":"sopf","𝓈":"sscr","𝔰":"sfr","𝕊":"Sopf","𝔖":"Sfr","𝒮":"Sscr","Ⓢ":"oS",ś:"sacute",Ś:"Sacute",ŝ:"scirc",Ŝ:"Scirc",š:"scaron",Š:"Scaron",ş:"scedil",Ş:"Scedil",ß:"szlig","𝔱":"tfr","𝓉":"tscr","𝕥":"topf","𝒯":"Tscr","𝔗":"Tfr","𝕋":"Topf",ť:"tcaron",Ť:"Tcaron",ţ:"tcedil",Ţ:"Tcedil","™":"trade",ŧ:"tstrok",Ŧ:"Tstrok","𝓊":"uscr","𝕦":"uopf","𝔲":"ufr","𝕌":"Uopf","𝔘":"Ufr","𝒰":"Uscr",ú:"uacute",Ú:"Uacute",ù:"ugrave",Ù:"Ugrave",ŭ:"ubreve",Ŭ:"Ubreve",û:"ucirc",Û:"Ucirc",ů:"uring",Ů:"Uring",ü:"uuml",Ü:"Uuml",ű:"udblac",Ű:"Udblac",ũ:"utilde",Ũ:"Utilde",ų:"uogon",Ų:"Uogon",ū:"umacr",Ū:"Umacr","𝔳":"vfr","𝕧":"vopf","𝓋":"vscr","𝔙":"Vfr","𝕍":"Vopf","𝒱":"Vscr","𝕨":"wopf","𝓌":"wscr","𝔴":"wfr","𝒲":"Wscr","𝕎":"Wopf","𝔚":"Wfr",ŵ:"wcirc",Ŵ:"Wcirc","𝔵":"xfr","𝓍":"xscr","𝕩":"xopf","𝕏":"Xopf","𝔛":"Xfr","𝒳":"Xscr","𝔶":"yfr","𝓎":"yscr","𝕪":"yopf","𝒴":"Yscr","𝔜":"Yfr","𝕐":"Yopf",ý:"yacute",Ý:"Yacute",ŷ:"ycirc",Ŷ:"Ycirc",ÿ:"yuml",Ÿ:"Yuml","𝓏":"zscr","𝔷":"zfr","𝕫":"zopf",ℨ:"Zfr",ℤ:"Zopf","𝒵":"Zscr",ź:"zacute",Ź:"Zacute",ž:"zcaron",Ž:"Zcaron",ż:"zdot",Ż:"Zdot",Ƶ:"imped",þ:"thorn",Þ:"THORN",ŉ:"napos",α:"alpha",Α:"Alpha",β:"beta",Β:"Beta",γ:"gamma",Γ:"Gamma",δ:"delta",Δ:"Delta",ε:"epsi","ϵ":"epsiv",Ε:"Epsilon",ϝ:"gammad",Ϝ:"Gammad",ζ:"zeta",Ζ:"Zeta",η:"eta",Η:"Eta",θ:"theta",ϑ:"thetav",Θ:"Theta",ι:"iota",Ι:"Iota",κ:"kappa",ϰ:"kappav",Κ:"Kappa",λ:"lambda",Λ:"Lambda",μ:"mu",µ:"micro",Μ:"Mu",ν:"nu",Ν:"Nu",ξ:"xi",Ξ:"Xi",ο:"omicron",Ο:"Omicron",π:"pi",ϖ:"piv",Π:"Pi",ρ:"rho",ϱ:"rhov",Ρ:"Rho",σ:"sigma",Σ:"Sigma",ς:"sigmaf",τ:"tau",Τ:"Tau",υ:"upsi",Υ:"Upsilon",ϒ:"Upsi",φ:"phi",ϕ:"phiv",Φ:"Phi",χ:"chi",Χ:"Chi",ψ:"psi",Ψ:"Psi",ω:"omega",Ω:"ohm",а:"acy",А:"Acy",б:"bcy",Б:"Bcy",в:"vcy",В:"Vcy",г:"gcy",Г:"Gcy",ѓ:"gjcy",Ѓ:"GJcy",д:"dcy",Д:"Dcy",ђ:"djcy",Ђ:"DJcy",е:"iecy",Е:"IEcy",ё:"iocy",Ё:"IOcy",є:"jukcy",Є:"Jukcy",ж:"zhcy",Ж:"ZHcy",з:"zcy",З:"Zcy",ѕ:"dscy",Ѕ:"DScy",и:"icy",И:"Icy",і:"iukcy",І:"Iukcy",ї:"yicy",Ї:"YIcy",й:"jcy",Й:"Jcy",ј:"jsercy",Ј:"Jsercy",к:"kcy",К:"Kcy",ќ:"kjcy",Ќ:"KJcy",л:"lcy",Л:"Lcy",љ:"ljcy",Љ:"LJcy",м:"mcy",М:"Mcy",н:"ncy",Н:"Ncy",њ:"njcy",Њ:"NJcy",о:"ocy",О:"Ocy",п:"pcy",П:"Pcy",р:"rcy",Р:"Rcy",с:"scy",С:"Scy",т:"tcy",Т:"Tcy",ћ:"tshcy",Ћ:"TSHcy",у:"ucy",У:"Ucy",ў:"ubrcy",Ў:"Ubrcy",ф:"fcy",Ф:"Fcy",х:"khcy",Х:"KHcy",ц:"tscy",Ц:"TScy",ч:"chcy",Ч:"CHcy",џ:"dzcy",Џ:"DZcy",ш:"shcy",Ш:"SHcy",щ:"shchcy",Щ:"SHCHcy",ъ:"hardcy",Ъ:"HARDcy",ы:"ycy",Ы:"Ycy",ь:"softcy",Ь:"SOFTcy",э:"ecy",Э:"Ecy",ю:"yucy",Ю:"YUcy",я:"yacy",Я:"YAcy",ℵ:"aleph",ℶ:"beth",ℷ:"gimel",ℸ:"daleth"},g=/["&'<>`]/g,y={'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;"},w=/&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/,I=/[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,O=/&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+);|&(Aacute|Agrave|Atilde|Ccedil|Eacute|Egrave|Iacute|Igrave|Ntilde|Oacute|Ograve|Oslash|Otilde|Uacute|Ugrave|Yacute|aacute|agrave|atilde|brvbar|ccedil|curren|divide|eacute|egrave|frac12|frac14|frac34|iacute|igrave|iquest|middot|ntilde|oacute|ograve|oslash|otilde|plusmn|uacute|ugrave|yacute|AElig|Acirc|Aring|Ecirc|Icirc|Ocirc|THORN|Ucirc|acirc|acute|aelig|aring|cedil|ecirc|icirc|iexcl|laquo|micro|ocirc|pound|raquo|szlig|thorn|times|ucirc|Auml|COPY|Euml|Iuml|Ouml|QUOT|Uuml|auml|cent|copy|euml|iuml|macr|nbsp|ordf|ordm|ouml|para|quot|sect|sup1|sup2|sup3|uuml|yuml|AMP|ETH|REG|amp|deg|eth|not|reg|shy|uml|yen|GT|LT|gt|lt)([=a-zA-Z0-9])?/g,N={aacute:"á",Aacute:"Á",abreve:"ă",Abreve:"Ă",ac:"∾",acd:"∿",acE:"∾̳",acirc:"â",Acirc:"Â",acute:"´",acy:"а",Acy:"А",aelig:"æ",AElig:"Æ",af:"⁡",afr:"𝔞",Afr:"𝔄",agrave:"à",Agrave:"À",alefsym:"ℵ",aleph:"ℵ",alpha:"α",Alpha:"Α",amacr:"ā",Amacr:"Ā",amalg:"⨿",amp:"&",AMP:"&",and:"∧",And:"⩓",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",aogon:"ą",Aogon:"Ą",aopf:"𝕒",Aopf:"𝔸",ap:"≈",apacir:"⩯",ape:"≊",apE:"⩰",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",aring:"å",Aring:"Å",ascr:"𝒶",Ascr:"𝒜",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",atilde:"ã",Atilde:"Ã",auml:"ä",Auml:"Ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",bcy:"б",Bcy:"Б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",beta:"β",Beta:"Β",beth:"ℶ",between:"≬",bfr:"𝔟",Bfr:"𝔅",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bnot:"⌐",bNot:"⫭",bopf:"𝕓",Bopf:"𝔹",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxhD:"╥",boxHd:"╤",boxHD:"╦",boxhu:"┴",boxhU:"╨",boxHu:"╧",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpe:"≏",bumpE:"⪮",bumpeq:"≏",Bumpeq:"≎",cacute:"ć",Cacute:"Ć",cap:"∩",Cap:"⋒",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",ccaron:"č",Ccaron:"Č",ccedil:"ç",Ccedil:"Ç",ccirc:"ĉ",Ccirc:"Ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",cdot:"ċ",Cdot:"Ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",chcy:"ч",CHcy:"Ч",check:"✓",checkmark:"✓",chi:"χ",Chi:"Χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cire:"≗",cirE:"⧃",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",colone:"≔",Colone:"⩴",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",cscr:"𝒸",Cscr:"𝒞",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cup:"∪",Cup:"⋓",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",dArr:"⇓",Darr:"↡",dash:"‐",dashv:"⊣",Dashv:"⫤",dbkarow:"⤏",dblac:"˝",dcaron:"ď",Dcaron:"Ď",dcy:"д",Dcy:"Д",dd:"ⅆ",DD:"ⅅ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",delta:"δ",Delta:"Δ",demptyv:"⦱",dfisht:"⥿",dfr:"𝔡",Dfr:"𝔇",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",djcy:"ђ",DJcy:"Ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",dopf:"𝕕",Dopf:"𝔻",dot:"˙",Dot:"¨",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",downarrow:"↓",Downarrow:"⇓",DownArrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",dscr:"𝒹",Dscr:"𝒟",dscy:"ѕ",DScy:"Ѕ",dsol:"⧶",dstrok:"đ",Dstrok:"Đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",dzcy:"џ",DZcy:"Џ",dzigrarr:"⟿",eacute:"é",Eacute:"É",easter:"⩮",ecaron:"ě",Ecaron:"Ě",ecir:"≖",ecirc:"ê",Ecirc:"Ê",ecolon:"≕",ecy:"э",Ecy:"Э",eDDot:"⩷",edot:"ė",eDot:"≑",Edot:"Ė",ee:"ⅇ",efDot:"≒",efr:"𝔢",Efr:"𝔈",eg:"⪚",egrave:"è",Egrave:"È",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",emacr:"ē",Emacr:"Ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",eng:"ŋ",ENG:"Ŋ",ensp:" ",eogon:"ę",Eogon:"Ę",eopf:"𝕖",Eopf:"𝔼",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",epsilon:"ε",Epsilon:"Ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",esim:"≂",Esim:"⩳",eta:"η",Eta:"Η",eth:"ð",ETH:"Ð",euml:"ë",Euml:"Ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",fcy:"ф",Fcy:"Ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",ffr:"𝔣",Ffr:"𝔉",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",fopf:"𝕗",Fopf:"𝔽",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",gamma:"γ",Gamma:"Γ",gammad:"ϝ",Gammad:"Ϝ",gap:"⪆",gbreve:"ğ",Gbreve:"Ğ",Gcedil:"Ģ",gcirc:"ĝ",Gcirc:"Ĝ",gcy:"г",Gcy:"Г",gdot:"ġ",Gdot:"Ġ",ge:"≥",gE:"≧",gel:"⋛",gEl:"⪌",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",gfr:"𝔤",Gfr:"𝔊",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",gjcy:"ѓ",GJcy:"Ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",gopf:"𝕘",Gopf:"𝔾",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",gscr:"ℊ",Gscr:"𝒢",gsim:"≳",gsime:"⪎",gsiml:"⪐",gt:">",Gt:"≫",GT:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",hardcy:"ъ",HARDcy:"Ъ",harr:"↔",hArr:"⇔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",hcirc:"ĥ",Hcirc:"Ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",hstrok:"ħ",Hstrok:"Ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",iacute:"í",Iacute:"Í",ic:"⁣",icirc:"î",Icirc:"Î",icy:"и",Icy:"И",Idot:"İ",iecy:"е",IEcy:"Е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",igrave:"ì",Igrave:"Ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",ijlig:"ĳ",IJlig:"Ĳ",Im:"ℑ",imacr:"ī",Imacr:"Ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",int:"∫",Int:"∬",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",iocy:"ё",IOcy:"Ё",iogon:"į",Iogon:"Į",iopf:"𝕚",Iopf:"𝕀",iota:"ι",Iota:"Ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",itilde:"ĩ",Itilde:"Ĩ",iukcy:"і",Iukcy:"І",iuml:"ï",Iuml:"Ï",jcirc:"ĵ",Jcirc:"Ĵ",jcy:"й",Jcy:"Й",jfr:"𝔧",Jfr:"𝔍",jmath:"ȷ",jopf:"𝕛",Jopf:"𝕁",jscr:"𝒿",Jscr:"𝒥",jsercy:"ј",Jsercy:"Ј",jukcy:"є",Jukcy:"Є",kappa:"κ",Kappa:"Κ",kappav:"ϰ",kcedil:"ķ",Kcedil:"Ķ",kcy:"к",Kcy:"К",kfr:"𝔨",Kfr:"𝔎",kgreen:"ĸ",khcy:"х",KHcy:"Х",kjcy:"ќ",KJcy:"Ќ",kopf:"𝕜",Kopf:"𝕂",kscr:"𝓀",Kscr:"𝒦",lAarr:"⇚",lacute:"ĺ",Lacute:"Ĺ",laemptyv:"⦴",lagran:"ℒ",lambda:"λ",Lambda:"Λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larr:"←",lArr:"⇐",Larr:"↞",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",latail:"⤙",lAtail:"⤛",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",lcaron:"ľ",Lcaron:"Ľ",lcedil:"ļ",Lcedil:"Ļ",lceil:"⌈",lcub:"{",lcy:"л",Lcy:"Л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",leftarrow:"←",Leftarrow:"⇐",LeftArrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",Leftrightarrow:"⇔",LeftRightArrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",leg:"⋚",lEg:"⪋",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",lfr:"𝔩",Lfr:"𝔏",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",ljcy:"љ",LJcy:"Љ",ll:"≪",Ll:"⋘",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",lmidot:"ŀ",Lmidot:"Ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",Longleftarrow:"⟸",LongLeftArrow:"⟵",longleftrightarrow:"⟷",Longleftrightarrow:"⟺",LongLeftRightArrow:"⟷",longmapsto:"⟼",longrightarrow:"⟶",Longrightarrow:"⟹",LongRightArrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",lopf:"𝕝",Lopf:"𝕃",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",lstrok:"ł",Lstrok:"Ł",lt:"<",Lt:"≪",LT:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",map:"↦",Map:"⤅",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",mcy:"м",Mcy:"М",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",mfr:"𝔪",Mfr:"𝔐",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",mopf:"𝕞",Mopf:"𝕄",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",mu:"μ",Mu:"Μ",multimap:"⊸",mumap:"⊸",nabla:"∇",nacute:"ń",Nacute:"Ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",ncaron:"ň",Ncaron:"Ň",ncedil:"ņ",Ncedil:"Ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",ncy:"н",Ncy:"Н",ndash:"–",ne:"≠",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",nfr:"𝔫",Nfr:"𝔑",nge:"≱",ngE:"≧̸",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",ngt:"≯",nGt:"≫⃒",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",njcy:"њ",NJcy:"Њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nle:"≰",nlE:"≦̸",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nlt:"≮",nLt:"≪⃒",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",not:"¬",Not:"⫬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrarr:"↛",nrArr:"⇏",nrarrc:"⤳̸",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",nscr:"𝓃",Nscr:"𝒩",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsube:"⊈",nsubE:"⫅̸",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupe:"⊉",nsupE:"⫆̸",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",ntilde:"ñ",Ntilde:"Ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",nu:"ν",Nu:"Ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",oacute:"ó",Oacute:"Ó",oast:"⊛",ocir:"⊚",ocirc:"ô",Ocirc:"Ô",ocy:"о",Ocy:"О",odash:"⊝",odblac:"ő",Odblac:"Ő",odiv:"⨸",odot:"⊙",odsold:"⦼",oelig:"œ",OElig:"Œ",ofcir:"⦿",ofr:"𝔬",Ofr:"𝔒",ogon:"˛",ograve:"ò",Ograve:"Ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",omacr:"ō",Omacr:"Ō",omega:"ω",Omega:"Ω",omicron:"ο",Omicron:"Ο",omid:"⦶",ominus:"⊖",oopf:"𝕠",Oopf:"𝕆",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",or:"∨",Or:"⩔",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",oscr:"ℴ",Oscr:"𝒪",oslash:"ø",Oslash:"Ø",osol:"⊘",otilde:"õ",Otilde:"Õ",otimes:"⊗",Otimes:"⨷",otimesas:"⨶",ouml:"ö",Ouml:"Ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",pcy:"п",Pcy:"П",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",pfr:"𝔭",Pfr:"𝔓",phi:"φ",Phi:"Φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",pi:"π",Pi:"Π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",pr:"≺",Pr:"⪻",prap:"⪷",prcue:"≼",pre:"⪯",prE:"⪳",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",pscr:"𝓅",Pscr:"𝒫",psi:"ψ",Psi:"Ψ",puncsp:" ",qfr:"𝔮",Qfr:"𝔔",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",qscr:"𝓆",Qscr:"𝒬",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",racute:"ŕ",Racute:"Ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarr:"→",rArr:"⇒",Rarr:"↠",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",rarrtl:"↣",Rarrtl:"⤖",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",rcaron:"ř",Rcaron:"Ř",rcedil:"ŗ",Rcedil:"Ŗ",rceil:"⌉",rcub:"}",rcy:"р",Rcy:"Р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",rho:"ρ",Rho:"Ρ",rhov:"ϱ",RightAngleBracket:"⟩",rightarrow:"→",Rightarrow:"⇒",RightArrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",sacute:"ś",Sacute:"Ś",sbquo:"‚",sc:"≻",Sc:"⪼",scap:"⪸",scaron:"š",Scaron:"Š",sccue:"≽",sce:"⪰",scE:"⪴",scedil:"ş",Scedil:"Ş",scirc:"ŝ",Scirc:"Ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",scy:"с",Scy:"С",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",sfr:"𝔰",Sfr:"𝔖",sfrown:"⌢",sharp:"♯",shchcy:"щ",SHCHcy:"Щ",shcy:"ш",SHcy:"Ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",sigma:"σ",Sigma:"Σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",softcy:"ь",SOFTcy:"Ь",sol:"/",solb:"⧄",solbar:"⌿",sopf:"𝕤",Sopf:"𝕊",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",sscr:"𝓈",Sscr:"𝒮",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",star:"☆",Star:"⋆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",sube:"⊆",subE:"⫅",subedot:"⫃",submult:"⫁",subne:"⊊",subnE:"⫋",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup:"⊃",Sup:"⋑",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supe:"⊇",supE:"⫆",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supne:"⊋",supnE:"⫌",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",tau:"τ",Tau:"Τ",tbrk:"⎴",tcaron:"ť",Tcaron:"Ť",tcedil:"ţ",Tcedil:"Ţ",tcy:"т",Tcy:"Т",tdot:"⃛",telrec:"⌕",tfr:"𝔱",Tfr:"𝔗",there4:"∴",therefore:"∴",Therefore:"∴",theta:"θ",Theta:"Θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",thorn:"þ",THORN:"Þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",topf:"𝕥",Topf:"𝕋",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",tscr:"𝓉",Tscr:"𝒯",tscy:"ц",TScy:"Ц",tshcy:"ћ",TSHcy:"Ћ",tstrok:"ŧ",Tstrok:"Ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",uacute:"ú",Uacute:"Ú",uarr:"↑",uArr:"⇑",Uarr:"↟",Uarrocir:"⥉",ubrcy:"ў",Ubrcy:"Ў",ubreve:"ŭ",Ubreve:"Ŭ",ucirc:"û",Ucirc:"Û",ucy:"у",Ucy:"У",udarr:"⇅",udblac:"ű",Udblac:"Ű",udhar:"⥮",ufisht:"⥾",ufr:"𝔲",Ufr:"𝔘",ugrave:"ù",Ugrave:"Ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",umacr:"ū",Umacr:"Ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",uogon:"ų",Uogon:"Ų",uopf:"𝕦",Uopf:"𝕌",uparrow:"↑",Uparrow:"⇑",UpArrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",updownarrow:"↕",Updownarrow:"⇕",UpDownArrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",upsilon:"υ",Upsilon:"Υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",uring:"ů",Uring:"Ů",urtri:"◹",uscr:"𝓊",Uscr:"𝒰",utdot:"⋰",utilde:"ũ",Utilde:"Ũ",utri:"▵",utrif:"▴",uuarr:"⇈",uuml:"ü",Uuml:"Ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",vcy:"в",Vcy:"В",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",vee:"∨",Vee:"⋁",veebar:"⊻",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",vfr:"𝔳",Vfr:"𝔙",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",vopf:"𝕧",Vopf:"𝕍",vprop:"∝",vrtri:"⊳",vscr:"𝓋",Vscr:"𝒱",vsubne:"⊊︀",vsubnE:"⫋︀",vsupne:"⊋︀",vsupnE:"⫌︀",Vvdash:"⊪",vzigzag:"⦚",wcirc:"ŵ",Wcirc:"Ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",wfr:"𝔴",Wfr:"𝔚",wopf:"𝕨",Wopf:"𝕎",wp:"℘",wr:"≀",wreath:"≀",wscr:"𝓌",Wscr:"𝒲",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",xfr:"𝔵",Xfr:"𝔛",xharr:"⟷",xhArr:"⟺",xi:"ξ",Xi:"Ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",xopf:"𝕩",Xopf:"𝕏",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",xscr:"𝓍",Xscr:"𝒳",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",yacute:"ý",Yacute:"Ý",yacy:"я",YAcy:"Я",ycirc:"ŷ",Ycirc:"Ŷ",ycy:"ы",Ycy:"Ы",yen:"¥",yfr:"𝔶",Yfr:"𝔜",yicy:"ї",YIcy:"Ї",yopf:"𝕪",Yopf:"𝕐",yscr:"𝓎",Yscr:"𝒴",yucy:"ю",YUcy:"Ю",yuml:"ÿ",Yuml:"Ÿ",zacute:"ź",Zacute:"Ź",zcaron:"ž",Zcaron:"Ž",zcy:"з",Zcy:"З",zdot:"ż",Zdot:"Ż",zeetrf:"ℨ",ZeroWidthSpace:"​",zeta:"ζ",Zeta:"Ζ",zfr:"𝔷",Zfr:"ℨ",zhcy:"ж",ZHcy:"Ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",zscr:"𝓏",Zscr:"𝒵",zwj:"‍",zwnj:"‌"},F={aacute:"á",Aacute:"Á",acirc:"â",Acirc:"Â",acute:"´",aelig:"æ",AElig:"Æ",agrave:"à",Agrave:"À",amp:"&",AMP:"&",aring:"å",Aring:"Å",atilde:"ã",Atilde:"Ã",auml:"ä",Auml:"Ä",brvbar:"¦",ccedil:"ç",Ccedil:"Ç",cedil:"¸",cent:"¢",copy:"©",COPY:"©",curren:"¤",deg:"°",divide:"÷",eacute:"é",Eacute:"É",ecirc:"ê",Ecirc:"Ê",egrave:"è",Egrave:"È",eth:"ð",ETH:"Ð",euml:"ë",Euml:"Ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",GT:">",iacute:"í",Iacute:"Í",icirc:"î",Icirc:"Î",iexcl:"¡",igrave:"ì",Igrave:"Ì",iquest:"¿",iuml:"ï",Iuml:"Ï",laquo:"«",lt:"<",LT:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",ntilde:"ñ",Ntilde:"Ñ",oacute:"ó",Oacute:"Ó",ocirc:"ô",Ocirc:"Ô",ograve:"ò",Ograve:"Ò",ordf:"ª",ordm:"º",oslash:"ø",Oslash:"Ø",otilde:"õ",Otilde:"Õ",ouml:"ö",Ouml:"Ö",para:"¶",plusmn:"±",pound:"£",quot:'"',QUOT:'"',raquo:"»",reg:"®",REG:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",thorn:"þ",THORN:"Þ",times:"×",uacute:"ú",Uacute:"Ú",ucirc:"û",Ucirc:"Û",ugrave:"ù",Ugrave:"Ù",uml:"¨",uuml:"ü",Uuml:"Ü",yacute:"ý",Yacute:"Ý",yen:"¥",yuml:"ÿ"},b={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},v=[1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111],E=String.fromCharCode,B={},Y=B.hasOwnProperty,q=function(U,ht){return Y.call(U,ht)},K=function(U,ht){for(var Rt=-1,At=U.length;++Rt<At;)if(U[Rt]==ht)return!0;return!1},nt=function(U,ht){if(!U)return ht;var Rt={},At;for(At in ht)Rt[At]=q(U,At)?U[At]:ht[At];return Rt},tt=function(U,ht){var Rt="";return U>=55296&&U<=57343||U>1114111?(ht&&Q("character reference outside the permissible Unicode range"),"�"):q(b,U)?(ht&&Q("disallowed character reference"),b[U]):(ht&&K(v,U)&&Q("disallowed character reference"),U>65535&&(U-=65536,Rt+=E(U>>>10&1023|55296),U=56320|U&1023),Rt+=E(U),Rt)},m=function(U){return"&#x"+U.toString(16).toUpperCase()+";"},p=function(U){return"&#"+U+";"},Q=function(U){throw Error("Parse error: "+U)},jt=function(U,ht){ht=nt(ht,jt.options);var Rt=ht.strict;Rt&&I.test(U)&&Q("forbidden code point");var At=ht.encodeEverything,st=ht.useNamedReferences,mt=ht.allowUnsafeSymbols,Gt=ht.decimal?p:m,Lt=function(pt){return Gt(pt.charCodeAt(0))};return At?(U=U.replace(a,function(pt){return st&&q(f,pt)?"&"+f[pt]+";":Lt(pt)}),st&&(U=U.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;").replace(/&#x66;&#x6A;/g,"&fjlig;")),st&&(U=U.replace(c,function(pt){return"&"+f[pt]+";"}))):st?(mt||(U=U.replace(g,function(pt){return"&"+f[pt]+";"})),U=U.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;"),U=U.replace(c,function(pt){return"&"+f[pt]+";"})):mt||(U=U.replace(g,Lt)),U.replace(n,function(pt){var Ot=pt.charCodeAt(0),hs=pt.charCodeAt(1),De=(Ot-55296)*1024+hs-56320+65536;return Gt(De)}).replace(h,Lt)};jt.options={allowUnsafeSymbols:!1,encodeEverything:!1,strict:!1,useNamedReferences:!1,decimal:!1};var x=function(U,ht){ht=nt(ht,x.options);var Rt=ht.strict;return Rt&&w.test(U)&&Q("malformed character reference"),U.replace(O,function(At,st,mt,Gt,Lt,pt,Ot,hs){var De,Re,yi,ws,Wt,vs;return st?(yi=st,Re=mt,Rt&&!Re&&Q("character reference was not terminated by a semicolon"),De=parseInt(yi,10),tt(De,Rt)):Gt?(ws=Gt,Re=Lt,Rt&&!Re&&Q("character reference was not terminated by a semicolon"),De=parseInt(ws,16),tt(De,Rt)):pt?(Wt=pt,q(N,Wt)?N[Wt]:(Rt&&Q("named character reference was not terminated by a semicolon"),At)):(Wt=Ot,vs=hs,vs&&ht.isAttributeValue?(Rt&&vs=="="&&Q("`&` did not start a character reference"),At):(Rt&&Q("named character reference was not terminated by a semicolon"),F[Wt]+(vs||"")))})};x.options={isAttributeValue:!1,strict:!1};var us=function(U){return U.replace(g,function(ht){return y[ht]})},Je={version:"1.1.1",encode:jt,decode:x,escape:us,unescape:x};e.he=Je})(self)})();(function(){self.byteLength=c,self.toByteArray=f,self.fromByteArray=w;for(var o=[],t=[],e=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0,a=i.length;n<a;++n)o[n]=i[n],t[i.charCodeAt(n)]=n;t[45]=62,t[95]=63;function h(I){var O=I.length;if(O%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return I[O-2]==="="?2:I[O-1]==="="?1:0}function c(I){return I.length*3/4-h(I)}function f(I){var O,N,F,b,v,E,B=I.length;v=h(I),E=new e(B*3/4-v),F=v>0?B-4:B;var Y=0;for(O=0,N=0;O<F;O+=4,N+=3)b=t[I.charCodeAt(O)]<<18|t[I.charCodeAt(O+1)]<<12|t[I.charCodeAt(O+2)]<<6|t[I.charCodeAt(O+3)],E[Y++]=b>>16&255,E[Y++]=b>>8&255,E[Y++]=b&255;return v===2?(b=t[I.charCodeAt(O)]<<2|t[I.charCodeAt(O+1)]>>4,E[Y++]=b&255):v===1&&(b=t[I.charCodeAt(O)]<<10|t[I.charCodeAt(O+1)]<<4|t[I.charCodeAt(O+2)]>>2,E[Y++]=b>>8&255,E[Y++]=b&255),E}function g(I){return o[I>>18&63]+o[I>>12&63]+o[I>>6&63]+o[I&63]}function y(I,O,N){for(var F,b=[],v=O;v<N;v+=3)F=(I[v]<<16)+(I[v+1]<<8)+I[v+2],b.push(g(F));return b.join("")}function w(I){for(var O,N=I.length,F=N%3,b="",v=[],E=16383,B=0,Y=N-F;B<Y;B+=E)v.push(y(I,B,B+E>Y?Y:B+E));return F===1?(O=I[N-1],b+=o[O>>2],b+=o[O<<4&63],b+="=="):F===2&&(O=(I[N-2]<<8)+I[N-1],b+=o[O>>10],b+=o[O>>4&63],b+=o[O<<2&63],b+="="),v.push(b),v.join("")}})();(function(){self.assertions=self.assertions||{},self.assertions.assertFunction=self.assertions.assertFunction||function(o,...t){var e,i;if(!o){t=t.filter(c=>!!t),self.navigator&&self.navigator.appName==="Microsoft Internet Explorer"&&t.push(`stack=
${new Error().stack}`);const n=t.length>0?"Assertion failed: ":"Assertion failed";if(console&&console.error&&console.error(n,...t),(i=(e=self.phet)==null?void 0:e.joist)!=null&&i.sim&&console&&console.log&&console.log("Debug info:",JSON.stringify(self.phet.joist.sim.getAssertionDebugInfo(),null,2)),self.QueryStringMachine&&QueryStringMachine.containsKey("debugger"))debugger;const a=Object.getOwnPropertyDescriptor(Error,"stackTraceLimit");throw a&&(a.writable||a.set&&typeof a.set=="function")&&(Error.stackTraceLimit=20),new Error(n+t.join(`
 `))}},self.assert=self.assert||null,self.assertSlow=self.assertSlow||null,self.assertions.enableAssert=function(){self.assert=self.assertions.assertFunction,self.console&&self.console.log&&self.console.log("enabling assert")},self.assertions.disableAssert=function(){self.assert=null,self.console&&self.console.log&&self.console.log("disabling assert")},self.assertions.enableAssertSlow=function(){self.assertSlow=self.assertions.assertFunction,self.console&&self.console.log&&self.console.log("enabling assertSlow")},self.assertions.disableAssertSlow=function(){self.assertSlow=null,self.console&&self.console.log&&self.console.log("disabling assertSlow")}})();self.phet=self.phet||{};self.phet.chipper=self.phet.chipper||{};let wu;try{wu=module&&module.hot}catch{wu=!1}const cu=wu;class $r{constructor(t){if(this.name=t,!(typeof self>"u")&&self.phet){if(t==="chipper")return self.phet.chipper.name="chipper",self.phet.chipper.register=this.register.bind(self.phet.chipper),self.phet.chipper;{const e=!_.hasIn(self,"phet.chipper.brand");assert&&!e&&assert(!self.phet[t],`namespace ${t} already exists`),self.phet[t]=this}}}register(t,e){if(typeof self>"u")return e;if(t.includes("."))cu||assert&&assert(!this[t],`${t} is already registered for namespace ${this.name}`),this[t]=e;else{const i=t.split(".");let n=this;for(let h=0;h<i.length-1;h++)cu||assert&&assert(!!n[i[h]],`${[this.name].concat(i.slice(0,h+1)).join(".")} needs to be defined to register ${t}`),n=n[i[h]];const a=i[i.length-1];cu||assert&&assert(!n[a],`${t} is already registered for namespace ${this.name}`),n[a]=e}return e}}const _e=new $r("phetCore");_e.register("Namespace",$r);function vu(o,...t){return _.each(t,e=>{if(e)for(const i in e)Object.defineProperty(o,i,Object.getOwnPropertyDescriptor(e,i))}),o}_e.register("extend",vu);const as=new $r("axon"),j=new $r("dot");j.register("FastArray",self.Float64Array?self.Float64Array:self.Array);var s1=20,i1=1,_i=1e6,Al=1e6,r1=-7,n1=21,a1=!1,Kr="[big.js] ",Ri=Kr+"Invalid ",$n=Ri+"decimal places",u1=Ri+"rounding mode",zl=Kr+"Division by zero",Vt={},Rs=void 0,h1=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function kl(){function o(t){var e=this;if(!(e instanceof o))return t===Rs?kl():new o(t);if(t instanceof o)e.s=t.s,e.e=t.e,e.c=t.c.slice();else{if(typeof t!="string"){if(o.strict===!0&&typeof t!="bigint")throw TypeError(Ri+"value");t=t===0&&1/t<0?"-0":String(t)}o1(e,t)}e.constructor=o}return o.prototype=Vt,o.DP=s1,o.RM=i1,o.NE=r1,o.PE=n1,o.strict=a1,o.roundDown=0,o.roundHalfUp=1,o.roundHalfEven=2,o.roundUp=3,o}function o1(o,t){var e,i,n;if(!h1.test(t))throw Error(Ri+"number");for(o.s=t.charAt(0)=="-"?(t=t.slice(1),-1):1,(e=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(e<0&&(e=i),e+=+t.slice(i+1),t=t.substring(0,i)):e<0&&(e=t.length),n=t.length,i=0;i<n&&t.charAt(i)=="0";)++i;if(i==n)o.c=[o.e=0];else{for(;n>0&&t.charAt(--n)=="0";);for(o.e=e-i-1,o.c=[],e=0;i<=n;)o.c[e++]=+t.charAt(i++)}return o}function Li(o,t,e,i){var n=o.c;if(e===Rs&&(e=o.constructor.RM),e!==0&&e!==1&&e!==2&&e!==3)throw Error(u1);if(t<1)i=e===3&&(i||!!n[0])||t===0&&(e===1&&n[0]>=5||e===2&&(n[0]>5||n[0]===5&&(i||n[1]!==Rs))),n.length=1,i?(o.e=o.e-t+1,n[0]=1):n[0]=o.e=0;else if(t<n.length){if(i=e===1&&n[t]>=5||e===2&&(n[t]>5||n[t]===5&&(i||n[t+1]!==Rs||n[t-1]&1))||e===3&&(i||!!n[0]),n.length=t,i){for(;++n[--t]>9;)if(n[t]=0,t===0){++o.e,n.unshift(1);break}}for(t=n.length;!n[--t];)n.pop()}return o}function pr(o,t,e){var i=o.e,n=o.c.join(""),a=n.length;if(t)n=n.charAt(0)+(a>1?"."+n.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)n="0"+n;n="0."+n}else if(i>0)if(++i>a)for(i-=a;i--;)n+="0";else i<a&&(n=n.slice(0,i)+"."+n.slice(i));else a>1&&(n=n.charAt(0)+"."+n.slice(1));return o.s<0&&e?"-"+n:n}Vt.abs=function(){var o=new this.constructor(this);return o.s=1,o};Vt.cmp=function(o){var t,e=this,i=e.c,n=(o=new e.constructor(o)).c,a=e.s,h=o.s,c=e.e,f=o.e;if(!i[0]||!n[0])return i[0]?a:n[0]?-h:0;if(a!=h)return a;if(t=a<0,c!=f)return c>f^t?1:-1;for(h=(c=i.length)<(f=n.length)?c:f,a=-1;++a<h;)if(i[a]!=n[a])return i[a]>n[a]^t?1:-1;return c==f?0:c>f^t?1:-1};Vt.div=function(o){var t=this,e=t.constructor,i=t.c,n=(o=new e(o)).c,a=t.s==o.s?1:-1,h=e.DP;if(h!==~~h||h<0||h>_i)throw Error($n);if(!n[0])throw Error(zl);if(!i[0])return o.s=a,o.c=[o.e=0],o;var c,f,g,y,w,I=n.slice(),O=c=n.length,N=i.length,F=i.slice(0,c),b=F.length,v=o,E=v.c=[],B=0,Y=h+(v.e=t.e-o.e)+1;for(v.s=a,a=Y<0?0:Y,I.unshift(0);b++<c;)F.push(0);do{for(g=0;g<10;g++){if(c!=(b=F.length))y=c>b?1:-1;else for(w=-1,y=0;++w<c;)if(n[w]!=F[w]){y=n[w]>F[w]?1:-1;break}if(y<0){for(f=b==c?n:I;b;){if(F[--b]<f[b]){for(w=b;w&&!F[--w];)F[w]=9;--F[w],F[b]+=10}F[b]-=f[b]}for(;!F[0];)F.shift()}else break}E[B++]=y?g:++g,F[0]&&y?F[b]=i[O]||0:F=[i[O]]}while((O++<N||F[0]!==Rs)&&a--);return!E[0]&&B!=1&&(E.shift(),v.e--,Y--),B>Y&&Li(v,Y,e.RM,F[0]!==Rs),v};Vt.eq=function(o){return this.cmp(o)===0};Vt.gt=function(o){return this.cmp(o)>0};Vt.gte=function(o){return this.cmp(o)>-1};Vt.lt=function(o){return this.cmp(o)<0};Vt.lte=function(o){return this.cmp(o)<1};Vt.minus=Vt.sub=function(o){var t,e,i,n,a=this,h=a.constructor,c=a.s,f=(o=new h(o)).s;if(c!=f)return o.s=-f,a.plus(o);var g=a.c.slice(),y=a.e,w=o.c,I=o.e;if(!g[0]||!w[0])return w[0]?o.s=-f:g[0]?o=new h(a):o.s=1,o;if(c=y-I){for((n=c<0)?(c=-c,i=g):(I=y,i=w),i.reverse(),f=c;f--;)i.push(0);i.reverse()}else for(e=((n=g.length<w.length)?g:w).length,c=f=0;f<e;f++)if(g[f]!=w[f]){n=g[f]<w[f];break}if(n&&(i=g,g=w,w=i,o.s=-o.s),(f=(e=w.length)-(t=g.length))>0)for(;f--;)g[t++]=0;for(f=t;e>c;){if(g[--e]<w[e]){for(t=e;t&&!g[--t];)g[t]=9;--g[t],g[e]+=10}g[e]-=w[e]}for(;g[--f]===0;)g.pop();for(;g[0]===0;)g.shift(),--I;return g[0]||(o.s=1,g=[I=0]),o.c=g,o.e=I,o};Vt.mod=function(o){var t,e=this,i=e.constructor,n=e.s,a=(o=new i(o)).s;if(!o.c[0])throw Error(zl);return e.s=o.s=1,t=o.cmp(e)==1,e.s=n,o.s=a,t?new i(e):(n=i.DP,a=i.RM,i.DP=i.RM=0,e=e.div(o),i.DP=n,i.RM=a,this.minus(e.times(o)))};Vt.neg=function(){var o=new this.constructor(this);return o.s=-o.s,o};Vt.plus=Vt.add=function(o){var t,e,i,n=this,a=n.constructor;if(o=new a(o),n.s!=o.s)return o.s=-o.s,n.minus(o);var h=n.e,c=n.c,f=o.e,g=o.c;if(!c[0]||!g[0])return g[0]||(c[0]?o=new a(n):o.s=n.s),o;if(c=c.slice(),t=h-f){for(t>0?(f=h,i=g):(t=-t,i=c),i.reverse();t--;)i.push(0);i.reverse()}for(c.length-g.length<0&&(i=g,g=c,c=i),t=g.length,e=0;t;c[t]%=10)e=(c[--t]=c[t]+g[t]+e)/10|0;for(e&&(c.unshift(e),++f),t=c.length;c[--t]===0;)c.pop();return o.c=c,o.e=f,o};Vt.pow=function(o){var t=this,e=new t.constructor("1"),i=e,n=o<0;if(o!==~~o||o<-Al||o>Al)throw Error(Ri+"exponent");for(n&&(o=-o);o&1&&(i=i.times(t)),o>>=1,!!o;)t=t.times(t);return n?e.div(i):i};Vt.prec=function(o,t){if(o!==~~o||o<1||o>_i)throw Error(Ri+"precision");return Li(new this.constructor(this),o,t)};Vt.round=function(o,t){if(o===Rs)o=0;else if(o!==~~o||o<-_i||o>_i)throw Error($n);return Li(new this.constructor(this),o+this.e+1,t)};Vt.sqrt=function(){var o,t,e,i=this,n=i.constructor,a=i.s,h=i.e,c=new n("0.5");if(!i.c[0])return new n(i);if(a<0)throw Error(Kr+"No square root");a=Math.sqrt(i+""),a===0||a===1/0?(t=i.c.join(""),t.length+h&1||(t+="0"),a=Math.sqrt(t),h=((h+1)/2|0)-(h<0||h&1),o=new n((a==1/0?"5e":(a=a.toExponential()).slice(0,a.indexOf("e")+1))+h)):o=new n(a+""),h=o.e+(n.DP+=4);do e=o,o=c.times(e.plus(i.div(e)));while(e.c.slice(0,h).join("")!==o.c.slice(0,h).join(""));return Li(o,(n.DP-=4)+o.e+1,n.RM)};Vt.times=Vt.mul=function(o){var t,e=this,i=e.constructor,n=e.c,a=(o=new i(o)).c,h=n.length,c=a.length,f=e.e,g=o.e;if(o.s=e.s==o.s?1:-1,!n[0]||!a[0])return o.c=[o.e=0],o;for(o.e=f+g,h<c&&(t=n,n=a,a=t,g=h,h=c,c=g),t=new Array(g=h+c);g--;)t[g]=0;for(f=c;f--;){for(c=0,g=h+f;g>f;)c=t[g]+a[f]*n[g-f-1]+c,t[g--]=c%10,c=c/10|0;t[g]=c}for(c?++o.e:t.shift(),f=t.length;!t[--f];)t.pop();return o.c=t,o};Vt.toExponential=function(o,t){var e=this,i=e.c[0];if(o!==Rs){if(o!==~~o||o<0||o>_i)throw Error($n);for(e=Li(new e.constructor(e),++o,t);e.c.length<o;)e.c.push(0)}return pr(e,!0,!!i)};Vt.toFixed=function(o,t){var e=this,i=e.c[0];if(o!==Rs){if(o!==~~o||o<0||o>_i)throw Error($n);for(e=Li(new e.constructor(e),o+e.e+1,t),o=o+e.e+1;e.c.length<o;)e.c.push(0)}return pr(e,!1,!!i)};Vt[Symbol.for("nodejs.util.inspect.custom")]=Vt.toJSON=Vt.toString=function(){var o=this,t=o.constructor;return pr(o,o.e<=t.NE||o.e>=t.PE,!!o.c[0])};Vt.toNumber=function(){var o=Number(pr(this,!0,!0));if(this.constructor.strict===!0&&!this.eq(o.toString()))throw Error(Kr+"Imprecise conversion");return o};Vt.toPrecision=function(o,t){var e=this,i=e.constructor,n=e.c[0];if(o!==Rs){if(o!==~~o||o<1||o>_i)throw Error(Ri+"precision");for(e=Li(new i(e),o,t);e.c.length<o;)e.c.push(0)}return pr(e,o<=e.e||e.e<=i.NE||e.e>=i.PE,!!n)};Vt.valueOf=function(){var o=this,t=o.constructor;if(t.strict===!0)throw Error(Kr+"valueOf disallowed");return pr(o,o.e<=t.NE||o.e>=t.PE,!0)};var l1=kl();const Dl="Options";function oe(o,...t){return assert&&yl(o),assert&&assert(o!==null,"target should not be null"),assert&&assert(t.length>0,"at least one source expected"),_.each(t,e=>{if(e){assert&&yl(e);for(const i in e)if(e.hasOwnProperty(i)&&e[i]!==void 0){const n=e[i];_.endsWith(i,Dl)&&i!==Dl?(assert&&assert(n!==void 0,"nested *Options should not be undefined"),o[i]=oe(o[i]||{},n)):o[i]=n}}}),o}function yl(o){assert&&assert(o===null||o&&typeof o=="object"&&Object.getPrototypeOf(o)===Object.prototype,"object is not compatible with merge"),o!==null&&Object.keys(o).forEach(t=>{const e=Object.getOwnPropertyDescriptor(o,t);assert&&assert(!e.hasOwnProperty("set"),"cannot use merge with an object that has a setter"),assert&&assert(!e.hasOwnProperty("get"),"cannot use merge with an object that has a getter")})}_e.register("merge",oe);const _u=(o,t,e,i)=>oe(o,t,e,i);function Ie(){return _u}function nA(){return _u}function c1(o,...t){return _u(o,...t)}_e.register("optionize",Ie);class Yi{constructor(t,...e){this.objects=[];const i=Ie()({defaultArguments:[],initialize:t.prototype.initialize,maxSize:100,initialSize:0,useDefaultConstruction:!1},e[0]);for(assert&&assert(i.maxSize>=0),assert&&assert(i.initialSize>=0),this._maxPoolSize=i.maxSize,this.partialConstructor=Function.prototype.bind.bind(t,t),this.DefaultConstructor=this.partialConstructor(...i.defaultArguments),this.initialize=i.initialize,assert&&assert(this.initialize,"Either pass in an initialize option, or provide a method named initialize on the type with the proper signature"),this.useDefaultConstruction=i.useDefaultConstruction;this.objects.length<i.initialSize;)this.objects.push(this.createDefaultObject())}createDefaultObject(){return new this.DefaultConstructor}fetch(){return this.objects.length?this.objects.pop():this.createDefaultObject()}create(...t){let e;return this.objects.length?(e=this.objects.pop(),this.initialize.apply(e,t)):this.useDefaultConstruction?(e=this.createDefaultObject(),this.initialize.apply(e,t)):e=new(this.partialConstructor(...t)),e}get poolSize(){return this.objects.length}set maxPoolSize(t){assert&&assert(t===Number.POSITIVE_INFINITY||Number.isInteger(t)&&t>=0,"maxPoolSize should be a non-negative integer or infinity"),this._maxPoolSize=t}get maxPoolSize(){return this._maxPoolSize}freeToPool(t){this.objects.length<this.maxPoolSize&&this.objects.push(t)}forEach(t){this.objects.forEach(t)}}_e.register("Pool",Yi);const El={},Ul=(o,t=self.phet&&self.phet.chipper&&self.phet.chipper.queryParameters&&phet.chipper.queryParameters.deprecationWarnings)=>{t&&!El.hasOwnProperty(o)&&(El[o]=!0,console.warn(`Deprecation warning: ${o}`))};_e.register("deprecationWarning",Ul);class mr{constructor(t){Ul("EnumerationDeprecated should be exchanged for classes that extend EnumerationValue, see WilderEnumerationPatterns for examples."),assert&&assert(t,"config must be provided");const e=!!t.keys,i=!!t.map;assert&&assert(e!==i,"must provide one or the other but not both of keys/map");const n=t.keys||Object.keys(t.map),a=t.map||{};t=oe({phetioDocumentation:null,beforeFreeze:null},t),assert&&assert(Array.isArray(n),"Values should be an array"),assert&&assert(_.uniq(n).length===n.length,"There should be no duplicated values provided"),assert&&n.forEach(h=>assert(typeof h=="string","Each value should be a string")),assert&&n.forEach(h=>assert(/^[A-Z][A-Z0-9_]*$/g.test(h),"EnumerationDeprecated values should be uppercase alphanumeric with underscores and begin with a letter")),assert&&assert(!_.includes(n,"VALUES"),"This is the name of a built-in provided value, so it cannot be included as an enumeration value"),assert&&assert(!_.includes(n,"KEYS"),"This is the name of a built-in provided value, so it cannot be included as an enumeration value"),assert&&assert(!_.includes(n,"includes"),"This is the name of a built-in provided value, so it cannot be included as an enumeration value"),this.phetioDocumentation=t.phetioDocumentation,this.KEYS=n,this.VALUES=[],n.forEach(h=>{const c=a[h]||{};assert&&assert(c.name===void 0,'"rich" enumeration values cannot provide their own name attribute'),assert&&assert(c.toString===Object.prototype.toString,'"rich" enumeration values cannot provide their own toString'),c.name=h,c.toString=()=>h,this[h]=c,this.VALUES.push(c)}),t.beforeFreeze&&t.beforeFreeze(this),assert&&Object.freeze(this),assert&&Object.freeze(this.VALUES),assert&&Object.freeze(this.KEYS),assert&&n.forEach(h=>assert&&Object.freeze(a[h]))}toString(){return this.KEYS.join(", ")}includes(t){return _.includes(this.VALUES,t)}getValue(t){return this[t]}getKey(t){return t.name}get values(){return this.VALUES}get keys(){return this.KEYS}get enumeration(){return this}static byKeys(t,e){return assert&&assert(Array.isArray(t),"keys must be an array"),assert&&assert(!e||e.keys===void 0),new mr(oe({keys:t},e))}static byMap(t,e){if(assert&&assert(!e||e.map===void 0),assert){const i=_.values(t);assert&&assert(i.length>=1,"must have at least 2 entries in an enumeration"),assert&&assert(_.every(i,n=>n.constructor===i[0].constructor),"Values must have same constructor")}return new mr(oe({map:t},e))}}_e.register("EnumerationDeprecated",mr);const m1=["string","number","boolean","function"],Yn=["valueType","validValues","valueComparisonStrategy","isValidValue","phetioType","validators"],fe=class fe{static getValidatorValidationError(t){if(!(t instanceof Object))return"validator must be an Object";if(!(t.hasOwnProperty("isValidValue")||t.hasOwnProperty("valueType")||t.hasOwnProperty("validValues")||t.hasOwnProperty("valueComparisonStrategy")||t.hasOwnProperty("phetioType")||t.hasOwnProperty("validators")))return this.combineErrorMessages(`validator must have at least one of: ${Yn.join(",")}`,t.validationMessage);if(t.hasOwnProperty("valueType")){const e=fe.getValueOrElementTypeValidationError(t.valueType);if(e)return this.combineErrorMessages(`Invalid valueType: ${t.valueType}, error: ${e}`,t.validationMessage)}if(t.hasOwnProperty("isValidValue")&&!(typeof t.isValidValue=="function"||t.isValidValue===null||t.isValidValue===void 0))return this.combineErrorMessages(`isValidValue must be a function: ${t.isValidValue}`,t.validationMessage);if(t.hasOwnProperty("valueComparisonStrategy")&&!(t.valueComparisonStrategy==="reference"||t.valueComparisonStrategy==="lodashDeep"||t.valueComparisonStrategy==="equalsFunction"||typeof t.valueComparisonStrategy=="function"))return this.combineErrorMessages(`valueComparisonStrategy must be "reference", "lodashDeep", 
        "equalsFunction", or a comparison function: ${t.valueComparisonStrategy}`,t.validationMessage);if(t.validValues!==void 0&&t.validValues!==null){if(!Array.isArray(t.validValues))return this.combineErrorMessages(`validValues must be an array: ${t.validValues}`,t.validationMessage);const e=_.omit(t,"validValues");if(fe.containsValidatorKey(e))for(let i=0;i<t.validValues.length;i++){const n=t.validValues[i],a=fe.getValidationError(n,e);if(a)return this.combineErrorMessages(`Item not valid in validValues: ${n}, error: ${a}`,t.validationMessage)}}if(t.hasOwnProperty("phetioType")){if(!t.phetioType)return this.combineErrorMessages("falsey phetioType provided",t.validationMessage);if(!t.phetioType.validator)return this.combineErrorMessages(`validator needed for phetioType: ${t.phetioType.typeName}`,t.validationMessage);const e=fe.getValidatorValidationError(t.phetioType.validator);if(e)return this.combineErrorMessages(e,t.validationMessage)}if(t.hasOwnProperty("validators")){const e=t.validators;for(let i=0;i<e.length;i++){const n=e[i],a=fe.getValidatorValidationError(n);if(a)return this.combineErrorMessages(`validators[${i}] invalid: ${a}`,t.validationMessage)}}return null}static getValueTypeValidatorValidationError(t){return typeof t=="function"||typeof t=="string"||t instanceof mr||t===null||t===void 0?typeof t=="string"&&!_.includes(m1,t)?`valueType not a supported primitive types: ${t}`:null:`valueType must be {function|string|EnumerationDeprecated|null|undefined}, valueType=${t}`}static validateValidator(t){if(assert){const e=fe.getValidatorValidationError(t);e&&assert(!1,e)}}static containsValidatorKey(t){if(!(t instanceof Object))return!1;for(let e=0;e<Yn.length;e++)if(t.hasOwnProperty(Yn[e]))return!0;return!1}static combineErrorMessages(t,e){return e&&(t=`${typeof e=="function"?e():e}: ${t}`),t}static isValueValid(t,e,i){return this.getValidationError(t,e,i)===null}static getValidationError(t,e,i){const n=Ie()({validateValidator:!0},i);if(n.validateValidator){const a=fe.getValidatorValidationError(e);if(a)return a}if(e.hasOwnProperty("valueType")){const a=e.valueType;if(Array.isArray(a)){if(!_.some(a.map(h=>!fe.getValueTypeValidationError(t,h,e.validationMessage))))return this.combineErrorMessages(`value not valid for any valueType in ${a.toString().substring(0,100)}, value: ${t}`,e.validationMessage)}else if(a){const h=fe.getValueTypeValidationError(t,a,e.validationMessage);if(h)return h}}if(e.validValues){const a=e.valueComparisonStrategy||"reference";if(!e.validValues.some(c=>fe.equalsForValidationStrategy(c,t,a)))return this.combineErrorMessages(`value not in validValues: ${t}`,e.validationMessage)}if(e.hasOwnProperty("isValidValue")&&!e.isValidValue(t))return this.combineErrorMessages(`value failed isValidValue: ${t}`,e.validationMessage);if(e.hasOwnProperty("phetioType")){const a=fe.getValidationError(t,e.phetioType.validator,n);if(a)return this.combineErrorMessages(`value failed phetioType validator: ${t}, error: ${a}`,e.validationMessage)}if(e.hasOwnProperty("validators")){const a=e.validators;for(let h=0;h<a.length;h++){const c=a[h],f=fe.getValidationError(t,c,n);if(f)return this.combineErrorMessages(`Failed validation for validators[${h}]: ${f}`,e.validationMessage)}}return null}static getValueTypeValidationError(t,e,i){return typeof e=="string"&&typeof t!==e?this.combineErrorMessages(`value should have typeof ${e}, value=${t}`,i):e===Array&&!Array.isArray(t)?this.combineErrorMessages(`value should have been an array, value=${t}`,i):e instanceof mr&&!e.includes(t)?this.combineErrorMessages(`value is not a member of EnumerationDeprecated ${e}`,i):typeof e=="function"&&!(t instanceof e)?this.combineErrorMessages(`value should be instanceof ${e.name}, value=${t}`,i):e===null&&t!==null?this.combineErrorMessages(`value should be null, value=${t}`,i):null}static getValueOrElementTypeValidationError(t){if(Array.isArray(t))for(let e=0;e<t.length;e++){const i=t[e],n=fe.getValueTypeValidatorValidationError(i);if(n)return`Array value invalid: ${n}`}else if(t){const e=fe.getValueTypeValidatorValidationError(t);if(e)return`Value type invalid: ${e}`}return null}static equalsForValidationStrategy(t,e,i="reference"){if(i==="reference")return t===e;if(i==="equalsFunction"){if(t!=null&&e!=null){const n=t,a=e;assert&&assert(!!n.equals,"no equals function for 1st arg"),assert&&assert(!!a.equals,"no equals function for 2nd arg"),assert&&assert(n.equals(a)===a.equals(n),"incompatible equality checks");const h=n.equals(a);return t.constructor===e.constructor?h:h&&a.equals(t)}return t===e}return i==="lodashDeep"?_.isEqual(t,e):i(t,e)}};fe.VALIDATOR_KEYS=Yn,fe.STRING_WITHOUT_TEMPLATE_VARS_VALIDATOR={valueType:"string",isValidValue:t=>!/\{\{\w*\}\}/.test(t)};let Be=fe;as.register("Validation",Be);const Ae=(o,t,e)=>{if(assert){const i=Be.getValidationError(o,t,e);if(i){const n=_.pick(t,Be.VALIDATOR_KEYS);n.phetioType&&(n.phetioType=_.pick(t.phetioType,["validator","typeName"]));const a=JSON.stringify(n,null,2);assert&&assert(!1,"validation failed for value:",o,i,"prunedValidator:",a)}}};as.register("validate",Ae);const Jt=new $r("tandem"),jn={IO_TYPE_SUFFIX:"IO"};Jt.register("PhetioConstants",jn);const Hl="ObjectIO",Zl="MODEL",f1={phetioTypeName:Hl,phetioDocumentation:"",phetioState:!0,phetioReadOnly:!1,phetioEventType:Zl,phetioHighFrequency:!1,phetioPlayback:!1,phetioDynamicElement:!1,phetioIsArchetype:!1,phetioFeatured:!1,phetioDesigned:!1,phetioArchetypePhetioID:null},jl="a-zA-Z0-9[\\],",Gl=`${jl}_`,d1=`${Gl}\\-`,Pe={OBJECT_IO_TYPE_NAME:Hl,EVENT_TYPE_MODEL:Zl,PHET_IO_OBJECT_METADATA_DEFAULTS:f1,METADATA_KEY_NAME:"_metadata",DATA_KEY_NAME:"_data",BASE_TANDEM_CHARACTER_CLASS:jl,BASE_DYNAMIC_TANDEM_CHARACTER_CLASS:Gl,BASE_DERIVED_TANDEM_CHARACTER_CLASS:d1};Jt.register("TandemConstants",Pe);const Ru=function(o,...t){if(assert&&o){const e=t.map(i=>Object.keys(_.pick(o,...i)));e.filter(i=>i.length>0).length>1&&assert&&assert(!1,`Cannot simultaneously specify ${e.join(" and ")}`)}};_e.register("assertMutuallyExclusiveOptions",Ru);class xs{constructor(t){assert&&Ru(t,["compositeSchema"],["displayString","validator"]);const e=Ie()({displayString:"",validator:null,compositeSchema:null},t);this.displayString=e.displayString,this.validator=e.validator,this.compositeSchema=e.compositeSchema}defaultApplyState(t,e){assert&&assert(this.isComposite(),"defaultApplyState from stateSchema only applies to composite stateSchemas");for(const i in this.compositeSchema)if(this.compositeSchema.hasOwnProperty(i)){assert&&assert(e.hasOwnProperty(i),`stateObject does not have expected schema key: ${i}`);const n=this.compositeSchema[i],a=this.getCoreObjectAccessorName(i,t);n.defaultDeserializationMethod==="fromStateObject"?t[a]=this.compositeSchema[i].fromStateObject(e[i]):(assert&&assert(n.defaultDeserializationMethod==="applyState","unexpected deserialization method"),this.compositeSchema[i].applyState(t[a],e[i]))}}defaultToStateObject(t){assert&&assert(this.isComposite(),"defaultToStateObject from stateSchema only applies to composite stateSchemas");const e={};for(const i in this.compositeSchema)if(this.compositeSchema.hasOwnProperty(i)){const n=this.getCoreObjectAccessorName(i,t);if(assert){const a=Object.getOwnPropertyDescriptor(t,n);let h=!1;if(t.constructor.prototype){const f=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);h=!!f&&!!f.get}const c=!!a&&a.hasOwnProperty("value")&&a.writable;assert&&assert(c||h,`cannot get state because coreObject does not have expected schema key: ${n}`)}e[i]=this.compositeSchema[i].toStateObject(t[n])}return e}getCoreObjectAccessorName(t,e){assert&&assert(!t.startsWith("__"),"State keys should not start with too many underscores: "+t+". When serializing ",e);const i=t.startsWith("_")?t.substring(1):t,n=`_${i}`;let a;return e.hasOwnProperty(n)?a=n:a=i,a}isComposite(){return!!this.compositeSchema}checkStateObjectValid(t,e,i){if(this.isComposite()){const n=t,a=this.compositeSchema;let h=null;return n?(Object.keys(a).forEach(f=>{typeof f=="string"?(n.hasOwnProperty(f)?a[f].isStateObjectValid(n[f],!1)||(assert&&e&&assert(!1,`stateObject is not valid for ${f}. stateObject=`,n[f],"schema=",a[f]),h=!1):(assert&&e&&assert(!1,`${f} in state schema but not in the state object`),h=!1),i.push(f)):(console.error("key should be a string",f),assert&&assert(!1,"key should be a string"))}),h):(assert&&e&&assert(!1,"There was no stateObject, but there was a state schema saying there should be",a),h=!1,h)}else{assert&&assert(this.validator,"validator must be present if not composite");const n=t;if(assert&&e){const a=Be.getValidationError(n,this.validator);assert(a===null,"valueStateObject failed validation",n,a)}return Be.isValueValid(n,this.validator)}}getRelatedTypes(){const t=[];return this.compositeSchema&&Object.keys(this.compositeSchema).forEach(i=>{this.compositeSchema[i]instanceof Bt&&t.push(this.compositeSchema[i])}),t}getStateSchemaAPI(){return this.isComposite()?_.mapValues(this.compositeSchema,t=>t.typeName):this.displayString}static asValue(t,e){return assert&&assert(e,"validator required"),new xs({validator:e,displayString:t})}}Jt.register("StateSchema",xs);const xl={validateValidator:!1},p1=o=>{const t=o.indexOf(jn.IO_TYPE_SUFFIX);return assert&&assert(t>=0,"IO should be in the type name"),o.substring(0,t)};class Bt{constructor(t,e){this.typeName=t;const i=e.supertype||Bt.ObjectIO,n=!!e.toStateObject,a=!!e.applyState,h=!!e.stateSchema,c=Ie()({supertype:Bt.ObjectIO,methods:{},events:[],metadataDefaults:{},dataDefaults:{},methodOrder:[],parameterTypes:[],documentation:`PhET-iO Type for ${p1(t)}`,isFunctionType:!1,toStateObject:i&&i.toStateObject,fromStateObject:i&&i.fromStateObject,stateObjectToCreateElementArguments:i&&i.stateObjectToCreateElementArguments,applyState:i&&i.applyState,stateSchema:null,defaultDeserializationMethod:"fromStateObject",addChildElement:i&&i.addChildElement},e);if(assert&&i&&Object.keys(c.metadataDefaults).forEach(f=>{assert&&i.getAllMetadataDefaults().hasOwnProperty(f)&&assert(i.getAllMetadataDefaults()[f]!==c.metadataDefaults[f],`${f} should not have the same default value as the ancestor metadata default.`)}),this.supertype=i,this.documentation=c.documentation,this.methods=c.methods,this.events=c.events,this.metadataDefaults=c.metadataDefaults,this.dataDefaults=c.dataDefaults,this.methodOrder=c.methodOrder,this.parameterTypes=c.parameterTypes,this.validator=_.pick(c,Be.VALIDATOR_KEYS),this.validator.validationMessage=this.validator.validationMessage||`Validation failed IOType Validator: ${this.typeName}`,this.defaultDeserializationMethod=c.defaultDeserializationMethod,c.stateSchema===null||c.stateSchema instanceof xs)this.stateSchema=c.stateSchema;else{const f=typeof c.stateSchema=="function"?c.stateSchema(this):c.stateSchema;this.stateSchema=new xs({compositeSchema:f})}if(assert&&assert(!this.stateSchema||n||this.stateSchema.isComposite(),"toStateObject method must be provided for value StateSchemas"),this.toStateObject=f=>{Ae(f,this.validator,xl);let g;return!n&&h&&this.stateSchema&&this.stateSchema.isComposite()?g=this.defaultToStateObject(f):g=c.toStateObject(f),(n||h)&&assert&&this.validateStateObject(g),g},this.fromStateObject=c.fromStateObject,this.stateObjectToCreateElementArguments=c.stateObjectToCreateElementArguments,this.applyState=(f,g)=>{Ae(f,this.validator,xl),(a||h)&&assert&&f.phetioType&&f.phetioType.validateStateObject(g),!a&&h&&this.stateSchema&&this.stateSchema.isComposite()?this.defaultApplyState(f,g):c.applyState(f,g)},this.isFunctionType=c.isFunctionType,this.addChildElement=c.addChildElement,assert)if(assert&&assert(i||this.typeName==="ObjectIO","supertype is required"),assert&&assert(!this.typeName.includes("."),"Dots should not appear in type names"),assert&&assert(this.typeName.split(/[<(]/)[0].endsWith(jn.IO_TYPE_SUFFIX),`IOType name must end with ${jn.IO_TYPE_SUFFIX}`),assert&&assert(this.hasOwnProperty("typeName"),"this.typeName is required"),this.methods&&Object.values(this.methods).forEach(f=>{typeof f=="object"&&assert&&f.invocableForReadOnlyElements&&assert(typeof f.invocableForReadOnlyElements=="boolean",`invocableForReadOnlyElements must be of type boolean: ${f.invocableForReadOnlyElements}`)}),assert&&assert(this.documentation.length>0,"documentation must be provided"),this.methods&&this.hasOwnProperty("methodOrder")&&this.methodOrder.forEach(f=>{assert&&assert(this.methods[f],`methodName not in public methods: ${f}`)}),i){const f=i.getTypeHierarchy();assert&&this.events&&this.events.forEach(g=>{assert&&assert(!_.some(f,y=>y.events.includes(g)),`IOType should not declare event that parent also has: ${g}`)})}else assert&&assert(typeof c.toStateObject=="function","toStateObject must be defined"),assert&&assert(typeof c.fromStateObject=="function","fromStateObject must be defined"),assert&&assert(typeof c.stateObjectToCreateElementArguments=="function","stateObjectToCreateElementArguments must be defined"),assert&&assert(typeof c.applyState=="function","applyState must be defined")}defaultToStateObject(t){let e={};return this.supertype&&(e=this.supertype.defaultToStateObject(t)),this.stateSchema&&this.stateSchema.isComposite()?_.merge(e,this.stateSchema.defaultToStateObject(t)):e}defaultApplyState(t,e){this.supertype&&this.supertype.defaultApplyState(t,e),this.stateSchema&&this.stateSchema.isComposite()&&this.stateSchema.defaultApplyState(t,e)}getTypeHierarchy(){const t=[];let e=this;for(;e;)t.push(e),e=e.supertype;return t}extends(t){return this.getTypeHierarchy().includes(t)}getAllMetadataDefaults(){return _.merge({},this.supertype?this.supertype.getAllMetadataDefaults():{},this.metadataDefaults)}getAllDataDefaults(){return _.merge({},this.supertype?this.supertype.getAllDataDefaults():{},this.dataDefaults)}isStateObjectValid(t,e=!1,i=[]){let n=!0;if(this.stateSchema){const a=this.stateSchema.checkStateObjectValid(t,e,i);if(a!==null)return a}return this.supertype?n&&this.supertype.isStateObjectValid(t,e,i):!this.supertype&&t&&typeof t!="string"&&!Array.isArray(t)?(Object.keys(t).forEach(a=>{const h=i.includes(a);h||(n=!1),assert&&e&&assert(h,`stateObject provided a key that is not in the schema: ${a}`)}),n):!0}validateStateObject(t){this.isStateObjectValid(t,!0)}toString(){return this.typeName}}const bl=null;Bt.ObjectIO=new Bt(Pe.OBJECT_IO_TYPE_NAME,{isValidValue:()=>!0,supertype:null,documentation:"The root of the PhET-iO Type hierarchy",toStateObject:o=>(phet&&phet.tandem&&phet.tandem.Tandem.VALIDATION&&(assert&&assert(o.tandem,"coreObject must be PhET-iO object"),assert&&assert(!o.phetioState,`fell back to root serialization state for ${o.tandem.phetioID}. Potential solutions:
         * mark the type as phetioState: false
         * create a custom toStateObject method in your IOType
         * perhaps you have everything right, but forgot to pass in the IOType via phetioType in the constructor`)),bl),fromStateObject:()=>{throw new Error("ObjectIO.fromStateObject should not be called")},stateObjectToCreateElementArguments:()=>[],applyState:_.noop,metadataDefaults:Pe.PHET_IO_OBJECT_METADATA_DEFAULTS,dataDefaults:{initialState:bl},stateSchema:null});Jt.register("IOType",Bt);const ns=new Bt("NumberIO",{valueType:"number",documentation:"PhET-iO Type for Javascript's number primitive type",toStateObject:_.identity,fromStateObject:o=>o,stateSchema:xs.asValue("number",{isValidValue:o=>typeof o=="number"&&!isNaN(o)&&o!==Number.POSITIVE_INFINITY&&o!==Number.NEGATIVE_INFINITY})});Jt.register("NumberIO",ns);const ur=class ur{constructor(t,e,i,n){this.x=t,this.y=e,this.z=i,this.w=n}getMagnitude(){return Math.sqrt(this.magnitudeSquared)}get magnitude(){return this.getMagnitude()}getMagnitudeSquared(){return this.dot(this)}get magnitudeSquared(){return this.getMagnitudeSquared()}distance(t){return this.minus(t).magnitude}distanceXYZW(t,e,i,n){const a=this.x-t,h=this.y-e,c=this.z-i,f=this.w-n;return Math.sqrt(a*a+h*h+c*c+f*f)}distanceSquared(t){return this.minus(t).magnitudeSquared}distanceSquaredXYZW(t,e,i,n){const a=this.x-t,h=this.y-e,c=this.z-i,f=this.w-n;return a*a+h*h+c*c+f*f}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}dotXYZW(t,e,i,n){return this.x*t+this.y*e+this.z*i+this.w*n}angleBetween(t){return Math.acos(j.clamp(this.normalized().dot(t.normalized()),-1,1))}equals(t){return this.x===t.x&&this.y===t.y&&this.z===t.z&&this.w===t.w}equalsEpsilon(t,e){return e||(e=0),Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)+Math.abs(this.w-t.w)<=e}isFinite(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.z)&&isFinite(this.w)}copy(t){return t?t.set(this):$e(this.x,this.y,this.z,this.w)}normalized(){const t=this.magnitude;return assert&&assert(t!==0,"Cannot normalize a zero-magnitude vector"),this.dividedScalar(t)}roundedSymmetric(){return this.copy().roundSymmetric()}withMagnitude(t){return this.copy().setMagnitude(t)}timesScalar(t){return $e(this.x*t,this.y*t,this.z*t,this.w*t)}times(t){return this.timesScalar(t)}componentTimes(t){return $e(this.x*t.x,this.y*t.y,this.z*t.z,this.w*t.w)}plus(t){return $e(this.x+t.x,this.y+t.y,this.z+t.z,this.w+t.w)}plusXYZW(t,e,i,n){return $e(this.x+t,this.y+e,this.z+i,this.w+n)}plusScalar(t){return $e(this.x+t,this.y+t,this.z+t,this.w+t)}minus(t){return $e(this.x-t.x,this.y-t.y,this.z-t.z,this.w-t.w)}minusXYZW(t,e,i,n){return $e(this.x-t,this.y-e,this.z-i,this.w-n)}minusScalar(t){return $e(this.x-t,this.y-t,this.z-t,this.w-t)}dividedScalar(t){return $e(this.x/t,this.y/t,this.z/t,this.w/t)}negated(){return $e(-this.x,-this.y,-this.z,-this.w)}blend(t,e){return this.plus(t.minus(this).times(e))}average(t){return this.blend(t,.5)}toString(){return`Vector4(${this.x}, ${this.y}, ${this.z}, ${this.w})`}toVector3(){return new lt(this.x,this.y,this.z)}setXYZW(t,e,i,n){return this.x=t,this.y=e,this.z=i,this.w=n,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}set(t){return this.setXYZW(t.x,t.y,t.z,t.w)}setMagnitude(t){const e=t/this.magnitude;return this.multiplyScalar(e)}add(t){return this.setXYZW(this.x+t.x,this.y+t.y,this.z+t.z,this.w+t.w)}addXYZW(t,e,i,n){return this.setXYZW(this.x+t,this.y+e,this.z+i,this.w+n)}addScalar(t){return this.setXYZW(this.x+t,this.y+t,this.z+t,this.w+t)}subtract(t){return this.setXYZW(this.x-t.x,this.y-t.y,this.z-t.z,this.w-t.w)}subtractXYZW(t,e,i,n){return this.setXYZW(this.x-t,this.y-e,this.z-i,this.w-n)}subtractScalar(t){return this.setXYZW(this.x-t,this.y-t,this.z-t,this.w-t)}multiplyScalar(t){return this.setXYZW(this.x*t,this.y*t,this.z*t,this.w*t)}multiply(t){return this.multiplyScalar(t)}componentMultiply(t){return this.setXYZW(this.x*t.x,this.y*t.y,this.z*t.z,this.w*t.w)}divideScalar(t){return this.setXYZW(this.x/t,this.y/t,this.z/t,this.w/t)}negate(){return this.setXYZW(-this.x,-this.y,-this.z,-this.w)}normalize(){const t=this.magnitude;if(t===0)throw new Error("Cannot normalize a zero-magnitude vector");return this.divideScalar(t)}roundSymmetric(){return this.setXYZW(Tt.roundSymmetric(this.x),Tt.roundSymmetric(this.y),Tt.roundSymmetric(this.z),Tt.roundSymmetric(this.w))}freeToPool(){ur.pool.freeToPool(this)}};ur.pool=new Yi(ur,{maxSize:1e3,initialize:ur.prototype.setXYZW,defaultArguments:[0,0,0,0]});let ie=ur;ie.prototype.isVector4=!0;ie.prototype.dimension=4;j.register("Vector4",ie);const $e=ie.pool.create.bind(ie.pool);j.register("v4",$e);class bs extends ie{static mutableOverrideHelper(t){bs.prototype[t]=()=>{throw new Error(`Cannot call mutable method '${t}' on immutable Vector3`)}}}bs.mutableOverrideHelper("setXYZW");bs.mutableOverrideHelper("setX");bs.mutableOverrideHelper("setY");bs.mutableOverrideHelper("setZ");bs.mutableOverrideHelper("setW");ie.ZERO=assert?new bs(0,0,0,0):new ie(0,0,0,0);ie.X_UNIT=assert?new bs(1,0,0,0):new ie(1,0,0,0);ie.Y_UNIT=assert?new bs(0,1,0,0):new ie(0,1,0,0);ie.Z_UNIT=assert?new bs(0,0,1,0):new ie(0,0,1,0);ie.W_UNIT=assert?new bs(0,0,0,1):new ie(0,0,0,1);const g1=(o,t)=>o.add(t),Pi=class Pi{constructor(t,e,i){this.x=t,this.y=e,this.z=i}getMagnitude(){return Math.sqrt(this.magnitudeSquared)}get magnitude(){return this.getMagnitude()}getMagnitudeSquared(){return this.dot(this)}get magnitudeSquared(){return this.getMagnitudeSquared()}distance(t){return Math.sqrt(this.distanceSquared(t))}distanceXYZ(t,e,i){const n=this.x-t,a=this.y-e,h=this.z-i;return Math.sqrt(n*n+a*a+h*h)}distanceSquared(t){const e=this.x-t.x,i=this.y-t.y,n=this.z-t.z;return e*e+i*i+n*n}distanceSquaredXYZ(t,e,i){const n=this.x-t,a=this.y-e,h=this.z-i;return n*n+a*a+h*h}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}dotXYZ(t,e,i){return this.x*t+this.y*e+this.z*i}angleBetween(t){return Math.acos(Tt.clamp(this.normalized().dot(t.normalized()),-1,1))}equals(t){return this.x===t.x&&this.y===t.y&&this.z===t.z}equalsEpsilon(t,e){return e||(e=0),Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)<=e}isFinite(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.z)}copy(t){return t?t.set(this):Ne(this.x,this.y,this.z)}cross(t){return Ne(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)}normalized(){const t=this.magnitude;if(t===0)throw new Error("Cannot normalize a zero-magnitude vector");return Ne(this.x/t,this.y/t,this.z/t)}roundedSymmetric(){return this.copy().roundSymmetric()}withMagnitude(t){return this.copy().setMagnitude(t)}timesScalar(t){return Ne(this.x*t,this.y*t,this.z*t)}times(t){return this.timesScalar(t)}componentTimes(t){return Ne(this.x*t.x,this.y*t.y,this.z*t.z)}plus(t){return Ne(this.x+t.x,this.y+t.y,this.z+t.z)}plusXYZ(t,e,i){return Ne(this.x+t,this.y+e,this.z+i)}plusScalar(t){return Ne(this.x+t,this.y+t,this.z+t)}minus(t){return Ne(this.x-t.x,this.y-t.y,this.z-t.z)}minusXYZ(t,e,i){return Ne(this.x-t,this.y-e,this.z-i)}minusScalar(t){return Ne(this.x-t,this.y-t,this.z-t)}dividedScalar(t){return Ne(this.x/t,this.y/t,this.z/t)}negated(){return Ne(-this.x,-this.y,-this.z)}blend(t,e){return this.plus(t.minus(this).times(e))}average(t){return this.blend(t,.5)}static average(t){return _.reduce(t,g1,new Pi(0,0,0)).divideScalar(t.length)}toString(){return`Vector3(${this.x}, ${this.y}, ${this.z})`}toVector2(){return ue(this.x,this.y)}toVector4(){return $e(this.x,this.y,this.z,1)}toVector4Zero(){return $e(this.x,this.y,this.z,0)}setXYZ(t,e,i){return this.x=t,this.y=e,this.z=i,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}set(t){return this.setXYZ(t.x,t.y,t.z)}setMagnitude(t){const e=t/this.magnitude;return this.multiplyScalar(e)}add(t){return this.setXYZ(this.x+t.x,this.y+t.y,this.z+t.z)}addXYZ(t,e,i){return this.setXYZ(this.x+t,this.y+e,this.z+i)}addScalar(t){return this.setXYZ(this.x+t,this.y+t,this.z+t)}subtract(t){return this.setXYZ(this.x-t.x,this.y-t.y,this.z-t.z)}subtractXYZ(t,e,i){return this.setXYZ(this.x-t,this.y-e,this.z-i)}subtractScalar(t){return this.setXYZ(this.x-t,this.y-t,this.z-t)}multiplyScalar(t){return this.setXYZ(this.x*t,this.y*t,this.z*t)}multiply(t){return this.multiplyScalar(t)}componentMultiply(t){return this.setXYZ(this.x*t.x,this.y*t.y,this.z*t.z)}divideScalar(t){return this.setXYZ(this.x/t,this.y/t,this.z/t)}negate(){return this.setXYZ(-this.x,-this.y,-this.z)}setCross(t){return this.setXYZ(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)}normalize(){const t=this.magnitude;if(t===0)throw new Error("Cannot normalize a zero-magnitude vector");return this.divideScalar(t)}roundSymmetric(){return this.setXYZ(Tt.roundSymmetric(this.x),Tt.roundSymmetric(this.y),Tt.roundSymmetric(this.z))}toStateObject(){return{x:this.x,y:this.y,z:this.z}}freeToPool(){Pi.pool.freeToPool(this)}static slerp(t,e,i){return j.Quaternion.slerp(new j.Quaternion,j.Quaternion.getRotationQuaternion(t,e),i).timesVector3(t)}static fromStateObject(t){return Ne(t.x,t.y,t.z)}};Pi.pool=new Yi(Pi,{maxSize:1e3,initialize:Pi.prototype.setXYZ,defaultArguments:[0,0,0]});let lt=Pi;lt.prototype.isVector3=!0;lt.prototype.dimension=3;j.register("Vector3",lt);const Ne=lt.pool.create.bind(lt.pool);j.register("v3",Ne);class Xs extends lt{static mutableOverrideHelper(t){Xs.prototype[t]=()=>{throw new Error(`Cannot call mutable method '${t}' on immutable Vector3`)}}}Xs.mutableOverrideHelper("setXYZ");Xs.mutableOverrideHelper("setX");Xs.mutableOverrideHelper("setY");Xs.mutableOverrideHelper("setZ");lt.ZERO=assert?new Xs(0,0,0):new lt(0,0,0);lt.X_UNIT=assert?new Xs(1,0,0):new lt(1,0,0);lt.Y_UNIT=assert?new Xs(0,1,0):new lt(0,1,0);lt.Z_UNIT=assert?new Xs(0,0,1):new lt(0,0,1);lt.Vector3IO=new Bt("Vector3IO",{valueType:lt,documentation:"Basic 3-dimensional vector, represented as (x,y,z)",toStateObject:o=>o.toStateObject(),fromStateObject:lt.fromStateObject,stateSchema:{x:ns,y:ns,z:ns}});const A1=(o,t)=>o.add(t),ci=class ci{constructor(t,e){this.x=t,this.y=e}getMagnitude(){return Math.sqrt(this.magnitudeSquared)}get magnitude(){return this.getMagnitude()}getMagnitudeSquared(){return this.x*this.x+this.y*this.y}get magnitudeSquared(){return this.getMagnitudeSquared()}distance(t){return Math.sqrt(this.distanceSquared(t))}distanceXY(t,e){const i=this.x-t,n=this.y-e;return Math.sqrt(i*i+n*n)}distanceSquared(t){const e=this.x-t.x,i=this.y-t.y;return e*e+i*i}distanceSquaredXY(t,e){const i=this.x-t,n=this.y-e;return i*i+n*n}dot(t){return this.x*t.x+this.y*t.y}dotXY(t,e){return this.x*t+this.y*e}getAngle(){return Math.atan2(this.y,this.x)}get angle(){return this.getAngle()}angleBetween(t){const e=this.magnitude,i=t.magnitude;return Math.acos(j.clamp((this.x*t.x+this.y*t.y)/(e*i),-1,1))}equals(t){return this.x===t.x&&this.y===t.y}equalsEpsilon(t,e){return e||(e=0),Math.max(Math.abs(this.x-t.x),Math.abs(this.y-t.y))<=e}isFinite(){return isFinite(this.x)&&isFinite(this.y)}copy(t){return t?t.set(this):ue(this.x,this.y)}crossScalar(t){return this.x*t.y-this.y*t.x}normalized(){const t=this.magnitude;if(t===0)throw new Error("Cannot normalize a zero-magnitude vector");return ue(this.x/t,this.y/t)}roundedSymmetric(){return this.copy().roundSymmetric()}withMagnitude(t){return this.copy().setMagnitude(t)}timesScalar(t){return ue(this.x*t,this.y*t)}times(t){return this.timesScalar(t)}componentTimes(t){return ue(this.x*t.x,this.y*t.y)}plus(t){return ue(this.x+t.x,this.y+t.y)}plusXY(t,e){return ue(this.x+t,this.y+e)}plusScalar(t){return ue(this.x+t,this.y+t)}minus(t){return ue(this.x-t.x,this.y-t.y)}minusXY(t,e){return ue(this.x-t,this.y-e)}minusScalar(t){return ue(this.x-t,this.y-t)}dividedScalar(t){return ue(this.x/t,this.y/t)}negated(){return ue(-this.x,-this.y)}getPerpendicular(){return ue(this.y,-this.x)}get perpendicular(){return this.getPerpendicular()}rotated(t){const e=this.angle+t,i=this.magnitude;return ue(i*Math.cos(e),i*Math.sin(e))}rotateAboutXY(t,e,i){const n=this.x-t,a=this.y-e,h=Math.cos(i),c=Math.sin(i);return this.x=t+n*h-a*c,this.y=e+n*c+a*h,this}rotateAboutPoint(t,e){return this.rotateAboutXY(t.x,t.y,e)}rotatedAboutXY(t,e,i){return ue(this.x,this.y).rotateAboutXY(t,e,i)}rotatedAboutPoint(t,e){return this.rotatedAboutXY(t.x,t.y,e)}blend(t,e){return ue(this.x+(t.x-this.x)*e,this.y+(t.y-this.y)*e)}average(t){return this.blend(t,.5)}static average(t){return _.reduce(t,A1,new ci(0,0)).divideScalar(t.length)}toString(){return`Vector2(${this.x}, ${this.y})`}toVector3(){return new lt(this.x,this.y,0)}setXY(t,e){return this.x=t,this.y=e,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}set(t){return this.setXY(t.x,t.y)}setMagnitude(t){const e=t/this.magnitude;return this.multiplyScalar(e)}add(t){return this.setXY(this.x+t.x,this.y+t.y)}addXY(t,e){return this.setXY(this.x+t,this.y+e)}addScalar(t){return this.setXY(this.x+t,this.y+t)}subtract(t){return this.setXY(this.x-t.x,this.y-t.y)}subtractXY(t,e){return this.setXY(this.x-t,this.y-e)}subtractScalar(t){return this.setXY(this.x-t,this.y-t)}multiplyScalar(t){return this.setXY(this.x*t,this.y*t)}multiply(t){return this.multiplyScalar(t)}componentMultiply(t){return this.setXY(this.x*t.x,this.y*t.y)}divideScalar(t){return this.setXY(this.x/t,this.y/t)}negate(){return this.setXY(-this.x,-this.y)}normalize(){const t=this.magnitude;if(t===0)throw new Error("Cannot normalize a zero-magnitude vector");return this.divideScalar(t)}roundSymmetric(){return this.setXY(Tt.roundSymmetric(this.x),Tt.roundSymmetric(this.y))}rotate(t){const e=this.angle+t,i=this.magnitude;return this.setXY(i*Math.cos(e),i*Math.sin(e))}setPolar(t,e){return this.setXY(t*Math.cos(e),t*Math.sin(e))}toStateObject(){return{x:this.x,y:this.y}}freeToPool(){ci.pool.freeToPool(this)}static createPolar(t,e){return new ci(0,0).setPolar(t,e)}static fromStateObject(t){return ue(t.x,t.y)}static getAngleBetweenVectors(t,e){const i=e.x-t.x,n=e.y-t.y;return Math.atan2(n,i)}static getDistanceBetweenVectors(t,e){const i=e.x-t.x,n=e.y-t.y;return Math.sqrt(i*i+n*n)}};ci.pool=new Yi(ci,{maxSize:1e3,initialize:ci.prototype.setXY,defaultArguments:[0,0]});let $=ci;$.prototype.isVector2=!0;$.prototype.dimension=2;j.register("Vector2",$);const ue=$.pool.create.bind($.pool);j.register("v2",ue);class Di extends ${static mutableOverrideHelper(t){Di.prototype[t]=()=>{throw new Error(`Cannot call mutable method '${t}' on immutable Vector2`)}}}Di.mutableOverrideHelper("setXY");Di.mutableOverrideHelper("setX");Di.mutableOverrideHelper("setY");$.ZERO=assert?new Di(0,0):new $(0,0);$.X_UNIT=assert?new Di(1,0):new $(1,0);$.Y_UNIT=assert?new Di(0,1):new $(0,1);const D1={x:ns,y:ns};$.Vector2IO=new Bt("Vector2IO",{valueType:$,stateSchema:D1,toStateObject:o=>o.toStateObject(),fromStateObject:o=>$.fromStateObject(o),documentation:"A numerical object with x and y properties, like {x:3,y:4}"});const y1=Number.MIN_VALUE,wl=2*Math.PI;let mu,vl,Tl;const xt={clamp(o,t,e){return o<t?t:o>e?e:o},moduloBetweenDown(o,t,e){assert&&assert(e>t,"max > min required for moduloBetween");const i=e-t;let n=(o-t)%i;return n<0&&(n+=i),n+t},moduloBetweenUp(o,t,e){return-xt.moduloBetweenDown(-o,-e,-t)},rangeInclusive(o,t){if(t<o)return[];const e=new Array(t-o+1);for(let i=o;i<=t;i++)e[i-o]=i;return e},rangeExclusive(o,t){return xt.rangeInclusive(o+1,t-1)},toRadians(o){return Math.PI*o/180},toDegrees(o){return 180*o/Math.PI},mod(o,t){return o/t%1===0?0:o%t},gcd(o,t){return Math.abs(t===0?o:this.gcd(t,xt.mod(o,t)))},lcm(o,t){return xt.roundSymmetric(Math.abs(o*t)/xt.gcd(o,t))},lineLineIntersection(o,t,e,i){if(o.equals(t)||e.equals(i))return null;const a=o.x-t.x,h=e.x-i.x,c=o.y-t.y,f=e.y-i.y,g=a*f-c*h;if(Math.abs(g)<1e-10)return null;const y=o.x*t.y-o.y*t.x,w=e.x*i.y-e.y*i.x;return new $((y*h-a*w)/g,(y*f-c*w)/g)},circleCenterFromPoints(o,t,e){const i=new $((o.x+t.x)/2,(o.y+t.y)/2),n=new $((t.x+e.x)/2,(t.y+e.y)/2),a=new $(i.x+(t.y-o.y),i.y-(t.x-o.x)),h=new $(n.x+(e.y-t.y),n.y-(e.x-t.x));return xt.lineLineIntersection(i,a,n,h)},pointInCircleFromPoints(o,t,e,i){assert&&assert(xt.triangleAreaSigned(o,t,e)>0,"Defined points should be in a counterclockwise order");const n=o.x-i.x,a=o.y-i.y,h=(o.x-i.x)*(o.x-i.x)+(o.y-i.y)*(o.y-i.y),c=t.x-i.x,f=t.y-i.y,g=(t.x-i.x)*(t.x-i.x)+(t.y-i.y)*(t.y-i.y),y=e.x-i.x,w=e.y-i.y,I=(e.x-i.x)*(e.x-i.x)+(e.y-i.y)*(e.y-i.y);return n*f*I+a*g*y+h*c*w-h*f*y-a*c*I-n*g*w>0},sphereRayIntersection(o,t,e){e=e===void 0?1e-5:e;const i=new lt(0,0,0),n=t.direction,a=t.position,h=a.minus(i),c=n.dot(h),f=h.magnitudeSquared,g=4*c*c-4*(f-o*o);if(g<e)return null;const y=n.dot(i)-n.dot(a),w=Math.sqrt(g)/2,I=y-w,O=y+w;if(O<e)return null;const N=t.pointAtDistance(O),F=N.minus(i).normalized();if(I<e)return{distance:O,hitPoint:N,normal:F.negated(),fromOutside:!1};{const b=t.pointAtDistance(I),v=b.minus(i).normalized();return{distance:I,hitPoint:b,normal:v,fromOutside:!0}}},solveLinearRootsReal(o,t){return o===0?t===0?null:[]:[-t/o]},solveQuadraticRootsReal(o,t,e){if(o===0||Math.abs(t/o)>1e7||Math.abs(e/o)>1e7)return xt.solveLinearRootsReal(t,e);const n=t*t-4*o*e;if(n<0)return[];const a=Math.sqrt(n);return[(-t-a)/(2*o),(-t+a)/(2*o)]},solveCubicRootsReal(o,t,e,i,n=1e-7){let a;if(o===0)a=xt.solveQuadraticRootsReal(t,e,i);else if(o===0||Math.abs(t/o)>1e7||Math.abs(e/o)>1e7||Math.abs(i/o)>1e7)a=xt.solveQuadraticRootsReal(t,e,i);else if(i===0||Math.abs(o/i)>1e7||Math.abs(t/i)>1e7||Math.abs(e/i)>1e7)a=[0].concat(xt.solveQuadraticRootsReal(o,t,e));else{t/=o,e/=o,i/=o;const c=(3*e-t*t)/9,f=(-(27*i)+t*(9*e-2*(t*t)))/54,g=c*c*c+f*f,y=t/3;if(g>n){const w=Math.sqrt(g);a=[xt.cubeRoot(f+w)+xt.cubeRoot(f-w)-y]}else if(g>-n){const w=xt.cubeRoot(f),I=-y-w;a=[-y+2*w,I,I]}else{let w=-c*c*c;w=Math.acos(f/Math.sqrt(w));const I=2*Math.sqrt(-c);a=[-y+I*Math.cos(w/3),-y+I*Math.cos((w+2*Math.PI)/3),-y+I*Math.cos((w+4*Math.PI)/3)]}}return assert&&a&&a.forEach(h=>assert(isFinite(h),"All returned solveCubicRootsReal roots should be finite")),a},cubeRoot(o){return o>=0?Math.pow(o,1/3):-Math.pow(-o,1/3)},linear(o,t,e,i,n){return assert&&assert(typeof n=="number","linear requires a number to evaluate"),(i-e)/(t-o)*(n-o)+e},roundSymmetric(o){return(o<0?-1:1)*Math.round(Math.abs(o))},toFixed(o,t){if(assert&&assert(typeof o=="number"),assert&&assert(Number.isInteger(t),`decimal places must be an integer: ${t}`),isNaN(o))return"NaN";if(o===Number.POSITIVE_INFINITY)return"Infinity";if(o===Number.NEGATIVE_INFINITY)return"-Infinity";const e=new l1(o).toFixed(t);return e.startsWith("-0.")&&Number.parseFloat(e)===0?"0"+e.slice(2):e},toFixedNumber(o,t){return parseFloat(xt.toFixed(o,t))},equalsEpsilon(o,t,e){return Math.abs(o-t)<=e},lineSegmentIntersection(o,t,e,i,n,a,h,c){const f=(I,O,N,F,b,v)=>(v-O)*(N-I)-(F-O)*(b-I);if(f(o,t,n,a,h,c)*f(e,i,n,a,h,c)>0||f(n,a,o,t,e,i)*f(h,c,o,t,e,i)>0)return null;const g=(o-e)*(a-c)-(t-i)*(n-h);if(Math.abs(g)<1e-10)return null;if(o===n&&t===a||o===h&&t===c)return new $(o,t);if(e===n&&i===a||e===h&&i===c)return new $(e,i);const y=((o*i-t*e)*(n-h)-(o-e)*(n*c-a*h))/g,w=((o*i-t*e)*(a-c)-(t-i)*(n*c-a*h))/g;return new $(y,w)},distToSegmentSquared(o,t,e){const i=t.distanceSquared(e);if(i===0)return o.distanceSquared(t);const n=((o.x-t.x)*(e.x-t.x)+(o.y-t.y)*(e.y-t.y))/i;let a;return n<0?a=o.distanceSquared(t):n>1?a=o.distanceSquared(e):a=o.distanceSquared(new $(t.x+n*(e.x-t.x),t.y+n*(e.y-t.y))),a},distToSegment(o,t,e){return Math.sqrt(this.distToSegmentSquared(o,t,e))},arePointsCollinear(o,t,e,i){return i===void 0&&(i=0),xt.triangleArea(o,t,e)<=i},triangleArea(o,t,e){return Math.abs(xt.triangleAreaSigned(o,t,e))},triangleAreaSigned(o,t,e){return o.x*(t.y-e.y)+t.x*(e.y-o.y)+e.x*(o.y-t.y)},centroidOfPolygon(o){const t=new $(0,0);let e=0;return o.forEach((i,n)=>{const a=o[(n+1)%o.length],h=i.x*a.y-a.x*i.y;e+=h/2,t.addXY((i.x+a.x)*h,(i.y+a.y)*h)}),t.divideScalar(6*e),t},cosh(o){return(Math.exp(o)+Math.exp(-o))/2},sinh(o){return(Math.exp(o)-Math.exp(-o))/2},log10(o){return Math.log(o)/Math.LN10},boxMullerTransform(o,t,e){if(mu=!mu,!mu)return Tl*t+o;let i,n;do i=e.nextDouble(),n=e.nextDouble();while(i<=y1);return vl=Math.sqrt(-2*Math.log(i))*Math.cos(wl*n),Tl=Math.sqrt(-2*Math.log(i))*Math.sin(wl*n),vl*t+o},numberOfDecimalPlaces(o){if(assert&&assert(typeof o=="number"&&isFinite(o),`value must be a finite number ${o}`),Math.floor(o)===o)return 0;{const t=o.toString();if(t.includes("e")){const e=t.split("e"),i=e[0],n=Number(e[1]),a=i.includes(".")?i.split(".")[1].length:0;return Math.max(a-n,0)}else return t.split(".")[1].length}},roundToInterval(o,t){return xt.toFixedNumber(xt.roundSymmetric(o/t)*t,xt.numberOfDecimalPlaces(t))}};j.register("Utils",xt);j.clamp=xt.clamp;j.moduloBetweenDown=xt.moduloBetweenDown;j.moduloBetweenUp=xt.moduloBetweenUp;j.rangeInclusive=xt.rangeInclusive;j.rangeExclusive=xt.rangeExclusive;j.toRadians=xt.toRadians;j.toDegrees=xt.toDegrees;j.lineLineIntersection=xt.lineLineIntersection;j.lineSegmentIntersection=xt.lineSegmentIntersection;j.sphereRayIntersection=xt.sphereRayIntersection;j.solveQuadraticRootsReal=xt.solveQuadraticRootsReal;j.solveCubicRootsReal=xt.solveCubicRootsReal;j.cubeRoot=xt.cubeRoot;j.linear=xt.linear;j.boxMullerTransform=xt.boxMullerTransform;const Tt=xt,kr=class kr{constructor(t){this.seed=null,this.seedrandom=null,this.numberOfCalls=0;const e=Ie()({seed:null},t);this.setSeed(e.seed),kr.allRandomInstances.add(this)}dispose(){kr.allRandomInstances.delete(this)}getSeed(){return this.seed}nextBoolean(){return this.nextDouble()>=.5}nextInt(t){const e=this.nextDouble()*t;return Math.floor(e)}nextIntBetween(t,e){assert&&assert(Number.isInteger(t),`min must be an integer: ${t}`),assert&&assert(Number.isInteger(e),`max must be an integer: ${e}`);const i=e-t;return this.nextInt(i+1)+t}sample(t){assert&&assert(t.length>0,"Array should have at least 1 item.");const e=this.nextIntBetween(0,t.length-1);return t[e]}shuffle(t){let e=-1;const i=new Array(t.length);return _.forEach(t,n=>{const a=this.nextIntBetween(0,++e);i[e]=i[a],i[a]=n}),i}nextDouble(){return this.numberOfCalls++,this.seedrandom()}nextDoubleBetween(t,e){assert&&assert(t<e,"min must be < max");const i=t+this.nextDouble()*(e-t);return assert&&assert(i>=t&&i<e,`value out of range: ${i}`),i}nextGaussian(){return Tt.boxMullerTransform(0,1,this)}nextDoubleInRange(t){return t.min<t.max?this.nextDoubleBetween(t.min,t.max):t.min}nextPointInBounds(t){return new $(this.nextDoubleBetween(t.minX,t.maxX),this.nextDoubleBetween(t.minY,t.maxY))}setSeed(t){typeof t=="number"?assert&&assert(Math.seedrandom,"If a seed is specified, then we must also have Math.seedrandom to use the seed."):t=Math.random(),this.seed=t,this.seedrandom=Math.seedrandom?new Math.seedrandom(`${t}`):()=>Math.random()}sampleProbabilities(t){const i=_.sum(t)*this.nextDouble();let n=0;for(let a=0;a<t.length;a++)if(n+=t[a],n>=i)return a;return assert&&assert(t[t.length-1]!==0,"if last weight is zero, should have selected something beforehand"),t.length-1}};kr.allRandomInstances=new Set;let Hr=kr;j.register("Random",Hr);const Wl=new Hr({seed:_.hasIn(self,"phet.chipper.queryParameters.randomSeed")?self.phet.chipper.queryParameters.randomSeed:null});j.register("dotRandom",Wl);const or=_.hasIn(self,"phet.chipper.queryParameters")&&phet.chipper.queryParameters.listenerOrder,Xn=_.hasIn(self,"phet.chipper.queryParameters")&&phet.chipper.queryParameters.listenerLimit,Il=1e3;let $l=null;if(or&&or.startsWith("random")){const o=or.match(/random(?:%28|\()(\d+)(?:%29|\))/),t=o?Number(o[1]):Wl.nextInt(1e6);$l=new Hr({seed:t}),console.log("listenerOrder random seed: "+t)}let Lr=0;class di{constructor(t,e,i){this.emitContexts=[],t&&(this.onBeforeNotify=t),e&&(this.hasListenerOrderDependencies=e),i&&(this.reentrantNotificationStrategy=i),this.listeners=new Set,assert&&(this.isDisposed=!1)}dispose(){this.removeAllListeners(),assert&&(this.isDisposed=!0)}emit(...t){var e,i;if(assert&&assert(!this.isDisposed,"TinyEmitter.emit() should not be called if disposed."),this.onBeforeNotify&&this.onBeforeNotify.apply(null,t),assert&&or&&or!=="default"&&!this.hasListenerOrderDependencies){const n=Array.from(this.listeners),a=or.startsWith("random")?$l.shuffle(n):n.reverse();this.listeners=new Set(a)}if(this.listeners.size>0){const n=Tu.create(0,t);if(this.emitContexts.push(n),this.reentrantNotificationStrategy==="queue")if(this.emitContexts.length===1)for(;this.emitContexts.length;){const a=this.emitContexts[0],h=a.hasListenerArray?a.listenerArray:this.listeners;this.notifyLoop(a,h),(e=this.emitContexts.shift())==null||e.freeToPool()}else assert&&assert(this.emitContexts.length<=Il,`emitting reentrant depth of ${Il} seems like a infinite loop to me!`);else!this.reentrantNotificationStrategy||this.reentrantNotificationStrategy==="stack"?(this.notifyLoop(n,this.listeners),(i=this.emitContexts.pop())==null||i.freeToPool()):assert&&assert(!1,`Unknown reentrantNotificationStrategy: ${this.reentrantNotificationStrategy}`)}}notifyLoop(t,e){const i=t.args;for(const n of e)if(n(...i),t.index++,t.hasListenerArray)break;if(t.hasListenerArray)for(let n=t.index;n<t.listenerArray.length;n++)t.listenerArray[n](...i)}addListener(t){assert&&assert(!this.isDisposed,"Cannot add a listener to a disposed TinyEmitter"),assert&&assert(!this.hasListener(t),"Cannot add the same listener twice"),this.guardListeners(),this.listeners.add(t),this.changeCount&&this.changeCount(1),assert&&Xn&&isFinite(Xn)&&Lr<this.listeners.size&&(Lr=this.listeners.size,console.log(`Max TinyEmitter listeners: ${Lr}`),assert(Lr<=Xn,`listener count of ${Lr} above ?listenerLimit=${Xn}`))}removeListener(t){assert&&!this.isDisposed&&assert(this.listeners.has(t),"tried to removeListener on something that wasn't a listener"),this.guardListeners(),this.listeners.delete(t),this.changeCount&&this.changeCount(-1)}removeAllListeners(){const t=this.listeners.size;this.guardListeners(),this.listeners.clear(),this.changeCount&&this.changeCount(-t)}guardListeners(){for(let t=this.emitContexts.length-1;t>=0;t--){const e=this.emitContexts[t];if(e.hasListenerArray)break;e.listenerArray.push(...this.listeners),e.hasListenerArray=!0}}hasListener(t){return assert&&assert(arguments.length===1,"Emitter.hasListener should be called with 1 argument"),this.listeners.has(t)}hasListeners(){return assert&&assert(arguments.length===0,"Emitter.hasListeners should be called without arguments"),this.listeners.size>0}getListenerCount(){return this.listeners.size}forEachListener(t){this.listeners.forEach(t)}}const Bi=class Bi{constructor(t,e){this.hasListenerArray=!1,this.listenerArray=[],this.initialize(t,e)}initialize(t,e){return this.index=t,this.args=e,this.hasListenerArray=!1,this}freeToPool(){Bi.pool.freeToPool(this),this.args=null,this.listenerArray.length=0}static create(t,e){return Bi.pool.create(t,e)}};Bi.pool=new Yi(Bi,{initialize:Bi.prototype.initialize});let Tu=Bi;as.register("TinyEmitter",di);class Kl extends di{setTimeout(t,e){let i=0;const n=a=>{i+=a,i*1e3>=e&&this.hasListener(n)&&(t(),this.removeListener(n))};return this.addListener(n),n}clearTimeout(t){this.hasListener(t)&&this.removeListener(t)}setInterval(t,e){let i=0;const n=a=>{for(i+=a;i*1e3>=e&&this.hasListener(n);)t(),i=i-e/1e3};return this.addListener(n),n}clearInterval(t){this.hasListener(t)&&this.removeListener(t)}runOnNextTick(t){this.setTimeout(t,0)}}as.register("Timer",Kl);const Jl=new Kl;as.register("animationFrameTimer",Jl);function Os(o,t){assert&&assert(Array.isArray(o),"arrayRemove takes an Array");const e=_.indexOf(o,t);assert&&assert(e>=0,"item not found in Array"),o.splice(e,1)}_e.register("arrayRemove",Os);const Wn=class Wn{toString(){return this.name}isEnumerationValue(){return!0}constructor(){const t=this.constructor;assert&&assert(!Wn.sealedCache.has(t),"cannot create instanceof of a sealed constructor"),this._name=null,this._enumeration=null}set name(t){assert&&assert(!this._name,"name cannot be changed once defined."),this._name=t}get name(){return assert&&assert(this._name,"name cannot be retrieved until it has been filled in by Enumeration."),this._name}set enumeration(t){assert&&assert(!this._enumeration,"enumeration cannot be changed once defined."),this._enumeration=t}get enumeration(){return assert&&assert(this._enumeration,"enumeration cannot be retrieved until it has been filled in by Enumeration."),this._enumeration}};Wn.sealedCache=new Set;let Ls=Wn;_e.register("EnumerationValue",Ls);function Ql(o){const t=[o];let e=o.prototype;for(;e&&(e=Object.getPrototypeOf(e));)e.constructor&&t.push(e.constructor);return t}_e.register("inheritance",Ql);class Xi{constructor(t,e){const i=Ie()({phetioDocumentation:"",instanceType:t},e);this.phetioDocumentation=i.phetioDocumentation;const n=i.instanceType,a=_.reverse(Ql(t));assert&&assert(a.includes(n),"the specified type should be in its own hierarchy"),this.keys=[],this.values=[],a.forEach(h=>{Object.keys(h).forEach(c=>{const f=h[c];f instanceof n&&(assert&&assert(c===c.toUpperCase(),"keys should be upper case by convention"),this.keys.push(c),this.values.push(f),f instanceof t&&(f.name=c,f.enumeration=this))})}),assert&&assert(this.keys.length>0,"no keys found"),assert&&assert(this.values.length>0,"no values found"),this.Enumeration=t,Ls.sealedCache.add(t)}getKey(t){return t.name}getValue(t){return this.Enumeration[t]}includes(t){return this.values.includes(t)}}_e.register("Enumeration",Xi);const Ur=class Ur extends Map{constructor(t){super(t),Ur.caches.push(this)}static clearAll(){Ur.caches.forEach(t=>t.clear())}};Ur.caches=[];let pi=Ur;Jt.register("IOTypeCache",pi);const qn=new pi,Cl=o=>o.join("|"),Lu=o=>{const t=o.enumeration;if(!qn.has(t)){const e=t.phetioDocumentation?` ${t.phetioDocumentation}`:"",i=t.keys,n=t.values,a=`EnumerationIO(${Cl(i)})`;assert&&assert(!Array.from(qn.values()).find(h=>h.typeName===a),"There was already another IOType with the same name: "+a),qn.set(t,new Bt(a,{validValues:n,documentation:`Possible values: ${i.join(", ")}.${e}`,toStateObject:h=>t.getKey(h),fromStateObject:h=>(assert&&assert(typeof h=="string","unsupported EnumerationIO value type, expected string"),assert&&assert(i.includes(h),`Unrecognized value: ${h}`),t.getValue(h)),stateSchema:xs.asValue(`${Cl(i)}`,{isValidValue:h=>i.includes(h)})}))}return qn.get(t)};Jt.register("EnumerationIO",Lu);var Sl;const He=class He extends Ls{};Sl=Pe.EVENT_TYPE_MODEL,He.USER=new He,He[Sl]=new He,He.WRAPPER=new He,He.OPT_OUT=new He,He.enumeration=new Xi(He),He.phetioType=Lu(He);let gi=He;Jt.register("EventType",gi);const Iu=_.hasIn(self,"phet.chipper.packageObject")?phet.chipper.packageObject:{name:"placeholder"},Vi=_.hasIn(self,"phet.preloads.phetio"),Cu=Vi&&phet.preloads.phetio.queryParameters.phetioPrintMissingTandems,E1=_.hasIn(Iu,"phet.phet-io.validation")?!!Iu.phet["phet-io"].validation:!0,x1=self.QueryStringMachine&&QueryStringMachine.containsKey("phetioValidation"),b1=Vi&&x1?!!phet.preloads.phetio.queryParameters.phetioValidation:Vi&&E1,Ml=Vi&&b1&&!Cu,w1=["pickableProperty","inputListener","dragHandler"],Su="requiredTandem",Mu="optionalTandem",v1=[Su,Mu],Ol="test",T1=phetio.PhetioIDUtils.INTER_TERM_SEPARATOR,tc=phetio.PhetioIDUtils.ARCHETYPE,fu={required:[],optional:[]},Yr=[],Xr=[],G=class G{constructor(t,e,i){this.children={},this.isDisposed=!1,assert&&assert(t===null||t instanceof G,"parentTandem should be null or Tandem"),assert&&assert(e!==G.METADATA_KEY,"name cannot match Tandem.METADATA_KEY"),this.parentTandem=t,this.name=e,this.phetioID=this.parentTandem?self.phetio.PhetioIDUtils.append(this.parentTandem.phetioID,this.name):this.name;const n=Ie()({required:!0,supplied:!0,isValidTandemName:a=>G.getRegexFromCharacterClass().test(a)},i);assert&&assert(n.isValidTandemName(e),`invalid tandem name: ${e}`),assert&&assert(!n.supplied||v1.every(a=>!e.includes(a)),`forbidden supplied tandem name: ${e}. If a tandem is not supplied, its name should not be used to create a supplied tandem.`),this.children={},this.parentTandem&&(assert&&assert(!this.parentTandem.hasChild(e),`parent should not have child: ${e}`),this.parentTandem.addChild(e,this)),this.required=n.required,this.supplied=n.supplied}static getRegexFromCharacterClass(t=Pe.BASE_TANDEM_CHARACTER_CLASS){return new RegExp(`^[${t}]+$`)}static onMissingTandem(t){if(Cu&&!t.supplied){const e=G.captureStackTrace();t.required?fu.required.push({phetioID:t.phetioID,stack:e}):e.includes("Font")||fu.optional.push({phetioID:t.phetioID,stack:e})}}static captureStackTrace(t=1/0){const e=Object.getOwnPropertyDescriptor(Error,"stackTraceLimit");if(e&&(e.writable||e.set&&typeof e.set=="function")){const n=Error.stackTraceLimit;Error.stackTraceLimit=t;const a=new Error().stack;return Error.stackTraceLimit=n,a}else return new Error().stack}addPhetioObject(t){if(Vi){if(assert&&G.VALIDATION&&assert(!(this.required&&!this.supplied),"Tandem was required but not supplied"),!this.required&&!this.supplied)return;if(!G.launched)G.bufferedPhetioObjects.push(t);else for(let e=0;e<Yr.length;e++)Yr[e].addPhetioObject(t)}}hasAncestor(t){return this.parentTandem===t||!!(this.parentTandem&&this.parentTandem.hasAncestor(t))}removePhetioObject(t){if(this.supplied){if(Vi)if(!G.launched)assert&&assert(G.bufferedPhetioObjects.includes(t),"should contain item"),Os(G.bufferedPhetioObjects,t);else for(let e=0;e<Yr.length;e++)Yr[e].removePhetioObject(t);t.tandem.dispose()}}getExtendedOptions(t){return oe({supplied:this.supplied,required:this.required},t)}createTandem(t,e){if(assert&&G.VALIDATION&&assert(!w1.includes(t),"tandem name is not allowed: "+t),e=this.getExtendedOptions(e),this.hasChild(t)){const i=this.children[t];return assert&&assert(i.required===e.required),assert&&assert(i.supplied===e.supplied),i}else return new G(this,t,e)}createTandem1Indexed(t,e,i){return this.createTandem(`${t}${e+1}`,i)}hasChild(t){return this.children.hasOwnProperty(t)}addChild(t,e){assert&&assert(!this.hasChild(t)),this.children[t]=e}iterateDescendants(t){for(const e in this.children)this.children.hasOwnProperty(e)&&(t(this.children[e]),this.children[e].iterateDescendants(t))}removeChild(t){assert&&assert(this.hasChild(t)),delete this.children[t]}dispose(){assert&&assert(!this.isDisposed,"already disposed"),this.parentTandem.removeChild(this.name),this.parentTandem=null,this.isDisposed=!0}getArchetypalPhetioID(){return self.phetio.PhetioIDUtils.getArchetypalPhetioID(this.phetioID)}createGroupTandem(t){return this.children[t]?this.children[t]:new I1(this,t)}equals(t){return this.phetioID===t.phetioID}static addPhetioObjectListener(t){Yr.push(t)}static launch(){for(assert&&assert(!G.launched,"Tandem cannot be launched twice"),G.launched=!0;Xr.length>0;)Xr.shift()();assert&&assert(Xr.length===0)}static unlaunch(){G.launched=!1,G.bufferedPhetioObjects.length=0,Xr.length=0}static addLaunchListener(t){assert&&assert(!G.launched,"tandem has already been launched, cannot add listener for that hook."),Xr.push(t)}createTandemFromPhetioID(t){return this.createTandem(t.split(self.phetio.PhetioIDUtils.SEPARATOR).join(T1),{isValidTandemName:e=>G.getRegexFromCharacterClass(Pe.BASE_DERIVED_TANDEM_CHARACTER_CLASS).test(e)})}static getStringsTandem(t=G.ROOT.name){return G.STRINGS.createTandem(t)}static getDerivedStringsTandem(t=G.ROOT.name){return G.getStringsTandem(t).createTandem("derivedStrings")}static toAccessibleName(t,e){return t&&t.tandem&&t.tandem.supplied?G.tandemNameToAccessibleName(t.tandem.name,e):null}static tandemNameToAccessibleName(t,e){return assert&&assert(t.toLowerCase().endsWith(e.toLowerCase()),`suffix should be at the end of the tandem name: ${t}`),t.slice(0,-e.length).replace(/([A-Z])/g," $1").trim().replace(/\b\w/g,a=>a.toUpperCase())}};G.SCREEN_TANDEM_NAME_SUFFIX="Screen",G.missingTandems=fu,G.PHET_IO_ENABLED=Vi,G.API_GENERATION=G.PHET_IO_ENABLED&&(phet.preloads.phetio.queryParameters.phetioPrintAPI||phet.preloads.phetio.queryParameters.phetioCompareAPI),G.VALIDATION=Ml,G.METADATA_KEY="_metadata",G.DATA_KEY="_data",G.launched=!1,G.bufferedPhetioObjects=[],G.RootTandem=class extends G{createTandem(e,i){if(G.VALIDATION){const n=e===self.phetio.PhetioIDUtils.GLOBAL_COMPONENT_NAME||e===Su||e===Mu||e===Ol||e===self.phetio.PhetioIDUtils.GENERAL_COMPONENT_NAME||_.endsWith(e,G.SCREEN_TANDEM_NAME_SUFFIX);assert&&assert(n,`tandem name not allowed on root: "${e}"; perhaps try putting it under general or global`)}return super.createTandem(e,i)}},G.ROOT=new G.RootTandem(null,_.camelCase(Iu.name)),G.GENERAL=G.ROOT.createTandem(self.phetio.PhetioIDUtils.GENERAL_COMPONENT_NAME),G.ROOT_TEST=G.ROOT.createTandem(Ol),G.GENERAL_MODEL=G.GENERAL.createTandem(self.phetio.PhetioIDUtils.MODEL_COMPONENT_NAME),G.GENERAL_VIEW=G.GENERAL.createTandem(self.phetio.PhetioIDUtils.VIEW_COMPONENT_NAME),G.GENERAL_CONTROLLER=G.GENERAL.createTandem(self.phetio.PhetioIDUtils.CONTROLLER_COMPONENT_NAME),G.GLOBAL=G.ROOT.createTandem(self.phetio.PhetioIDUtils.GLOBAL_COMPONENT_NAME),G.GLOBAL_MODEL=G.GLOBAL.createTandem(self.phetio.PhetioIDUtils.MODEL_COMPONENT_NAME),G.GLOBAL_VIEW=G.GLOBAL.createTandem(self.phetio.PhetioIDUtils.VIEW_COMPONENT_NAME),G.COLORS=G.GLOBAL_VIEW.createTandem(self.phetio.PhetioIDUtils.COLORS_COMPONENT_NAME),G.STRINGS=G.GENERAL_MODEL.createTandem(self.phetio.PhetioIDUtils.STRINGS_COMPONENT_NAME),G.OPTIONAL=G.ROOT.createTandem(Mu,{required:!1,supplied:!1}),G.OPT_OUT=G.OPTIONAL,G.REQUIRED=G.ROOT.createTandem(Su,{required:Ml||Cu,supplied:!1}),G.PREFERENCES=G.GLOBAL_MODEL.createTandem("preferences");let Mt=G;Mt.addLaunchListener(()=>{for(;Mt.bufferedPhetioObjects.length>0;){const o=Mt.bufferedPhetioObjects.shift();o.tandem.addPhetioObject(o)}assert&&assert(Mt.bufferedPhetioObjects.length===0,"bufferedPhetioObjects should be empty")});class I1 extends Mt{constructor(t,e){super(t,e),this.groupName=e,this.groupMemberIndex=0}createNextTandem(){const t=this.parentTandem.createTandem(`${this.groupName}${this.groupMemberIndex}`);return this.groupMemberIndex++,t}}Jt.register("Tandem",Mt);const ec=new Bt("ValueIO",{isValidValue:_.stubTrue,supertype:Bt.ObjectIO,toStateObject:o=>o,fromStateObject:o=>o,stateSchema:xs.asValue("*",{isValidValue:_.stubTrue})});Jt.register("ValueIO",ec);const nr=new Bt("StringIO",{supertype:ec,valueType:"string",documentation:"PhET-iO Type for Javascript's string primitive type",stateSchema:xs.asValue("string",{valueType:"string"}),toStateObject:_.identity});Jt.register("StringIO",nr);const sc=new Bt("LinkedElementIO",{isValidValue:()=>!0,documentation:"A LinkedElement",toStateObject:o=>(assert&&Mt.VALIDATION&&assert(o.element.isPhetioInstrumented(),"Linked elements must be instrumented"),{elementID:o.element.tandem.phetioID}),applyState:_.noop,stateSchema:{elementID:nr}});Jt.register("LinkedElementIO",sc);const C1=["phetioDynamicElement","phetioEventType","phetioIsArchetype","phetioPlayback","phetioReadOnly","phetioState","phetioTypeName"];class S1{constructor(){this.apiMismatches=[],this.simHasStarted=!1,this.enabled=!!assert&&Mt.VALIDATION,this.everyPhetioType={}}onSimStarted(){this.enabled&&phet.joist.sim.allScreensCreated&&(this.validateOverridesFile(),this.validatePreferencesModel()),phet.preloads.phetio.queryParameters.phetioPrintAPIProblems&&this.apiMismatches&&console.log("PhET-iO API problems detected: ",this.apiMismatches),this.simHasStarted=!0}validatePreferencesModel(){Object.keys(phet.phetio.phetioEngine.phetioElementMap).filter(t=>t.includes(".preferencesModel.")).forEach(t=>{let e=phet.phetio.phetioEngine.phetioElementMap[t];for(;e instanceof Ou;)e=e.element;assert&&assert(!e.phetioReadOnly,"preferences model and its descendants should be phetioReadOnly: false, key="+t),assert&&assert(e.phetioState===(e.phetioID.endsWith(".colorProfileProperty")||e.phetioID.endsWith(".audioEnabledProperty")||e.phetioID.endsWith(".localeProperty")||t.includes(".simulationModel.")),"most preferences should be phetioState: false, key="+t)})}onPhetioObjectRemoved(t){if(!this.enabled)return;const e=t.tandem.phetioID;t.phetioDynamicElement||this.assertAPIError({phetioID:e,ruleInViolation:"2. Any static, registered PhetioObject can never be deregistered."})}onPhetioObjectAdded(t){if(!this.enabled)return;const e=t.phetioType;this.everyPhetioType[e.typeName]||(this.everyPhetioType[e.typeName]=e),this.simHasStarted&&phet.axon.animationFrameTimer.runOnNextTick(()=>{if(!t.phetioDynamicElement)this.assertAPIError({phetioID:t.tandem.phetioID,ruleInViolation:"1. After startup, only dynamic instances prescribed by the baseline file can be registered."});else if(phet.preloads.phetio.createArchetypes&&!t.isDisposed){const n=t.tandem.getArchetypalPhetioID(),a=phet.phetio.phetioEngine.getPhetioElement(n).getMetadata();this.checkDynamicInstanceAgainstArchetype(t,a,"simulation archetype")}})}validateOverridesFile(){const t=phet.phetio.phetioEngine.getPhetioElementsBaseline();for(const e in self.phet.preloads.phetio.phetioElementsOverrides){const i=e.includes(tc);if(!phet.preloads.phetio.createArchetypes&&!t.hasOwnProperty(e))assert&&assert(i,`phetioID missing from the baseline that was not an archetype: ${e}`);else if(!t.hasOwnProperty(e))this.assertAPIError({phetioID:e,ruleInViolation:"3. Any schema entries in the overrides file must exist in the baseline file.",message:"phetioID expected in the baseline file but does not exist"});else{const n=self.phet.preloads.phetio.phetioElementsOverrides[e],a=t[e];Object.keys(n).length===0&&this.assertAPIError({phetioID:e,ruleInViolation:"4. Any schema entries in the overrides file must be different from its baseline counterpart.",message:"no metadata keys found for this override."});for(const h in n)a.hasOwnProperty(h)||this.assertAPIError({phetioID:e,ruleInViolation:"8. Any schema entries in the overrides file must be different from its baseline counterpart.",message:`phetioID metadata key not found in the baseline: ${h}`}),n[h]===a[h]&&this.assertAPIError({phetioID:e,ruleInViolation:"8. Any schema entries in the overrides file must be different from its baseline counterpart.",message:"phetioID metadata override value is the same as the corresponding metadata value in the baseline."})}}}assertAPIError(t){const e=t.phetioID?`${t.phetioID}:  ${t.ruleInViolation}`:`${t.ruleInViolation}`;this.apiMismatches.push(t),(this.simHasStarted||!phet.preloads.phetio.queryParameters.phetioPrintAPIProblems)&&(phet.preloads.phetio.queryParameters.phetioPrintAPIProblems?console.error("API Problems:",this.apiMismatches):assert&&assert(!1,`PhET-iO API error:
${e}`))}checkDynamicInstanceAgainstArchetype(t,e,i){const n=t.getMetadata();C1.forEach(a=>{a!=="phetioDynamicElement"&&a!=="phetioArchetypePhetioID"&&a!=="phetioIsArchetype"&&e[a]!==n[a]&&t.tandem&&this.assertAPIError({phetioID:t.tandem.phetioID,ruleInViolation:"5. Dynamic element metadata should match the archetype in the API.",source:i,message:`mismatched metadata: ${a}`})})}}const ic=new S1;Jt.register("phetioAPIValidation",ic);class Kn{constructor(t){if(this._disposeEmitter=new di,this._isDisposable=!0,this._isDisposed=!1,t&&this.initializeDisposable(t),assert){const e=this.dispose;this.dispose=()=>{assert&&assert(!this._isDisposed,"This Disposable has already been disposed, and cannot be disposed again"),e.call(this),assert&&assert(this._isDisposed,"Disposable.dispose() call is missing from an overridden dispose method")}}}getDisposeEmitter(){return this._disposeEmitter}get disposeEmitter(){return this.getDisposeEmitter()}get isDisposed(){return this._isDisposed}get isDisposable(){return this._isDisposable}set isDisposable(t){this._isDisposable=t}initializeDisposable(t){t&&t.hasOwnProperty("isDisposable")&&(this._isDisposable=t.isDisposable)}dispose(){assert&&!this._isDisposable&&Kn.assertNotDisposable(),assert&&assert(!this._isDisposed,"Disposable can only be disposed once"),this._disposeEmitter.emit(),this._disposeEmitter.dispose(),this._isDisposed=!0}static assertNotDisposable(){assert&&assert(!1,"dispose is not supported, exists for the lifetime of the sim")}}as.register("Disposable",Kn);const Ze=class Ze{static add(t,e){assert&&assert(!Ze.map.has(t.phetioID),"TandemID already exists in the DescriptionRegistry"),Ze.map.set(t.phetioID,e);const i=t.phetioID.split(".");let n=Ze.root;for(let a=0;a<i.length;a++){const h=i[a];n[h]||(n[h]={}),n=n[h]}n._value=e,Ze.addedEmitter.emit(t.phetioID,e)}static remove(t){const e=t.phetioID;if(Ze.map.has(e)){Ze.removedEmitter.emit(e,t),Ze.map.delete(e);const i=e.split("."),n=[];let a=Ze.root;for(let h=0;h<i.length;h++){const c=i[h];a&&(a=a[c],a&&n.push(a))}n.length===i.length&&delete a._value;for(let h=n.length-1;h>=0;h--){const c=n[h];c&&Object.keys(c).length===0&&delete n[h]}}else assert&&assert(!1,"PhetioObject not found in DescriptionRegistry")}};Ze.root={},Ze.map=new Map,Ze.addedEmitter=new di,Ze.removedEmitter=new di;let Zr=Ze;Jt.register("DescriptionRegistry",Zr);const Oe=Mt.PHET_IO_ENABLED,M1={valueType:Bt,validationMessage:"phetioType must be an IOType"},Ni={valueType:"boolean"},O1={valueType:"string",isValidValue:o=>!o.includes(`
`),validationMessage:"phetioDocumentation must be provided in the right format"},N1={valueType:gi,validationMessage:"invalid phetioEventType"},F1={valueType:[Object,null]},P1=o=>o.tandem.phetioID,du=-1;var Yl,Xl,ql;const Nl=!!((ql=(Xl=(Yl=self.phet)==null?void 0:Yl.chipper)==null?void 0:Xl.queryParameters)!=null&&ql.supportsDescriptionPlugin),Un={tandem:Mt.OPTIONAL,descriptionTandem:Mt.OPTIONAL,phetioType:Bt.ObjectIO,phetioDocumentation:Pe.PHET_IO_OBJECT_METADATA_DEFAULTS.phetioDocumentation,phetioState:Pe.PHET_IO_OBJECT_METADATA_DEFAULTS.phetioState,phetioReadOnly:Pe.PHET_IO_OBJECT_METADATA_DEFAULTS.phetioReadOnly,phetioEventType:gi.MODEL,phetioHighFrequency:Pe.PHET_IO_OBJECT_METADATA_DEFAULTS.phetioHighFrequency,phetioPlayback:Pe.PHET_IO_OBJECT_METADATA_DEFAULTS.phetioPlayback,phetioFeatured:Pe.PHET_IO_OBJECT_METADATA_DEFAULTS.phetioFeatured,phetioDynamicElement:Pe.PHET_IO_OBJECT_METADATA_DEFAULTS.phetioDynamicElement,phetioDesigned:Pe.PHET_IO_OBJECT_METADATA_DEFAULTS.phetioDesigned,phetioEventMetadata:null,tandemNameSuffix:null};assert&&assert(gi.phetioType.toStateObject(Un.phetioEventType)===Pe.PHET_IO_OBJECT_METADATA_DEFAULTS.phetioEventType,"phetioEventType must have the same default as the default metadata values.");const hr=class hr extends Kn{constructor(t){super(),this.tandem=Un.tandem,this.phetioID=this.tandem.phetioID,this.phetioObjectInitialized=!1,t&&this.initializePhetioObject({},t)}initializePhetioObject(t,e){if(assert&&assert(!t.hasOwnProperty("isDisposable"),"baseOptions should not contain isDisposable"),this.initializeDisposable(e),assert&&assert(e,"initializePhetioObject must be called with providedOptions"),e.tandem&&Mt.onMissingTandem(e.tandem),assert&&Mt.VALIDATION&&e.tandem&&e.tandem.required&&assert(e.tandem.supplied,"required tandems must be supplied"),Nl&&e.tandem&&e.tandem.supplied&&Zr.add(e.tandem,this),!(Oe&&e.tandem&&e.tandem.supplied)){e.tandem&&(this.tandem=e.tandem,this.phetioID=this.tandem.phetioID);return}assert&&assert(!this.phetioObjectInitialized,"cannot initialize twice"),assert&&Ae(e.tandem,{valueType:Mt});const i=c1({},Un,t);let n=Ie()(i,e);assert&&Ae(n.phetioType,M1),assert&&Ae(n.phetioState,oe({},Ni,{validationMessage:"phetioState must be a boolean"})),assert&&Ae(n.phetioReadOnly,oe({},Ni,{validationMessage:"phetioReadOnly must be a boolean"})),assert&&Ae(n.phetioEventType,N1),assert&&Ae(n.phetioDocumentation,O1),assert&&Ae(n.phetioHighFrequency,oe({},Ni,{validationMessage:"phetioHighFrequency must be a boolean"})),assert&&Ae(n.phetioPlayback,oe({},Ni,{validationMessage:"phetioPlayback must be a boolean"})),assert&&Ae(n.phetioFeatured,oe({},Ni,{validationMessage:"phetioFeatured must be a boolean"})),assert&&Ae(n.phetioEventMetadata,oe({},F1,{validationMessage:"object literal expected"})),assert&&Ae(n.phetioDynamicElement,oe({},Ni,{validationMessage:"phetioDynamicElement must be a boolean"})),assert&&Ae(n.phetioDesigned,oe({},Ni,{validationMessage:"phetioDesigned must be a boolean"})),assert&&assert(this.linkedElements!==null,"this means addLinkedElement was called before instrumentation of this PhetioObject"),this.phetioIsArchetype=!1,this.phetioBaselineMetadata=ic.enabled||phet.preloads.phetio.queryParameters.phetioEmitAPIBaseline?this.getMetadata(oe({phetioIsArchetype:this.phetioIsArchetype,phetioArchetypePhetioID:this.phetioArchetypePhetioID},n)):null;const a=n.tandem.getArchetypalPhetioID();if(self.phet.preloads.phetio.phetioElementsOverrides){const h=self.phet.preloads.phetio.phetioElementsOverrides[a];h&&(n=Ie()(n,h))}if(this.tandem=n.tandem,this.phetioID=this.tandem.phetioID,this._phetioType=n.phetioType,this._phetioState=n.phetioState,this._phetioReadOnly=n.phetioReadOnly,this._phetioDocumentation=n.phetioDocumentation,this._phetioEventType=n.phetioEventType,this._phetioHighFrequency=n.phetioHighFrequency,this._phetioPlayback=n.phetioPlayback,this._phetioDynamicElement=n.phetioDynamicElement,this._phetioFeatured=n.phetioFeatured,this._phetioEventMetadata=n.phetioEventMetadata,this._phetioDesigned=n.phetioDesigned,this.phetioArchetypePhetioID=null,this.linkedElements=[],this.phetioNotifiedObjectCreated=!1,this.phetioMessageStack=[],this._phetioPlayback&&(this._phetioEventMetadata=this._phetioEventMetadata||{},assert&&assert(!this._phetioEventMetadata.hasOwnProperty("playback"),"phetioEventMetadata.playback should not already exist"),this._phetioEventMetadata.playback=!0),this.tandem.addPhetioObject(this),this.phetioObjectInitialized=!0,assert&&Mt.VALIDATION&&this.isPhetioInstrumented()&&n.tandemNameSuffix){const h=Array.isArray(n.tandemNameSuffix)?n.tandemNameSuffix:[n.tandemNameSuffix],c=h.filter(f=>this.tandem.name.endsWith(f)||this.tandem.name.endsWith(hr.swapCaseOfFirstCharacter(f)));assert&&assert(c.length>0,"Incorrect Tandem suffix, expected = "+h.join(", ")+". actual = "+this.tandem.phetioID)}}static swapCaseOfFirstCharacter(t){const e=t[0];return(e===e.toLowerCase()?e.toUpperCase():e.toLowerCase())+t.substring(1)}get phetioType(){return assert&&assert(Oe&&this.isPhetioInstrumented(),"phetioType only accessible for instrumented objects in PhET-iO brand."),this._phetioType}get phetioState(){return assert&&assert(Oe&&this.isPhetioInstrumented(),"phetioState only accessible for instrumented objects in PhET-iO brand."),this._phetioState}get phetioReadOnly(){return assert&&assert(Oe&&this.isPhetioInstrumented(),"phetioReadOnly only accessible for instrumented objects in PhET-iO brand."),this._phetioReadOnly}get phetioDocumentation(){return assert&&assert(Oe&&this.isPhetioInstrumented(),"phetioDocumentation only accessible for instrumented objects in PhET-iO brand."),this._phetioDocumentation}get phetioEventType(){return assert&&assert(Oe&&this.isPhetioInstrumented(),"phetioEventType only accessible for instrumented objects in PhET-iO brand."),this._phetioEventType}get phetioHighFrequency(){return assert&&assert(Oe&&this.isPhetioInstrumented(),"phetioHighFrequency only accessible for instrumented objects in PhET-iO brand."),this._phetioHighFrequency}get phetioPlayback(){return assert&&assert(Oe&&this.isPhetioInstrumented(),"phetioPlayback only accessible for instrumented objects in PhET-iO brand."),this._phetioPlayback}get phetioDynamicElement(){return assert&&assert(Oe&&this.isPhetioInstrumented(),"phetioDynamicElement only accessible for instrumented objects in PhET-iO brand."),this._phetioDynamicElement}get phetioFeatured(){return assert&&assert(Oe&&this.isPhetioInstrumented(),"phetioFeatured only accessible for instrumented objects in PhET-iO brand."),this._phetioFeatured}get phetioEventMetadata(){return assert&&assert(Oe&&this.isPhetioInstrumented(),"phetioEventMetadata only accessible for instrumented objects in PhET-iO brand."),this._phetioEventMetadata}get phetioDesigned(){return assert&&assert(Oe&&this.isPhetioInstrumented(),"phetioDesigned only accessible for instrumented objects in PhET-iO brand."),this._phetioDesigned}phetioStartEvent(t,e){if(Oe&&this.isPhetioInstrumented()){assert&&Ru(e,["data"],["getData"]);const i=Ie()({data:null,getData:null},e);if(assert&&assert(this.phetioObjectInitialized,"phetioObject should be initialized"),assert&&i.data&&assert(typeof i.data=="object"),assert&&i.getData&&assert(typeof i.getData=="function"),assert&&assert(arguments.length===1||arguments.length===2,"Prevent usage of incorrect signature"),!_.hasIn(self,"phet.phetio.dataStream")){this.phetioMessageStack.push(du);return}const n=this.phetioHighFrequency&&_.hasIn(self,"phet.preloads.phetio.queryParameters")&&!self.phet.preloads.phetio.queryParameters.phetioEmitHighFrequencyEvents&&!phet.phetio.dataStream.isEmittingLowFrequencyEvent(),a=!assert&&!_.hasIn(self,"phet.phetio.dataStream");if(n||this.phetioEventType===gi.OPT_OUT||a){this.phetioMessageStack.push(du);return}const h=i.getData?i.getData():i.data;this.phetioMessageStack.push(phet.phetio.dataStream.start(this.phetioEventType,this.tandem.phetioID,this.phetioType,t,h,this.phetioEventMetadata,this.phetioHighFrequency)),this.phetioPlayback&&phet.phetio.dataStream.pushNonPlaybackable()}}phetioEndEvent(t=!1){if(Oe&&this.isPhetioInstrumented()){assert&&assert(this.phetioMessageStack.length>0,"Must have messages to pop");const e=this.phetioMessageStack.pop();if(e===du)return;this.phetioPlayback&&phet.phetio.dataStream.popNonPlaybackable(),phet.phetio.dataStream.end(e,t)}}propagateDynamicFlagsToDescendants(){assert&&assert(Mt.PHET_IO_ENABLED,"phet-io should be enabled"),assert&&assert(phet.phetio&&phet.phetio.phetioEngine,"Dynamic elements cannot be created statically before phetioEngine exists.");const t=phet.phetio.phetioEngine,e=Mt.launched?[]:Mt.bufferedPhetioObjects.map(P1);this.tandem.iterateDescendants(i=>{const n=i.phetioID;if(t.hasPhetioObject(n)||!Mt.launched&&e.includes(n)){assert&&assert(this.isPhetioInstrumented());const a=t.hasPhetioObject(n)?t.getPhetioElement(n):Mt.bufferedPhetioObjects[e.indexOf(n)];assert&&assert(a,"should have a phetioObject here"),a.phetioIsArchetype=this.phetioIsArchetype,a.setPhetioDynamicElement(this.phetioDynamicElement),a.phetioBaselineMetadata&&(a.phetioBaselineMetadata.phetioIsArchetype=this.phetioIsArchetype)}})}setPhetioDynamicElement(t){assert&&assert(!this.phetioNotifiedObjectCreated,"should not change dynamic element flags after notifying this PhetioObject's creation."),assert&&assert(this.isPhetioInstrumented()),this._phetioDynamicElement=this.phetioIsArchetype?!1:t,this.phetioArchetypePhetioID=t?this.tandem.getArchetypalPhetioID():null,this.phetioBaselineMetadata&&(this.phetioBaselineMetadata.phetioDynamicElement=this.phetioDynamicElement)}markDynamicElementArchetype(){assert&&assert(!this.phetioNotifiedObjectCreated,"should not change dynamic element flags after notifying this PhetioObject's creation."),this.phetioIsArchetype=!0,this.setPhetioDynamicElement(!1),this.phetioBaselineMetadata&&(this.phetioBaselineMetadata.phetioIsArchetype=this.phetioIsArchetype),Mt.PHET_IO_ENABLED&&this.propagateDynamicFlagsToDescendants()}isPhetioInstrumented(){return this.tandem&&this.tandem.supplied}addLinkedElement(t,e){if(!this.isPhetioInstrumented()){this.linkedElements=null;return}if(Oe&&t.isPhetioInstrumented()){const i=Ie()({phetioFeatured:this.phetioFeatured&&t.phetioFeatured},e);assert&&assert(Array.isArray(this.linkedElements),"linkedElements should be an array");let n=null;e&&e.tandem?n=e.tandem:e&&e.tandemName?n=this.tandem.createTandem(e.tandemName):!e&&t.tandem&&(n=this.tandem.createTandem(t.tandem.name)),n&&(i.tandem=n),this.linkedElements.push(new Ou(t,i))}}removeLinkedElements(t){this.isPhetioInstrumented()&&this.linkedElements&&(assert&&assert(t.isPhetioInstrumented()),this.linkedElements.filter(i=>i.element===t).forEach(i=>{i.dispose(),Os(this.linkedElements,i)}))}onSimulationConstructionCompleted(){this.phetioBaselineMetadata=null}getPhetioMouseHitTarget(t=!1){if(assert&&assert(phet.tandem.phetioElementSelectionProperty.value!=="none","getPhetioMouseHitTarget should not be called when phetioElementSelectionProperty is none"),!t&&phet.tandem.phetioElementSelectionProperty.value==="linked"){const e=this.getCorrespondingLinkedElement();if(e!=="noCorrespondingLinkedElement")return e.getPhetioMouseHitTarget(!0);if(this.tandem.parentTandem){const i=phet.phetio.phetioEngine.phetioElementMap[this.tandem.parentTandem.phetioID];if(i){const n=i.getCorrespondingLinkedElement();if(n!=="noCorrespondingLinkedElement")return n.getPhetioMouseHitTarget(!0)}}}return phet.tandem.phetioElementSelectionProperty.value==="string"?"phetioNotSelectable":this.getPhetioMouseHitTargetSelf()}getPhetioMouseHitTargetSelf(){return this.isPhetioMouseHitSelectable()?this:"phetioNotSelectable"}isPhetioMouseHitSelectable(){const t=phet.tandem.phetioElementsDisplayProperty.value!=="featured"||this.isDisplayedInFeaturedTree();return this.isPhetioInstrumented()&&t}isDisplayedInFeaturedTree(){if(this.isPhetioInstrumented()&&this.phetioFeatured)return!0;let t=!1;return this.tandem.iterateDescendants(e=>{const i=phet.phetio.phetioEngine.phetioElementMap[e.phetioID];i&&i.isPhetioInstrumented()&&i.phetioFeatured&&(t=!0)}),t}getCorrespondingLinkedElement(){const t=Object.keys(this.tandem.children),e=[];t.forEach(a=>{const h=phetio.PhetioIDUtils.append(this.tandem.phetioID,a),c=phet.phetio.phetioEngine.phetioElementMap[h];c instanceof Ou&&e.push(c)});const i=e.map(a=>phetio.PhetioIDUtils.getComponentName(a.phetioID));let n=null;if(e.length===1)n=e[0];else if(i.includes("property"))n=e[i.indexOf("property")];else if(i.includes("valueProperty"))n=e[i.indexOf("valueProperty")];else return"noCorrespondingLinkedElement";return assert&&assert(n,"phetioElement is needed"),n.element}dispose(){if(assert&&Mt.PHET_IO_ENABLED&&this.tandem.supplied){const t=[];this.tandem.iterateDescendants(e=>{phet.phetio.phetioEngine.hasPhetioObject(e.phetioID)&&t.push(phet.phetio.phetioEngine.getPhetioElement(e.phetioID))}),Jl.runOnNextTick(()=>{assert&&assert(!this.hasOwnProperty("phetioMessageStack")||this.phetioMessageStack.length===0,"phetioMessageStack should be clear"),t.forEach(e=>{assert&&assert(e.isDisposed,`All descendants must be disposed by the next frame: ${e.tandem.phetioID}`)})})}Nl&&this.tandem&&this.tandem.supplied&&Zr.remove(this),this.tandem.removePhetioObject(this),this.linkedElements&&(this.linkedElements.forEach(t=>t.dispose()),this.linkedElements.length=0),super.dispose()}getMetadata(t){t=t||this;const e={phetioTypeName:t.phetioType.typeName,phetioDocumentation:t.phetioDocumentation,phetioState:t.phetioState,phetioReadOnly:t.phetioReadOnly,phetioEventType:gi.phetioType.toStateObject(t.phetioEventType),phetioHighFrequency:t.phetioHighFrequency,phetioPlayback:t.phetioPlayback,phetioDynamicElement:t.phetioDynamicElement,phetioIsArchetype:t.phetioIsArchetype,phetioFeatured:t.phetioFeatured,phetioDesigned:t.phetioDesigned};return t.phetioArchetypePhetioID&&(e.phetioArchetypePhetioID=t.phetioArchetypePhetioID),e}static create(t){return new hr(t)}};hr.DEFAULT_OPTIONS=Un,hr.METADATA_DOCUMENTATION=`Get metadata about the PhET-iO Element. This includes the following keys:<ul><li><strong>phetioTypeName:</strong> The name of the PhET-iO Type
</li><li><strong>phetioDocumentation:</strong> default - null. Useful notes about a PhET-iO Element, shown in the PhET-iO Studio Wrapper</li><li><strong>phetioState:</strong> default - true. When true, includes the PhET-iO Element in the PhET-iO state
</li><li><strong>phetioReadOnly:</strong> default - false. When true, you can only get values from the PhET-iO Element; no setting allowed.
</li><li><strong>phetioEventType:</strong> default - MODEL. The category of event that this element emits to the PhET-iO Data Stream.
</li><li><strong>phetioDynamicElement:</strong> default - false. If this element is a "dynamic element" that can be created and destroyed throughout the lifetime of the sim (as opposed to existing forever).
</li><li><strong>phetioIsArchetype:</strong> default - false. If this element is an archetype for a dynamic element.
</li><li><strong>phetioFeatured:</strong> default - false. If this is a featured PhET-iO Element.
</li><li><strong>phetioArchetypePhetioID:</strong> default - ''. If an applicable dynamic element, this is the phetioID of its archetype.
</li></ul>`;let jr=hr;class Ou extends jr{constructor(t,e){assert&&assert(!!t,"coreElement should be defined");const i=Ie()({phetioType:sc,phetioState:!0,phetioFeatured:t.phetioFeatured},e);assert&&assert(!i.hasOwnProperty("phetioReadOnly"),"phetioReadOnly set by LinkedElement"),i.phetioReadOnly=!0,super(i),this.element=t}}Jt.register("PhetioObject",jr);const pu=new pi,Gn=o=>(assert&&assert(!!o,"parameterType should be defined"),pu.has(o)||pu.set(o,new Bt(`ArrayIO<${o.typeName}>`,{valueType:Array,isValidValue:t=>_.every(t,e=>Be.isValueValid(e,o.validator)),parameterTypes:[o],toStateObject:t=>t.map(o.toStateObject),fromStateObject:t=>t.map(o.fromStateObject),documentation:"PhET-iO Type for the built-in JS array type, with the element type specified.",stateSchema:xs.asValue(`Array<${o.typeName}>`,{isValidValue:t=>_.every(t,e=>o.isStateObjectValid(e))})})),pu.get(o));Jt.register("ArrayIO",Gn);const gu=new pi,Hn=(o,t)=>{for(let i=0;i<t.length;i++)assert&&assert(t[i],"parameter type was not truthy");assert&&assert(o,"return type was not truthy");const e=`${o.typeName}.${t.map(i=>i.typeName).join(",")}`;if(!gu.has(e)){let i=t.map(a=>a.typeName).join(", ");i===""&&(i="none");const n=t.map(a=>a.typeName).join(",");gu.set(e,new Bt(`FunctionIO(${n})=>${o.typeName}`,{valueType:"function",isFunctionType:!0,parameterTypes:t.concat([o]),documentation:`Wrapper for the built-in JS function type.<br><strong>Arguments:</strong> ${i}<br><strong>Return Type:</strong> ${o.typeName}`}))}return gu.get(e)};Jt.register("FunctionIO",Hn);const Au=new pi,Vs=o=>(assert&&assert(o,"NullableIO needs parameterType"),Au.has(o)||Au.set(o,new Bt(`NullableIO<${o.typeName}>`,{documentation:"A PhET-iO Type adding support for null in addition to the behavior of its parameter.",isValidValue:t=>t===null||Be.isValueValid(t,o.validator),parameterTypes:[o],toStateObject:t=>t===null?null:o.toStateObject(t),fromStateObject:t=>t===null?null:o.fromStateObject(t),stateSchema:xs.asValue(`null|<${o.typeName}>`,{isValidValue:t=>t===null||o.isStateObjectValid(t)})})),Au.get(o));Jt.register("NullableIO",Vs);const li=new Bt("VoidIO",{isValidValue:()=>!0,documentation:"Type for which there is no instance, usually to mark functions without a return value",toStateObject:()=>{}});Jt.register("VoidIO",li);const mi=class mi extends Ls{};mi.UNDEFER=new mi,mi.NOTIFY=new mi,mi.enumeration=new Xi(mi);let Kt=mi;as.register("PropertyStatePhase",Kt);class lr{constructor(){this.initialized=!1,this.phaseCallbackSets=new B1,this.undeferBeforeUndeferMapPair=new zn(Kt.UNDEFER,Kt.UNDEFER),this.undeferBeforeNotifyMapPair=new zn(Kt.UNDEFER,Kt.NOTIFY),this.notifyBeforeUndeferMapPair=new zn(Kt.NOTIFY,Kt.UNDEFER),this.notifyBeforeNotifyMapPair=new zn(Kt.NOTIFY,Kt.NOTIFY),this.mapPairs=[this.undeferBeforeUndeferMapPair,this.undeferBeforeNotifyMapPair,this.notifyBeforeUndeferMapPair,this.notifyBeforeNotifyMapPair]}initialize(t){assert&&assert(!this.initialized,"cannot initialize twice"),t.onBeforeApplyStateEmitter.addListener(e=>{if(e instanceof fr&&!e.isDeferred){e.setDeferred(!0);const i=e.tandem.phetioID,n=()=>{const a=e.setDeferred(!1);this.phaseCallbackSets.addNotifyPhaseCallback(new Fl(i,Kt.NOTIFY,a||_.noop))};this.phaseCallbackSets.addUndeferPhaseCallback(new Fl(i,Kt.UNDEFER,n))}}),assert&&assert(!t.undeferEmitter.hasListeners(),"At this time, we rely on Properties undeferring first."),t.undeferEmitter.addListener(e=>{this.undeferAndNotifyProperties(new Set(Object.keys(e)))}),t.isSettingStateProperty.lazyLink(e=>{assert&&!e&&assert(this.phaseCallbackSets.size===0,"PhaseCallbacks should have all been applied")}),this.initialized=!0}static validateInstrumentedProperty(t){assert&&Mt.VALIDATION&&assert(t instanceof fr&&t.isPhetioInstrumented(),`must be an instrumented Property: ${t}`)}validatePropertyPhasePair(t,e){lr.validateInstrumentedProperty(t)}getMapPairFromPhases(t,e){const i=this.mapPairs.filter(n=>t===n.beforePhase&&e===n.afterPhase);return assert&&assert(i.length===1,"one and only one map should match the provided phases"),i[0]}registerPhetioOrderDependency(t,e,i,n){Mt.PHET_IO_ENABLED&&(assert&&assert(!(e===Kt.NOTIFY&&n===Kt.UNDEFER),"It is PhET-iO policy at this time to have all notifications occur after all state values have been applied."),this.validatePropertyPhasePair(t,e),this.validatePropertyPhasePair(i,n),assert&&t===i&&assert(e!==n,"cannot set same Property to same phase"),this.getMapPairFromPhases(e,n).addOrderDependency(t.tandem.phetioID,i.tandem.phetioID))}propertyInAnOrderDependency(t){return lr.validateInstrumentedProperty(t),_.some(this.mapPairs,e=>e.usesPhetioID(t.tandem.phetioID))}unregisterOrderDependenciesForProperty(t){Mt.PHET_IO_ENABLED&&(lr.validateInstrumentedProperty(t),this.propertyInAnOrderDependency(t)&&(assert&&assert(this.propertyInAnOrderDependency(t),"Property must be registered in an order dependency to be unregistered"),this.mapPairs.forEach(e=>e.unregisterOrderDependenciesForProperty(t))))}undeferAndNotifyProperties(t){assert&&assert(this.initialized,"must be initialized before getting called");const e={};let i=0;for(;this.phaseCallbackSets.size>0;)i++,i>5e3&&this.errorInUndeferAndNotifyStep(e),this.attemptToApplyPhases(Kt.UNDEFER,e,t),this.attemptToApplyPhases(Kt.NOTIFY,e,t)}errorInUndeferAndNotifyStep(t){const e=[];this.phaseCallbackSets.forEach(h=>e.push(h.getTerm()));const i=[];this.mapPairs.forEach(h=>{const c=h.beforeMap;for(const[f,g]of c)g.forEach(y=>{const w=f+c.beforePhase,I=y+c.afterPhase;(e.includes(w)||e.includes(I))&&i.push({beforeTerm:w,afterTerm:I})})});let n="";console.log("still to be undeferred",this.phaseCallbackSets.undeferSet),console.log("still to be notified",this.phaseCallbackSets.notifySet),console.log("order dependencies that apply to the still todos",i),i.forEach(h=>{n+=`${h.beforeTerm}	${h.afterTerm}
`}),console.log(`

in graphable form:

`,n);const a="Impossible set state: from undeferAndNotifyProperties; ordering constraints cannot be satisfied";if(assert&&assert(!1,a),!assert)throw new Error(a)}getNumberOfOrderDependencies(){let t=0;return this.mapPairs.forEach(e=>{e.afterMap.forEach(i=>{t+=i.size})}),t}attemptToApplyPhases(t,e,i){const n=this.phaseCallbackSets.getSetFromPhase(t);for(const a of n)assert&&assert(a.phase===t,"phaseCallbackSet should only include callbacks for provided phase"),this.phetioIDCanApplyPhase(a.phetioID,t,e,i)&&(a.listener(),n.delete(a),e[a.getTerm()]=!0)}phetioIDCanApplyPhase(t,e,i,n){if(e===Kt.NOTIFY&&!i[t+Kt.UNDEFER])return!1;const a=[];this.mapPairs.forEach(h=>{h.afterPhase===e&&a.push(h.afterMap)});for(let h=0;h<a.length;h++){const c=a[h];if(!c.has(t))return!0;const f=c.get(t);assert&&assert(f,"must have this set");for(const g of f)if(!i[g+c.beforePhase]&&n.has(g)&&n.has(t))return!1}return!0}}class Fl{constructor(t,e,i=_.noop){this.phetioID=t,this.phase=e,this.listener=i}getTerm(){return this.phetioID+this.phase}}class zn{constructor(t,e){this.beforeMap=new Map,this.beforeMap.beforePhase=t,this.beforeMap.afterPhase=e,this.afterMap=new Map,this.afterMap.beforePhase=t,this.afterMap.afterPhase=e,this.beforeMap.otherMap=this.afterMap,this.afterMap.otherMap=this.beforeMap,this.beforePhase=t,this.afterPhase=e}addOrderDependency(t,e){this.beforeMap.has(t)||this.beforeMap.set(t,new Set),this.beforeMap.get(t).add(e),this.afterMap.has(e)||this.afterMap.set(e,new Set),this.afterMap.get(e).add(t)}unregisterOrderDependenciesForProperty(t){const e=t.tandem.phetioID;[this.beforeMap,this.afterMap].forEach(i=>{i.has(e)&&i.get(e).forEach(n=>{const a=i.otherMap.get(n);a&&a.delete(e),a.size===0&&i.otherMap.delete(n)}),i.delete(e)}),assertSlow&&[this.beforeMap,this.afterMap].forEach(i=>{i.forEach((n,a)=>{assertSlow&&assertSlow(a!==e,"should not be a key"),assertSlow&&assertSlow(!n.has(e),"should not be in a value list")})})}usesPhetioID(t){return this.beforeMap.has(t)||this.afterMap.has(t)}}class B1{constructor(){this.undeferSet=new Set,this.notifySet=new Set}get size(){return this.undeferSet.size+this.notifySet.size}forEach(t){this.undeferSet.forEach(t),this.notifySet.forEach(t)}addUndeferPhaseCallback(t){this.undeferSet.add(t)}addNotifyPhaseCallback(t){this.notifySet.add(t)}getSetFromPhase(t){return t===Kt.NOTIFY?this.notifySet:this.undeferSet}}as.register("PropertyStateHandler",lr);const Nu=new lr;as.register("propertyStateHandlerSingleton",Nu);class Jn extends di{constructor(t,e,i,n){super(e,i,n||"queue"),this._value=t}get(){return this._value}get value(){return this.get()}set value(t){this.set(t)}set(t){if(!this.equalsValue(t)){const e=this._value;this.setPropertyValue(t),this.notifyListeners(e)}}setPropertyValue(t){this._value=t}equalsValue(t){return this.areValuesEqual(t,this._value)}areValuesEqual(t,e){return Be.equalsForValidationStrategy(t,e,this.valueComparisonStrategy)}notifyListeners(t){this.emit(this._value,t,this)}link(t){this.addListener(t),t(this._value,null,this)}lazyLink(t){this.addListener(t)}unlink(t){this.removeListener(t)}unlinkAll(){this.removeAllListeners()}linkAttribute(t,e){const i=n=>{t[e]=n};return this.link(i),i}isSettable(){return!0}get valueComparisonStrategy(){return this._valueComparisonStrategy||"reference"}set valueComparisonStrategy(t){this._valueComparisonStrategy=t}dispose(){this.unlinkAll(),super.dispose()}}as.register("TinyProperty",Jn);const V1=["1/(cm*M)","%","A","AMU","atm","AU","AU^2","cm","cm^2","C","°","°C","F","°F","g","G","Hz","J","K","kg","kg/m^3","kg/L","kg·m/s","km/s","kPa","L","L/s","m","m^3","m/s","m/s/s","m/s^2","mA","mm","mol","mol/L","mol/s","M","N","N/m","nm","nm/ps","N·s/m","Ω","Ω·cm","Pa·s","particles/ps","pm","pm/ps","pm/s","pm/s^2","pm^3","ps","radians","radians/s","radians/s^2","rpm","s","V","view-coordinates/s","W","Wb","years"],Yu={values:V1,isValidUnits:function(o){return _.includes(Yu.values,o)}};as.register("units",Yu);const rc=new Jn(!1);Jt.register("isClearingPhetioDynamicElementsProperty",rc);const nc=new Jn(!1);Jt.register("isPhetioStateEngineManagingPropertyValuesProperty",nc);const Du={validateValidator:!1};let _1=0;const yu=new pi,R1=_.hasIn(self,"phet.chipper.queryParameters")&&phet.chipper.queryParameters.strictAxonDependencies&&phet.chipper.queryParameters.listenerOrder==="default",Eu=[],rs=class rs extends jr{constructor(t,e){const i=Ie()({units:null,reentrant:!1,hasListenerOrderDependencies:!1,reentrantNotificationStrategy:"queue",valueComparisonStrategy:"reference",tandemNameSuffix:["Property",tc],phetioOuterType:rs.PropertyIO,phetioValueType:Bt.ObjectIO},e);assert&&i.units&&assert(Yu.isValidUnits(i.units),`invalid units: ${i.units}`),i.units&&(i.phetioEventMetadata=i.phetioEventMetadata||{},assert&&assert(!i.phetioEventMetadata.hasOwnProperty("units"),"units should be supplied by Property, not elsewhere"),i.phetioEventMetadata.units=i.units),assert&&e&&assert&&assert(!e.phetioType,"Set phetioType via phetioValueType"),i.phetioOuterType&&i.phetioValueType&&(i.phetioType=i.phetioOuterType(i.phetioValueType)),Be.containsValidatorKey(i)||(i.isValidValue=()=>!0),super(i),this.id=_1++,this.units=i.units,this.isPhetioInstrumented()&&(assert&&Mt.VALIDATION&&assert(this.phetioType,`phetioType passed to Property must be specified. Tandem.phetioID: ${this.tandem.phetioID}`),assert&&Mt.VALIDATION&&assert(i.phetioType.parameterTypes[0],`phetioType parameter type must be specified (only one). Tandem.phetioID: ${this.tandem.phetioID}`),assert&&assert(i.phetioValueType!==Bt.ObjectIO,"PhET-iO Properties must specify a phetioValueType: "+this.phetioID)),this.validValues=i.validValues,this.tinyProperty=new Jn(t,null,i.hasListenerOrderDependencies,i.reentrantNotificationStrategy),this.tinyProperty.valueComparisonStrategy=i.valueComparisonStrategy,this.notifying=!1,this.reentrant=i.reentrant,this.isDeferred=!1,this.deferredValue=null,this.hasDeferredValue=!1,this.valueValidator=_.pick(i,Be.VALIDATOR_KEYS),this.valueValidator.validationMessage=this.valueValidator.validationMessage||"Property value not valid",this.valueValidator.phetioType&&(assert&&assert(!!this.valueValidator.phetioType.parameterTypes[0],"unexpected number of parameters for Property"),this.valueValidator.phetioType=this.valueValidator.phetioType.parameterTypes[0]),assert&&(Be.validateValidator(this.valueValidator),Ae(t,this.valueValidator,Du))}isSettable(){return!1}get(){return assert&&R1&&Eu.length>0&&(Eu[Eu.length-1].includes(this)||assert&&assert(!1,"accessed value outside of dependency tracking")),this.tinyProperty.get()}set(t){nc.value&&!rc.value&&this.isPhetioInstrumented()&&this.phetioState&&this.isSettable()||this.unguardedSet(t)}unguardedSet(t){if(!this.isDisposed){if(this.isDeferred)this.deferredValue=t,this.hasDeferredValue=!0;else if(!this.equalsValue(t)){const e=this.get();this.setPropertyValue(t),this._notifyListeners(e)}}}setPropertyValue(t){this.tinyProperty.setPropertyValue(t)}equalsValue(t){return this.areValuesEqual(t,this.get())}areValuesEqual(t,e){return this.tinyProperty.areValuesEqual(t,e)}_notifyListeners(t){const e=this.get();assert&&Ae(e,this.valueValidator,Du),Mt.PHET_IO_ENABLED&&this.isPhetioInstrumented()&&this.phetioStartEvent(rs.CHANGED_EVENT_NAME,{getData:()=>{const i=this.phetioType.parameterTypes[0];return{oldValue:Vs(i).toStateObject(t),newValue:i.toStateObject(e)}}}),assert&&assert(!this.notifying||this.reentrant,`reentry detected, value=${e}, oldValue=${t}`),this.notifying=!0,this.tinyProperty.emit(e,t,this),this.notifying=!1,Mt.PHET_IO_ENABLED&&this.isPhetioInstrumented()&&this.phetioEndEvent()}notifyListenersStatic(){this._notifyListeners(null)}setDeferred(t){if(assert&&assert(!this.isDisposed,"cannot defer Property if already disposed."),t)assert&&assert(!this.isDeferred,"Property already deferred"),this.isDeferred=!0;else{assert&&assert(this.isDeferred,"Property wasn't deferred"),this.isDeferred=!1;const e=this.get();if(this.hasDeferredValue&&(this.setPropertyValue(this.deferredValue),this.hasDeferredValue=!1,this.deferredValue=null),!this.equalsValue(e))return()=>!this.isDisposed&&this._notifyListeners(e)}return null}get value(){return this.get()}set value(t){this.set(t)}addPhetioStateDependencies(t){assert&&assert(Array.isArray(t),"Array expected");for(let e=0;e<t.length;e++){const i=t[e];i instanceof rs&&i.isPhetioInstrumented()&&this.isPhetioInstrumented()&&Nu.registerPhetioOrderDependency(i,Kt.UNDEFER,this,Kt.NOTIFY)}}link(t,e){e&&e.phetioDependencies&&this.addPhetioStateDependencies(e.phetioDependencies),this.tinyProperty.addListener(t),t(this.get(),null,this)}lazyLink(t,e){e&&e.phetioDependencies&&this.addPhetioStateDependencies(e.phetioDependencies),this.tinyProperty.lazyLink(t)}unlink(t){this.tinyProperty.unlink(t)}unlinkAll(){this.tinyProperty.unlinkAll()}linkAttribute(t,e){const i=n=>{t[e]=n};return this.link(i),i}toString(){return`Property#${this.id}{${this.get()}}`}debug(t){const e=i=>console.log(t,i);return this.link(e),e}isValueValid(t){return this.getValidationError(t)===null}getValidationError(t){return Be.getValidationError(t,this.valueValidator,Du)}dispose(){this.isPhetioInstrumented()&&Nu.unregisterOrderDependenciesForProperty(this),super.dispose(),this.tinyProperty.dispose()}hasListener(t){return this.tinyProperty.hasListener(t)}getListenerCount(){return this.tinyProperty.getListenerCount()}forEachListener(t){this.tinyProperty.forEachListener(t)}hasListeners(){return assert&&assert(arguments.length===0,"Property.hasListeners should be called without arguments"),this.tinyProperty.hasListeners()}get valueComparisonStrategy(){return this.tinyProperty.valueComparisonStrategy}set valueComparisonStrategy(t){this.tinyProperty.valueComparisonStrategy=t}static PropertyIO(t){return assert&&assert(t,"PropertyIO needs parameterType"),yu.has(t)||yu.set(t,new Bt(`PropertyIO<${t.typeName}>`,{valueType:rs,documentation:"Observable values that send out notifications when the value changes. This differs from the traditional listener pattern in that added listeners also receive a callback with the current value when the listeners are registered. This is a widely-used pattern in PhET-iO simulations.",methodOrder:["link","lazyLink"],events:[rs.CHANGED_EVENT_NAME],parameterTypes:[t],toStateObject:e=>(assert&&assert(t.toStateObject,`toStateObject doesn't exist for ${t.typeName}`),{value:t.toStateObject(e.value),validValues:Vs(Gn(t)).toStateObject(e.validValues===void 0?null:e.validValues),units:Vs(nr).toStateObject(e.units)}),applyState:(e,i)=>{const n=Vs(nr).fromStateObject(i.units);assert&&assert(e.units===n,"Property units do not match"),assert&&assert(e.isSettable(),"Property should be settable"),e.unguardedSet(t.fromStateObject(i.value)),i.validValues&&(e.validValues=i.validValues.map(a=>t.fromStateObject(a)))},stateSchema:{value:t,validValues:Vs(Gn(t)),units:Vs(nr)},methods:{getValue:{returnType:t,parameterTypes:[],implementation:rs.prototype.get,documentation:"Gets the current value."},getValidationError:{returnType:Vs(nr),parameterTypes:[t],implementation:rs.prototype.getValidationError,documentation:"Checks to see if a proposed value is valid. Returns the first validation error, or null if the value is valid."},setValue:{returnType:li,parameterTypes:[t],implementation:function(e){this.set(e)},documentation:"Sets the value of the Property. If the value differs from the previous value, listeners are notified with the new value.",invocableForReadOnlyElements:!1},link:{returnType:li,parameterTypes:[Hn(li,[t,Vs(t)])],implementation:rs.prototype.link,documentation:"Adds a listener which will be called when the value changes. On registration, the listener is also called with the current value. The listener takes two arguments, the new value and the previous value."},lazyLink:{returnType:li,parameterTypes:[Hn(li,[t,Vs(t)])],implementation:rs.prototype.lazyLink,documentation:'Adds a listener which will be called when the value changes. This method is like "link", but without the current-value callback on registration. The listener takes two arguments, the new value and the previous value.'},unlink:{returnType:li,parameterTypes:[Hn(li,[t])],implementation:rs.prototype.unlink,documentation:"Removes a listener."}}})),yu.get(t)}getPhetioMouseHitTarget(t=!1){return phet.tandem.phetioElementSelectionProperty.value==="string"?this.getPhetioMouseHitTargetSelf():super.getPhetioMouseHitTarget(t)}};rs.CHANGED_EVENT_NAME="changed";let fr=rs;as.register("ReadOnlyProperty",fr);const ee=new Bt("InfiniteNumberIO",{valueType:"number",documentation:"PhET-iO Type for Javascript's number primitive type",toStateObject:o=>o===Number.POSITIVE_INFINITY?"POSITIVE_INFINITY":o===Number.NEGATIVE_INFINITY?"NEGATIVE_INFINITY":o,fromStateObject:o=>o==="POSITIVE_INFINITY"?Number.POSITIVE_INFINITY:o==="NEGATIVE_INFINITY"?Number.NEGATIVE_INFINITY:o,stateSchema:xs.asValue("'POSITIVE_INFINITY'|'NEGATIVE_INFINITY'|number",{isValidValue:o=>o==="POSITIVE_INFINITY"||o==="NEGATIVE_INFINITY"||typeof o=="number"&&!isNaN(o)})});Jt.register("InfiniteNumberIO",ee);const L1={min:ee,max:ee},Fe=class Fe{constructor(t,e){this._min=t,this._max=e}getMin(){return this._min}get min(){return this.getMin()}set min(t){this.setMin(t)}setMin(t){assert&&assert(t<=this._max,`min must be <= max: ${t}`),this._min=t}getMax(){return this._max}get max(){return this.getMax()}set max(t){this.setMax(t)}setMax(t){assert&&assert(this._min<=t,`max must be >= to min: ${t}`),this._max=t}setMinMax(t,e){return assert&&assert(t<=e,`max must be >= to min. min: ${t}, max: ${e}`),this._min=t,this._max=e,this}set(t){return this.setMinMax(t.min,t.max),this}addValue(t){this._min=Math.min(this._min,t),this._max=Math.max(this._max,t)}withValue(t){return new Fe(Math.min(this._min,t),Math.max(this._max,t))}copy(){return new Fe(this._min,this._max)}getLength(){return this._max-this._min}getCenter(){return(this._max+this._min)/2}contains(t){return t>=this._min&&t<=this._max}containsRange(t){return this._min<=t.min&&this._max>=t.max}intersects(t){return this._max>=t.min&&t.max>=this._min}intersectsExclusive(t){return this._max>t.min&&t.max>this._min}union(t){return new Fe(Math.min(this.min,t.min),Math.max(this.max,t.max))}intersection(t){return new Fe(Math.max(this.min,t.min),Math.min(this.max,t.max))}includeRange(t){return this.setMinMax(Math.min(this.min,t.min),Math.max(this.max,t.max))}constrainRange(t){return this.setMinMax(Math.max(this.min,t.min),Math.min(this.max,t.max))}shifted(t){return new Fe(this.min+t,this.max+t)}toString(){return`[Range (min:${this._min} max:${this._max})]`}constrainValue(t){return Math.min(Math.max(t,this._min),this._max)}times(t){return this.setMinMax(this._min*t,this._max*t),this}equals(t){return this.constructor===t.constructor&&this._min===t.min&&this._max===t.max}equalsEpsilon(t,e){return this.constructor===t.constructor&&Math.abs(this._min-t.min)<=e&&Math.abs(this._max-t.max)<=e}getNormalizedValue(t){return assert&&assert(this.getLength()!==0,"cannot get normalized value without a range length"),(t-this.min)/this.getLength()}expandNormalizedValue(t){return assert&&assert(this.getLength()!==0,"cannot get expand normalized value without a range length"),t*this.getLength()+this.min}get defaultValue(){throw new Error("defaultValue is undefined, did you mean to use RangeWithValue?")}toStateObject(){return{min:ee.toStateObject(this.min),max:ee.toStateObject(this.max)}}clampDelta(t,e){return assert&&assert(this.contains(t)),t+e<this.min?this.min-t:t+e>this.max?this.max-t:e}static fromStateObject(t){return new Fe(ee.fromStateObject(t.min),ee.fromStateObject(t.max))}};Fe.RangeIO=new Bt("RangeIO",{valueType:Fe,documentation:'A range with "min" and "max" members.',stateSchema:L1,toStateObject:t=>t.toStateObject(),fromStateObject:t=>Fe.fromStateObject(t)}),Fe.EVERYTHING=new Fe(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY),Fe.NOTHING=new Fe(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY);let Ys=Fe;j.register("Range",Ys);const _s=class _s extends Ls{static fromLayoutOrientation(t){return t==="horizontal"?_s.HORIZONTAL:_s.VERTICAL}constructor(t,e,i,n,a,h,c,f,g,y,w,I,O,N,F,b,v,E,B){super(),this.coordinate=t,this.centerCoordinate=e,this.minCoordinate=i,this.maxCoordinate=n,this.minSide=a,this.maxSide=h,this.minSize=c,this.maxSize=f,this.rectCoordinate=g,this.rectSize=y,this.flowBoxOrientation=w,this.size=I,this.line=O,this.preferredSize=N,this.localPreferredSize=F,this.sizable=b,this.ariaOrientation=w,this.modelToView=v,this.viewToModel=E,this.toVector=B}};_s.HORIZONTAL=new _s("x","centerX","minX","maxX","left","right","minWidth","maxWidth","rectX","rectWidth","horizontal","width","column","preferredWidth","localPreferredWidth","widthSizable",(t,e)=>t.modelToViewX(e),(t,e)=>t.viewToModelX(e),(t,e,i)=>new i(t,e,0,0)),_s.VERTICAL=new _s("y","centerY","minY","maxY","top","bottom","minHeight","maxHeight","rectY","rectHeight","vertical","height","row","preferredHeight","localPreferredHeight","heightSizable",(t,e)=>t.modelToViewY(e),(t,e)=>t.viewToModelY(e),(t,e,i)=>new i(e,t,0,0)),_s.enumeration=new Xi(_s,{phetioDocumentation:"Horizontal or vertical orientation"});let Ai=_s;Ai.HORIZONTAL.opposite=Ai.VERTICAL;Ai.VERTICAL.opposite=Ai.HORIZONTAL;_e.register("Orientation",Ai);const kn=new $(0,0),we=class we{constructor(t,e,i,n){assert&&assert(n!==void 0,"Bounds2 requires 4 parameters"),this.minX=t,this.minY=e,this.maxX=i,this.maxY=n}getWidth(){return this.maxX-this.minX}get width(){return this.getWidth()}getHeight(){return this.maxY-this.minY}get height(){return this.getHeight()}getX(){return this.minX}get x(){return this.getX()}getY(){return this.minY}get y(){return this.getY()}getMinX(){return this.minX}getMinY(){return this.minY}getMaxX(){return this.maxX}getMaxY(){return this.maxY}getLeft(){return this.minX}get left(){return this.minX}getTop(){return this.minY}get top(){return this.minY}getRight(){return this.maxX}get right(){return this.maxX}getBottom(){return this.maxY}get bottom(){return this.maxY}getCenterX(){return(this.maxX+this.minX)/2}get centerX(){return this.getCenterX()}getCenterY(){return(this.maxY+this.minY)/2}get centerY(){return this.getCenterY()}getLeftTop(){return new $(this.minX,this.minY)}get leftTop(){return this.getLeftTop()}getCenterTop(){return new $(this.getCenterX(),this.minY)}get centerTop(){return this.getCenterTop()}getRightTop(){return new $(this.maxX,this.minY)}get rightTop(){return this.getRightTop()}getLeftCenter(){return new $(this.minX,this.getCenterY())}get leftCenter(){return this.getLeftCenter()}getCenter(){return new $(this.getCenterX(),this.getCenterY())}get center(){return this.getCenter()}getRightCenter(){return new $(this.maxX,this.getCenterY())}get rightCenter(){return this.getRightCenter()}getLeftBottom(){return new $(this.minX,this.maxY)}get leftBottom(){return this.getLeftBottom()}getCenterBottom(){return new $(this.getCenterX(),this.maxY)}get centerBottom(){return this.getCenterBottom()}getRightBottom(){return new $(this.maxX,this.maxY)}get rightBottom(){return this.getRightBottom()}isEmpty(){return this.getWidth()<0||this.getHeight()<0}isFinite(){return isFinite(this.minX)&&isFinite(this.minY)&&isFinite(this.maxX)&&isFinite(this.maxY)}hasNonzeroArea(){return this.getWidth()>0&&this.getHeight()>0}isValid(){return!this.isEmpty()&&this.isFinite()}closestPointTo(t){return this.containsCoordinates(t.x,t.y)?t:this.getConstrainedPoint(t)}closestBoundaryPointTo(t){if(this.containsCoordinates(t.x,t.y)){const e=t.x<this.centerX?this.minX:this.maxX,i=t.y<this.centerY?this.minY:this.maxY;return Math.abs(e-t.x)<Math.abs(i-t.y)?new $(e,t.y):new $(t.x,i)}else return this.getConstrainedPoint(t)}getConstrainedPoint(t){const e=Math.max(Math.min(t.x,this.maxX),this.x),i=Math.max(Math.min(t.y,this.maxY),this.y);return new $(e,i)}containsCoordinates(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY}containsPoint(t){return this.containsCoordinates(t.x,t.y)}containsBounds(t){return this.minX<=t.minX&&this.maxX>=t.maxX&&this.minY<=t.minY&&this.maxY>=t.maxY}intersectsBounds(t){const e=Math.max(this.minX,t.minX),i=Math.max(this.minY,t.minY),n=Math.min(this.maxX,t.maxX),a=Math.min(this.maxY,t.maxY);return n-e>=0&&a-i>=0}minimumDistanceToPointSquared(t){const e=t.x<this.minX?this.minX:t.x>this.maxX?this.maxX:null,i=t.y<this.minY?this.minY:t.y>this.maxY?this.maxY:null;let n;if(e===null&&i===null)return 0;if(e===null)return n=i-t.y,n*n;if(i===null)return n=e-t.x,n*n;{const a=e-t.x,h=i-t.y;return a*a+h*h}}maximumDistanceToPointSquared(t){let e=t.x>this.getCenterX()?this.minX:this.maxX,i=t.y>this.getCenterY()?this.minY:this.maxY;return e-=t.x,i-=t.y,e*e+i*i}toString(){return`[x:(${this.minX},${this.maxX}),y:(${this.minY},${this.maxY})]`}equals(t){return this.minX===t.minX&&this.minY===t.minY&&this.maxX===t.maxX&&this.maxY===t.maxY}equalsEpsilon(t,e){e=e!==void 0?e:0;const i=this.isFinite(),n=t.isFinite();return i&&n?Math.abs(this.minX-t.minX)<e&&Math.abs(this.minY-t.minY)<e&&Math.abs(this.maxX-t.maxX)<e&&Math.abs(this.maxY-t.maxY)<e:i!==n?!1:this===t?!0:(isFinite(this.minX+t.minX)?Math.abs(this.minX-t.minX)<e:this.minX===t.minX)&&(isFinite(this.minY+t.minY)?Math.abs(this.minY-t.minY)<e:this.minY===t.minY)&&(isFinite(this.maxX+t.maxX)?Math.abs(this.maxX-t.maxX)<e:this.maxX===t.maxX)&&(isFinite(this.maxY+t.maxY)?Math.abs(this.maxY-t.maxY)<e:this.maxY===t.maxY)}copy(t){return t?t.set(this):Ut(this.minX,this.minY,this.maxX,this.maxY)}static create(t){return Ut(t.minX,t.minY,t.maxX,t.maxY)}union(t){return Ut(Math.min(this.minX,t.minX),Math.min(this.minY,t.minY),Math.max(this.maxX,t.maxX),Math.max(this.maxY,t.maxY))}intersection(t){return Ut(Math.max(this.minX,t.minX),Math.max(this.minY,t.minY),Math.min(this.maxX,t.maxX),Math.min(this.maxY,t.maxY))}withCoordinates(t,e){return Ut(Math.min(this.minX,t),Math.min(this.minY,e),Math.max(this.maxX,t),Math.max(this.maxY,e))}withPoint(t){return this.withCoordinates(t.x,t.y)}withX(t){return this.copy().addX(t)}withY(t){return this.copy().addY(t)}withMinX(t){return Ut(t,this.minY,this.maxX,this.maxY)}withMinY(t){return Ut(this.minX,t,this.maxX,this.maxY)}withMaxX(t){return Ut(this.minX,this.minY,t,this.maxY)}withMaxY(t){return Ut(this.minX,this.minY,this.maxX,t)}roundedOut(){return Ut(Math.floor(this.minX),Math.floor(this.minY),Math.ceil(this.maxX),Math.ceil(this.maxY))}roundedIn(){return Ut(Math.ceil(this.minX),Math.ceil(this.minY),Math.floor(this.maxX),Math.floor(this.maxY))}transformed(t){return this.copy().transform(t)}dilated(t){return this.dilatedXY(t,t)}dilatedX(t){return Ut(this.minX-t,this.minY,this.maxX+t,this.maxY)}dilatedY(t){return Ut(this.minX,this.minY-t,this.maxX,this.maxY+t)}dilatedXY(t,e){return Ut(this.minX-t,this.minY-e,this.maxX+t,this.maxY+e)}eroded(t){return this.dilated(-t)}erodedX(t){return this.dilatedX(-t)}erodedY(t){return this.dilatedY(-t)}erodedXY(t,e){return this.dilatedXY(-t,-e)}withOffsets(t,e,i,n){return Ut(this.minX-t,this.minY-e,this.maxX+i,this.maxY+n)}shiftedX(t){return Ut(this.minX+t,this.minY,this.maxX+t,this.maxY)}shiftedY(t){return Ut(this.minX,this.minY+t,this.maxX,this.maxY+t)}shiftedXY(t,e){return Ut(this.minX+t,this.minY+e,this.maxX+t,this.maxY+e)}shifted(t){return this.shiftedXY(t.x,t.y)}blend(t,e){const i=1-e;return Ut(i*this.minX+e*t.minX,i*this.minY+e*t.minY,i*this.maxX+e*t.maxX,i*this.maxY+e*t.maxY)}setMinMax(t,e,i,n){return this.minX=t,this.minY=e,this.maxX=i,this.maxY=n,this}setMinX(t){return this.minX=t,this}setMinY(t){return this.minY=t,this}setMaxX(t){return this.maxX=t,this}setMaxY(t){return this.maxY=t,this}set(t){return this.setMinMax(t.minX,t.minY,t.maxX,t.maxY)}includeBounds(t){return this.setMinMax(Math.min(this.minX,t.minX),Math.min(this.minY,t.minY),Math.max(this.maxX,t.maxX),Math.max(this.maxY,t.maxY))}constrainBounds(t){return this.setMinMax(Math.max(this.minX,t.minX),Math.max(this.minY,t.minY),Math.min(this.maxX,t.maxX),Math.min(this.maxY,t.maxY))}addCoordinates(t,e){return this.setMinMax(Math.min(this.minX,t),Math.min(this.minY,e),Math.max(this.maxX,t),Math.max(this.maxY,e))}addPoint(t){return this.addCoordinates(t.x,t.y)}addX(t){return this.minX=Math.min(t,this.minX),this.maxX=Math.max(t,this.maxX),this}addY(t){return this.minY=Math.min(t,this.minY),this.maxY=Math.max(t,this.maxY),this}roundOut(){return this.setMinMax(Math.floor(this.minX),Math.floor(this.minY),Math.ceil(this.maxX),Math.ceil(this.maxY))}roundIn(){return this.setMinMax(Math.ceil(this.minX),Math.ceil(this.minY),Math.floor(this.maxX),Math.floor(this.maxY))}transform(t){if(this.isEmpty())return this;if(t.isIdentity())return this;const e=this.minX,i=this.minY,n=this.maxX,a=this.maxY;return this.set(we.NOTHING),this.addPoint(t.multiplyVector2(kn.setXY(e,i))),this.addPoint(t.multiplyVector2(kn.setXY(e,a))),this.addPoint(t.multiplyVector2(kn.setXY(n,i))),this.addPoint(t.multiplyVector2(kn.setXY(n,a))),this}dilate(t){return this.dilateXY(t,t)}dilateX(t){return this.setMinMax(this.minX-t,this.minY,this.maxX+t,this.maxY)}dilateY(t){return this.setMinMax(this.minX,this.minY-t,this.maxX,this.maxY+t)}dilateXY(t,e){return this.setMinMax(this.minX-t,this.minY-e,this.maxX+t,this.maxY+e)}erode(t){return this.dilate(-t)}erodeX(t){return this.dilateX(-t)}erodeY(t){return this.dilateY(-t)}erodeXY(t,e){return this.dilateXY(-t,-e)}offset(t,e,i,n){return Ut(this.minX-t,this.minY-e,this.maxX+i,this.maxY+n)}shiftX(t){return this.setMinMax(this.minX+t,this.minY,this.maxX+t,this.maxY)}shiftY(t){return this.setMinMax(this.minX,this.minY+t,this.maxX,this.maxY+t)}shiftXY(t,e){return this.setMinMax(this.minX+t,this.minY+e,this.maxX+t,this.maxY+e)}shift(t){return this.shiftXY(t.x,t.y)}getXRange(){return new Ys(this.minX,this.maxX)}setXRange(t){return this.setMinMax(t.min,this.minY,t.max,this.maxY)}get xRange(){return this.getXRange()}set xRange(t){this.setXRange(t)}getYRange(){return new Ys(this.minY,this.maxY)}setYRange(t){return this.setMinMax(this.minX,t.min,this.maxX,t.max)}get yRange(){return this.getYRange()}set yRange(t){this.setYRange(t)}getClosestPoint(t,e,i){return i?i.setXY(t,e):i=new $(t,e),i.x<this.minX&&(i.x=this.minX),i.x>this.maxX&&(i.x=this.maxX),i.y<this.minY&&(i.y=this.minY),i.y>this.maxY&&(i.y=this.maxY),i}freeToPool(){we.pool.freeToPool(this)}static rect(t,e,i,n){return Ut(t,e,t+i,e+n)}static oriented(t,e,i,n,a){return t===Ai.HORIZONTAL?new we(e,i,n,a):new we(i,e,a,n)}static point(t,e){if(t instanceof $){const i=t;return Ut(i.x,i.y,i.x,i.y)}else return Ut(t,e,t,e)}};we.pool=new Yi(we,{maxSize:1e3,initialize:we.prototype.setMinMax,defaultArguments:[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY]}),we.NOTHING=new we(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),we.EVERYTHING=new we(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),we.Bounds2IO=new Bt("Bounds2IO",{valueType:we,documentation:"a 2-dimensional bounds rectangle",toStateObject:t=>({minX:t.minX,minY:t.minY,maxX:t.maxX,maxY:t.maxY}),fromStateObject:t=>new we(ee.fromStateObject(t.minX),ee.fromStateObject(t.minY),ee.fromStateObject(t.maxX),ee.fromStateObject(t.maxY)),stateSchema:{minX:ee,maxX:ee,minY:ee,maxY:ee}});let Ve=we;j.register("Bounds2",Ve);const Ut=Ve.pool.create.bind(Ve.pool);j.register("b2",Ut);Ve.prototype.isBounds=!0;Ve.prototype.dimension=2;function Pl(o){o.setMinMax=()=>{throw new Error('Attempt to set "setMinMax" of an immutable Bounds2 object')},o.set=()=>{throw new Error('Attempt to set "set" of an immutable Bounds2 object')},o.includeBounds=()=>{throw new Error('Attempt to set "includeBounds" of an immutable Bounds2 object')},o.constrainBounds=()=>{throw new Error('Attempt to set "constrainBounds" of an immutable Bounds2 object')},o.addCoordinates=()=>{throw new Error('Attempt to set "addCoordinates" of an immutable Bounds2 object')},o.transform=()=>{throw new Error('Attempt to set "transform" of an immutable Bounds2 object')}}assert&&(Pl(Ve.EVERYTHING),Pl(Ve.NOTHING));const Y1=self.Float32Array||Array;class vt{constructor(t,e,i,n,a,h,c,f,g,y,w,I,O,N,F,b,v){this.entries=new Y1(16),this.type=Pt.OTHER,this.rowMajor(t!==void 0?t:1,e!==void 0?e:0,i!==void 0?i:0,n!==void 0?n:0,a!==void 0?a:0,h!==void 0?h:1,c!==void 0?c:0,f!==void 0?f:0,g!==void 0?g:0,y!==void 0?y:0,w!==void 0?w:1,I!==void 0?I:0,O!==void 0?O:0,N!==void 0?N:0,F!==void 0?F:0,b!==void 0?b:1,v)}rowMajor(t,e,i,n,a,h,c,f,g,y,w,I,O,N,F,b,v){return this.entries[0]=t,this.entries[1]=a,this.entries[2]=g,this.entries[3]=O,this.entries[4]=e,this.entries[5]=h,this.entries[6]=y,this.entries[7]=N,this.entries[8]=i,this.entries[9]=c,this.entries[10]=w,this.entries[11]=F,this.entries[12]=n,this.entries[13]=f,this.entries[14]=I,this.entries[15]=b,this.type=v===void 0?O===0&&N===0&&F===0&&b===1?Pt.AFFINE:Pt.OTHER:v,this}columnMajor(t,e,i,n,a,h,c,f,g,y,w,I,O,N,F,b,v){return this.rowMajor(t,a,g,O,e,h,y,N,i,c,w,F,n,f,I,b,v)}set(t){return this.rowMajor(t.m00(),t.m01(),t.m02(),t.m03(),t.m10(),t.m11(),t.m12(),t.m13(),t.m20(),t.m21(),t.m22(),t.m23(),t.m30(),t.m31(),t.m32(),t.m33(),t.type)}m00(){return this.entries[0]}m01(){return this.entries[4]}m02(){return this.entries[8]}m03(){return this.entries[12]}m10(){return this.entries[1]}m11(){return this.entries[5]}m12(){return this.entries[9]}m13(){return this.entries[13]}m20(){return this.entries[2]}m21(){return this.entries[6]}m22(){return this.entries[10]}m23(){return this.entries[14]}m30(){return this.entries[3]}m31(){return this.entries[7]}m32(){return this.entries[11]}m33(){return this.entries[15]}isFinite(){return isFinite(this.m00())&&isFinite(this.m01())&&isFinite(this.m02())&&isFinite(this.m03())&&isFinite(this.m10())&&isFinite(this.m11())&&isFinite(this.m12())&&isFinite(this.m13())&&isFinite(this.m20())&&isFinite(this.m21())&&isFinite(this.m22())&&isFinite(this.m23())&&isFinite(this.m30())&&isFinite(this.m31())&&isFinite(this.m32())&&isFinite(this.m33())}getTranslation(){return new lt(this.m03(),this.m13(),this.m23())}get translation(){return this.getTranslation()}getScaleVector(){const t=this.m00()+this.m03(),e=this.m10()+this.m13(),i=this.m20()+this.m23(),n=this.m30()+this.m33(),a=this.m01()+this.m03(),h=this.m11()+this.m13(),c=this.m21()+this.m23(),f=this.m31()+this.m33(),g=this.m02()+this.m03(),y=this.m12()+this.m13(),w=this.m22()+this.m23(),I=this.m32()+this.m33();return new lt(Math.sqrt(t*t+e*e+i*i+n*n),Math.sqrt(a*a+h*h+c*c+f*f),Math.sqrt(g*g+y*y+w*w+I*I))}get scaleVector(){return this.getScaleVector()}getCSSTransform(){return`matrix3d(${this.entries[0].toFixed(20)},${this.entries[1].toFixed(20)},${this.entries[2].toFixed(20)},${this.entries[3].toFixed(20)},${this.entries[4].toFixed(20)},${this.entries[5].toFixed(20)},${this.entries[6].toFixed(20)},${this.entries[7].toFixed(20)},${this.entries[8].toFixed(20)},${this.entries[9].toFixed(20)},${this.entries[10].toFixed(20)},${this.entries[11].toFixed(20)},${this.entries[12].toFixed(20)},${this.entries[13].toFixed(20)},${this.entries[14].toFixed(20)},${this.entries[15].toFixed(20)})`}get cssTransform(){return this.getCSSTransform()}equals(t){return this.m00()===t.m00()&&this.m01()===t.m01()&&this.m02()===t.m02()&&this.m03()===t.m03()&&this.m10()===t.m10()&&this.m11()===t.m11()&&this.m12()===t.m12()&&this.m13()===t.m13()&&this.m20()===t.m20()&&this.m21()===t.m21()&&this.m22()===t.m22()&&this.m23()===t.m23()&&this.m30()===t.m30()&&this.m31()===t.m31()&&this.m32()===t.m32()&&this.m33()===t.m33()}equalsEpsilon(t,e){return Math.abs(this.m00()-t.m00())<e&&Math.abs(this.m01()-t.m01())<e&&Math.abs(this.m02()-t.m02())<e&&Math.abs(this.m03()-t.m03())<e&&Math.abs(this.m10()-t.m10())<e&&Math.abs(this.m11()-t.m11())<e&&Math.abs(this.m12()-t.m12())<e&&Math.abs(this.m13()-t.m13())<e&&Math.abs(this.m20()-t.m20())<e&&Math.abs(this.m21()-t.m21())<e&&Math.abs(this.m22()-t.m22())<e&&Math.abs(this.m23()-t.m23())<e&&Math.abs(this.m30()-t.m30())<e&&Math.abs(this.m31()-t.m31())<e&&Math.abs(this.m32()-t.m32())<e&&Math.abs(this.m33()-t.m33())<e}copy(){return new vt(this.m00(),this.m01(),this.m02(),this.m03(),this.m10(),this.m11(),this.m12(),this.m13(),this.m20(),this.m21(),this.m22(),this.m23(),this.m30(),this.m31(),this.m32(),this.m33(),this.type)}plus(t){return new vt(this.m00()+t.m00(),this.m01()+t.m01(),this.m02()+t.m02(),this.m03()+t.m03(),this.m10()+t.m10(),this.m11()+t.m11(),this.m12()+t.m12(),this.m13()+t.m13(),this.m20()+t.m20(),this.m21()+t.m21(),this.m22()+t.m22(),this.m23()+t.m23(),this.m30()+t.m30(),this.m31()+t.m31(),this.m32()+t.m32(),this.m33()+t.m33())}minus(t){return new vt(this.m00()-t.m00(),this.m01()-t.m01(),this.m02()-t.m02(),this.m03()-t.m03(),this.m10()-t.m10(),this.m11()-t.m11(),this.m12()-t.m12(),this.m13()-t.m13(),this.m20()-t.m20(),this.m21()-t.m21(),this.m22()-t.m22(),this.m23()-t.m23(),this.m30()-t.m30(),this.m31()-t.m31(),this.m32()-t.m32(),this.m33()-t.m33())}transposed(){return new vt(this.m00(),this.m10(),this.m20(),this.m30(),this.m01(),this.m11(),this.m21(),this.m31(),this.m02(),this.m12(),this.m22(),this.m32(),this.m03(),this.m13(),this.m23(),this.m33())}negated(){return new vt(-this.m00(),-this.m01(),-this.m02(),-this.m03(),-this.m10(),-this.m11(),-this.m12(),-this.m13(),-this.m20(),-this.m21(),-this.m22(),-this.m23(),-this.m30(),-this.m31(),-this.m32(),-this.m33())}inverted(){let t;switch(this.type){case Pt.IDENTITY:return this;case Pt.TRANSLATION_3D:return new vt(1,0,0,-this.m03(),0,1,0,-this.m13(),0,0,1,-this.m23(),0,0,0,1,Pt.TRANSLATION_3D);case Pt.SCALING:return new vt(1/this.m00(),0,0,0,0,1/this.m11(),0,0,0,0,1/this.m22(),0,0,0,0,1/this.m33(),Pt.SCALING);case Pt.AFFINE:case Pt.OTHER:if(t=this.getDeterminant(),t!==0)return new vt((-this.m31()*this.m22()*this.m13()+this.m21()*this.m32()*this.m13()+this.m31()*this.m12()*this.m23()-this.m11()*this.m32()*this.m23()-this.m21()*this.m12()*this.m33()+this.m11()*this.m22()*this.m33())/t,(this.m31()*this.m22()*this.m03()-this.m21()*this.m32()*this.m03()-this.m31()*this.m02()*this.m23()+this.m01()*this.m32()*this.m23()+this.m21()*this.m02()*this.m33()-this.m01()*this.m22()*this.m33())/t,(-this.m31()*this.m12()*this.m03()+this.m11()*this.m32()*this.m03()+this.m31()*this.m02()*this.m13()-this.m01()*this.m32()*this.m13()-this.m11()*this.m02()*this.m33()+this.m01()*this.m12()*this.m33())/t,(this.m21()*this.m12()*this.m03()-this.m11()*this.m22()*this.m03()-this.m21()*this.m02()*this.m13()+this.m01()*this.m22()*this.m13()+this.m11()*this.m02()*this.m23()-this.m01()*this.m12()*this.m23())/t,(this.m30()*this.m22()*this.m13()-this.m20()*this.m32()*this.m13()-this.m30()*this.m12()*this.m23()+this.m10()*this.m32()*this.m23()+this.m20()*this.m12()*this.m33()-this.m10()*this.m22()*this.m33())/t,(-this.m30()*this.m22()*this.m03()+this.m20()*this.m32()*this.m03()+this.m30()*this.m02()*this.m23()-this.m00()*this.m32()*this.m23()-this.m20()*this.m02()*this.m33()+this.m00()*this.m22()*this.m33())/t,(this.m30()*this.m12()*this.m03()-this.m10()*this.m32()*this.m03()-this.m30()*this.m02()*this.m13()+this.m00()*this.m32()*this.m13()+this.m10()*this.m02()*this.m33()-this.m00()*this.m12()*this.m33())/t,(-this.m20()*this.m12()*this.m03()+this.m10()*this.m22()*this.m03()+this.m20()*this.m02()*this.m13()-this.m00()*this.m22()*this.m13()-this.m10()*this.m02()*this.m23()+this.m00()*this.m12()*this.m23())/t,(-this.m30()*this.m21()*this.m13()+this.m20()*this.m31()*this.m13()+this.m30()*this.m11()*this.m23()-this.m10()*this.m31()*this.m23()-this.m20()*this.m11()*this.m33()+this.m10()*this.m21()*this.m33())/t,(this.m30()*this.m21()*this.m03()-this.m20()*this.m31()*this.m03()-this.m30()*this.m01()*this.m23()+this.m00()*this.m31()*this.m23()+this.m20()*this.m01()*this.m33()-this.m00()*this.m21()*this.m33())/t,(-this.m30()*this.m11()*this.m03()+this.m10()*this.m31()*this.m03()+this.m30()*this.m01()*this.m13()-this.m00()*this.m31()*this.m13()-this.m10()*this.m01()*this.m33()+this.m00()*this.m11()*this.m33())/t,(this.m20()*this.m11()*this.m03()-this.m10()*this.m21()*this.m03()-this.m20()*this.m01()*this.m13()+this.m00()*this.m21()*this.m13()+this.m10()*this.m01()*this.m23()-this.m00()*this.m11()*this.m23())/t,(this.m30()*this.m21()*this.m12()-this.m20()*this.m31()*this.m12()-this.m30()*this.m11()*this.m22()+this.m10()*this.m31()*this.m22()+this.m20()*this.m11()*this.m32()-this.m10()*this.m21()*this.m32())/t,(-this.m30()*this.m21()*this.m02()+this.m20()*this.m31()*this.m02()+this.m30()*this.m01()*this.m22()-this.m00()*this.m31()*this.m22()-this.m20()*this.m01()*this.m32()+this.m00()*this.m21()*this.m32())/t,(this.m30()*this.m11()*this.m02()-this.m10()*this.m31()*this.m02()-this.m30()*this.m01()*this.m12()+this.m00()*this.m31()*this.m12()+this.m10()*this.m01()*this.m32()-this.m00()*this.m11()*this.m32())/t,(-this.m20()*this.m11()*this.m02()+this.m10()*this.m21()*this.m02()+this.m20()*this.m01()*this.m12()-this.m00()*this.m21()*this.m12()-this.m10()*this.m01()*this.m22()+this.m00()*this.m11()*this.m22())/t);throw new Error("Matrix could not be inverted, determinant === 0");default:throw new Error(`Matrix4.inverted with unknown type: ${this.type}`)}}timesMatrix(t){if(this.type===Pt.IDENTITY||t.type===Pt.IDENTITY)return this.type===Pt.IDENTITY?t:this;if(this.type===t.type){if(this.type===Pt.TRANSLATION_3D)return new vt(1,0,0,this.m03()+t.m02(),0,1,0,this.m13()+t.m12(),0,0,1,this.m23()+t.m23(),0,0,0,1,Pt.TRANSLATION_3D);if(this.type===Pt.SCALING)return new vt(this.m00()*t.m00(),0,0,0,0,this.m11()*t.m11(),0,0,0,0,this.m22()*t.m22(),0,0,0,0,1,Pt.SCALING)}return this.type!==Pt.OTHER&&t.type!==Pt.OTHER?new vt(this.m00()*t.m00()+this.m01()*t.m10()+this.m02()*t.m20(),this.m00()*t.m01()+this.m01()*t.m11()+this.m02()*t.m21(),this.m00()*t.m02()+this.m01()*t.m12()+this.m02()*t.m22(),this.m00()*t.m03()+this.m01()*t.m13()+this.m02()*t.m23()+this.m03(),this.m10()*t.m00()+this.m11()*t.m10()+this.m12()*t.m20(),this.m10()*t.m01()+this.m11()*t.m11()+this.m12()*t.m21(),this.m10()*t.m02()+this.m11()*t.m12()+this.m12()*t.m22(),this.m10()*t.m03()+this.m11()*t.m13()+this.m12()*t.m23()+this.m13(),this.m20()*t.m00()+this.m21()*t.m10()+this.m22()*t.m20(),this.m20()*t.m01()+this.m21()*t.m11()+this.m22()*t.m21(),this.m20()*t.m02()+this.m21()*t.m12()+this.m22()*t.m22(),this.m20()*t.m03()+this.m21()*t.m13()+this.m22()*t.m23()+this.m23(),0,0,0,1,Pt.AFFINE):new vt(this.m00()*t.m00()+this.m01()*t.m10()+this.m02()*t.m20()+this.m03()*t.m30(),this.m00()*t.m01()+this.m01()*t.m11()+this.m02()*t.m21()+this.m03()*t.m31(),this.m00()*t.m02()+this.m01()*t.m12()+this.m02()*t.m22()+this.m03()*t.m32(),this.m00()*t.m03()+this.m01()*t.m13()+this.m02()*t.m23()+this.m03()*t.m33(),this.m10()*t.m00()+this.m11()*t.m10()+this.m12()*t.m20()+this.m13()*t.m30(),this.m10()*t.m01()+this.m11()*t.m11()+this.m12()*t.m21()+this.m13()*t.m31(),this.m10()*t.m02()+this.m11()*t.m12()+this.m12()*t.m22()+this.m13()*t.m32(),this.m10()*t.m03()+this.m11()*t.m13()+this.m12()*t.m23()+this.m13()*t.m33(),this.m20()*t.m00()+this.m21()*t.m10()+this.m22()*t.m20()+this.m23()*t.m30(),this.m20()*t.m01()+this.m21()*t.m11()+this.m22()*t.m21()+this.m23()*t.m31(),this.m20()*t.m02()+this.m21()*t.m12()+this.m22()*t.m22()+this.m23()*t.m32(),this.m20()*t.m03()+this.m21()*t.m13()+this.m22()*t.m23()+this.m23()*t.m33(),this.m30()*t.m00()+this.m31()*t.m10()+this.m32()*t.m20()+this.m33()*t.m30(),this.m30()*t.m01()+this.m31()*t.m11()+this.m32()*t.m21()+this.m33()*t.m31(),this.m30()*t.m02()+this.m31()*t.m12()+this.m32()*t.m22()+this.m33()*t.m32(),this.m30()*t.m03()+this.m31()*t.m13()+this.m32()*t.m23()+this.m33()*t.m33())}timesVector4(t){const e=this.m00()*t.x+this.m01()*t.y+this.m02()*t.z+this.m03()*t.w,i=this.m10()*t.x+this.m11()*t.y+this.m12()*t.z+this.m13()*t.w,n=this.m20()*t.x+this.m21()*t.y+this.m22()*t.z+this.m23()*t.w,a=this.m30()*t.x+this.m31()*t.y+this.m32()*t.z+this.m33()*t.w;return new ie(e,i,n,a)}timesVector3(t){return this.timesVector4(t.toVector4()).toVector3()}timesTransposeVector4(t){const e=this.m00()*t.x+this.m10()*t.y+this.m20()*t.z+this.m30()*t.w,i=this.m01()*t.x+this.m11()*t.y+this.m21()*t.z+this.m31()*t.w,n=this.m02()*t.x+this.m12()*t.y+this.m22()*t.z+this.m32()*t.w,a=this.m03()*t.x+this.m13()*t.y+this.m23()*t.z+this.m33()*t.w;return new ie(e,i,n,a)}timesTransposeVector3(t){return this.timesTransposeVector4(t.toVector4()).toVector3()}timesRelativeVector3(t){const e=this.m00()*t.x+this.m10()*t.y+this.m20()*t.z,i=this.m01()*t.y+this.m11()*t.y+this.m21()*t.z,n=this.m02()*t.z+this.m12()*t.y+this.m22()*t.z;return new lt(e,i,n)}getDeterminant(){return this.m03()*this.m12()*this.m21()*this.m30()-this.m02()*this.m13()*this.m21()*this.m30()-this.m03()*this.m11()*this.m22()*this.m30()+this.m01()*this.m13()*this.m22()*this.m30()+this.m02()*this.m11()*this.m23()*this.m30()-this.m01()*this.m12()*this.m23()*this.m30()-this.m03()*this.m12()*this.m20()*this.m31()+this.m02()*this.m13()*this.m20()*this.m31()+this.m03()*this.m10()*this.m22()*this.m31()-this.m00()*this.m13()*this.m22()*this.m31()-this.m02()*this.m10()*this.m23()*this.m31()+this.m00()*this.m12()*this.m23()*this.m31()+this.m03()*this.m11()*this.m20()*this.m32()-this.m01()*this.m13()*this.m20()*this.m32()-this.m03()*this.m10()*this.m21()*this.m32()+this.m00()*this.m13()*this.m21()*this.m32()+this.m01()*this.m10()*this.m23()*this.m32()-this.m00()*this.m11()*this.m23()*this.m32()-this.m02()*this.m11()*this.m20()*this.m33()+this.m01()*this.m12()*this.m20()*this.m33()+this.m02()*this.m10()*this.m21()*this.m33()-this.m00()*this.m12()*this.m21()*this.m33()-this.m01()*this.m10()*this.m22()*this.m33()+this.m00()*this.m11()*this.m22()*this.m33()}get determinant(){return this.getDeterminant()}toString(){return`${this.m00()} ${this.m01()} ${this.m02()} ${this.m03()}
${this.m10()} ${this.m11()} ${this.m12()} ${this.m13()}
${this.m20()} ${this.m21()} ${this.m22()} ${this.m23()}
${this.m30()} ${this.m31()} ${this.m32()} ${this.m33()}`}makeImmutable(){return assert&&(this.rowMajor=()=>{throw new Error("Cannot modify immutable matrix")}),this}copyToArray(t){return t[0]=this.m00(),t[1]=this.m10(),t[2]=this.m20(),t[3]=this.m30(),t[4]=this.m01(),t[5]=this.m11(),t[6]=this.m21(),t[7]=this.m31(),t[8]=this.m02(),t[9]=this.m12(),t[10]=this.m22(),t[11]=this.m32(),t[12]=this.m03(),t[13]=this.m13(),t[14]=this.m23(),t[15]=this.m33(),t}static identity(){return new vt(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,Pt.IDENTITY)}static translation(t,e,i){return new vt(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1,Pt.TRANSLATION_3D)}static translationFromVector(t){return vt.translation(t.x,t.y,t.z)}static scaling(t,e,i){return e=e===void 0?t:e,i=i===void 0?t:i,new vt(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1,Pt.SCALING)}static rotationAxisAngle(t,e){const i=Math.cos(e),n=Math.sin(e),a=1-i;return new vt(t.x*t.x*a+i,t.x*t.y*a-t.z*n,t.x*t.z*a+t.y*n,0,t.y*t.x*a+t.z*n,t.y*t.y*a+i,t.y*t.z*a-t.x*n,0,t.z*t.x*a-t.y*n,t.z*t.y*a+t.x*n,t.z*t.z*a+i,0,0,0,0,1,Pt.AFFINE)}static rotationX(t){const e=Math.cos(t),i=Math.sin(t);return new vt(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1,Pt.AFFINE)}static rotationY(t){const e=Math.cos(t),i=Math.sin(t);return new vt(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1,Pt.AFFINE)}static rotationZ(t){const e=Math.cos(t),i=Math.sin(t);return new vt(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1,Pt.AFFINE)}static gluPerspective(t,e,i,n){const a=Math.cos(t)/Math.sin(t);return new vt(a/e,0,0,0,0,a,0,0,0,0,(n+i)/(i-n),2*n*i/(i-n),0,0,-1,0)}}j.register("Matrix4",vt);const je=class je extends Ls{};Oi(je,"OTHER",new je),Oi(je,"IDENTITY",new je),Oi(je,"TRANSLATION_3D",new je),Oi(je,"SCALING",new je),Oi(je,"AFFINE",new je),Oi(je,"enumeration",new Xi(je));let Pt=je;vt.Types=Pt;vt.IDENTITY=new vt().makeImmutable();function Ms(o){return o.toFixed(20)}j.register("toSVGNumber",Ms);const Ge=class Ge extends Ls{};Ge.OTHER=new Ge,Ge.IDENTITY=new Ge,Ge.TRANSLATION_2D=new Ge,Ge.SCALING=new Ge,Ge.AFFINE=new Ge,Ge.enumeration=new Xi(Ge);let k=Ge;const We=class We{constructor(){assert&&assert(arguments.length===0,"Matrix3 constructor should not be called with any arguments.  Use m3()/Matrix3.identity()/etc."),this.entries=[1,0,0,0,1,0,0,0,1],this.type=k.IDENTITY}initialize(){return this}m00(){return this.entries[0]}m01(){return this.entries[3]}m02(){return this.entries[6]}m10(){return this.entries[1]}m11(){return this.entries[4]}m12(){return this.entries[7]}m20(){return this.entries[2]}m21(){return this.entries[5]}m22(){return this.entries[8]}isIdentity(){return this.type===k.IDENTITY||this.equals(We.IDENTITY)}isFastIdentity(){return this.type===k.IDENTITY}isTranslation(){return this.type===k.TRANSLATION_2D||this.m00()===1&&this.m11()===1&&this.m22()===1&&this.m01()===0&&this.m10()===0&&this.m20()===0&&this.m21()===0}isAffine(){return this.type===k.AFFINE||this.m20()===0&&this.m21()===0&&this.m22()===1}isAligned(){return this.isAffine()&&this.m01()===0&&this.m10()===0}isAxisAligned(){return this.isAffine()&&(this.m01()===0&&this.m10()===0||this.m00()===0&&this.m11()===0)}isFinite(){return isFinite(this.m00())&&isFinite(this.m01())&&isFinite(this.m02())&&isFinite(this.m10())&&isFinite(this.m11())&&isFinite(this.m12())&&isFinite(this.m20())&&isFinite(this.m21())&&isFinite(this.m22())}getDeterminant(){return this.m00()*this.m11()*this.m22()+this.m01()*this.m12()*this.m20()+this.m02()*this.m10()*this.m21()-this.m02()*this.m11()*this.m20()-this.m01()*this.m10()*this.m22()-this.m00()*this.m12()*this.m21()}get determinant(){return this.getDeterminant()}getTranslation(){return new $(this.m02(),this.m12())}get translation(){return this.getTranslation()}getScaleVector(){return new $(Math.sqrt(this.m00()*this.m00()+this.m10()*this.m10()),Math.sqrt(this.m01()*this.m01()+this.m11()*this.m11()))}get scaleVector(){return this.getScaleVector()}getSignedScale(){return this.m00()*this.m11()-this.m10()*this.m01()}getRotation(){return Math.atan2(this.m10(),this.m00())}get rotation(){return this.getRotation()}toMatrix4(){return new vt(this.m00(),this.m01(),this.m02(),0,this.m10(),this.m11(),this.m12(),0,this.m20(),this.m21(),this.m22(),0,0,0,0,1)}toAffineMatrix4(){return new vt(this.m00(),this.m01(),0,this.m02(),this.m10(),this.m11(),0,this.m12(),0,0,1,0,0,0,0,1)}toString(){return`${this.m00()} ${this.m01()} ${this.m02()}
${this.m10()} ${this.m11()} ${this.m12()}
${this.m20()} ${this.m21()} ${this.m22()}`}toSVGMatrix(){const t=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix();return t.a=this.m00(),t.b=this.m10(),t.c=this.m01(),t.d=this.m11(),t.e=this.m02(),t.f=this.m12(),t}getCSSTransform(){return`matrix(${this.entries[0].toFixed(20)},${this.entries[1].toFixed(20)},${this.entries[3].toFixed(20)},${this.entries[4].toFixed(20)},${this.entries[6].toFixed(20)},${this.entries[7].toFixed(20)})`}get cssTransform(){return this.getCSSTransform()}getSVGTransform(){switch(this.type){case k.IDENTITY:return"";case k.TRANSLATION_2D:return`translate(${Ms(this.entries[6])},${Ms(this.entries[7])})`;case k.SCALING:return`scale(${Ms(this.entries[0])}${this.entries[0]===this.entries[4]?"":`,${Ms(this.entries[4])}`})`;default:return`matrix(${Ms(this.entries[0])},${Ms(this.entries[1])},${Ms(this.entries[3])},${Ms(this.entries[4])},${Ms(this.entries[6])},${Ms(this.entries[7])})`}}get svgTransform(){return this.getSVGTransform()}getCSSTransformStyles(){const t=this.getCSSTransform();return{"-webkit-perspective":"1000","-webkit-backface-visibility":"hidden","-webkit-transform":`${t} translateZ(0)`,"-moz-transform":`${t} translateZ(0)`,"-ms-transform":t,"-o-transform":t,transform:t,"transform-origin":"top left","-ms-transform-origin":"top left"}}get cssTransformStyles(){return this.getCSSTransformStyles()}equals(t){return this.m00()===t.m00()&&this.m01()===t.m01()&&this.m02()===t.m02()&&this.m10()===t.m10()&&this.m11()===t.m11()&&this.m12()===t.m12()&&this.m20()===t.m20()&&this.m21()===t.m21()&&this.m22()===t.m22()}equalsEpsilon(t,e){return Math.abs(this.m00()-t.m00())<e&&Math.abs(this.m01()-t.m01())<e&&Math.abs(this.m02()-t.m02())<e&&Math.abs(this.m10()-t.m10())<e&&Math.abs(this.m11()-t.m11())<e&&Math.abs(this.m12()-t.m12())<e&&Math.abs(this.m20()-t.m20())<e&&Math.abs(this.m21()-t.m21())<e&&Math.abs(this.m22()-t.m22())<e}copy(){return de(this.m00(),this.m01(),this.m02(),this.m10(),this.m11(),this.m12(),this.m20(),this.m21(),this.m22(),this.type)}plus(t){return de(this.m00()+t.m00(),this.m01()+t.m01(),this.m02()+t.m02(),this.m10()+t.m10(),this.m11()+t.m11(),this.m12()+t.m12(),this.m20()+t.m20(),this.m21()+t.m21(),this.m22()+t.m22())}minus(t){return de(this.m00()-t.m00(),this.m01()-t.m01(),this.m02()-t.m02(),this.m10()-t.m10(),this.m11()-t.m11(),this.m12()-t.m12(),this.m20()-t.m20(),this.m21()-t.m21(),this.m22()-t.m22())}transposed(){return de(this.m00(),this.m10(),this.m20(),this.m01(),this.m11(),this.m21(),this.m02(),this.m12(),this.m22(),this.type===k.IDENTITY||this.type===k.SCALING?this.type:void 0)}negated(){return de(-this.m00(),-this.m01(),-this.m02(),-this.m10(),-this.m11(),-this.m12(),-this.m20(),-this.m21(),-this.m22())}inverted(){let t;switch(this.type){case k.IDENTITY:return this;case k.TRANSLATION_2D:return de(1,0,-this.m02(),0,1,-this.m12(),0,0,1,k.TRANSLATION_2D);case k.SCALING:return de(1/this.m00(),0,0,0,1/this.m11(),0,0,0,1/this.m22(),k.SCALING);case k.AFFINE:if(t=this.getDeterminant(),t!==0)return de((-this.m12()*this.m21()+this.m11()*this.m22())/t,(this.m02()*this.m21()-this.m01()*this.m22())/t,(-this.m02()*this.m11()+this.m01()*this.m12())/t,(this.m12()*this.m20()-this.m10()*this.m22())/t,(-this.m02()*this.m20()+this.m00()*this.m22())/t,(this.m02()*this.m10()-this.m00()*this.m12())/t,0,0,1,k.AFFINE);throw new Error("Matrix could not be inverted, determinant === 0");case k.OTHER:if(t=this.getDeterminant(),t!==0)return de((-this.m12()*this.m21()+this.m11()*this.m22())/t,(this.m02()*this.m21()-this.m01()*this.m22())/t,(-this.m02()*this.m11()+this.m01()*this.m12())/t,(this.m12()*this.m20()-this.m10()*this.m22())/t,(-this.m02()*this.m20()+this.m00()*this.m22())/t,(this.m02()*this.m10()-this.m00()*this.m12())/t,(-this.m11()*this.m20()+this.m10()*this.m21())/t,(this.m01()*this.m20()-this.m00()*this.m21())/t,(-this.m01()*this.m10()+this.m00()*this.m11())/t,k.OTHER);throw new Error("Matrix could not be inverted, determinant === 0");default:throw new Error(`Matrix3.inverted with unknown type: ${this.type}`)}}timesMatrix(t){if(this.type===k.IDENTITY||t.type===k.IDENTITY)return this.type===k.IDENTITY?t:this;if(this.type===t.type){if(this.type===k.TRANSLATION_2D)return de(1,0,this.m02()+t.m02(),0,1,this.m12()+t.m12(),0,0,1,k.TRANSLATION_2D);if(this.type===k.SCALING)return de(this.m00()*t.m00(),0,0,0,this.m11()*t.m11(),0,0,0,1,k.SCALING)}return this.type!==k.OTHER&&t.type!==k.OTHER?de(this.m00()*t.m00()+this.m01()*t.m10(),this.m00()*t.m01()+this.m01()*t.m11(),this.m00()*t.m02()+this.m01()*t.m12()+this.m02(),this.m10()*t.m00()+this.m11()*t.m10(),this.m10()*t.m01()+this.m11()*t.m11(),this.m10()*t.m02()+this.m11()*t.m12()+this.m12(),0,0,1,k.AFFINE):de(this.m00()*t.m00()+this.m01()*t.m10()+this.m02()*t.m20(),this.m00()*t.m01()+this.m01()*t.m11()+this.m02()*t.m21(),this.m00()*t.m02()+this.m01()*t.m12()+this.m02()*t.m22(),this.m10()*t.m00()+this.m11()*t.m10()+this.m12()*t.m20(),this.m10()*t.m01()+this.m11()*t.m11()+this.m12()*t.m21(),this.m10()*t.m02()+this.m11()*t.m12()+this.m12()*t.m22(),this.m20()*t.m00()+this.m21()*t.m10()+this.m22()*t.m20(),this.m20()*t.m01()+this.m21()*t.m11()+this.m22()*t.m21(),this.m20()*t.m02()+this.m21()*t.m12()+this.m22()*t.m22())}timesVector2(t){const e=this.m00()*t.x+this.m01()*t.y+this.m02(),i=this.m10()*t.x+this.m11()*t.y+this.m12();return new $(e,i)}timesVector3(t){const e=this.m00()*t.x+this.m01()*t.y+this.m02()*t.z,i=this.m10()*t.x+this.m11()*t.y+this.m12()*t.z,n=this.m20()*t.x+this.m21()*t.y+this.m22()*t.z;return new lt(e,i,n)}timesTransposeVector2(t){const e=this.m00()*t.x+this.m10()*t.y,i=this.m01()*t.x+this.m11()*t.y;return new $(e,i)}timesRelativeVector2(t){const e=this.m00()*t.x+this.m01()*t.y,i=this.m10()*t.y+this.m11()*t.y;return new $(e,i)}rowMajor(t,e,i,n,a,h,c,f,g,y){return this.entries[0]=t,this.entries[1]=n,this.entries[2]=c,this.entries[3]=e,this.entries[4]=a,this.entries[5]=f,this.entries[6]=i,this.entries[7]=h,this.entries[8]=g,this.type=y===void 0?c===0&&f===0&&g===1?k.AFFINE:k.OTHER:y,this}set(t){return this.rowMajor(t.m00(),t.m01(),t.m02(),t.m10(),t.m11(),t.m12(),t.m20(),t.m21(),t.m22(),t.type)}setArray(t){return this.rowMajor(t[0],t[3],t[6],t[1],t[4],t[7],t[2],t[5],t[8])}set00(t){return this.entries[0]=t,this}set01(t){return this.entries[3]=t,this}set02(t){return this.entries[6]=t,this}set10(t){return this.entries[1]=t,this}set11(t){return this.entries[4]=t,this}set12(t){return this.entries[7]=t,this}set20(t){return this.entries[2]=t,this}set21(t){return this.entries[5]=t,this}set22(t){return this.entries[8]=t,this}makeImmutable(){return assert&&(this.rowMajor=()=>{throw new Error("Cannot modify immutable matrix")}),this}columnMajor(t,e,i,n,a,h,c,f,g,y){return this.rowMajor(t,n,c,e,a,f,i,h,g,y)}add(t){return this.rowMajor(this.m00()+t.m00(),this.m01()+t.m01(),this.m02()+t.m02(),this.m10()+t.m10(),this.m11()+t.m11(),this.m12()+t.m12(),this.m20()+t.m20(),this.m21()+t.m21(),this.m22()+t.m22())}subtract(t){return this.rowMajor(this.m00()-t.m00(),this.m01()-t.m01(),this.m02()-t.m02(),this.m10()-t.m10(),this.m11()-t.m11(),this.m12()-t.m12(),this.m20()-t.m20(),this.m21()-t.m21(),this.m22()-t.m22())}transpose(){return this.rowMajor(this.m00(),this.m10(),this.m20(),this.m01(),this.m11(),this.m21(),this.m02(),this.m12(),this.m22(),this.type===k.IDENTITY||this.type===k.SCALING?this.type:void 0)}negate(){return this.rowMajor(-this.m00(),-this.m01(),-this.m02(),-this.m10(),-this.m11(),-this.m12(),-this.m20(),-this.m21(),-this.m22())}invert(){let t;switch(this.type){case k.IDENTITY:return this;case k.TRANSLATION_2D:return this.rowMajor(1,0,-this.m02(),0,1,-this.m12(),0,0,1,k.TRANSLATION_2D);case k.SCALING:return this.rowMajor(1/this.m00(),0,0,0,1/this.m11(),0,0,0,1/this.m22(),k.SCALING);case k.AFFINE:if(t=this.getDeterminant(),t!==0)return this.rowMajor((-this.m12()*this.m21()+this.m11()*this.m22())/t,(this.m02()*this.m21()-this.m01()*this.m22())/t,(-this.m02()*this.m11()+this.m01()*this.m12())/t,(this.m12()*this.m20()-this.m10()*this.m22())/t,(-this.m02()*this.m20()+this.m00()*this.m22())/t,(this.m02()*this.m10()-this.m00()*this.m12())/t,0,0,1,k.AFFINE);throw new Error("Matrix could not be inverted, determinant === 0");case k.OTHER:if(t=this.getDeterminant(),t!==0)return this.rowMajor((-this.m12()*this.m21()+this.m11()*this.m22())/t,(this.m02()*this.m21()-this.m01()*this.m22())/t,(-this.m02()*this.m11()+this.m01()*this.m12())/t,(this.m12()*this.m20()-this.m10()*this.m22())/t,(-this.m02()*this.m20()+this.m00()*this.m22())/t,(this.m02()*this.m10()-this.m00()*this.m12())/t,(-this.m11()*this.m20()+this.m10()*this.m21())/t,(this.m01()*this.m20()-this.m00()*this.m21())/t,(-this.m01()*this.m10()+this.m00()*this.m11())/t,k.OTHER);throw new Error("Matrix could not be inverted, determinant === 0");default:throw new Error(`Matrix3.inverted with unknown type: ${this.type}`)}}multiplyMatrix(t){if(t.type===k.IDENTITY)return this;if(this.type===k.IDENTITY)return this.set(t);if(this.type===t.type){if(this.type===k.TRANSLATION_2D)return this.rowMajor(1,0,this.m02()+t.m02(),0,1,this.m12()+t.m12(),0,0,1,k.TRANSLATION_2D);if(this.type===k.SCALING)return this.rowMajor(this.m00()*t.m00(),0,0,0,this.m11()*t.m11(),0,0,0,1,k.SCALING)}return this.type!==k.OTHER&&t.type!==k.OTHER?this.rowMajor(this.m00()*t.m00()+this.m01()*t.m10(),this.m00()*t.m01()+this.m01()*t.m11(),this.m00()*t.m02()+this.m01()*t.m12()+this.m02(),this.m10()*t.m00()+this.m11()*t.m10(),this.m10()*t.m01()+this.m11()*t.m11(),this.m10()*t.m02()+this.m11()*t.m12()+this.m12(),0,0,1,k.AFFINE):this.rowMajor(this.m00()*t.m00()+this.m01()*t.m10()+this.m02()*t.m20(),this.m00()*t.m01()+this.m01()*t.m11()+this.m02()*t.m21(),this.m00()*t.m02()+this.m01()*t.m12()+this.m02()*t.m22(),this.m10()*t.m00()+this.m11()*t.m10()+this.m12()*t.m20(),this.m10()*t.m01()+this.m11()*t.m11()+this.m12()*t.m21(),this.m10()*t.m02()+this.m11()*t.m12()+this.m12()*t.m22(),this.m20()*t.m00()+this.m21()*t.m10()+this.m22()*t.m20(),this.m20()*t.m01()+this.m21()*t.m11()+this.m22()*t.m21(),this.m20()*t.m02()+this.m21()*t.m12()+this.m22()*t.m22())}prependTranslation(t,e){return this.set02(this.m02()+t),this.set12(this.m12()+e),this.type===k.IDENTITY||this.type===k.TRANSLATION_2D?this.type=k.TRANSLATION_2D:this.type===k.OTHER?this.type=k.OTHER:this.type=k.AFFINE,this}setToIdentity(){return this.rowMajor(1,0,0,0,1,0,0,0,1,k.IDENTITY)}setToTranslation(t,e){return this.rowMajor(1,0,t,0,1,e,0,0,1,k.TRANSLATION_2D)}setToScale(t,e){return e=e===void 0?t:e,this.rowMajor(t,0,0,0,e,0,0,0,1,k.SCALING)}setToAffine(t,e,i,n,a,h){return this.rowMajor(t,e,i,n,a,h,0,0,1,k.AFFINE)}setToRotationAxisAngle(t,e){let i=Math.cos(e),n=Math.sin(e);Math.abs(i)<1e-15&&(i=0),Math.abs(n)<1e-15&&(n=0);const a=1-i;return this.rowMajor(t.x*t.x*a+i,t.x*t.y*a-t.z*n,t.x*t.z*a+t.y*n,t.y*t.x*a+t.z*n,t.y*t.y*a+i,t.y*t.z*a-t.x*n,t.z*t.x*a-t.y*n,t.z*t.y*a+t.x*n,t.z*t.z*a+i,k.OTHER)}setToRotationX(t){let e=Math.cos(t),i=Math.sin(t);return Math.abs(e)<1e-15&&(e=0),Math.abs(i)<1e-15&&(i=0),this.rowMajor(1,0,0,0,e,-i,0,i,e,k.OTHER)}setToRotationY(t){let e=Math.cos(t),i=Math.sin(t);return Math.abs(e)<1e-15&&(e=0),Math.abs(i)<1e-15&&(i=0),this.rowMajor(e,0,i,0,1,0,-i,0,e,k.OTHER)}setToRotationZ(t){let e=Math.cos(t),i=Math.sin(t);return Math.abs(e)<1e-15&&(e=0),Math.abs(i)<1e-15&&(i=0),this.rowMajor(e,-i,0,i,e,0,0,0,1,k.AFFINE)}setToTranslationRotation(t,e,i){let n=Math.cos(i),a=Math.sin(i);return Math.abs(n)<1e-15&&(n=0),Math.abs(a)<1e-15&&(a=0),this.rowMajor(n,-a,t,a,n,e,0,0,1,k.AFFINE)}setToTranslationRotationPoint(t,e){return this.setToTranslationRotation(t.x,t.y,e)}setToScaleTranslationRotation(t,e,i,n){let a=Math.cos(n),h=Math.sin(n);return Math.abs(a)<1e-15&&(a=0),Math.abs(h)<1e-15&&(h=0),a*=t,h*=t,this.rowMajor(a,-h,e,h,a,i,0,0,1,k.AFFINE)}setToScaleTranslationRotationPoint(t,e,i){return this.setToScaleTranslationRotation(t,e.x,e.y,i)}setToSVGMatrix(t){return this.rowMajor(t.a,t.c,t.e,t.b,t.d,t.f,0,0,1,k.AFFINE)}setRotationAToB(t,e){const i=t,n=e,a=1e-4;let h=i.cross(n);const c=i.dot(n);if((c<0?-c:c)>1-a){let g=new lt(i.x>0?i.x:-i.x,i.y>0?i.y:-i.y,i.z>0?i.z:-i.z);g.x<g.y?g.x<g.z?g=lt.X_UNIT:g=lt.Z_UNIT:g.y<g.z?g=lt.Y_UNIT:g=lt.Z_UNIT;const y=g.minus(i);h=g.minus(n);const w=2/y.dot(y),I=2/h.dot(h),O=w*I*y.dot(h);return this.rowMajor(-w*y.x*y.x-I*h.x*h.x+O*h.x*y.x+1,-w*y.x*y.y-I*h.x*h.y+O*h.x*y.y,-w*y.x*y.z-I*h.x*h.z+O*h.x*y.z,-w*y.y*y.x-I*h.y*h.x+O*h.y*y.x,-w*y.y*y.y-I*h.y*h.y+O*h.y*y.y+1,-w*y.y*y.z-I*h.y*h.z+O*h.y*y.z,-w*y.z*y.x-I*h.z*h.x+O*h.z*y.x,-w*y.z*y.y-I*h.z*h.y+O*h.z*y.y,-w*y.z*y.z-I*h.z*h.z+O*h.z*y.z+1)}else{const g=1/(1+c),y=g*h.x,w=g*h.z,I=y*h.y,O=y*h.z,N=w*h.y;return this.rowMajor(c+y*h.x,I-h.z,O+h.y,I+h.z,c+g*h.y*h.y,N-h.x,O-h.y,N+h.x,c+w*h.z)}}multiplyVector2(t){return t.setXY(this.m00()*t.x+this.m01()*t.y+this.m02(),this.m10()*t.x+this.m11()*t.y+this.m12())}multiplyVector3(t){return t.setXYZ(this.m00()*t.x+this.m01()*t.y+this.m02()*t.z,this.m10()*t.x+this.m11()*t.y+this.m12()*t.z,this.m20()*t.x+this.m21()*t.y+this.m22()*t.z)}multiplyTransposeVector2(t){return t.setXY(this.m00()*t.x+this.m10()*t.y,this.m01()*t.x+this.m11()*t.y)}multiplyRelativeVector2(t){return t.setXY(this.m00()*t.x+this.m01()*t.y,this.m10()*t.y+this.m11()*t.y)}canvasSetTransform(t){t.setTransform(this.entries[0],this.entries[1],this.entries[3],this.entries[4],this.entries[6],this.entries[7])}canvasAppendTransform(t){this.type!==k.IDENTITY&&t.transform(this.entries[0],this.entries[1],this.entries[3],this.entries[4],this.entries[6],this.entries[7])}copyToArray(t){return t[0]=this.m00(),t[1]=this.m10(),t[2]=this.m20(),t[3]=this.m01(),t[4]=this.m11(),t[5]=this.m21(),t[6]=this.m02(),t[7]=this.m12(),t[8]=this.m22(),t}freeToPool(){We.pool.freeToPool(this)}static identity(){return Ue().setToIdentity()}static translation(t,e){return Ue().setToTranslation(t,e)}static translationFromVector(t){return We.translation(t.x,t.y)}static scaling(t,e){return Ue().setToScale(t,e)}static scale(t,e){return We.scaling(t,e)}static affine(t,e,i,n,a,h){return Ue().setToAffine(t,e,i,n,a,h)}static rowMajor(t,e,i,n,a,h,c,f,g,y){return Ue().rowMajor(t,e,i,n,a,h,c,f,g,y)}static rotationAxisAngle(t,e){return Ue().setToRotationAxisAngle(t,e)}static rotationX(t){return Ue().setToRotationX(t)}static rotationY(t){return Ue().setToRotationY(t)}static rotationZ(t){return Ue().setToRotationZ(t)}static translationRotation(t,e,i){return Ue().setToTranslationRotation(t,e,i)}static rotation2(t){return Ue().setToRotationZ(t)}static rotationAround(t,e,i){return We.translation(e,i).timesMatrix(We.rotation2(t)).timesMatrix(We.translation(-e,-i))}static rotationAroundPoint(t,e){return We.rotationAround(t,e.x,e.y)}static fromSVGMatrix(t){return Ue().setToSVGMatrix(t)}static rotateAToB(t,e){return Ue().setRotationAToB(t,e)}static translationTimesMatrix(t,e,i){let n;return i.type===k.IDENTITY||i.type===k.TRANSLATION_2D?de(1,0,i.m02()+t,0,1,i.m12()+e,0,0,1,k.TRANSLATION_2D):(i.type===k.OTHER?n=k.OTHER:n=k.AFFINE,de(i.m00(),i.m01(),i.m02()+t,i.m10(),i.m11(),i.m12()+e,i.m20(),i.m21(),i.m22(),n))}static toStateObject(t){return{entries:t.entries,type:t.type.name}}static fromStateObject(t){const e=We.identity();return e.entries=t.entries,e.type=k.enumeration.getValue(t.type),e}};We.pool=new Yi(We,{initialize:We.prototype.initialize,useDefaultConstruction:!0,maxSize:300});let se=We;j.register("Matrix3",se);const Ue=se.pool.fetch.bind(se.pool),de=(o,t,e,i,n,a,h,c,f,g)=>Ue().rowMajor(o,t,e,i,n,a,h,c,f,g);j.register("m3",de);se.IDENTITY=se.identity().makeImmutable();se.X_REFLECTION=de(-1,0,0,0,1,0,0,0,1,k.AFFINE).makeImmutable();se.Y_REFLECTION=de(1,0,0,0,-1,0,0,0,1,k.AFFINE).makeImmutable();se.Matrix3IO=new Bt("Matrix3IO",{valueType:se,documentation:"A 3x3 matrix often used for holding transform data.",toStateObject:o=>se.toStateObject(o),fromStateObject:se.fromStateObject,stateSchema:{entries:Gn(ns),type:Lu(k)}});class Gr{constructor(t,e){this.position=t,this.direction=e,assert&&assert(Math.abs(e.magnitude-1)<.01,"the direction must be a unit vector")}shifted(t){return new Gr(this.pointAtDistance(t),this.direction)}pointAtDistance(t){return this.position.plus(this.direction.timesScalar(t))}toString(){return`${this.position.toString()} => ${this.direction.toString()}`}}j.register("Ray2",Gr);const Bl=new se;class Xu{constructor(t){this.matrix=se.IDENTITY.copy(),this.inverse=se.IDENTITY.copy(),this.matrixTransposed=se.IDENTITY.copy(),this.inverseTransposed=se.IDENTITY.copy(),this.inverseValid=!0,this.transposeValid=!0,this.inverseTransposeValid=!0,this.changeEmitter=new di,t&&this.setMatrix(t)}setMatrix(t){this.matrix.set(t),this.invalidate()}validateMatrix(t){assert&&assert(t instanceof se,"matrix was incorrect type"),assert&&assert(t.isFinite(),"matrix must be finite")}invalidate(){assert&&this.validateMatrix(this.matrix),this.inverseValid=!1,this.transposeValid=!1,this.inverseTransposeValid=!1,this.changeEmitter.emit()}prepend(t){assert&&this.validateMatrix(t),Bl.set(this.matrix),this.matrix.set(t),this.matrix.multiplyMatrix(Bl),this.invalidate()}prependTranslation(t,e){assert&&assert(typeof t=="number"&&typeof e=="number"&&isFinite(t)&&isFinite(e),"Attempted to prepend non-finite or non-number (x,y) to the transform"),this.matrix.prependTranslation(t,e),this.invalidate()}append(t){assert&&this.validateMatrix(t),this.matrix.multiplyMatrix(t),this.invalidate()}prependTransform(t){this.prepend(t.matrix)}appendTransform(t){this.append(t.matrix)}applyToCanvasContext(t){t.setTransform(this.matrix.m00(),this.matrix.m10(),this.matrix.m01(),this.matrix.m11(),this.matrix.m02(),this.matrix.m12())}copy(){const t=new Xu(this.matrix);t.inverse=this.inverse,t.matrixTransposed=this.matrixTransposed,t.inverseTransposed=this.inverseTransposed,t.inverseValid=this.inverseValid,t.transposeValid=this.transposeValid,t.inverseTransposeValid=this.inverseTransposeValid}getMatrix(){return this.matrix}getInverse(){return this.inverseValid||(this.inverseValid=!0,this.inverse.set(this.matrix),this.inverse.invert()),this.inverse}getMatrixTransposed(){return this.transposeValid||(this.transposeValid=!0,this.matrixTransposed.set(this.matrix),this.matrixTransposed.transpose()),this.matrixTransposed}getInverseTransposed(){return this.inverseTransposeValid||(this.inverseTransposeValid=!0,this.inverseTransposed.set(this.getInverse()),this.inverseTransposed.transpose()),this.inverseTransposed}isIdentity(){return this.matrix.isFastIdentity()}isFinite(){return this.matrix.isFinite()}transformPosition2(t){return this.matrix.timesVector2(t)}transformDelta2(t){const e=this.getMatrix();return new $(e.m00()*t.x+e.m01()*t.y,e.m10()*t.x+e.m11()*t.y)}transformNormal2(t){return this.getInverse().timesTransposeVector2(t).normalize()}transformX(t){const e=this.getMatrix();return assert&&assert(!e.m01(),"Transforming an X value with a rotation/shear is ill-defined"),e.m00()*t+e.m02()}transformY(t){const e=this.getMatrix();return assert&&assert(!e.m10(),"Transforming a Y value with a rotation/shear is ill-defined"),e.m11()*t+e.m12()}transformDeltaX(t){return this.getMatrix().m00()*t}transformDeltaY(t){return this.getMatrix().m11()*t}transformBounds2(t){return t.transformed(this.matrix)}transformShape(t){return t.transformed(this.matrix)}transformRay2(t){return new Gr(this.transformPosition2(t.position),this.transformDelta2(t.direction).normalized())}inversePosition2(t){return this.getInverse().timesVector2(t)}inverseDelta2(t){const e=this.getInverse();return new $(e.m00()*t.x+e.m01()*t.y,e.m10()*t.x+e.m11()*t.y)}inverseNormal2(t){return this.matrix.timesTransposeVector2(t).normalize()}inverseX(t){const e=this.getInverse();return assert&&assert(!e.m01(),"Inverting an X value with a rotation/shear is ill-defined"),e.m00()*t+e.m02()}inverseY(t){const e=this.getInverse();return assert&&assert(!e.m10(),"Inverting a Y value with a rotation/shear is ill-defined"),e.m11()*t+e.m12()}inverseDeltaX(t){const e=this.getInverse();return assert&&assert(!e.m01(),"Inverting an X value with a rotation/shear is ill-defined"),e.m00()*t}inverseDeltaY(t){const e=this.getInverse();return assert&&assert(!e.m10(),"Inverting a Y value with a rotation/shear is ill-defined"),e.m11()*t}inverseBounds2(t){return t.transformed(this.getInverse())}inverseShape(t){return t.transformed(this.getInverse())}inverseRay2(t){return new Gr(this.inversePosition2(t.position),this.inverseDelta2(t.direction).normalized())}}j.register("Transform3",Xu);class ac extends fr{constructor(t,e){super(t,e),this._initialValue=t}getInitialValue(){return this._initialValue}get initialValue(){return this.getInitialValue()}setInitialValue(t){this._initialValue=t}get value(){return super.value}set value(t){super.set(t)}reset(){this.set(this._initialValue)}set(t){super.set(t)}isSettable(){return!0}}as.register("Property",ac);const qu={mixInto(o,t){const e=Ie()({defaultArguments:[],initialize:o.prototype.initialize,maxSize:100,initialSize:0,useDefaultConstruction:!1},t);assert&&assert(e.maxSize>=0),assert&&assert(e.initialSize>=0);const i=[];let n=e.maxSize;const a=Function.prototype.bind.bind(o,o),h=a(...e.defaultArguments),c=e.initialize,f=e.useDefaultConstruction,g=o.prototype;for(vu(o,{pool:i,dirtyFromPool(){return i.length?i.pop():new h},createFromPool(...y){let w;return i.length?(w=i.pop(),c.apply(w,y)):f?(w=new h,c.apply(w,y)):w=new(a(...y)),w},get poolSize(){return i.length},set maxPoolSize(y){assert&&assert(y===Number.POSITIVE_INFINITY||Number.isInteger(y)&&y>=0,"maxPoolSize should be a non-negative integer or infinity"),n=y},get maxPoolSize(){return n}}),vu(g,{freeToPool(){i.length<n&&i.push(this)}});i.length<e.initialSize;)i.push(new h);return o}};_e.register("Poolable",qu);function uc(o){return Object.prototype.toString.call(o)==="[object Array]"}_e.register("isArray",uc);const qr=self.Float64Array||Array;class hc{constructor(t){let e,i;const n=t.entries;this.n=t.getColumnDimension();const a=this.n;for(this.V=new qr(a*a),this.d=new qr(a),this.e=new qr(a),this.issymmetric=!0,i=0;i<a&&this.issymmetric;i++)for(e=0;e<a&&this.issymmetric;e++)this.issymmetric=n[e*this.n+i]===n[i*this.n+e];if(this.issymmetric){for(e=0;e<a;e++)for(i=0;i<a;i++)this.V[e*this.n+i]=n[e*this.n+i];this.tred2(),this.tql2()}else{for(this.H=new qr(a*a),this.ort=new qr(a),i=0;i<a;i++)for(e=0;e<a;e++)this.H[e*this.n+i]=n[e*this.n+i];this.orthes(),this.hqr2()}}getV(){return this.V.copy()}getRealEigenvalues(){return this.d}getImagEigenvalues(){return this.e}getD(){const t=this.n,e=this.d,i=this.e,n=new Te(t,t),a=n.entries;for(let h=0;h<t;h++){for(let c=0;c<t;c++)a[h*this.n+c]=0;a[h*this.n+h]=e[h],i[h]>0?a[h*this.n+h+1]=i[h]:i[h]<0&&(a[h*this.n+h-1]=i[h])}return n}tred2(){const t=this.n,e=this.V,i=this.d,n=this.e;let a,h,c,f,g,y;for(h=0;h<t;h++)i[h]=e[(t-1)*t+h];for(a=t-1;a>0;a--){let w=0;for(y=0,c=0;c<a;c++)w=w+Math.abs(i[c]);if(w===0)for(n[a]=i[a-1],h=0;h<a;h++)i[h]=e[(a-1)*t+h],e[a*this.n+h]=0,e[h*this.n+a]=0;else{for(c=0;c<a;c++)i[c]/=w,y+=i[c]*i[c];for(f=i[a-1],g=Math.sqrt(y),f>0&&(g=-g),n[a]=w*g,y=y-f*g,i[a-1]=f-g,h=0;h<a;h++)n[h]=0;for(h=0;h<a;h++){for(f=i[h],e[h*this.n+a]=f,g=n[h]+e[h*t+h]*f,c=h+1;c<=a-1;c++)g+=e[c*t+h]*i[c],n[c]+=e[c*t+h]*f;n[h]=g}for(f=0,h=0;h<a;h++)n[h]/=y,f+=n[h]*i[h];const I=f/(y+y);for(h=0;h<a;h++)n[h]-=I*i[h];for(h=0;h<a;h++){for(f=i[h],g=n[h],c=h;c<=a-1;c++)e[c*t+h]-=f*n[c]+g*i[c];i[h]=e[(a-1)*t+h],e[a*this.n+h]=0}}i[a]=y}for(a=0;a<t-1;a++){if(e[(t-1)*t+a]=e[a*t+a],e[a*t+a]=1,y=i[a+1],y!==0){for(c=0;c<=a;c++)i[c]=e[c*t+(a+1)]/y;for(h=0;h<=a;h++){for(g=0,c=0;c<=a;c++)g+=e[c*t+(a+1)]*e[c*t+h];for(c=0;c<=a;c++)e[c*t+h]-=g*i[c]}}for(c=0;c<=a;c++)e[c*t+(a+1)]=0}for(h=0;h<t;h++)i[h]=e[(t-1)*t+h],e[(t-1)*t+h]=0;e[(t-1)*t+(t-1)]=1,n[0]=0}tql2(){const t=this.n,e=this.V,i=this.d,n=this.e;let a,h,c,f,g,y;for(a=1;a<t;a++)n[a-1]=n[a];n[t-1]=0;let w=0,I=0;const O=Math.pow(2,-52);for(f=0;f<t;f++){I=Math.max(I,Math.abs(i[f])+Math.abs(n[f]));let N=f;for(;N<t&&!(Math.abs(n[N])<=O*I);)N++;if(N>f)do{g=i[f],y=(i[f+1]-g)/(2*n[f]);let F=Te.hypot(y,1);y<0&&(F=-F),i[f]=n[f]/(y+F),i[f+1]=n[f]*(y+F);const b=i[f+1];let v=g-i[f];for(a=f+2;a<t;a++)i[a]-=v;w=w+v,y=i[N];let E=1,B=E,Y=E;const q=n[f+1];let K=0,nt=0;for(a=N-1;a>=f;a--)for(Y=B,B=E,nt=K,g=E*n[a],v=E*y,F=Te.hypot(y,n[a]),n[a+1]=K*F,K=n[a]/F,E=y/F,y=E*i[a]-K*g,i[a+1]=v+K*(E*g+K*i[a]),c=0;c<t;c++)v=e[c*t+(a+1)],e[c*t+(a+1)]=K*e[c*t+a]+E*v,e[c*t+a]=E*e[c*t+a]-K*v;y=-K*nt*Y*q*n[f]/b,n[f]=K*y,i[f]=E*y}while(Math.abs(n[f])>O*I);i[f]=i[f]+w,n[f]=0}for(a=0;a<t-1;a++){for(c=a,y=i[a],h=a+1;h<t;h++)i[h]<y&&(c=h,y=i[h]);if(c!==a)for(i[c]=i[a],i[a]=y,h=0;h<t;h++)y=e[h*this.n+a],e[h*this.n+a]=e[h*t+c],e[h*t+c]=y}}orthes(){const t=this.n,e=this.V,i=this.H,n=this.ort;let a,h,c,f,g;const y=0,w=t-1;for(c=y+1;c<=w-1;c++){let I=0;for(a=c;a<=w;a++)I=I+Math.abs(i[a*t+(c-1)]);if(I!==0){let O=0;for(a=w;a>=c;a--)n[a]=i[a*t+(c-1)]/I,O+=n[a]*n[a];for(g=Math.sqrt(O),n[c]>0&&(g=-g),O=O-n[c]*g,n[c]=n[c]-g,h=c;h<t;h++){for(f=0,a=w;a>=c;a--)f+=n[a]*i[a*this.n+h];for(f=f/O,a=c;a<=w;a++)i[a*this.n+h]-=f*n[a]}for(a=0;a<=w;a++){for(f=0,h=w;h>=c;h--)f+=n[h]*i[a*this.n+h];for(f=f/O,h=c;h<=w;h++)i[a*this.n+h]-=f*n[h]}n[c]=I*n[c],i[c*t+(c-1)]=I*g}}for(a=0;a<t;a++)for(h=0;h<t;h++)e[a*this.n+h]=a===h?1:0;for(c=w-1;c>=y+1;c--)if(i[c*t+(c-1)]!==0){for(a=c+1;a<=w;a++)n[a]=i[a*t+(c-1)];for(h=c;h<=w;h++){for(g=0,a=c;a<=w;a++)g+=n[a]*e[a*this.n+h];for(g=g/n[c]/i[c*t+(c-1)],a=c;a<=w;a++)e[a*this.n+h]+=g*n[a]}}}cdiv(t,e,i,n){let a,h;Math.abs(i)>Math.abs(n)?(a=n/i,h=i+a*n,this.cdivr=(t+a*e)/h,this.cdivi=(e-a*t)/h):(a=i/n,h=n+a*i,this.cdivr=(a*t+e)/h,this.cdivi=(a*e-t)/h)}hqr2(){let t;const e=this.V,i=this.d,n=this.e,a=this.H;let h,c,f,g,y,w;const I=this.n;t=I-1;const O=0,N=I-1,F=Math.pow(2,-52);let b=0,v=0,E=0,B=0,Y=0,q=0,K,nt,tt,m,p=0;for(h=0;h<I;h++)for((h<O||h>N)&&(i[h]=a[h*t+h],n[h]=0),c=Math.max(h-1,0);c<I;c++)p=p+Math.abs(a[h*this.n+c]);for(w=0;t>=O;){for(g=t;g>O&&(Y=Math.abs(a[(g-1)*t+(g-1)])+Math.abs(a[g*t+g]),Y===0&&(Y=p),!(Math.abs(a[g*t+(g-1)])<F*Y));)g--;if(g===t)a[t*t+t]=a[t*t+t]+b,i[t]=a[t*t+t],n[t]=0,t--,w=0;else if(g===t-1){if(nt=a[t*t+t-1]*a[(t-1)*t+t],v=(a[(t-1)*t+(t-1)]-a[t*t+t])/2,E=v*v+nt,q=Math.sqrt(Math.abs(E)),a[t*t+t]=a[t*t+t]+b,a[(t-1)*t+(t-1)]=a[(t-1)*t+(t-1)]+b,tt=a[t*t+t],E>=0){for(v>=0?q=v+q:q=v-q,i[t-1]=tt+q,i[t]=i[t-1],q!==0&&(i[t]=tt-nt/q),n[t-1]=0,n[t]=0,tt=a[t*t+t-1],Y=Math.abs(tt)+Math.abs(q),v=tt/Y,E=q/Y,B=Math.sqrt(v*v+E*E),v=v/B,E=E/B,c=t-1;c<I;c++)q=a[(t-1)*t+c],a[(t-1)*t+c]=E*q+v*a[t*t+c],a[t*t+c]=E*a[t*t+c]-v*q;for(h=0;h<=t;h++)q=a[h*t+t-1],a[h*t+t-1]=E*q+v*a[h*t+t],a[h*t+t]=E*a[h*t+t]-v*q;for(h=O;h<=N;h++)q=e[h*t+t-1],e[h*t+t-1]=E*q+v*e[h*t+t],e[h*t+t]=E*e[h*t+t]-v*q}else i[t-1]=tt+v,i[t]=tt+v,n[t-1]=q,n[t]=-q;t=t-2,w=0}else{if(tt=a[t*t+t],m=0,nt=0,g<t&&(m=a[(t-1)*t+(t-1)],nt=a[t*t+t-1]*a[(t-1)*t+t]),w===10){for(b+=tt,h=O;h<=t;h++)a[h*t+h]-=tt;Y=Math.abs(a[t*t+t-1])+Math.abs(a[(t-1)*t+t-2]),tt=m=.75*Y,nt=-.4375*Y*Y}if(w===30&&(Y=(m-tt)/2,Y=Y*Y+nt,Y>0)){for(Y=Math.sqrt(Y),m<tt&&(Y=-Y),Y=tt-nt/((m-tt)/2+Y),h=O;h<=t;h++)a[h*t+h]-=Y;b+=Y,tt=m=nt=.964}for(w=w+1,y=t-2;y>=g&&(q=a[y*t+y],B=tt-q,Y=m-q,v=(B*Y-nt)/a[(y+1)*t+y]+a[y*t+y+1],E=a[(y+1)*t+y+1]-q-B-Y,B=a[(y+2)*t+y+1],Y=Math.abs(v)+Math.abs(E)+Math.abs(B),v=v/Y,E=E/Y,B=B/Y,!(y===g||Math.abs(a[y*t+(y-1)])*(Math.abs(E)+Math.abs(B))<F*(Math.abs(v)*(Math.abs(a[(y-1)*t+y-1])+Math.abs(q)+Math.abs(a[(y+1)*t+y+1])))));)y--;for(h=y+2;h<=t;h++)a[h*t+h-2]=0,h>y+2&&(a[h*t+h-3]=0);for(f=y;f<=t-1;f++){const Q=f!==t-1;if(f!==y&&(v=a[f*t+f-1],E=a[(f+1)*t+f-1],B=Q?a[(f+2)*t+f-1]:0,tt=Math.abs(v)+Math.abs(E)+Math.abs(B),tt!==0&&(v=v/tt,E=E/tt,B=B/tt)),tt===0)break;if(Y=Math.sqrt(v*v+E*E+B*B),v<0&&(Y=-Y),Y!==0){for(f!==y?a[f*t+f-1]=-Y*tt:g!==y&&(a[f*t+f-1]=-a[f*t+f-1]),v=v+Y,tt=v/Y,m=E/Y,q=B/Y,E=E/v,B=B/v,c=f;c<I;c++)v=a[f*t+c]+E*a[(f+1)*t+c],Q&&(v=v+B*a[(f+2)*t+c],a[(f+2)*t+c]=a[(f+2)*t+c]-v*q),a[f*t+c]=a[f*t+c]-v*tt,a[(f+1)*t+c]=a[(f+1)*t+c]-v*m;for(h=0;h<=Math.min(t,f+3);h++)v=tt*a[h*t+f]+m*a[h*t+f+1],Q&&(v=v+q*a[h*t+f+2],a[h*t+f+2]=a[h*t+f+2]-v*B),a[h*t+f]=a[h*t+f]-v,a[h*t+f+1]=a[h*t+f+1]-v*E;for(h=O;h<=N;h++)v=tt*e[h*t+f]+m*e[h*t+f+1],Q&&(v=v+q*e[h*t+f+2],e[h*t+f+2]=e[h*t+f+2]-v*B),e[h*t+f]=e[h*t+f]-v,e[h*t+f+1]=e[h*t+f+1]-v*E}}}}if(p!==0){for(t=I-1;t>=0;t--)if(v=i[t],E=n[t],E===0)for(g=t,a[t*t+t]=1,h=t-1;h>=0;h--){for(nt=a[h*t+h]-v,B=0,c=g;c<=t;c++)B=B+a[h*this.n+c]*a[c*t+t];if(n[h]<0)q=nt,Y=B;else if(g=h,n[h]===0?nt!==0?a[h*t+t]=-B/nt:a[h*t+t]=-B/(F*p):(tt=a[h*t+h+1],m=a[(h+1)*t+h],E=(i[h]-v)*(i[h]-v)+n[h]*n[h],K=(tt*Y-q*B)/E,a[h*t+t]=K,Math.abs(tt)>Math.abs(q)?a[(h+1)*t+t]=(-B-nt*K)/tt:a[(h+1)*t+t]=(-Y-m*K)/q),K=Math.abs(a[h*t+t]),F*K*K>1)for(c=h;c<=t;c++)a[c*t+t]=a[c*t+t]/K}else if(E<0)for(g=t-1,Math.abs(a[t*t+t-1])>Math.abs(a[(t-1)*t+t])?(a[(t-1)*t+(t-1)]=E/a[t*t+t-1],a[(t-1)*t+t]=-(a[t*t+t]-v)/a[t*t+t-1]):(this.cdiv(0,-a[(t-1)*t+t],a[(t-1)*t+(t-1)]-v,E),a[(t-1)*t+(t-1)]=this.cdivr,a[(t-1)*t+t]=this.cdivi),a[t*t+t-1]=0,a[t*t+t]=1,h=t-2;h>=0;h--){let Q,jt,x,us;for(Q=0,jt=0,c=g;c<=t;c++)Q=Q+a[h*this.n+c]*a[c*t+t-1],jt=jt+a[h*this.n+c]*a[c*t+t];if(nt=a[h*t+h]-v,n[h]<0)q=nt,B=Q,Y=jt;else if(g=h,n[h]===0?(this.cdiv(-Q,-jt,nt,E),a[h*t+t-1]=this.cdivr,a[h*t+t]=this.cdivi):(tt=a[h*t+h+1],m=a[(h+1)*t+h],x=(i[h]-v)*(i[h]-v)+n[h]*n[h]-E*E,us=(i[h]-v)*2*E,x===0&&us===0&&(x=F*p*(Math.abs(nt)+Math.abs(E)+Math.abs(tt)+Math.abs(m)+Math.abs(q))),this.cdiv(tt*B-q*Q+E*jt,tt*Y-q*jt-E*Q,x,us),a[h*t+t-1]=this.cdivr,a[h*t+t]=this.cdivi,Math.abs(tt)>Math.abs(q)+Math.abs(E)?(a[(h+1)*t+t-1]=(-Q-nt*a[h*t+t-1]+E*a[h*t+t])/tt,a[(h+1)*t+t]=(-jt-nt*a[h*t+t]-E*a[h*t+t-1])/tt):(this.cdiv(-B-m*a[h*t+t-1],-Y-m*a[h*t+t],q,E),a[(h+1)*t+t-1]=this.cdivr,a[(h+1)*t+t]=this.cdivi)),K=Math.max(Math.abs(a[h*t+t-1]),Math.abs(a[h*t+t])),F*K*K>1)for(c=h;c<=t;c++)a[c*t+t-1]=a[c*t+t-1]/K,a[c*t+t]=a[c*t+t]/K}for(h=0;h<I;h++)if(h<O||h>N)for(c=h;c<I;c++)e[h*this.n+c]=a[h*this.n+c];for(c=I-1;c>=O;c--)for(h=O;h<=N;h++){for(q=0,f=O;f<=Math.min(c,N);f++)q=q+e[h*t+f]*a[f*t+c];e[h*this.n+c]=q}}}}j.register("EigenvalueDecomposition",hc);const Vl=self.Float64Array||Array;class Fu{constructor(t){let e,i,n;this.matrix=t,this.LU=t.getArrayCopy();const a=this.LU;this.m=t.getRowDimension();const h=this.m;this.n=t.getColumnDimension();const c=this.n;for(this.piv=new Uint32Array(h),e=0;e<h;e++)this.piv[e]=e;this.pivsign=1;const f=new Vl(h);for(i=0;i<c;i++){for(e=0;e<h;e++)f[e]=a[t.index(e,i)];for(e=0;e<h;e++){const y=Math.min(e,i);let w=0;for(n=0;n<y;n++){const I=t.index(e,n);w+=a[I]*f[n]}f[e]-=w,a[t.index(e,i)]=f[e]}let g=i;for(e=i+1;e<h;e++)Math.abs(f[e])>Math.abs(f[g])&&(g=e);if(g!==i){for(n=0;n<c;n++){const y=t.index(g,n),w=t.index(i,n),I=a[y];a[y]=a[w],a[w]=I}n=this.piv[g],this.piv[g]=this.piv[i],this.piv[i]=n,this.pivsign=-this.pivsign}if(i<h&&a[this.matrix.index(i,i)]!==0)for(e=i+1;e<h;e++)a[t.index(e,i)]/=a[t.index(i,i)]}}isNonsingular(){for(let t=0;t<this.n;t++){const e=this.matrix.index(t,t);if(this.LU[e]===0)return!1}return!0}getL(){const t=new Te(this.m,this.n);for(let e=0;e<this.m;e++)for(let i=0;i<this.n;i++)e>i?t.entries[t.index(e,i)]=this.LU[this.matrix.index(e,i)]:e===i?t.entries[t.index(e,i)]=1:t.entries[t.index(e,i)]=0;return t}getU(){const t=new Te(this.n,this.n);for(let e=0;e<this.n;e++)for(let i=0;i<this.n;i++)e<=i?t.entries[t.index(e,i)]=this.LU[this.matrix.index(e,i)]:t.entries[t.index(e,i)]=0;return t}getPivot(){const t=new Uint32Array(this.m);for(let e=0;e<this.m;e++)t[e]=this.piv[e];return t}getDoublePivot(){const t=new Vl(this.m);for(let e=0;e<this.m;e++)t[e]=this.piv[e];return t}det(){if(this.m!==this.n)throw new Error("Matrix must be square.");let t=this.pivsign;for(let e=0;e<this.n;e++)t*=this.LU[this.matrix.index(e,e)];return t}solve(t){let e,i,n;if(t.getRowDimension()!==this.m)throw new Error("Matrix row dimensions must agree.");if(!this.isNonsingular())throw new Error("Matrix is singular.");const a=t.getColumnDimension(),h=t.getArrayRowMatrix(this.piv,0,a-1);for(n=0;n<this.n;n++)for(e=n+1;e<this.n;e++)for(i=0;i<a;i++)h.entries[h.index(e,i)]-=h.entries[h.index(n,i)]*this.LU[this.matrix.index(e,n)];for(n=this.n-1;n>=0;n--){for(i=0;i<a;i++)h.entries[h.index(n,i)]/=this.LU[this.matrix.index(n,n)];for(e=0;e<n;e++)for(i=0;i<a;i++)h.entries[h.index(e,i)]-=h.entries[h.index(n,i)]*this.LU[this.matrix.index(e,n)]}return h}}j.register("LUDecomposition",Fu);const X1=self.Float64Array||Array;class zu{constructor(t){this.matrix=t,this.QR=t.getArrayCopy();const e=this.QR;this.m=t.getRowDimension();const i=this.m;this.n=t.getColumnDimension();const n=this.n;this.Rdiag=new X1(n);let a,h,c;for(c=0;c<n;c++){let f=0;for(a=c;a<i;a++)f=Te.hypot(f,e[this.matrix.index(a,c)]);if(f!==0){for(e[this.matrix.index(c,c)]<0&&(f=-f),a=c;a<i;a++)e[this.matrix.index(a,c)]/=f;for(e[this.matrix.index(c,c)]+=1,h=c+1;h<n;h++){let g=0;for(a=c;a<i;a++)g+=e[this.matrix.index(a,c)]*e[this.matrix.index(a,h)];for(g=-g/e[this.matrix.index(c,c)],a=c;a<i;a++)e[this.matrix.index(a,h)]+=g*e[this.matrix.index(a,c)]}}this.Rdiag[c]=-f}}isFullRank(){for(let t=0;t<this.n;t++)if(this.Rdiag[t]===0)return!1;return!0}getH(){const t=new Te(this.m,this.n);for(let e=0;e<this.m;e++)for(let i=0;i<this.n;i++)e>=i?t.entries[t.index(e,i)]=this.QR[this.matrix.index(e,i)]:t.entries[t.index(e,i)]=0;return t}getR(){const t=new Te(this.n,this.n);for(let e=0;e<this.n;e++)for(let i=0;i<this.n;i++)e<i?t.entries[t.index(e,i)]=this.QR[this.matrix.index(e,i)]:e===i?t.entries[t.index(e,i)]=this.Rdiag[e]:t.entries[t.index(e,i)]=0;return t}getQ(){let t,e,i;const n=new Te(this.m,this.n);for(i=this.n-1;i>=0;i--){for(t=0;t<this.m;t++)n.entries[n.index(t,i)]=0;for(n.entries[n.index(i,i)]=1,e=i;e<this.n;e++)if(this.QR[this.matrix.index(i,i)]!==0){let a=0;for(t=i;t<this.m;t++)a+=this.QR[this.matrix.index(t,i)]*n.entries[n.index(t,e)];for(a=-a/this.QR[this.matrix.index(i,i)],t=i;t<this.m;t++)n.entries[n.index(t,e)]+=a*this.QR[this.matrix.index(t,i)]}}return n}solve(t){if(t.getRowDimension()!==this.m)throw new Error("Matrix row dimensions must agree.");if(!this.isFullRank())throw new Error("Matrix is rank deficient.");let e,i,n;const a=t.getColumnDimension(),h=t.getArrayCopy();for(n=0;n<this.n;n++)for(i=0;i<a;i++){let c=0;for(e=n;e<this.m;e++)c+=this.QR[this.matrix.index(e,n)]*h[t.index(e,i)];for(c=-c/this.QR[this.matrix.index(n,n)],e=n;e<this.m;e++)h[t.index(e,i)]+=c*this.QR[this.matrix.index(e,n)]}for(n=this.n-1;n>=0;n--){for(i=0;i<a;i++)h[t.index(n,i)]/=this.Rdiag[n];for(e=0;e<n;e++)for(i=0;i<a;i++)h[t.index(e,i)]-=h[t.index(n,i)]*this.QR[this.matrix.index(e,n)]}return new Te(this.n,a,h,!0).getMatrix(0,this.n-1,0,a-1)}}j.register("QRDecomposition",zu);const sr=self.Float64Array||Array;class wt{constructor(t,e,i,n){this.m=t,this.n=e;const a=t*e;this.size=a;let h;if(n)this.entries=i;else if(i||(i=0),this.entries=new sr(a),uc(i))for(assert&&assert(i.length===a),h=0;h<a;h++)this.entries[h]=i[h];else for(h=0;h<a;h++)this.entries[h]=i}copy(){const t=new wt(this.m,this.n);for(let e=0;e<this.size;e++)t.entries[e]=this.entries[e];return t}getArray(){return this.entries}getArrayCopy(){return new sr(this.entries)}getRowDimension(){return this.m}getColumnDimension(){return this.n}index(t,e){return t*this.n+e}get(t,e){return this.entries[this.index(t,e)]}set(t,e,i){this.entries[this.index(t,e)]=i}getMatrix(t,e,i,n){const a=new wt(e-t+1,n-i+1);for(let h=t;h<=e;h++)for(let c=i;c<=n;c++)a.entries[a.index(h-t,c-i)]=this.entries[this.index(h,c)];return a}getArrayRowMatrix(t,e,i){const n=new wt(t.length,i-e+1);for(let a=0;a<t.length;a++)for(let h=e;h<=i;h++)n.entries[n.index(a,h-e)]=this.entries[this.index(t[a],h)];return n}transpose(t){t=t||new wt(this.n,this.m),assert&&assert(t.m===this.n),assert&&assert(t.n===this.m);for(let e=0;e<this.m;e++)for(let i=0;i<this.n;i++)t.entries[t.index(i,e)]=this.entries[this.index(e,i)];return t}norm1(){let t=0;for(let e=0;e<this.n;e++){let i=0;for(let n=0;n<this.m;n++)i+=Math.abs(this.entries[this.index(n,e)]);t=Math.max(t,i)}return t}norm2(){return new xu(this).norm2()}normInf(){let t=0;for(let e=0;e<this.m;e++){let i=0;for(let n=0;n<this.n;n++)i+=Math.abs(this.entries[this.index(e,n)]);t=Math.max(t,i)}return t}normF(){let t=0;for(let e=0;e<this.m;e++)for(let i=0;i<this.n;i++)t=wt.hypot(t,this.entries[this.index(e,i)]);return t}uminus(){const t=new wt(this.m,this.n);for(let e=0;e<this.m;e++)for(let i=0;i<this.n;i++)t.entries[t.index(e,i)]=-this.entries[this.index(e,i)];return t}plus(t){this.checkMatrixDimensions(t);const e=new wt(this.m,this.n);for(let i=0;i<this.m;i++)for(let n=0;n<this.n;n++){const a=e.index(i,n);e.entries[a]=this.entries[a]+t.entries[a]}return e}plusEquals(t){this.checkMatrixDimensions(t);for(let e=0;e<this.m;e++)for(let i=0;i<this.n;i++){const n=this.index(e,i);this.entries[n]=this.entries[n]+t.entries[n]}return this}blendEquals(t,e){this.checkMatrixDimensions(t);for(let i=0;i<this.m;i++)for(let n=0;n<this.n;n++){const a=this.index(i,n),h=this.entries[a],c=t.entries[a];this.entries[a]=h+(c-h)*e}return this}minus(t){this.checkMatrixDimensions(t);const e=new wt(this.m,this.n);for(let i=0;i<this.m;i++)for(let n=0;n<this.n;n++){const a=this.index(i,n);e.entries[a]=this.entries[a]-t.entries[a]}return e}minusEquals(t){this.checkMatrixDimensions(t);for(let e=0;e<this.m;e++)for(let i=0;i<this.n;i++){const n=this.index(e,i);this.entries[n]=this.entries[n]-t.entries[n]}return this}arrayTimes(t){this.checkMatrixDimensions(t);const e=new wt(this.m,this.n);for(let i=0;i<this.m;i++)for(let n=0;n<this.n;n++){const a=e.index(i,n);e.entries[a]=this.entries[a]*t.entries[a]}return e}arrayTimesEquals(t){this.checkMatrixDimensions(t);for(let e=0;e<this.m;e++)for(let i=0;i<this.n;i++){const n=this.index(e,i);this.entries[n]=this.entries[n]*t.entries[n]}return this}arrayRightDivide(t){this.checkMatrixDimensions(t);const e=new wt(this.m,this.n);for(let i=0;i<this.m;i++)for(let n=0;n<this.n;n++){const a=this.index(i,n);e.entries[a]=this.entries[a]/t.entries[a]}return e}arrayRightDivideEquals(t){this.checkMatrixDimensions(t);for(let e=0;e<this.m;e++)for(let i=0;i<this.n;i++){const n=this.index(e,i);this.entries[n]=this.entries[n]/t.entries[n]}return this}arrayLeftDivide(t){this.checkMatrixDimensions(t);const e=new wt(this.m,this.n);for(let i=0;i<this.m;i++)for(let n=0;n<this.n;n++){const a=this.index(i,n);e.entries[a]=t.entries[a]/this.entries[a]}return e}arrayLeftDivideEquals(t){this.checkMatrixDimensions(t);for(let e=0;e<this.m;e++)for(let i=0;i<this.n;i++){const n=this.index(e,i);this.entries[n]=t.entries[n]/this.entries[n]}return this}times(t){let e,i,n,a,h,c;if(t.isMatrix){if(c=t,c.m!==this.n)throw new Error("Matrix inner dimensions must agree.");e=new wt(this.m,c.n);const f=new sr(this.n);for(n=0;n<c.n;n++){for(a=0;a<this.n;a++)f[a]=c.entries[c.index(a,n)];for(i=0;i<this.m;i++){for(h=0,a=0;a<this.n;a++)h+=this.entries[this.index(i,a)]*f[a];e.entries[e.index(i,n)]=h}}return e}else{for(h=t,e=new wt(this.m,this.n),i=0;i<this.m;i++)for(n=0;n<this.n;n++)e.entries[e.index(i,n)]=h*this.entries[this.index(i,n)];return e}}timesEquals(t){for(let e=0;e<this.m;e++)for(let i=0;i<this.n;i++){const n=this.index(e,i);this.entries[n]=t*this.entries[n]}return this}solve(t){return this.m===this.n?new Fu(this).solve(t):new zu(this).solve(t)}solveTranspose(t){return this.transpose().solve(t.transpose())}inverse(){return this.solve(wt.identity(this.m,this.m))}det(){return new Fu(this).det()}rank(){return new xu(this).rank()}cond(){return new xu(this).cond()}trace(){let t=0;for(let e=0;e<Math.min(this.m,this.n);e++)t+=this.entries[this.index(e,e)];return t}checkMatrixDimensions(t){if(t.m!==this.m||t.n!==this.n)throw new Error("Matrix dimensions must agree.")}toString(){let t="";t+=`dim: ${this.getRowDimension()}x${this.getColumnDimension()}
`;for(let e=0;e<this.getRowDimension();e++){for(let i=0;i<this.getColumnDimension();i++)t+=`${this.get(e,i)} `;t+=`
`}return t}extractVector2(t){return assert&&assert(this.m===2),new $(this.get(0,t),this.get(1,t))}extractVector3(t){return assert&&assert(this.m===3),new lt(this.get(0,t),this.get(1,t),this.get(2,t))}extractVector4(t){return assert&&assert(this.m===4),new ie(this.get(0,t),this.get(1,t),this.get(2,t),this.get(3,t))}setVectors3(t){const i=t.length;assert&&assert(this.m===3),assert&&assert(this.n===i);for(let n=0;n<i;n++){const a=t[n];this.entries[n]=a.x,this.entries[n+i]=a.y,this.entries[n+2*i]=a.z}return this}static hypot(t,e){let i;return Math.abs(t)>Math.abs(e)?(i=e/t,i=Math.abs(t)*Math.sqrt(1+i*i)):e!==0?(i=t/e,i=Math.abs(e)*Math.sqrt(1+i*i)):i=0,i}static identity(t,e){const i=new wt(t,e);for(let n=0;n<t;n++)for(let a=0;a<e;a++)i.entries[i.index(n,a)]=n===a?1:0;return i}static diagonalMatrix(t){const e=t.length,i=new wt(e,e);for(let n=0;n<e;n++)i.entries[i.index(n,n)]=t[n];return i}static rowVector2(t){return new wt(1,2,[t.x,t.y])}static rowVector3(t){return new wt(1,3,[t.x,t.y,t.z])}static rowVector4(t){return new wt(1,4,[t.x,t.y,t.z,t.w])}static rowVector(t){if(t.isVector2)return wt.rowVector2(t);if(t.isVector3)return wt.rowVector3(t);if(t.isVector4)return wt.rowVector4(t);throw new Error(`undetected type of vector: ${t.toString()}`)}static columnVector2(t){return new wt(2,1,[t.x,t.y])}static columnVector3(t){return new wt(3,1,[t.x,t.y,t.z])}static columnVector4(t){return new wt(4,1,[t.x,t.y,t.z,t.w])}static columnVector(t){if(t.isVector2)return wt.columnVector2(t);if(t.isVector3)return wt.columnVector3(t);if(t.isVector4)return wt.columnVector4(t);throw new Error(`undetected type of vector: ${t.toString()}`)}static fromVectors2(t){const i=t.length,n=new sr(2*i);for(let a=0;a<i;a++){const h=t[a];n[a]=h.x,n[a+i]=h.y}return new wt(2,i,n,!0)}static fromVectors3(t){const i=t.length,n=new sr(3*i);for(let a=0;a<i;a++){const h=t[a];n[a]=h.x,n[a+i]=h.y,n[a+2*i]=h.z}return new wt(3,i,n,!0)}static fromVectors4(t){const i=t.length,n=new sr(4*i);for(let a=0;a<i;a++){const h=t[a];n[a]=h.x,n[a+i]=h.y,n[a+2*i]=h.z,n[a+3*i]=h.w}return new wt(4,i,n,!0)}}wt.prototype.isMatrix=!0;j.register("Matrix",wt);const Te=wt,zr=self.Float64Array||Array;class Qn{constructor(t){this.matrix=t;const e=t,i=e.getArrayCopy();this.m=e.getRowDimension(),this.n=e.getColumnDimension();const n=this.m,a=this.n,h=Math.min,c=Math.max,f=Math.pow,g=Math.abs,y=h(n,a);this.s=new zr(h(n+1,a));const w=this.s;this.U=new zr(n*y);const I=this.U;this.V=new zr(a*a);const O=this.V,N=new zr(a),F=new zr(n);let b,v,E,B,Y,q,K;const nt=Te.hypot,tt=h(n-1,a),m=c(0,h(a-2,n));for(E=0;E<c(tt,m);E++){if(E<tt){for(w[E]=0,b=E;b<n;b++)w[E]=nt(w[E],i[b*a+E]);if(w[E]!==0){for(i[E*a+E]<0&&(w[E]=-w[E]),b=E;b<n;b++)i[b*a+E]/=w[E];i[E*a+E]+=1}w[E]=-w[E]}for(v=E+1;v<a;v++){if(E<tt&&w[E]!==0){for(B=0,b=E;b<n;b++)B+=i[b*a+E]*i[b*a+v];for(B=-B/i[E*a+E],b=E;b<n;b++)i[b*a+v]+=B*i[b*a+E]}N[v]=i[E*a+v]}if(E<tt)for(b=E;b<n;b++)I[b*y+E]=i[b*a+E];if(E<m){for(N[E]=0,b=E+1;b<a;b++)N[E]=nt(N[E],N[b]);if(N[E]!==0){for(N[E+1]<0&&(N[E]=-N[E]),b=E+1;b<a;b++)N[b]/=N[E];N[E+1]+=1}if(N[E]=-N[E],E+1<n&&N[E]!==0){for(b=E+1;b<n;b++)F[b]=0;for(v=E+1;v<a;v++)for(b=E+1;b<n;b++)F[b]+=N[v]*i[b*a+v];for(v=E+1;v<a;v++)for(B=-N[v]/N[E+1],b=E+1;b<n;b++)i[b*a+v]+=B*F[b]}for(b=E+1;b<a;b++)O[b*a+E]=N[b]}}let p=h(a,n+1);tt<a&&(w[tt]=i[tt*a+tt]),n<p&&(w[p-1]=0),m+1<p&&(N[m]=i[m*a+p-1]),N[p-1]=0;{for(v=tt;v<y;v++){for(b=0;b<n;b++)I[b*y+v]=0;I[v*y+v]=1}for(E=tt-1;E>=0;E--)if(w[E]!==0){for(v=E+1;v<y;v++){for(B=0,b=E;b<n;b++)B+=I[b*y+E]*I[b*y+v];for(B=-B/I[E*y+E],b=E;b<n;b++)I[b*y+v]+=B*I[b*y+E]}for(b=E;b<n;b++)I[b*y+E]=-I[b*y+E];for(I[E*y+E]=1+I[E*y+E],b=0;b<E-1;b++)I[b*y+E]=0}else{for(b=0;b<n;b++)I[b*y+E]=0;I[E*y+E]=1}}for(E=a-1;E>=0;E--){if(E<m&&N[E]!==0)for(v=E+1;v<y;v++){for(B=0,b=E+1;b<a;b++)B+=O[b*a+E]*O[b*a+v];for(B=-B/O[(E+1)*a+E],b=E+1;b<a;b++)O[b*a+v]+=B*O[b*a+E]}for(b=0;b<a;b++)O[b*a+E]=0;O[E*a+E]=1}const Q=p-1;let jt=0;const x=f(2,-52),us=f(2,-966);for(;p>0;){let Je;if(jt>500)break;for(E=p-2;E>=-1&&E!==-1;E--)if(g(N[E])<=us+x*(g(w[E])+g(w[E+1]))){N[E]=0;break}if(E===p-2)Je=4;else{let U;for(U=p-1;U>=E&&U!==E;U--)if(B=(U!==p?g(N[U]):0)+(U!==E+1?g(N[U-1]):0),g(w[U])<=us+x*B){w[U]=0;break}U===E?Je=3:U===p-1?Je=1:(Je=2,E=U)}switch(E++,Je){case 1:for(Y=N[p-2],N[p-2]=0,v=p-2;v>=E;v--)for(B=nt(w[v],Y),q=w[v]/B,K=Y/B,w[v]=B,v!==E&&(Y=-K*N[v-1],N[v-1]=q*N[v-1]),b=0;b<a;b++)B=q*O[b*a+v]+K*O[b*a+p-1],O[b*a+p-1]=-K*O[b*a+v]+q*O[b*a+p-1],O[b*a+v]=B;break;case 2:for(Y=N[E-1],N[E-1]=0,v=E;v<p;v++)for(B=nt(w[v],Y),q=w[v]/B,K=Y/B,w[v]=B,Y=-K*N[v],N[v]=q*N[v],b=0;b<n;b++)B=q*I[b*y+v]+K*I[b*y+E-1],I[b*y+E-1]=-K*I[b*y+v]+q*I[b*y+E-1],I[b*y+v]=B;break;case 3:{const U=c(c(c(c(g(w[p-1]),g(w[p-2])),g(N[p-2])),g(w[E])),g(N[E])),ht=w[p-1]/U,Rt=w[p-2]/U,At=N[p-2]/U,st=w[E]/U,mt=N[E]/U,Gt=((Rt+ht)*(Rt-ht)+At*At)/2,Lt=ht*At*(ht*At);let pt=0;(Gt!==0||Lt!==0)&&(pt=Math.sqrt(Gt*Gt+Lt),Gt<0&&(pt=-pt),pt=Lt/(Gt+pt)),Y=(st+ht)*(st-ht)+pt;let Ot=st*mt;for(v=E;v<p-1;v++){for(B=nt(Y,Ot),q=Y/B,K=Ot/B,v!==E&&(N[v-1]=B),Y=q*w[v]+K*N[v],N[v]=q*N[v]-K*w[v],Ot=K*w[v+1],w[v+1]=q*w[v+1],b=0;b<a;b++)B=q*O[b*a+v]+K*O[b*a+v+1],O[b*a+v+1]=-K*O[b*a+v]+q*O[b*a+v+1],O[b*a+v]=B;if(B=nt(Y,Ot),q=Y/B,K=Ot/B,w[v]=B,Y=q*N[v]+K*w[v+1],w[v+1]=-K*N[v]+q*w[v+1],Ot=K*N[v+1],N[v+1]=q*N[v+1],v<n-1)for(b=0;b<n;b++)B=q*I[b*y+v]+K*I[b*y+v+1],I[b*y+v+1]=-K*I[b*y+v]+q*I[b*y+v+1],I[b*y+v]=B}N[p-2]=Y,jt=jt+1}break;case 4:{if(w[E]<=0)for(w[E]=w[E]<0?-w[E]:0,b=0;b<=Q;b++)O[b*a+E]=-O[b*a+E];for(;E<Q&&!(w[E]>=w[E+1]);){if(B=w[E],w[E]=w[E+1],w[E+1]=B,E<a-1)for(b=0;b<a;b++)B=O[b*a+E+1],O[b*a+E+1]=O[b*a+E],O[b*a+E]=B;if(E<n-1)for(b=0;b<n;b++)B=I[b*y+E+1],I[b*y+E+1]=I[b*y+E],I[b*y+E]=B;E++}jt=0,p--}break;default:throw new Error(`invalid kase: ${Je}`)}}}getU(){return new Te(this.m,Math.min(this.m+1,this.n),this.U,!0)}getV(){return new Te(this.n,this.n,this.V,!0)}getSingularValues(){return this.s}getS(){const t=new Te(this.n,this.n);for(let e=0;e<this.n;e++){for(let i=0;i<this.n;i++)t.entries[t.index(e,i)]=0;t.entries[t.index(e,e)]=this.s[e]}return t}norm2(){return this.s[0]}cond(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}rank(){const t=Math.pow(2,-23),e=Math.max(this.m,this.n)*this.s[0]*t;let i=0;for(let n=0;n<this.s.length;n++)this.s[n]>e&&i++;return i}static pseudoinverse(t){const e=new Qn(t),i=Te.diagonalMatrix(e.getSingularValues().map(n=>Math.abs(n)<1e-300?0:1/n));return e.getV().times(i).times(e.getU().transpose())}}j.register("SingularValueDecomposition",Qn);const xu=Qn,rt=class rt{constructor(t,e){this.real=t,this.imaginary=e}copy(t){return t?t.set(this):new rt(this.real,this.imaginary)}phase(){return Math.atan2(this.imaginary,this.real)}getMagnitude(){return Math.sqrt(this.magnitudeSquared)}get magnitude(){return this.getMagnitude()}getMagnitudeSquared(){return this.real*this.real+this.imaginary*this.imaginary}get magnitudeSquared(){return this.getMagnitudeSquared()}getArgument(){return Math.atan2(this.imaginary,this.real)}get argument(){return this.getArgument()}equals(t){return this.real===t.real&&this.imaginary===t.imaginary}equalsEpsilon(t,e=0){return Math.max(Math.abs(this.real-t.real),Math.abs(this.imaginary-t.imaginary))<=e}plus(t){return new rt(this.real+t.real,this.imaginary+t.imaginary)}minus(t){return new rt(this.real-t.real,this.imaginary-t.imaginary)}times(t){return new rt(this.real*t.real-this.imaginary*t.imaginary,this.real*t.imaginary+this.imaginary*t.real)}dividedBy(t){const e=t.magnitudeSquared;return new rt((this.real*t.real+this.imaginary*t.imaginary)/e,(this.imaginary*t.real-this.real*t.imaginary)/e)}negated(){return new rt(-this.real,-this.imaginary)}sqrtOf(){const t=this.magnitude;return new rt(Math.sqrt((t+this.real)/2),(this.imaginary>=0?1:-1)*Math.sqrt((t-this.real)/2))}powerByReal(t){const e=Math.pow(this.magnitude,t),i=t*this.phase();return new rt(e*Math.cos(i),e*Math.sin(i))}sinOf(){return new rt(Math.sin(this.real)*Tt.cosh(this.imaginary),Math.cos(this.real)*Tt.sinh(this.imaginary))}cosOf(){return new rt(Math.cos(this.real)*Tt.cosh(this.imaginary),-Math.sin(this.real)*Tt.sinh(this.imaginary))}squared(){return this.times(this)}conjugated(){return new rt(this.real,-this.imaginary)}exponentiated(){return rt.createPolar(Math.exp(this.real),this.imaginary)}setRealImaginary(t,e){return this.real=t,this.imaginary=e,this}setReal(t){return this.real=t,this}setImaginary(t){return this.imaginary=t,this}set(t){return this.setRealImaginary(t.real,t.imaginary)}setPolar(t,e){return this.setRealImaginary(t*Math.cos(e),t*Math.sin(e))}add(t){return this.setRealImaginary(this.real+t.real,this.imaginary+t.imaginary)}subtract(t){return this.setRealImaginary(this.real-t.real,this.imaginary-t.imaginary)}multiply(t){return this.setRealImaginary(this.real*t.real-this.imaginary*t.imaginary,this.real*t.imaginary+this.imaginary*t.real)}divide(t){const e=t.magnitudeSquared;return this.setRealImaginary((this.real*t.real+this.imaginary*t.imaginary)/e,(this.imaginary*t.real-this.real*t.imaginary)/e)}negate(){return this.setRealImaginary(-this.real,-this.imaginary)}exponentiate(){return this.setPolar(Math.exp(this.real),this.imaginary)}square(){return this.multiply(this)}sqrt(){const t=this.magnitude;return this.setRealImaginary(Math.sqrt((t+this.real)/2),(this.imaginary>=0?1:-1)*Math.sqrt((t-this.real)/2))}sin(){return this.setRealImaginary(Math.sin(this.real)*Tt.cosh(this.imaginary),Math.cos(this.real)*Tt.sinh(this.imaginary))}cos(){return this.setRealImaginary(Math.cos(this.real)*Tt.cosh(this.imaginary),-Math.sin(this.real)*Tt.sinh(this.imaginary))}conjugate(){return this.setRealImaginary(this.real,-this.imaginary)}getCubeRoots(){const t=this.argument/3,e=this.magnitude,i=rt.real(Math.cbrt(e));return[i.times(rt.imaginary(t).exponentiate()),i.times(rt.imaginary(t+Math.PI*2/3).exponentiate()),i.times(rt.imaginary(t-Math.PI*2/3).exponentiate())]}toString(){return`Complex(${this.real}, ${this.imaginary})`}static real(t){return new rt(t,0)}static imaginary(t){return new rt(0,t)}static createPolar(t,e){return new rt(t*Math.cos(e),t*Math.sin(e))}static solveLinearRoots(t,e){return t.equals(rt.ZERO)?e.equals(rt.ZERO)?null:[]:[e.dividedBy(t).negate()]}static solveQuadraticRoots(t,e,i){if(t.equals(rt.ZERO))return rt.solveLinearRoots(e,i);const n=rt.real(2).multiply(t),a=e.times(e),h=rt.real(4).multiply(t).multiply(i),c=a.subtract(h).sqrt();return[c.minus(e).divide(n),c.negated().subtract(e).divide(n)]}static solveCubicRoots(t,e,i,n){if(t.equals(rt.ZERO))return rt.solveQuadraticRoots(e,i,n);const a=t.times(rt.real(3)).negate(),h=t.times(t),c=e.times(e),f=c.times(e),g=i.times(i),y=g.times(i),w=t.times(e).times(i),I=c,O=t.times(i).times(rt.real(3)),N=f.times(rt.real(2)).add(h.times(n).multiply(rt.real(27))),F=w.times(rt.real(9));if(I.equals(O)&&N.equals(F)){const q=e.divide(a);return[q,q,q]}const b=I.minus(O),v=N.minus(F),E=w.times(n).multiply(rt.real(18)).add(c.times(g)),B=f.times(n).multiply(rt.real(4)).add(y.times(t).multiply(rt.real(4))).add(h.times(n).multiply(n).multiply(rt.real(27)));if(E.equals(B)){const q=w.times(rt.real(4)).subtract(f.plus(h.times(n).multiply(rt.real(9)))).divide(t.times(b)),K=t.times(n).multiply(rt.real(9)).subtract(e.times(i)).divide(b.times(rt.real(2)));return[q,K,K]}let Y;return I.equals(O)?Y=v:Y=v.plus(v.times(v).subtract(b.times(b).multiply(b).multiply(rt.real(4))).sqrt()).divide(rt.real(2)),Y.getCubeRoots().map(q=>e.plus(q).add(b.dividedBy(q)).divide(a))}};rt.ZERO=new rt(0,0),rt.ONE=new rt(1,0),rt.I=new rt(0,1);let he=rt;j.register("Complex",he);class oc{constructor(t){this.rootBin=new cr(t,null)}allocate(t,e){const i=this.rootBin.findAvailableBin(t,e);if(i){const n=i.split(t,e);return n.use(),n}else return null}deallocate(t){t.unuse()}toString(){let t="",e="";function i(n){t+=`${e+n.toString()}
`,e=`${e}  `,_.each(n.children,i),e=e.substring(2)}return i(this.rootBin),t}}j.register("BinPacker",oc);class cr{constructor(t,e){this.bounds=t,this.parent=e,this.isSplit=!1,this.isUsed=!1,this.children=[]}findAvailableBin(t,e){if(assert&&assert(t>0&&e>0,"Empty bin requested?"),this.isUsed)return null;if(this.bounds.width<t||this.bounds.height<e)return null;if(this.isSplit){for(let i=0;i<this.children.length;i++){const n=this.children[i].findAvailableBin(t,e);if(n)return n}return null}else return this}split(t,e){if(assert&&assert(this.bounds.width>=t&&this.bounds.height>=e,"Bin does not have space"),assert&&assert(!this.isSplit,"Bin should not be re-split"),assert&&assert(!this.isUsed,"Bin should not be split when used"),assert&&assert(t>0&&e>0,"Empty bin requested?"),t===this.bounds.width&&e===this.bounds.height)return this;this.isSplit=!0;const i=this.bounds.minX+t,n=this.bounds.minY+e,a=new Ve(this.bounds.minX,this.bounds.minY,i,n),h=new Ve(i,this.bounds.minY,this.bounds.maxX,n),c=new Ve(this.bounds.minX,n,this.bounds.maxX,this.bounds.maxY),f=new cr(a,this);return this.children.push(f),h.hasNonzeroArea()&&this.children.push(new cr(h,this)),c.hasNonzeroArea()&&this.children.push(new cr(c,this)),f}use(){assert&&assert(!this.isSplit,"Should not mark a split bin as used"),assert&&assert(!this.isUsed,"Should not mark a used bin as used"),this.isUsed=!0}unuse(){assert&&assert(this.isUsed,"Can only unuse a used instance"),this.isUsed=!1,this.parent&&this.parent.attemptToCollapse()}attemptToCollapse(){assert&&assert(this.isSplit,"Should only attempt to collapse split bins");for(let t=0;t<this.children.length;t++){const e=this.children[t];if(e.isSplit||e.isUsed)return}this.children=[],this.isSplit=!1,this.parent&&this.parent.attemptToCollapse()}toString(){return this.bounds.toString()+(this.isUsed?" used":"")}}oc.Bin=cr;const q1={width:ee,height:ee},fi=class fi{constructor(t,e){this.width=t,this.height=e}toString(){return`[${this.width}w, ${this.height}h]`}set(t){return this.width=t.width,this.height=t.height,this}setWidth(t){return this.width=t,this}setHeight(t){return this.height=t,this}copy(t){return t?t.set(this):new fi(this.width,this.height)}swapped(){return new fi(this.height,this.width)}toBounds(t,e){return t=t!==void 0?t:0,e=e!==void 0?e:0,new Ve(t,e,this.width+t,this.height+e)}equals(t){return this.width===t.width&&this.height===t.height}toStateObject(){return{width:ee.toStateObject(this.width),height:ee.toStateObject(this.height)}}static fromStateObject(t){return new fi(ee.fromStateObject(t.width),ee.fromStateObject(t.height))}};fi.Dimension2IO=new Bt("Dimension2IO",{valueType:fi,documentation:'A dimension with "width" and "height" members.',stateSchema:q1,toStateObject:t=>t.toStateObject(),fromStateObject:t=>fi.fromStateObject(t)});let Pu=fi;j.register("Dimension2",Pu);class Ks{constructor(t){this.indices=t}size(){return this.indices.length}apply(t){if(typeof t=="number")return this.indices[t];{if(t.length!==this.size())throw new Error(`Permutation length ${this.size()} not equal to list length ${t.length}`);const e=new Array(t.length);for(let i=0;i<t.length;i++)e[i]=t[this.indices[i]];return e}}inverted(){const t=new Array(this.size());for(let e=0;e<this.size();e++)t[this.indices[e]]=e;return new Ks(t)}withIndicesPermuted(t){const e=[];return Ks.forEachPermutation(t,i=>{const n=this.indices,a=n.slice(0);for(let h=0;h<t.length;h++)a[t[h]]=n[i[h]];e.push(new Ks(a))}),e}toString(){return`P[${this.indices.join(", ")}]`}equals(t){return this.indices.length===t.indices.length&&_.isEqual(this.indices,t.indices)}static identity(t){assert&&assert(t>=0);const e=new Array(t);for(let i=0;i<t;i++)e[i]=i;return new Ks(e)}static permutations(t){const e=[];return Ks.forEachPermutation(Tt.rangeInclusive(0,t-1),i=>{e.push(new Ks(i.slice()))}),e}static forEachPermutation(t,e){lc(t,[],e)}static permutationsOf(t){const e=[];return Ks.forEachPermutation(t,i=>{e.push(i.slice())}),e}}j.register("Permutation",Ks);function lc(o,t,e){if(o.length===0)e(t);else for(let i=0;i<o.length;i++){const n=o[i],a=o.slice(0);a.splice(i,1);const h=t.slice(0);h.push(n),lc(a,h,e)}}const z1={isValidValue:o=>!isNaN(o.x)&&!isNaN(o.y),validationMessage:"Vector2 x/y should not be NaN"};class k1 extends ac{constructor(t,e){const i=Ie()({valueType:$,validBounds:null,validators:[],phetioValueType:$.Vector2IO},e);i.validators.push(z1),i.validBounds&&i.validators.push({validationMessage:"Vector2 is not within validBounds",isValidValue:n=>i.validBounds.containsPoint(n)}),super(t,i),this.validBounds=i.validBounds}}j.register("Vector2Property",k1);class U1{constructor(t,e,i,n,a=!1){this.a1=t,this.a2=e,this.b1=i,this.b2=n,this.clamp=a}evaluate(t){return _l(this.a1,this.a2,this.b1,this.b2,t,this.clamp)}inverse(t){return _l(this.b1,this.b2,this.a1,this.a2,t,this.clamp)}}const _l=(o,t,e,i,n,a)=>{let h=Tt.linear(o,t,e,i,n);if(a){const c=Math.max(e,i),f=Math.min(e,i);h=Tt.clamp(h,f,c)}return h};j.register("LinearFunction",U1);class Js{constructor(t){assert&&assert(t.length>0),assert&&t.forEach((e,i)=>{i<t.length-1&&assert&&assert(e.x<t[i+1].x,"Points should be strictly increasing in x value (ordered by their x value)")}),this.points=t.slice();for(let e=0;e<this.points.length-2;e++){const i=this.points[e],n=this.points[e+1],a=this.points[e+2];Tt.arePointsCollinear(i,n,a)&&(this.points.splice(e+1,1),e--)}}findMatchingPair(t){assert&&assert(this.points.length>1);let e=0;for(;e<this.points.length-2&&this.points[e+1].x<t;)e++;return[this.points[e],this.points[e+1]]}evaluate(t){if(this.points.length===1)return this.points[0].y;{const[e,i]=this.findMatchingPair(t);return e.x===t?e.y:i.x===t?i.y:Tt.linear(e.x,i.x,e.y,i.y,t)}}getCombinedXValues(t){return Js.sortedUniqueEpsilon(this.points.map(e=>e.x).concat(t.points.map(e=>e.x)))}getIntersectedXValues(t){const e=this.getCombinedXValues(t),i=[];for(let a=0;a<e.length-1;a++){const h=e[a],c=e[a+1],f=Tt.lineLineIntersection(new $(h,this.evaluate(h)),new $(c,this.evaluate(c)),new $(h,t.evaluate(h)),new $(c,t.evaluate(c)));f&&(a===0||f.x>h)&&(a===e.length-2||f.x<c)&&i.push(f.x)}const n=Js.sortedUniqueEpsilon([...e,...i]);return[n[0]-1,...n,n[n.length-1]+1]}binaryXOperation(t,e,i){return new Js(i.map(n=>new $(n,e(this.evaluate(n),t.evaluate(n)))))}binaryPointwiseOperation(t,e){return this.binaryXOperation(t,e,this.getCombinedXValues(t))}binaryIntersectingOperation(t,e){return this.binaryXOperation(t,e,this.getIntersectedXValues(t))}plus(t){return this.binaryPointwiseOperation(t,(e,i)=>e+i)}minus(t){return this.binaryPointwiseOperation(t,(e,i)=>e-i)}min(t){return this.binaryIntersectingOperation(t,Math.min)}max(t){return this.binaryIntersectingOperation(t,Math.max)}withXValues(t){return new Js(t.map(e=>new $(e,this.evaluate(e))))}inverted(){const t=this.points.map(e=>new $(e.y,e.x));return t.length>1&&t[0].x>t[1].x&&t.reverse(),new Js(t)}static sum(...t){return t.reduce((e,i)=>e.plus(i))}static min(...t){return t.reduce((e,i)=>e.min(i))}static max(...t){return t.reduce((e,i)=>e.max(i))}static constant(t){return new Js([new $(0,t)])}static linear(t,e){return new Js([new $(0,e),new $(1,t+e)])}static sortedUniqueEpsilon(t,e=1e-10){t=_.sortBy(t);for(let i=0;i<t.length-1;i++)Math.abs(t[i]-t[i+1])<e&&(t.splice(i,1),i--);return t}}j.register("CompletePiecewiseLinearFunction",Js);const St=class St{constructor(t,e,i,n,a,h){this.minX=t,this.minY=e,this.minZ=i,this.maxX=n,this.maxY=a,this.maxZ=h,this.isBounds=!0,this.dimension=3,assert&&assert(a!==void 0,"Bounds3 requires 4 parameters")}getWidth(){return this.maxX-this.minX}get width(){return this.getWidth()}getHeight(){return this.maxY-this.minY}get height(){return this.getHeight()}getDepth(){return this.maxZ-this.minZ}get depth(){return this.getDepth()}getX(){return this.minX}get x(){return this.getX()}getY(){return this.minY}get y(){return this.getY()}getZ(){return this.minZ}get z(){return this.getZ()}getMinX(){return this.minX}getMinY(){return this.minY}getMinZ(){return this.minZ}getMaxX(){return this.maxX}getMaxY(){return this.maxY}getMaxZ(){return this.maxZ}getLeft(){return this.minX}get left(){return this.minX}getTop(){return this.minY}get top(){return this.minY}getBack(){return this.minZ}get back(){return this.minZ}getRight(){return this.maxX}get right(){return this.maxX}getBottom(){return this.maxY}get bottom(){return this.maxY}getFront(){return this.maxZ}get front(){return this.maxZ}getCenterX(){return(this.maxX+this.minX)/2}get centerX(){return this.getCenterX()}getCenterY(){return(this.maxY+this.minY)/2}get centerY(){return this.getCenterY()}getCenterZ(){return(this.maxZ+this.minZ)/2}get centerZ(){return this.getCenterZ()}getCenter(){return new lt(this.getCenterX(),this.getCenterY(),this.getCenterZ())}get center(){return this.getCenter()}isEmpty(){return this.getWidth()<0||this.getHeight()<0||this.getDepth()<0}isFinite(){return isFinite(this.minX)&&isFinite(this.minY)&&isFinite(this.minZ)&&isFinite(this.maxX)&&isFinite(this.maxY)&&isFinite(this.maxZ)}hasNonzeroArea(){return this.getWidth()>0&&this.getHeight()>0&&this.getDepth()>0}isValid(){return!this.isEmpty()&&this.isFinite()}containsCoordinates(t,e,i){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY&&this.minZ<=i&&i<=this.maxZ}containsPoint(t){return this.containsCoordinates(t.x,t.y,t.z)}containsBounds(t){return this.minX<=t.minX&&this.maxX>=t.maxX&&this.minY<=t.minY&&this.maxY>=t.maxY&&this.minZ<=t.minZ&&this.maxZ>=t.maxZ}intersectsBounds(t){return!this.intersection(t).isEmpty()}toString(){return`[x:(${this.minX},${this.maxX}),y:(${this.minY},${this.maxY}),z:(${this.minZ},${this.maxZ})]`}equals(t){return this.minX===t.minX&&this.minY===t.minY&&this.minZ===t.minZ&&this.maxX===t.maxX&&this.maxY===t.maxY&&this.maxZ===t.maxZ}equalsEpsilon(t,e){e=e!==void 0?e:0;const i=this.isFinite(),n=t.isFinite();return i&&n?Math.abs(this.minX-t.minX)<e&&Math.abs(this.minY-t.minY)<e&&Math.abs(this.minZ-t.minZ)<e&&Math.abs(this.maxX-t.maxX)<e&&Math.abs(this.maxY-t.maxY)<e&&Math.abs(this.maxZ-t.maxZ)<e:i!==n?!1:this===t?!0:(isFinite(this.minX+t.minX)?Math.abs(this.minX-t.minX)<e:this.minX===t.minX)&&(isFinite(this.minY+t.minY)?Math.abs(this.minY-t.minY)<e:this.minY===t.minY)&&(isFinite(this.minZ+t.minZ)?Math.abs(this.minZ-t.minZ)<e:this.minZ===t.minZ)&&(isFinite(this.maxX+t.maxX)?Math.abs(this.maxX-t.maxX)<e:this.maxX===t.maxX)&&(isFinite(this.maxY+t.maxY)?Math.abs(this.maxY-t.maxY)<e:this.maxY===t.maxY)&&(isFinite(this.maxZ+t.maxZ)?Math.abs(this.maxZ-t.maxZ)<e:this.maxZ===t.maxZ)}copy(t){return t?t.set(this):new St(this.minX,this.minY,this.minZ,this.maxX,this.maxY,this.maxZ)}union(t){return new St(Math.min(this.minX,t.minX),Math.min(this.minY,t.minY),Math.min(this.minZ,t.minZ),Math.max(this.maxX,t.maxX),Math.max(this.maxY,t.maxY),Math.max(this.maxZ,t.maxZ))}intersection(t){return new St(Math.max(this.minX,t.minX),Math.max(this.minY,t.minY),Math.max(this.minZ,t.minZ),Math.min(this.maxX,t.maxX),Math.min(this.maxY,t.maxY),Math.min(this.maxZ,t.maxZ))}withCoordinates(t,e,i){return new St(Math.min(this.minX,t),Math.min(this.minY,e),Math.min(this.minZ,i),Math.max(this.maxX,t),Math.max(this.maxY,e),Math.max(this.maxZ,i))}withPoint(t){return this.withCoordinates(t.x,t.y,t.z)}withMinX(t){return new St(t,this.minY,this.minZ,this.maxX,this.maxY,this.maxZ)}withMinY(t){return new St(this.minX,t,this.minZ,this.maxX,this.maxY,this.maxZ)}withMinZ(t){return new St(this.minX,this.minY,t,this.maxX,this.maxY,this.maxZ)}withMaxX(t){return new St(this.minX,this.minY,this.minZ,t,this.maxY,this.maxZ)}withMaxY(t){return new St(this.minX,this.minY,this.minZ,this.maxX,t,this.maxZ)}withMaxZ(t){return new St(this.minX,this.minY,this.minZ,this.maxX,this.maxY,t)}roundedOut(){return new St(Math.floor(this.minX),Math.floor(this.minY),Math.floor(this.minZ),Math.ceil(this.maxX),Math.ceil(this.maxY),Math.ceil(this.maxZ))}roundedIn(){return new St(Math.ceil(this.minX),Math.ceil(this.minY),Math.ceil(this.minZ),Math.floor(this.maxX),Math.floor(this.maxY),Math.floor(this.maxZ))}transformed(t){return this.copy().transform(t)}dilated(t){return this.dilatedXYZ(t,t,t)}dilatedX(t){return new St(this.minX-t,this.minY,this.minZ,this.maxX+t,this.maxY,this.maxZ)}dilatedY(t){return new St(this.minX,this.minY-t,this.minZ,this.maxX,this.maxY+t,this.maxZ)}dilatedZ(t){return new St(this.minX,this.minY,this.minZ-t,this.maxX,this.maxY,this.maxZ+t)}dilatedXYZ(t,e,i){return new St(this.minX-t,this.minY-e,this.minZ-i,this.maxX+t,this.maxY+e,this.maxZ+i)}eroded(t){return this.dilated(-t)}erodedX(t){return this.dilatedX(-t)}erodedY(t){return this.dilatedY(-t)}erodedZ(t){return this.dilatedZ(-t)}erodedXYZ(t,e,i){return this.dilatedXYZ(-t,-e,-i)}shiftedX(t){return new St(this.minX+t,this.minY,this.minZ,this.maxX+t,this.maxY,this.maxZ)}shiftedY(t){return new St(this.minX,this.minY+t,this.minZ,this.maxX,this.maxY+t,this.maxZ)}shiftedZ(t){return new St(this.minX,this.minY,this.minZ+t,this.maxX,this.maxY,this.maxZ+t)}shiftedXYZ(t,e,i){return new St(this.minX+t,this.minY+e,this.minZ+i,this.maxX+t,this.maxY+e,this.maxZ+i)}shifted(t){return this.shiftedXYZ(t.x,t.y,t.z)}setMinMax(t,e,i,n,a,h){return this.minX=t,this.minY=e,this.minZ=i,this.maxX=n,this.maxY=a,this.maxZ=h,this}setMinX(t){return this.minX=t,this}setMinY(t){return this.minY=t,this}setMinZ(t){return this.minZ=t,this}setMaxX(t){return this.maxX=t,this}setMaxY(t){return this.maxY=t,this}setMaxZ(t){return this.maxZ=t,this}set(t){return this.setMinMax(t.minX,t.minY,t.minZ,t.maxX,t.maxY,t.maxZ)}includeBounds(t){return this.setMinMax(Math.min(this.minX,t.minX),Math.min(this.minY,t.minY),Math.min(this.minZ,t.minZ),Math.max(this.maxX,t.maxX),Math.max(this.maxY,t.maxY),Math.max(this.maxZ,t.maxZ))}constrainBounds(t){return this.setMinMax(Math.max(this.minX,t.minX),Math.max(this.minY,t.minY),Math.max(this.minZ,t.minZ),Math.min(this.maxX,t.maxX),Math.min(this.maxY,t.maxY),Math.min(this.maxZ,t.maxZ))}addCoordinates(t,e,i){return this.setMinMax(Math.min(this.minX,t),Math.min(this.minY,e),Math.min(this.minZ,i),Math.max(this.maxX,t),Math.max(this.maxY,e),Math.max(this.maxZ,i))}addPoint(t){return this.addCoordinates(t.x,t.y,t.z)}roundOut(){return this.setMinMax(Math.floor(this.minX),Math.floor(this.minY),Math.floor(this.minZ),Math.ceil(this.maxX),Math.ceil(this.maxY),Math.ceil(this.maxZ))}roundIn(){return this.setMinMax(Math.ceil(this.minX),Math.ceil(this.minY),Math.ceil(this.minZ),Math.floor(this.maxX),Math.floor(this.maxY),Math.floor(this.maxZ))}transform(t){if(this.isEmpty())return this;if(t.isIdentity())return this;let e=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,h=Number.NEGATIVE_INFINITY,c=Number.NEGATIVE_INFINITY;const f=new lt(0,0,0);function g(y){e=Math.min(e,y.x),i=Math.min(i,y.y),n=Math.min(n,y.z),a=Math.max(a,y.x),h=Math.max(h,y.y),c=Math.max(c,y.z)}return g(t.multiplyVector3(f.setXYZ(this.minX,this.minY,this.minZ))),g(t.multiplyVector3(f.setXYZ(this.minX,this.maxY,this.minZ))),g(t.multiplyVector3(f.setXYZ(this.maxX,this.minY,this.minZ))),g(t.multiplyVector3(f.setXYZ(this.maxX,this.maxY,this.minZ))),g(t.multiplyVector3(f.setXYZ(this.minX,this.minY,this.maxZ))),g(t.multiplyVector3(f.setXYZ(this.minX,this.maxY,this.maxZ))),g(t.multiplyVector3(f.setXYZ(this.maxX,this.minY,this.maxZ))),g(t.multiplyVector3(f.setXYZ(this.maxX,this.maxY,this.maxZ))),this.setMinMax(e,i,n,a,h,c)}dilate(t){return this.dilateXYZ(t,t,t)}dilateX(t){return this.setMinMax(this.minX-t,this.minY,this.minZ,this.maxX+t,this.maxY,this.maxZ)}dilateY(t){return this.setMinMax(this.minX,this.minY-t,this.minZ,this.maxX,this.maxY+t,this.maxZ)}dilateZ(t){return this.setMinMax(this.minX,this.minY,this.minZ-t,this.maxX,this.maxY,this.maxZ+t)}dilateXYZ(t,e,i){return this.setMinMax(this.minX-t,this.minY-e,this.minZ-i,this.maxX+t,this.maxY+e,this.maxZ+i)}erode(t){return this.dilate(-t)}erodeX(t){return this.dilateX(-t)}erodeY(t){return this.dilateY(-t)}erodeZ(t){return this.dilateZ(-t)}erodeXYZ(t,e,i){return this.dilateXYZ(-t,-e,-i)}shiftX(t){return this.setMinMax(this.minX+t,this.minY,this.minZ,this.maxX+t,this.maxY,this.maxZ)}shiftY(t){return this.setMinMax(this.minX,this.minY+t,this.minZ,this.maxX,this.maxY+t,this.maxZ)}shiftZ(t){return this.setMinMax(this.minX,this.minY,this.minZ+t,this.maxX,this.maxY,this.maxZ+t)}shiftXYZ(t,e,i){return this.setMinMax(this.minX+t,this.minY+e,this.minZ+i,this.maxX+t,this.maxY+e,this.maxZ+i)}shift(t){return this.shiftXYZ(t.x,t.y,t.z)}static cuboid(t,e,i,n,a,h){return new St(t,e,i,t+n,e+a,i+h)}static point(t,e,i){return new St(t,e,i,t,e,i)}};St.NOTHING=new St(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),St.EVERYTHING=new St(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),St.Bounds3IO=new Bt("Bounds3IO",{valueType:St,documentation:"a 3-dimensional bounds (bounding box)",stateSchema:{minX:ns,minY:ns,minZ:ns,maxX:ns,maxY:ns,maxZ:ns},toStateObject:t=>({minX:t.minX,minY:t.minY,minZ:t.minZ,maxX:t.maxX,maxY:t.maxY,maxZ:t.maxZ}),fromStateObject:t=>new St(t.minX,t.minY,t.minZ,t.maxX,t.maxY,t.maxZ)});let Wr=St;j.register("Bounds3",Wr);qu.mixInto(Wr,{initialize:Wr.prototype.setMinMax});class Fi{constructor(t){this.inclusions=t}size(){return this.inclusions.length}includes(t){return this.inclusions[t]}apply(t){return t.filter((e,i)=>this.inclusions[i])}inverted(){return new Fi(this.inclusions.map(t=>!t))}getIncludedIndices(){return _.range(0,this.size()).filter(t=>this.inclusions[t])}toString(){return`C[${this.inclusions.map(t=>t?"1":"0").join("")}]`}equals(t){return this.inclusions.length===t.inclusions.length&&_.isEqual(this.inclusions,t.inclusions)}static empty(t){return new Fi(_.range(0,t).map(()=>!1))}static full(t){return new Fi(_.range(0,t).map(()=>!0))}static combinations(t){const e=[],i=[];return function n(a){a===t?e.push(new Fi(i.slice())):(i.push(!1),n(a+1),i.pop(),i.push(!0),n(a+1),i.pop())}(0),e}static forEachCombination(t,e){const i=[];(function n(a){a===t.length?e(i):(n(a+1),i.push(t[a]),n(a+1),i.pop())})(0)}static combinationsOf(t){const e=[];return Fi.forEachCombination(t,i=>{e.push(i.slice())}),e}}j.register("Combination",Fi);function H1(o,t,e){return t.minus(o).crossScalar(e.minus(o))}const Z1={grahamScan:(o,t)=>{if(o.length<=2)return o;let e=Number.POSITIVE_INFINITY,i=null;_.each(o,a=>{a.y<=e&&(a.y===e&&i?a.x<i.x&&(i=a):(e=a.y,i=a))}),o=_.sortBy(o,a=>a.minus(i).angle),o.splice(_.indexOf(o,i),1);const n=[i];return _.each(o,a=>{if(i.x===a.x&&i.y===a.y)return;function h(){if(n.length<2)return!1;const c=H1(n[n.length-2],n[n.length-1],a);return t?c<0:c<=0}for(;h();)n.pop();n.push(a)}),n}};j.register("ConvexHull2",Z1);const ys=class ys extends Ls{};ys.OVER_DAMPED=new ys,ys.UNDER_DAMPED=new ys,ys.CRITICALLY_DAMPED=new ys,ys.UNKNOWN=new ys,ys.enumeration=new Xi(ys);let Ds=ys;class j1{constructor(t,e,i,n,a){assert&&assert(isFinite(t)&&t!==0),assert&&assert(isFinite(e)),assert&&assert(isFinite(i)&&i!==0),assert&&assert(isFinite(n)),assert&&assert(isFinite(a)),this.dampingConstant=e/t,this.angularFrequencySquared=i/t,assert&&assert(this.dampingConstant>=0,"a and b should share the same sign"),assert&&assert(this.angularFrequencySquared>0,"a and c should share the same sign"),this.discriminant=this.dampingConstant*this.dampingConstant-4*this.angularFrequencySquared,this.solutionType=Ds.UNKNOWN,this.c1=0,this.c2=0,Math.abs(this.discriminant)<1e-5?(this.solutionType=Ds.CRITICALLY_DAMPED,this.angularFrequency=Math.sqrt(this.angularFrequencySquared),this.c1=n,this.c2=a+this.angularFrequency*n):this.discriminant<0?(this.solutionType=Ds.UNDER_DAMPED,this.frequency=.5*Math.sqrt(-this.discriminant),this.c1=n,this.c2=this.dampingConstant*n/(2*this.frequency)+a/this.frequency):(this.solutionType=Ds.OVER_DAMPED,this.positiveRoot=.5*(-this.dampingConstant+Math.sqrt(this.discriminant)),this.negativeRoot=.5*(-this.dampingConstant-Math.sqrt(this.discriminant)),this.c2=(this.negativeRoot*n-a)/(this.negativeRoot-this.positiveRoot),this.c1=n-this.c2)}getValue(t){if(this.solutionType===Ds.CRITICALLY_DAMPED)return assert&&assert(this.angularFrequency!==void 0),(this.c1+this.c2*t)*Math.exp(-this.angularFrequency*t);if(this.solutionType===Ds.UNDER_DAMPED){assert&&assert(this.frequency!==void 0);const e=this.frequency*t;return Math.exp(-(this.dampingConstant/2)*t)*(this.c1*Math.cos(e)+this.c2*Math.sin(e))}else{if(this.solutionType===Ds.OVER_DAMPED)return assert&&assert(this.positiveRoot!==void 0),assert&&assert(this.negativeRoot!==void 0),this.c1*Math.exp(this.negativeRoot*t)+this.c2*Math.exp(this.positiveRoot*t);throw new Error("Unknown solution type?")}}getDerivative(t){if(this.solutionType===Ds.CRITICALLY_DAMPED)return assert&&assert(this.angularFrequency!==void 0),Math.exp(-this.angularFrequency*t)*(this.c2-this.angularFrequency*(this.c1+this.c2*t));if(this.solutionType===Ds.UNDER_DAMPED){assert&&assert(this.frequency!==void 0);const e=this.frequency*t,i=Math.cos(e),n=Math.sin(e),a=this.frequency*(this.c2*i-this.c1*n),h=.5*this.dampingConstant*(this.c1*i+this.c2*n);return Math.exp(-.5*this.dampingConstant*t)*(a-h)}else{if(this.solutionType===Ds.OVER_DAMPED)return assert&&assert(this.positiveRoot!==void 0),assert&&assert(this.negativeRoot!==void 0),this.c1*this.negativeRoot*Math.exp(this.negativeRoot*t)+this.c2*this.positiveRoot*Math.exp(this.positiveRoot*t);throw new Error("Unknown solution type?")}}}j.register("DampedHarmonic",j1);class ar{constructor(t,e,i){i=oe({},i);let n;if(this.points=t,this.constraints=e,this.triangles=[],this.edges=[],this.convexHull=[],t.length===0)return;for(this.vertices=t.map((c,f)=>(assert&&assert(c instanceof $&&c.isFinite()),new pe(c,f))),n=0;n<this.constraints.length;n++){const c=this.constraints[n],f=c[0],g=c[1];assert&&assert(typeof f=="number"&&isFinite(f)&&f%1===0&&f>=0&&f<t.length),assert&&assert(typeof g=="number"&&isFinite(g)&&g%1===0&&g>=0&&g<t.length),assert&&assert(f!==g),this.vertices[f].constrainedVertices.push(this.vertices[g])}for(this.vertices.sort(ar.vertexComparison),n=0;n<this.vertices.length;n++){const c=this.vertices[n];c.sortedIndex=n;for(let f=c.constrainedVertices.length-1;f>=0;f--){const g=c.constrainedVertices[f];g.sortedIndex===-1&&(g.constrainedVertices.push(c),c.constrainedVertices.splice(f,1))}}this.bottomVertex=this.vertices[0],this.remainingVertices=this.vertices.slice(1);const a=Ve.NOTHING.copy();for(n=t.length-1;n>=0;n--)a.addPoint(t[n]);const h=.4;this.artificialMinVertex=new pe(new $(a.minX-a.width*h,a.minY-a.height*h),-1),this.artificialMaxVertex=new pe(new $(a.maxX+a.width*h,a.minY-a.height*h),-2),this.edges.push(new qt(this.artificialMinVertex,this.artificialMaxVertex)),this.edges.push(new qt(this.artificialMaxVertex,this.bottomVertex)),this.edges.push(new qt(this.bottomVertex,this.artificialMinVertex)),this.triangles.push(new Ke(this.artificialMinVertex,this.artificialMaxVertex,this.bottomVertex,this.edges[1],this.edges[2],this.edges[0])),this.firstFrontEdge=this.edges[1],this.edges[1].connectAfter(this.edges[2]),this.firstHullEdge=this.edges[0]}step(){const t=this.remainingVertices.shift(),e=t.point.x;let i=this.firstFrontEdge;for(;i;){if(e>i.endVertex.point.x){const n=new qt(i.startVertex,t),a=new qt(t,i.endVertex);n.connectAfter(a),this.edges.push(n),this.edges.push(a),this.triangles.push(new Ke(i.endVertex,i.startVertex,t,n,a,i)),this.reconnectFrontEdges(i,i,n,a),this.legalizeEdge(i),this.addHalfPiHeuristic(n,a),this.constrainEdges(t,n,a);break}else if(e===i.endVertex.point.x){const n=i.nextEdge,a=i;assert&&assert(n!==null);const h=i.endVertex,c=n.endVertex,f=a.startVertex,g=new qt(t,c),y=new qt(f,t),w=new qt(h,t);y.connectAfter(g),this.edges.push(g),this.edges.push(y),this.edges.push(w),this.triangles.push(new Ke(c,h,t,w,g,n)),this.triangles.push(new Ke(h,f,t,y,w,a)),this.reconnectFrontEdges(a,n,y,g),this.legalizeEdge(n),this.legalizeEdge(a),this.legalizeEdge(w),this.addHalfPiHeuristic(y,g),this.constrainEdges(t,y,g);break}i=i.nextEdge}}fillBorderTriangle(t,e,i,n,a){assert&&assert(t instanceof qt),assert&&assert(e instanceof qt),assert&&assert(i instanceof pe),assert&&assert(n instanceof pe),assert&&assert(a instanceof pe),assert&&assert(n===t.startVertex||n===t.endVertex,"middleVertex should be in firstEdge"),assert&&assert(n===e.startVertex||n===e.endVertex,"middleVertex should be in secondEdge"),assert&&assert(i===t.startVertex||i===t.endVertex,"firstSideVertex should be in firstEdge"),assert&&assert(a===e.startVertex||a===e.endVertex,"secondSideVertex should be in secondEdge");const h=new qt(i,a);return this.edges.push(h),this.triangles.push(new Ke(a,n,i,t,h,e)),this.legalizeEdge(t),this.legalizeEdge(e),h}reconnectFrontEdges(t,e,i,n){const a=t.previousEdge,h=e.nextEdge;a?(a.disconnectAfter(),a.connectAfter(i)):this.firstFrontEdge=i,h&&(e.disconnectAfter(),n.connectAfter(h))}addHalfPiHeuristic(t,e){assert&&assert(t.endVertex===e.startVertex);const i=t.endVertex;for(;t.previousEdge&&Tt.triangleAreaSigned(i.point,t.startVertex.point,t.previousEdge.startVertex.point)>0&&i.point.minus(t.startVertex.point).angleBetween(t.previousEdge.startVertex.point.minus(t.startVertex.point))<Math.PI/2;){const n=t.previousEdge,a=new qt(n.startVertex,i);this.edges.push(a),this.triangles.push(new Ke(i,t.startVertex,n.startVertex,n,a,t)),this.reconnectFrontEdges(n,t,a,a),this.legalizeEdge(n),this.legalizeEdge(t),t=a}for(;e.nextEdge&&Tt.triangleAreaSigned(i.point,e.nextEdge.endVertex.point,e.endVertex.point)>0&&i.point.minus(e.endVertex.point).angleBetween(e.nextEdge.endVertex.point.minus(e.endVertex.point))<Math.PI/2;){const n=e.nextEdge,a=new qt(i,n.endVertex);this.edges.push(a),this.triangles.push(new Ke(i,e.nextEdge.endVertex,e.endVertex,n,e,a)),this.reconnectFrontEdges(e,n,a,a),this.legalizeEdge(n),this.legalizeEdge(e),e=a}}constrainEdges(t,e,i){assert&&assert(t instanceof pe),assert&&assert(e instanceof qt),assert&&assert(i instanceof qt),assert&&assert(t===e.endVertex),assert&&assert(t===i.startVertex);for(let n=0;n<t.constrainedVertices.length;n++){const a=t.constrainedVertices[n];if(a===e.startVertex||a===i.endVertex)break;const h=[],c=[];let f=null,g=null;const y=[],w=[];let I=ar.vertexProduct(t,e.startVertex,a)>0,O=ar.vertexProduct(t,i.endVertex,a)<0;if(!I&&!O){assert&&assert(e.triangles.length===1),assert&&assert(i.triangles.length===1);let F=e.startVertex,b;for(f=e.triangles[0];ar.vertexProduct(t,b=f.getEdgeOppositeFromVertex(t).getOtherVertex(F),a)<0;)f=f.getEdgeOppositeFromVertex(F).getOtherTriangle(f),F=b;if(f.hasVertex(a))break;y.push(f),g=f.getEdgeOppositeFromVertex(t),w.push(g),h.push(f.getEdgeOppositeFromVertex(F)),c.push(f.getEdgeOppositeFromVertex(g.getOtherVertex(F))),assert&&assert(h[0].getOtherVertex(t).point.x<c[0].getOtherVertex(t).point.x)}for(;!I;){if(O)break;if(g.triangles.length>1){const F=g.getOtherTriangle(f);if(F.hasVertex(a)){y.push(F),h.push(F.getNextEdge(g)),c.push(F.getPreviousEdge(g));break}else{let b;F.aEdge!==g&&F.aEdge.intersectsConstrainedEdge(t,a)?b=F.aEdge:F.bEdge!==g&&F.bEdge.intersectsConstrainedEdge(t,a)?b=F.bEdge:F.cEdge!==g&&F.cEdge.intersectsConstrainedEdge(t,a)&&(b=F.cEdge),assert&&assert(b),F.getNextEdge(b)===g?h.push(F.getPreviousEdge(b)):c.push(F.getNextEdge(b)),g=b,w.push(g),f=F,y.push(f)}}else a.point.x<t.point.x?O=!0:I=!0}for(let F=0;F<y.length;F++){const b=y[F];Os(this.triangles,b),b.remove()}for(let F=0;F<w.length;F++)Os(this.edges,w[F]);const N=new qt(a,t);N.isConstrained=!0,this.edges.push(N),h.push(N),c.push(N),c.reverse(),self.triDebug&&self.triDebug(this),this.triangulatePolygon(h),this.triangulatePolygon(c)}}triangulatePolygon(t){for(;t.length>3;){for(let e=0;e<t.length;e++){const i=e<t.length-1?e+1:0;assert&&assert(t[e].getSharedVertex(t[i]))}for(let e=0;e<t.length;e++){const i=e<t.length-1?e+1:0,n=t[e],a=t[i],h=n.getSharedVertex(a),c=n.getOtherVertex(h),f=a.getOtherVertex(h);if(Tt.triangleAreaSigned(c.point,h.point,f.point)<=0)continue;const g=f.point.minus(h.point),y=c.point.minus(h.point),w=g.dot(g),I=g.dot(y),O=y.dot(y),N=w*O-I*I;let F=t[0].getSharedVertex(t[t.length-1]),b=!1;for(let v=0;v<t.length;v++){const E=t[v].getOtherVertex(F);if(E!==h&&E!==c&&E!==f){const B=E.point.minus(h.point),Y=g.dot(B),q=y.dot(B),K=(O*Y-I*q)/N,nt=(w*q-I*Y)/N;if(K>=-1e-10&&nt>=-1e-10&&K+nt<1+1e-10){b=!0;break}}F=E}if(!b){const v=new qt(c,f);this.edges.push(v),this.triangles.push(new Ke(c,h,f,a,v,n)),i>e?t.splice(e,2,v):(t.splice(e,1,v),t.splice(i,1)),self.triDebug&&self.triDebug(this)}}}t.length===3&&(this.triangles.push(new Ke(t[0].getSharedVertex(t[1]),t[1].getSharedVertex(t[2]),t[0].getSharedVertex(t[2]),t[2],t[0],t[1])),self.triDebug&&self.triDebug(this))}finalize(){const t=[];let e=this.firstFrontEdge.nextEdge;for(;e&&e.nextEdge;)t.push(e),e=e.nextEdge;const i=this.firstFrontEdge,n=e;assert&&assert(this.firstFrontEdge.triangles.length===1),assert&&assert(n.triangles.length===1);for(let f=0;f<t.length-1;f++){const g=t[f],y=t[f+1];if(Tt.triangleAreaSigned(y.endVertex.point,g.endVertex.point,g.startVertex.point)>1e-10){const w=this.fillBorderTriangle(g,y,g.startVertex,g.endVertex,y.endVertex);t.splice(f,2,w),f=Math.max(f-2,-1),self.triDebug&&self.triDebug(this)}}this.firstFrontEdge=null;const a=[],h=[i];let c=i;for(;c!==n;){const f=c.triangles[0];f.remove(),Os(this.triangles,f);const g=f.getNonArtificialEdge();if(g){a.push(g);const y=g.getSharedVertex(c);c=f.getEdgeOppositeFromVertex(y)}else assert&&assert(c.startVertex===this.artificialMaxVertex),h.push(f.getEdgeOppositeFromVertex(c.endVertex)),c=f.getEdgeOppositeFromVertex(c.startVertex);h.push(c)}for(let f=0;f<h.length;f++)Os(this.edges,h[f]);self.triDebug&&self.triDebug(this);for(let f=0;f<a.length-1;f++){const g=a[f+1],y=a[f],w=g.getSharedVertex(y),I=g.getOtherVertex(w),O=y.getOtherVertex(w);if(Tt.triangleAreaSigned(O.point,w.point,I.point)>1e-10){const N=this.fillBorderTriangle(g,y,I,w,O);a.splice(f,2,N),f=Math.max(f-2,-1),self.triDebug&&self.triDebug(this)}}for(let f=0;f<t.length;f++)this.convexHull.push(t[f].startVertex);this.convexHull.push(t[t.length-1].endVertex);for(let f=a.length-1;f>=1;f--)this.convexHull.push(a[f].getSharedVertex(a[f-1]))}legalizeEdge(t){if(!_.includes(this.edges,t)||t.triangles.length!==2||t.isConstrained)return;const e=t.triangles[0],i=t.triangles[1],n=e.getVertexOppositeFromEdge(t),a=i.getVertexOppositeFromEdge(t);if(Tt.pointInCircleFromPoints(e.aVertex.point,e.bVertex.point,e.cVertex.point,a.point)||Tt.pointInCircleFromPoints(i.aVertex.point,i.bVertex.point,i.cVertex.point,n.point)){e.remove(),i.remove(),Os(this.triangles,e),Os(this.triangles,i),Os(this.edges,t);const h=new qt(n,a);this.edges.push(h);const c=i.getEdgeOppositeFromVertex(i.getVertexBefore(a)),f=e.getEdgeOppositeFromVertex(e.getVertexAfter(n)),g=e.getEdgeOppositeFromVertex(e.getVertexBefore(n)),y=i.getEdgeOppositeFromVertex(i.getVertexAfter(a));this.triangles.push(new Ke(n,a,e.getVertexBefore(n),c,f,h)),this.triangles.push(new Ke(a,n,i.getVertexBefore(a),g,y,h)),this.legalizeEdge(c),this.legalizeEdge(f),this.legalizeEdge(g),this.legalizeEdge(y)}}static vertexComparison(t,e){return assert&&assert(t instanceof pe),assert&&assert(e instanceof pe),t=t.point,e=e.point,t.y<e.y?-1:t.y>e.y?1:t.x<e.x?-1:t.x>e.x?1:0}static vertexProduct(t,e,i){const n=e.point.minus(t.point),a=i.point.minus(t.point);return n.crossScalar(a)}}j.register("DelaunayTriangulation",ar);class pe{constructor(t,e){assert&&assert(t instanceof $),assert&&assert(t.isFinite()),assert&&assert(typeof e=="number"),this.point=t,this.index=e,this.sortedIndex=-1,this.constrainedVertices=[]}isArtificial(){return this.index<0}}class qt{constructor(t,e){assert&&assert(t instanceof pe),assert&&assert(e instanceof pe),assert&&assert(t!==e,"Should be different vertices"),this.startVertex=t,this.endVertex=e,this.triangles=[],this.nextEdge=null,this.previousEdge=null,this.isConstrained=!1}isArtificial(){return this.startVertex.isArtificial()||this.endVertex.isArtificial()}connectAfter(t){assert&&assert(t instanceof qt),assert&&assert(this.endVertex===t.startVertex),this.nextEdge=t,t.previousEdge=this}disconnectAfter(){this.nextEdge.previousEdge=null,this.nextEdge=null}addTriangle(t){assert&&assert(t instanceof Ke),assert&&assert(this.triangles.length<=1),this.triangles.push(t)}removeTriangle(t){assert&&assert(t instanceof Ke),assert&&assert(_.includes(this.triangles,t)),Os(this.triangles,t)}getSharedTriangle(t){assert&&assert(t instanceof qt);for(let e=0;e<this.triangles.length;e++){const i=this.triangles[e];for(let n=0;n<t.triangles.length;n++)if(t.triangles[n]===i)return i}throw new Error("No common triangle")}getSharedVertex(t){return assert&&assert(t instanceof qt),this.startVertex===t.startVertex||this.startVertex===t.endVertex?this.startVertex:(assert&&assert(this.endVertex===t.startVertex||this.endVertex===t.endVertex),this.endVertex)}getOtherVertex(t){return assert&&assert(t instanceof pe),assert&&assert(t===this.startVertex||t===this.endVertex),t===this.startVertex?this.endVertex:this.startVertex}getOtherTriangle(t){return assert&&assert(t instanceof Ke),assert&&assert(this.triangles.length===2),this.triangles[0]===t?this.triangles[1]:this.triangles[0]}intersectsConstrainedEdge(t,e){return Tt.lineSegmentIntersection(t.point.x,t.point.y,e.point.x,e.point.y,this.startVertex.point.x,this.startVertex.point.y,this.endVertex.point.x,this.endVertex.point.y)}}class Ke{constructor(t,e,i,n,a,h){assert&&assert(t instanceof pe),assert&&assert(e instanceof pe),assert&&assert(i instanceof pe),assert&&assert(n instanceof qt),assert&&assert(a instanceof qt),assert&&assert(h instanceof qt),assert&&assert(t!==n.startVertex&&t!==n.endVertex,"Should be an opposite edge"),assert&&assert(e!==a.startVertex&&e!==a.endVertex,"Should be an opposite edge"),assert&&assert(i!==h.startVertex&&i!==h.endVertex,"Should be an opposite edge"),assert&&assert(t===a.startVertex||t===a.endVertex,"aVertex should be in bEdge"),assert&&assert(t===h.startVertex||t===h.endVertex,"aVertex should be in cEdge"),assert&&assert(e===n.startVertex||e===n.endVertex,"bVertex should be in aEdge"),assert&&assert(e===h.startVertex||e===h.endVertex,"bVertex should be in cEdge"),assert&&assert(i===n.startVertex||i===n.endVertex,"cVertex should be in aEdge"),assert&&assert(i===a.startVertex||i===a.endVertex,"cVertex should be in bEdge"),assert&&assert(Tt.triangleAreaSigned(t.point,e.point,i.point)>0,"Should be counterclockwise"),this.aVertex=t,this.bVertex=e,this.cVertex=i,this.aEdge=n,this.bEdge=a,this.cEdge=h,this.aEdge.addTriangle(this),this.bEdge.addTriangle(this),this.cEdge.addTriangle(this)}hasVertex(t){return this.aVertex===t||this.bVertex===t||this.cVertex===t}getVertexOppositeFromEdge(t){return assert&&assert(t instanceof qt),assert&&assert(t===this.aEdge||t===this.bEdge||t===this.cEdge,"Should be an edge that is part of this triangle"),t===this.aEdge?this.aVertex:t===this.bEdge?this.bVertex:this.cVertex}getEdgeOppositeFromVertex(t){return assert&&assert(t instanceof pe),assert&&assert(t===this.aVertex||t===this.bVertex||t===this.cVertex,"Should be a vertex that is part of this triangle"),t===this.aVertex?this.aEdge:t===this.bVertex?this.bEdge:this.cEdge}getVertexBefore(t){return assert&&assert(t instanceof pe),assert&&assert(t===this.aVertex||t===this.bVertex||t===this.cVertex),t===this.aVertex?this.cVertex:t===this.bVertex?this.aVertex:this.bVertex}getVertexAfter(t){return assert&&assert(t instanceof pe),assert&&assert(t===this.aVertex||t===this.bVertex||t===this.cVertex),t===this.aVertex?this.bVertex:t===this.bVertex?this.cVertex:this.aVertex}getNonArtificialEdge(){return assert&&assert(this.aEdge.isArtificial()&&this.bEdge.isArtificial()&&!this.cEdge.isArtificial()||this.aEdge.isArtificial()&&!this.bEdge.isArtificial()&&this.cEdge.isArtificial()||!this.aEdge.isArtificial()&&this.bEdge.isArtificial()&&this.cEdge.isArtificial()||this.aEdge.isArtificial()&&this.bEdge.isArtificial()&&this.cEdge.isArtificial(),"At most one edge should be non-artificial"),this.aEdge.isArtificial()?this.bEdge.isArtificial()?this.cEdge.isArtificial()?null:this.cEdge:this.bEdge:this.aEdge}getNextEdge(t){if(assert&&assert(t===this.aEdge||t===this.bEdge||t===this.cEdge),this.aEdge===t)return this.bEdge;if(this.bEdge===t)return this.cEdge;if(this.cEdge===t)return this.aEdge;throw new Error("illegal edge")}getPreviousEdge(t){if(assert&&assert(t===this.aEdge||t===this.bEdge||t===this.cEdge),this.aEdge===t)return this.cEdge;if(this.bEdge===t)return this.aEdge;if(this.cEdge===t)return this.bEdge;throw new Error("illegal edge")}isArtificial(){return this.aVertex.isArtificial()||this.bVertex.isArtificial()||this.cVertex.isArtificial()}remove(){this.aEdge.removeTriangle(this),this.bEdge.removeTriangle(this),this.cEdge.removeTriangle(this)}}class G1{constructor(t,e){let i,n,a;this.matrix=t,this.LU=[],t.entries.forEach(y=>{this.LU.push(new e(y))});const h=this.LU;this.m=t.getRowDimension();const c=this.m;this.n=t.getColumnDimension();const f=this.n;for(this.piv=new Uint32Array(c),i=0;i<c;i++)this.piv[i]=i;this.pivsign=1;const g=new Array(c);for(n=0;n<f;n++){for(i=0;i<c;i++)g[i]=new e(h[t.index(i,n)]);for(i=0;i<c;i++){const w=Math.min(i,n);let I=new e(0);for(a=0;a<w;a++){const O=t.index(i,a),N=new e(h[O]),F=g[a];I=I.plus(N.times(F))}g[i]=g[i].minus(I),h[t.index(i,n)]=g[i]}let y=n;for(i=n+1;i<c;i++)g[i].abs()>g[y].abs()&&(y=i);if(y!==n){for(a=0;a<f;a++){const w=t.index(y,a),I=t.index(n,a),O=h[w];h[w]=h[I],h[I]=O}a=this.piv[y],this.piv[y]=this.piv[n],this.piv[n]=a,this.pivsign=-this.pivsign}if(n<c&&!h[this.matrix.index(n,n)].isZero())for(i=n+1;i<c;i++)h[t.index(i,n)]=h[t.index(i,n)].dividedBy(h[t.index(n,n)])}}isNonsingular(){for(let t=0;t<this.n;t++){const e=this.matrix.index(t,t);if(this.LU[e].isZero())return!1}return!0}solve(t,e){let i,n,a;if(t.getRowDimension()!==this.m)throw new Error("Matrix row dimensions must agree.");if(!this.isNonsingular())throw new Error("Matrix is singular.");const h=t.getColumnDimension(),c=t.getArrayRowMatrix(this.piv,0,h-1),f=[];for(c.entries.forEach(g=>f.push(new e(g))),a=0;a<this.n;a++)for(i=a+1;i<this.n;i++)for(n=0;n<h;n++)f[c.index(i,n)]=f[c.index(i,n)].minus(f[c.index(a,n)].times(this.LU[this.matrix.index(i,a)]));for(a=this.n-1;a>=0;a--){for(n=0;n<h;n++)f[c.index(a,n)]=f[c.index(a,n)].dividedBy(this.LU[this.matrix.index(a,a)]);for(i=0;i<a;i++)for(n=0;n<h;n++)f[c.index(i,n)]=f[c.index(i,n)].minus(f[c.index(a,n)].times(this.LU[this.matrix.index(i,a)]))}return c.entries=f.map(g=>g.toNumber()),c}}j.register("LUDecompositionDecimal",G1);class W1 extends Ys{constructor(t,e,i){i=oe({openMin:!0,openMax:!0},i),super(t,e),this.openMin=i.openMin,this.openMax=i.openMax,assert&&assert(this.openMin||this.openMax,"use Range type if min and max are inclusive"),assert&&assert(t<e,"must instantiate OpenRange with min strictly less than max")}setMin(t){assert&&assert(t<this._max,"min must be strictly less than max for OpenRange"),super.setMin(t)}setMax(t){assert&&assert(t>this._min,"max must be strictly greater than min for OpenRange"),super.setMax(t)}setMinMax(t,e){assert&&assert(t<e,"min must be strictly less than max in OpenRange"),super.setMinMax(t,e)}contains(t){return(this.openMin?t>this.min:t>=this.min)&&(this.openMax?t<this.max:t<=this.max)}containsRange(t){return(this.openMin?this.min<t.min:this.min<=t.min)&&(this.openMax?this.max>t.max:this.max>=t.max)}intersects(t){return(this.openMax?this.max>t.min:this.max>=t.min)&&(this.openMin?t.max>this.min:t.max>=this.min)}toString(){const t=this.openMin?"(":"[",e=this.openMax?")":"]";return`[Range ${t}min:${this.min} max:${this.max}${e}]`}constrainValue(t){return Math.min(Math.max(t,this.min),this.max)}equals(t){return t instanceof Ys&&this.min===t.min&&this.max===t.max&&this.openMin===t.openMin&&this.openMax===t.openMax}}j.register("OpenRange",W1);class ku{constructor(t){this.array=t,assert&&assert(t.length%2===0,"array length should be even"),assert&&assert(t.length>0,"array must have elements"),assert&&assert(Array.isArray(t),"array should be an array")}evaluate(t){return ku.evaluate(this.array,t)}static evaluate(t,e){let i=-1,n=Number.POSITIVE_INFINITY,a=-1,h=Number.POSITIVE_INFINITY;for(let w=0;w<t.length;w+=2){const I=t[w],O=e-I,N=Math.abs(O);if(I===e)return t[w+1];I<=e&&N<n&&(i=w,n=N),I>=e&&N<h&&(a=w,h=N)}assert&&assert(i>=0,"lower bound not found"),assert&&assert(a>=0,"upper bound not found");const c=t[i],f=t[i+1],g=t[a],y=t[a+1];return Tt.linear(c,g,f,y,e)}}j.register("PiecewiseLinearFunction",ku);class dr{constructor(t,e){this.position=t,this.direction=e,assert&&assert(Math.abs(e.magnitude-1)<.01,"the direction must be a unit vector")}shifted(t){return new dr(this.pointAtDistance(t),this.direction)}pointAtDistance(t){return this.position.plus(this.direction.timesScalar(t))}distanceToPlane(t){return(t.distance-this.position.dot(t.normal))/this.direction.dot(t.normal)}toString(){return`${this.position.toString()} => ${this.direction.toString()}`}}j.register("Ray3",dr);const Qs=class Qs{constructor(t,e){this.normal=t,this.distance=e,assert&&assert(Math.abs(t.magnitude-1)<.01,"the normal vector must be a unit vector")}intersectWithRay(t){return t.pointAtDistance(t.distanceToPlane(this))}static fromTriangle(t,e,i){const n=i.minus(t).cross(e.minus(t));return n.magnitude===0?null:(n.normalize(),new Qs(n,n.dot(t)))}getIntersection(t){const e=this.normal.dot(t.normal),i=1-e*e;if(i===0)return null;const n=(this.distance-t.distance*e)/i,a=(t.distance-this.distance*e)/i;return new dr(this.normal.timesScalar(n).plus(t.normal.timesScalar(a)),this.normal.cross(t.normal).normalized())}};Qs.XY=new Qs(new lt(0,0,1),0),Qs.XZ=new Qs(new lt(0,1,0),0),Qs.YZ=new Qs(new lt(1,0,0),0);let Bu=Qs;j.register("Plane3",Bu);class ve{constructor(t,e,i,n){this.setXYZW(t,e,i,n)}setXYZW(t,e,i,n){this.x=t!==void 0?t:0,this.y=e!==void 0?e:0,this.z=i!==void 0?i:0,this.w=n!==void 0?n:1}plus(t){return new ve(this.x+t.x,this.y+t.y,this.z+t.z,this.w+t.w)}timesScalar(t){return new ve(this.x*t,this.y*t,this.z*t,this.w*t)}timesQuaternion(t){return new ve(this.x*t.w-this.z*t.y+this.y*t.z+this.w*t.x,-this.x*t.z+this.y*t.w+this.z*t.x+this.w*t.y,this.x*t.y-this.y*t.x+this.z*t.w+this.w*t.z,-this.x*t.x-this.y*t.y-this.z*t.z+this.w*t.w)}timesVector3(t){return t.magnitude===0?new lt(0,0,0):new lt(this.w*this.w*t.x+2*this.y*this.w*t.z-2*this.z*this.w*t.y+this.x*this.x*t.x+2*this.y*this.x*t.y+2*this.z*this.x*t.z-this.z*this.z*t.x-this.y*this.y*t.x,2*this.x*this.y*t.x+this.y*this.y*t.y+2*this.z*this.y*t.z+2*this.w*this.z*t.x-this.z*this.z*t.y+this.w*this.w*t.y-2*this.x*this.w*t.z-this.x*this.x*t.y,2*this.x*this.z*t.x+2*this.y*this.z*t.y+this.z*this.z*t.z-2*this.w*this.y*t.x-this.y*this.y*t.z+2*this.w*this.x*t.y-this.x*this.x*t.z+this.w*this.w*t.z)}getMagnitude(){return Math.sqrt(this.magnitudeSquared)}get magnitude(){return this.getMagnitude()}getMagnitudeSquared(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}get magnitudeSquared(){return this.getMagnitudeSquared()}normalized(){const t=this.magnitude;return assert&&assert(t!==0,"Cannot normalize a zero-magnitude quaternion"),this.timesScalar(1/t)}negated(){return new ve(-this.x,-this.y,-this.z,-this.w)}toRotationMatrix(){const t=this.magnitudeSquared,e=t===1?2:t>0?2/t:0,i=this.x*this.x*e,n=this.x*this.y*e,a=this.x*this.z*e,h=this.w*this.x*e,c=this.y*this.y*e,f=this.y*this.z*e,g=this.w*this.y*e,y=this.z*this.z*e,w=this.w*this.z*e;return se.pool.fetch().columnMajor(1-(c+y),n+w,a-g,n-w,1-(i+y),f+h,a+g,f-h,1-(i+c))}static fromEulerAngles(t,e,i){const n=Math.sin(i*.5),a=Math.cos(i*.5),h=Math.sin(e*.5),c=Math.cos(e*.5),f=Math.sin(t*.5),g=Math.cos(t*.5),y=c*a,w=h*n,I=c*n,O=h*a;return new ve(y*f+w*g,O*g+I*f,I*g-O*f,y*g-w*f)}static fromRotationMatrix(t){const e=t.m00(),i=t.m01(),n=t.m02(),a=t.m10(),h=t.m11(),c=t.m12(),f=t.m20(),g=t.m21(),y=t.m22(),w=e+h+y;let I;return w>=0?(I=Math.sqrt(w+1),new ve((g-c)*.5/I,(n-f)*.5/I,(a-i)*.5/I,.5*I)):e>h&&e>y?(I=Math.sqrt(1+e-h-y),new ve(I*.5,(a+i)*.5/I,(n+f)*.5/I,(g-c)*.5/I)):h>y?(I=Math.sqrt(1+h-e-y),new ve((a+i)*.5/I,I*.5,(g+c)*.5/I,(n-f)*.5/I)):(I=Math.sqrt(1+y-e-h),new ve((n+f)*.5/I,(g+c)*.5/I,I*.5,(a-i)*.5/I))}static getRotationQuaternion(t,e){return ve.fromRotationMatrix(se.rotateAToB(t,e))}static slerp(t,e,i){if(t.x===e.x&&t.y===e.y&&t.z===e.z&&t.w===e.w)return t;let n=t.x*e.x+t.y*e.y+t.z*e.z+t.w*e.w;n<0&&(e=e.negated(),n=-n);let a=1-i,h=i;if(1-n>.1){const c=Math.acos(n),f=1/Math.sin(c);a=Math.sin((1-i)*c)*f,h=Math.sin(i*c)*f}return new ve(a*t.x+h*e.x,a*t.y+h*e.y,a*t.z+h*e.z,a*t.w+h*e.w)}}ve.prototype.isQuaternion=!0;j.register("Quaternion",ve);qu.mixInto(ve,{initialize:ve.prototype.setXYZW});class $1 extends Ys{constructor(t,e,i){super(t,e),assert&&assert(i!==void 0,"default value is required"),assert&&assert(i>=t&&i<=e,`defaultValue is out of range: ${i}`),this._defaultValue=i}getDefaultValue(){return this._defaultValue}get defaultValue(){return this.getDefaultValue()}setMin(t){assert&&assert(this._defaultValue>=t,`min must be <= defaultValue: ${t}`),super.setMin(t)}setMax(t){assert&&assert(this._defaultValue<=t,`max must be >= defaultValue: ${t}`),super.setMax(t)}setMinMax(t,e){return assert&&assert(this._defaultValue>=t,`min must be <= defaultValue: ${t}`),assert&&assert(this._defaultValue<=e,`max must be >= defaultValue: ${e}`),super.setMinMax(t,e)}toString(){return`[RangeWithValue (min:${this.min} max:${this.max} defaultValue:${this._defaultValue})]`}equals(t){return this.constructor===t.constructor&&this._defaultValue===t.defaultValue&&super.equals(t)}}j.register("RangeWithValue",$1);class K1 extends Ve{constructor(t,e,i,n){assert&&assert(n!==void 0,"Rectangle requires 4 parameters"),super(t,e,t+i,e+n)}}j.register("Rectangle",K1);class J1{constructor(t){assert&&assert(t>0,"window size must be positive"),this.windowSize=t,this.samples=new Array(t),this.sampleIndex=0,this.total=0,this.numSamples=0,this.clear()}clear(){this.total=0,this.numSamples=0;for(let t=0;t<this.windowSize;t++)this.samples[t]=0}getRunningAverage(){return this.total/this.numSamples}isSaturated(){return this.numSamples>=this.windowSize}updateRunningAverage(t){return assert&&assert(typeof t=="number"&&isFinite(t)),this.numSamples=Math.min(this.windowSize,this.numSamples+1),this.total-=this.samples[this.sampleIndex],assert&&assert(isFinite(this.total)),this.total+=t,assert&&assert(isFinite(this.total)),this.samples[this.sampleIndex]=t,this.sampleIndex=(this.sampleIndex+1)%this.windowSize,this.getRunningAverage()}}j.register("RunningAverage",J1);class Q1{constructor(t,e){this.center=t,this.radius=e,assert&&assert(e>=0,"the radius of a sphere should be positive")}intersect(t,e){const i=t.direction,n=t.position,a=n.minus(this.center),h=i.dot(a),c=a.magnitudeSquared,f=4*h*h-4*(c-this.radius*this.radius);if(f<e)return null;const g=i.dot(this.center)-i.dot(n),y=Math.sqrt(f)/2,w=g-y,I=g+y;if(I<e)return null;const O=t.pointAtDistance(I),N=O.minus(this.center).normalized();if(w<e)return{distance:I,hitPoint:O,normal:N.negated(),fromOutside:!1};{const F=t.pointAtDistance(w),b=F.minus(this.center).normalized();return{distance:w,hitPoint:F,normal:b,fromOutside:!0}}}intersections(t,e){const i=t.direction,n=t.position,a=n.minus(this.center),h=i.dot(a),c=a.magnitudeSquared,f=4*h*h-4*(c-this.radius*this.radius);if(f<e)return[];const g=i.dot(this.center)-i.dot(n),y=Math.sqrt(f)/2,w=g-y,I=g+y;if(I<e)return[];const O=t.pointAtDistance(I),N=O.minus(this.center).normalized(),F=t.pointAtDistance(w),b=F.minus(this.center).normalized(),v={distance:I,hitPoint:O,normal:N.negated(),fromOutside:!1},E={distance:w,hitPoint:F,normal:b,fromOutside:!0};return w<e?[v,E]:[E,v]}}j.register("Sphere3",Q1);const ir={getPercentile(o,t){if(assert&&assert(Array.isArray(o)),assert&&o.forEach(n=>assert&&assert(typeof n=="number")),o.length===0)return null;o.sort((n,a)=>n-a);const e=t/100*o.length;let i=null;return Math.floor(e)===e?i=(o[e-1]+o[e])/2:i=o[Math.floor(e)],i},median(o){return ir.getPercentile(o,50)},getBoxPlotValues(o){return assert&&assert(o.length>=4,"need at least 4 values to calculate quartiles"),{q1:ir.getPercentile(o,25),median:ir.getPercentile(o,50),q3:ir.getPercentile(o,75)}},getBoxPlotLimits(o){assert&&assert(Array.isArray(o)),assert&&assert(o.length>=4,"need at least 4 values to calculate data limits"),assert&&o.forEach(a=>assert&&assert(typeof a=="number"));const t=ir.getBoxPlotValues(o),e=t.q3-t.q1,i=t.q1-1.5*e,n=t.q3+1.5*e;return{lowerLimit:i,upperLimit:n}}};j.register("Stats",ir);const tA=1e-6,Rl=(o,t)=>Math.abs(o-t)<=tA;class eA{constructor(t,e,i){i=oe({domain:new Ys(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY),range:new Ys(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY)},i),this.evaluationFunction=t,this.inverseFunction=e,this.domain=i.domain,this.range=i.range}evaluate(t){assert&&assert(this.domain.contains(t),"Value out of domain");const e=this.evaluationFunction(t);return assert&&assert(Rl(this.inverseFunction(e),t)),e}inverse(t){assert&&assert(this.range.contains(t),"Value out of range");const e=this.inverseFunction(t);return assert&&assert(Rl(this.evaluationFunction(e),t)),e}}j.register("Transform1",eA);const Ll=new vt;function bu(o){return o instanceof vt&&o.isFinite()}class Uu{constructor(t){this.matrix=vt.IDENTITY.copy(),this.inverse=vt.IDENTITY.copy(),this.matrixTransposed=vt.IDENTITY.copy(),this.inverseTransposed=vt.IDENTITY.copy(),this.inverseValid=!0,this.transposeValid=!0,this.inverseTransposeValid=!0,this.changeEmitter=new di,t&&this.setMatrix(t)}setMatrix(t){assert&&assert(bu(t),"Matrix has NaNs, non-finite values, or isn't a matrix!"),this.matrix.set(t),this.invalidate()}invalidate(){assert&&assert(this.matrix.isFinite()),this.inverseValid=!1,this.transposeValid=!1,this.inverseTransposeValid=!1,this.changeEmitter.emit()}prepend(t){assert&&assert(bu(t),"Matrix has NaNs, non-finite values, or isn't a matrix!"),Ll.set(this.matrix),this.matrix.set(t),this.matrix.multiplyMatrix(Ll),this.invalidate()}append(t){assert&&assert(bu(t),"Matrix has NaNs, non-finite values, or isn't a matrix!"),this.matrix.multiplyMatrix(t),this.invalidate()}prependTransform(t){this.prepend(t.matrix)}appendTransform(t){this.append(t.matrix)}applyToCanvasContext(t){t.setTransform(this.matrix.m00(),this.matrix.m10(),this.matrix.m01(),this.matrix.m11(),this.matrix.m03(),this.matrix.m13())}copy(){const t=new Uu(this.matrix);t.inverse=this.inverse,t.matrixTransposed=this.matrixTransposed,t.inverseTransposed=this.inverseTransposed,t.inverseValid=this.inverseValid,t.transposeValid=this.transposeValid,t.inverseTransposeValid=this.inverseTransposeValid}getMatrix(){return this.matrix}getInverse(){return this.inverseValid||(this.inverseValid=!0,this.inverse.set(this.matrix),this.inverse.invert()),this.inverse}getMatrixTransposed(){return this.transposeValid||(this.transposeValid=!0,this.matrixTransposed.set(this.matrix),this.matrixTransposed.transpose()),this.matrixTransposed}getInverseTransposed(){return this.inverseTransposeValid||(this.inverseTransposeValid=!0,this.inverseTransposed.set(this.getInverse()),this.inverseTransposed.transpose()),this.inverseTransposed}isIdentity(){return this.matrix.type===vt.Types.IDENTITY}isFinite(){return this.matrix.isFinite()}transformPosition3(t){return this.matrix.timesVector3(t)}transformDelta3(t){return this.matrix.timesRelativeVector3(t)}transformNormal3(t){return this.getInverse().timesTransposeVector3(t)}transformDeltaX(t){return this.transformDelta3(new lt(t,0,0)).x}transformDeltaY(t){return this.transformDelta3(new lt(0,t,0)).y}transformDeltaZ(t){return this.transformDelta3(new lt(0,0,t)).z}transformRay(t){return new dr(this.transformPosition3(t.position),this.transformPosition3(t.position.plus(t.direction)).minus(this.transformPosition3(t.position)))}inversePosition3(t){return this.getInverse().timesVector3(t)}inverseDelta3(t){return this.inversePosition3(t).minus(this.inversePosition3(lt.ZERO))}inverseNormal3(t){return this.matrix.timesTransposeVector3(t)}inverseDeltaX(t){return this.inverseDelta3(new lt(t,0,0)).x}inverseDeltaY(t){return this.inverseDelta3(new lt(0,t,0)).y}inverseDeltaZ(t){return this.inverseDelta3(new lt(0,0,t)).z}inverseRay(t){return new dr(this.inversePosition3(t.position),this.inversePosition3(t.position.plus(t.direction)).minus(this.inversePosition3(t.position)))}}j.register("Transform4",Uu);const Es=class Es{constructor(t){const e=t.slice();for(;e.length&&e[e.length-1]===0;)e.pop();this.coefficients=e}plus(t){const e=[];for(let i=0;i<Math.max(this.coefficients.length,t.coefficients.length);i++)e.push(this.getCoefficient(i)+t.getCoefficient(i));return new Es(e)}minus(t){const e=[];for(let i=0;i<Math.max(this.coefficients.length,t.coefficients.length);i++)e.push(this.getCoefficient(i)-t.getCoefficient(i));return new Es(e)}times(t){const e=[];for(;e.length<this.coefficients.length+t.coefficients.length-1;)e.push(0);for(let i=0;i<this.coefficients.length;i++)for(let n=0;n<t.coefficients.length;n++)e[i+n]+=this.getCoefficient(i)*t.getCoefficient(n);return new Es(e)}dividedBy(t){let e=new Es([]),i=this;const n=t.degree,a=t.coefficients[t.coefficients.length-1];for(;i.degree>=n;){const h=Es.singleCoefficient(i.getCoefficient(i.degree)/a,i.degree-n);e=e.plus(h),i=i.minus(h.times(t))}return{quotient:e,remainder:i}}gcd(t){let e=this,i=t;for(;!i.isZero();){const n=i;i=e.dividedBy(i).remainder,e=n}return e}equals(t){return this.coefficients.length===t.coefficients.length&&this.coefficients.every((e,i)=>e===t.coefficients[i])}getCoefficient(t){return t<this.coefficients.length?this.coefficients[t]:0}get degree(){return this.coefficients.length-1}isZero(){return this.coefficients.length===0}getMonicPolynomial(){if(this.isZero())return this;{const t=this.coefficients[this.coefficients.length-1];return new Es(this.coefficients.map(e=>e/t))}}evaluate(t){let e=this.coefficients[this.coefficients.length-1];for(let i=this.coefficients.length-2;i>=0;i--)e=e*t+this.coefficients[i];return e}evaluateComplex(t){let e=he.real(this.coefficients[this.coefficients.length-1]);for(let i=this.coefficients.length-2;i>=0;i--)e=e.times(t).plus(he.real(this.coefficients[i]));return e}getRoots(){if(this.isZero()||this.degree===0)return[];if(this.degree===1)return[he.real(-this.coefficients[0]/this.coefficients[1])];if(this.coefficients[0]===0){const t=new Es(this.coefficients.slice(1)).getRoots();return t.some(e=>e.equalsEpsilon(he.real(0),1e-10))||t.push(he.real(0)),t}else{if(this.degree===2)return he.solveQuadraticRoots(he.real(this.coefficients[2]),he.real(this.coefficients[1]),he.real(this.coefficients[0]));if(this.degree===3)return he.solveCubicRoots(he.real(this.coefficients[3]),he.real(this.coefficients[2]),he.real(this.coefficients[1]),he.real(this.coefficients[0]));{const t=new Te(this.degree,this.degree);for(let g=0;g<this.degree;g++)g<this.degree-1&&t.set(g+1,g,1),t.set(g,this.degree-1,-this.coefficients[g]/this.coefficients[this.degree]);console.log(t.toString());let e=t;const i=1e-13;for(let g=0;g<500;g++){const y=new zu(e);if(e=y.getR().times(y.getQ()),g%10===0){let w=0;for(let I=0;I<this.degree;I++)for(let O=0;O<I;O++)w=Math.max(w,Math.abs(e.get(I,O)));if(w<i||g>1e3)break}}const n=_.range(0,this.degree).map(g=>he.real(e.get(g,g))),a=new hc(t),h=a.getRealEigenvalues(),c=a.getImagEigenvalues(),f=_.range(0,this.degree).map(g=>new he(h[g],c[g]));return n||f}}}static singleCoefficient(t,e){const i=[];for(;i.length<e;)i.push(0);return i.push(t),new Es(i)}};Es.ZERO=new Es([]);let Vu=Es;j.register("UnivariatePolynomial",Vu);export{Vs as $,jr as A,Ve as B,Z1 as C,Tt as D,Ls as E,Ru as F,gi as G,de as H,Bt as I,Ae as J,Js as K,U1 as L,Te as M,$r as N,Ai as O,ac as P,Pe as Q,Ys as R,xu as S,Jn as T,tc as U,$ as V,vu as W,ns as X,Xu as Y,Gn as Z,ec as _,Os as a,qu as a0,Nu as a1,Kt as a2,Eu as a3,li as a4,Yi as a5,oc as a6,Be as a7,Ms as a8,Ql as a9,Hn as aa,Kl as ab,Hr as ac,Ks as ad,lt as ae,k1 as af,Jl as ag,k as ah,he as ai,ie as aj,Gr as ak,se as b,c1 as c,Xi as d,Kn as e,Pu as f,di as g,rA as h,rr as i,iA as j,nA as k,Wl as l,Fi as m,Mt as n,Ie as o,as as p,nr as q,Ul as r,mr as s,oe as t,Lu as u,pi as v,Jt as w,xs as x,fr as y,_e as z};
