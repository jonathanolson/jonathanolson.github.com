import"./UnivariatePolynomial-B7u1WGdr.js";import{N as r,D as p,R as g,V as d,F as f,d as h}from"./PhetioControlledVisibilityProperty-DLWPAyRL.js";import{P as w}from"./PatternRuleNode-BQF-oKKk.js";import{L as u}from"./Theme-tmTDxZc0.js";import{p as b,ah as y}from"./patternBoards-DsO5TEFU.js";import{c as R}from"./curatedRules-CjTHaQtM.js";import"./PatternNode-C1rgMsi8.js";import"./PatternRule-CDRs6Hn3.js";import"./PatternBoardSolver-BpeZ3tu0.js";import"./ShadedSphereNode-CnO3WBko.js";import"./TextPushButton-jnVfkaQ5.js";self.assertions.enableAssert();const n=new r,N=new r({renderer:"svg",children:[n]}),i=new p(N,{allowWebGL:!0,allowBackingScaleAntialiasing:!0,allowSceneOverflow:!1});document.body.appendChild(i.domElement);i.setWidthHeight(self.innerWidth,self.innerHeight);console.log("test");(async()=>{const l=new g({fill:"#333"});n.addChild(l);const o=new d({x:10,y:10,align:"left"});n.addChild(o);const c=e=>{o.addChild(new h(e,{margin:5}))};let a=[];const s=new Map,m=e=>(s.has(e)||s.set(e,R.flatMap(t=>t.getEmbeddedRules(y(t.patternBoard,e)))),s.get(e));a=a.filter(e=>!e.isRedundant(m(e.patternBoard))),c(new d({spacing:20,children:a.map(e=>{const t=new w(e,b.get(e.patternBoard));return t.cursor="pointer",t.addInputListener(new f({fire:()=>{u(JSON.stringify(e.serialize())),console.log(JSON.stringify(e.serialize()))}})),t})})),i.setWidthHeight(Math.ceil(n.right+10),Math.ceil(n.bottom+10)),i.initializeEvents(),i.updateOnRequestAnimationFrame(e=>{})})();
