(function(){"use strict";var k=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mn(q){if(q.__esModule)return q;var de=q.default;if(typeof de=="function"){var I=function V(){return this instanceof V?Reflect.construct(de,arguments,this.constructor):de.apply(this,arguments)};I.prototype=de.prototype}else I={};return Object.defineProperty(I,"__esModule",{value:!0}),Object.keys(q).forEach(function(V){var Q=Object.getOwnPropertyDescriptor(q,V);Object.defineProperty(I,V,Q.get?Q:{enumerable:!0,get:function(){return q[V]}})}),I}var En={exports:{}},Dn={},On=Object.freeze({__proto__:null,default:Dn}),oe=Mn(On);/*!
 * Stockfish.js 16 (c) 2023, Chess.com, LLC
 * https://github.com/nmrugg/stockfish.js
 * License: GPLv3
 *
 * Based on stockfish.wasm (c)
 * Niklas Fiekas <niklas.fiekas@backscattering.de>
 * Hiroshi Ogawa <hi.ogawa.zz@gmail.com>
 * https://github.com/niklasf/stockfish.wasm
 * https://github.com/hi-ogawa/Stockfish
 *
 * Based on Stockfish (c) T. Romstad, M. Costalba, J. Kiiski, G. Linscott and other contributors.
 * https://github.com/official-stockfish/Stockfish
 */(function(q,de){(function(){var I,V,Q,be,Se,K;function me(){function f(U){var n,G,ae,ie,Y;U=U||{},(n=n||(U!==void 0?U:{})).ready=new Promise(function(e,t){G=e,ae=t}),typeof XMLHttpRequest>"u"&&(k.XMLHttpRequest=function(){var e,t={open:function(r,a){e=a},send:function(){oe.readFile(e,function(r,a){t.readyState=4,r?(console.error(r),t.status=404,t.onerror(r)):(t.status=200,t.response=a,t.onreadystatechange(),t.onload())})}};return t}),typeof k<"u"&&Object.prototype.toString.call(k.process)==="[object process]"&&typeof fetch<"u"&&(fetch=null),n.postCustomMessage=function(e){if(typeof PThread<"u")for(var t of PThread.ba)t.postMessage({cmd:"custom",userData:e})},n.queue=(Y=[],{get:async function(){return 0<Y.length?Y.shift():await new Promise(function(e){return ie=e})},put:function(e){ie?(ie(e),ie=null):Y.push(e)}}),n.onCustomMessage=function(e){ye?O.push(e):n.queue.put(e)};var ye,h,O=[],L=(n.pauseQueue=function(){ye=!0},n.unpauseQueue=function(){var e=O;ye=!(O=[]),e.forEach(function(t){n.queue.put(t)})},n.postMessage=n.postCustomMessage,[]),W=(n.addMessageListener=function(e){L.push(e)},n.removeMessageListener=function(e){0<=(e=L.indexOf(e))&&L.splice(e,1)},n.print=n.printErr=function(e){if(L.length===0)return console.log(e);for(var t of L)t(e)},n.terminate=function(){typeof PThread<"u"&&PThread.da()},n.__IS_SINGLE_THREADED__=!0,n._origOnCustomMessage=n.onCustomMessage,n.onCustomMessage=function(e){return e==="stop"||e==="quit"?n._stop():e==="ponderhit"&&n._ponderhit(),n._origOnCustomMessage(e)},{});for(h in n)n.hasOwnProperty(h)&&(W[h]=n[h]);var H=[],we="./this.program";function Me(e,t){if(e!==0)throw t}var Pe,Ee,je,Ke,ge,$e=typeof window=="object",se=typeof importScripts=="function",Je=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",B="",An=(Je?(B=se?oe.dirname(B)+"/":__dirname+"/",Pe=function(e,t){return je=je||oe,e=(Ke=Ke||oe).normalize(e),je.readFileSync(e,t?null:"utf8")},Ee=function(e){return(e=(e=Pe(e,!0)).buffer?e:new Uint8Array(e)).buffer||X("Assertion failed: undefined"),e},1<process.argv.length&&(we=process.argv[1].replace(/\\/g,"/")),H=process.argv.slice(2),process.on("uncaughtException",function(e){if(!(e instanceof Fe))throw e}),process.on("unhandledRejection",X),Me=function(e,t){throw process.exitCode=e,t},n.inspect=function(){return"[Emscripten Module object]"}):($e||se)&&(se?B=self.location.href:typeof document<"u"&&document.currentScript&&(B=document.currentScript.src),B=(B=D||B).indexOf("blob:")!==0?B.substr(0,B.lastIndexOf("/")+1):"",Pe=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},se)&&(Ee=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),n.print||console.log.bind(console)),Z=n.printErr||console.warn.bind(console);for(h in W)W.hasOwnProperty(h)&&(n[h]=W[h]);W=null,n.arguments&&(H=n.arguments),n.thisProgram&&(we=n.thisProgram),n.quit&&(Me=n.quit),n.wasmBinary&&(ge=n.wasmBinary),n.noExitRuntime;var ce=(typeof WebAssembly!="object"&&X("no native wasm support detected"),!1),Qe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Ze(e,t,r){var a=t+r;for(r=t;e[r]&&!(a<=r);)++r;if(16<r-t&&e.subarray&&Qe)return Qe.decode(e.subarray(t,r));for(a="";t<r;){var l,i,s=e[t++];128&s?(l=63&e[t++],(224&s)==192?a+=String.fromCharCode((31&s)<<6|l):(i=63&e[t++],(s=(240&s)==224?(15&s)<<12|l<<6|i:(7&s)<<18|l<<12|i<<6|63&e[t++])<65536?a+=String.fromCharCode(s):(s-=65536,a+=String.fromCharCode(55296|s>>10,56320|1023&s)))):a+=String.fromCharCode(s)}return a}function P(e){return e?Ze(E,e,void 0):""}function N(e,t,r,a){if(0<a){a=r+a-1;for(var l=0;l<e.length;++l){var i=e.charCodeAt(l);if((i=55296<=i&&i<=57343?65536+((1023&i)<<10)|1023&e.charCodeAt(++l):i)<=127){if(a<=r)break;t[r++]=i}else{if(i<=2047){if(a<=r+1)break;t[r++]=192|i>>6}else{if(i<=65535){if(a<=r+2)break;t[r++]=224|i>>12}else{if(a<=r+3)break;t[r++]=240|i>>18,t[r++]=128|i>>12&63}t[r++]=128|i>>6&63}t[r++]=128|63&i}}t[r]=0}}function Ue(e){for(var t=0,r=0;r<e.length;++r){var a=e.charCodeAt(r);(a=55296<=a&&a<=57343?65536+((1023&a)<<10)|1023&e.charCodeAt(++r):a)<=127?++t:t=a<=2047?t+2:a<=65535?t+3:t+4}return t}function en(e){var t=Ue(e)+1,r=ze(t);return N(e,he,r,t),r}var he,E,b,v,m,He,$,nn=[],tn=[],Cn=[],rn=[],ue=0,ve=null;function on(){ue++,n.monitorRunDependencies&&n.monitorRunDependencies(ue)}function Ne(){var e;ue--,n.monitorRunDependencies&&n.monitorRunDependencies(ue),ue==0&&ve&&(e=ve,ve=null,e())}function X(e){throw n.onAbort&&n.onAbort(e),Z(e),ce=!0,e=new WebAssembly.RuntimeError("abort("+e+"). Build with -s ASSERTIONS=1 for more info."),ae(e),e}function an(){return $.startsWith("data:application/octet-stream;base64,")}function un(){var e=$;try{if(e==$&&ge)return new Uint8Array(ge);if(Ee)return Ee(e);throw"both async and sync fetching of the wasm failed"}catch(t){X(t)}}function De(e){for(;0<e.length;){var t,r=e.shift();typeof r=="function"?r(n):typeof(t=r.U)=="number"?r.S===void 0?vn.call(null,t):re.apply(null,[t,r.S]):t(r.S===void 0?null:r.S)}}n.preloadedImages={},n.preloadedAudios={},$="stockfish-nnue-16-single.wasm",an()||(He=$,$=n.locateFile?n.locateFile(He,B):B+He);var _e,In=[null,[],[]],sn={},Rn=Je?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:function(){return performance.now()},ke=[];function x(e,t){m[e>>2]=t,m[e+4>>2]=t/4294967296|0}function Ye(e,t,r,a,l){function i(d){var F=0,j=0;d&&(j=u.response?u.response.byteLength:0,F=fe(j),E.set(new Uint8Array(u.response),F)),m[e+12>>2]=F,x(e+16,j)}if(y=m[e+8>>2]){var s=P(y),g=(g=P(A=e+112))||"GET",c=m[A+52>>2],w=m[A+56>>2],S=!!m[A+60>>2],_=m[A+68>>2],T=m[A+72>>2],y=m[A+76>>2],C=m[A+80>>2],R=m[A+84>>2],A=m[A+88>>2],z=!!(1&c),o=!!(2&c),c=!!(64&c),_=_?P(_):void 0,T=T?P(T):void 0,le=C?P(C):void 0,u=new XMLHttpRequest;if(u.withCredentials=S,u.open(g,s,!c,_,T),c||(u.timeout=w),u.Z=s,u.responseType="arraybuffer",C&&u.overrideMimeType(le),y)for(;(g=m[y>>2])&&(s=m[y+4>>2]);)y+=8,g=P(g),s=P(s),u.setRequestHeader(g,s);ke.push(u),m[e+0>>2]=ke.length,y=R&&A?E.slice(R,R+A):null,u.onload=function(d){i(z&&!o);var F=u.response?u.response.byteLength:0;x(e+24,0),F&&x(e+32,F),b[e+40>>1]=u.readyState,b[e+42>>1]=u.status,u.statusText&&N(u.statusText,E,e+44,64),200<=u.status&&u.status<300?t&&t(e,u,d):r&&r(e,u,d)},u.onerror=function(d){i(z);var F=u.status;x(e+24,0),x(e+32,u.response?u.response.byteLength:0),b[e+40>>1]=u.readyState,b[e+42>>1]=F,r&&r(e,u,d)},u.ontimeout=function(d){r&&r(e,u,d)},u.onprogress=function(d){var F=z&&o&&u.response?u.response.byteLength:0,j=0;z&&o&&(j=fe(F),E.set(new Uint8Array(u.response),j)),m[e+12>>2]=j,x(e+16,F),x(e+24,d.loaded-F),x(e+32,d.total),b[e+40>>1]=u.readyState,3<=u.readyState&&u.status===0&&0<d.loaded&&(u.status=200),b[e+42>>1]=u.status,u.statusText&&N(u.statusText,E,e+44,64),a&&a(e,u,d),j&&Xe(j)},u.onreadystatechange=function(d){b[e+40>>1]=u.readyState,2<=u.readyState&&(b[e+42>>1]=u.status),l&&l(e,u,d)};try{u.send(y)}catch(d){r&&r(e,u,d)}}else r(e,0,"no url specified!")}function ee(e,t){if(!ce)if(t)e();else try{e()}catch(r){if(!(r instanceof Fe)&&r!=="unwind")throw r&&typeof r=="object"&&r.stack&&Z("exception thrown: "+[r,r.stack]),r}}function cn(e,t,r,a){var l=_e;if(l){var i=P(m[e+112+64>>2]||m[e+8>>2]);try{var s=l.transaction(["FILES"],"readwrite").objectStore("FILES").put(t,i);s.onsuccess=function(){b[e+40>>1]=4,b[e+42>>1]=200,N("OK",E,e+44,64),r(e,0,i)},s.onerror=function(g){b[e+40>>1]=4,b[e+42>>1]=413,N("Payload Too Large",E,e+44,64),a(e,0,g)}}catch(g){a(e,0,g)}}else a(e,0,"IndexedDB not available!")}var We,Be={};function fn(){if(!We){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:we||"./this.program"};for(e in Be)Be[e]===void 0?delete t[e]:t[e]=Be[e];var r=[];for(e in t)r.push(e+"="+t[e]);We=r}return We}function Oe(e){return e%4==0&&(e%100!=0||e%400==0)}function qe(e,t){for(var r=0,a=0;a<=t;r+=e[a++]);return r}var Ae=[31,29,31,30,31,30,31,31,30,31,30,31],Ce=[31,28,31,30,31,30,31,31,30,31,30,31];function Ie(e,t){for(e=new Date(e.getTime());0<t;){var r=e.getMonth(),a=(Oe(e.getFullYear())?Ae:Ce)[r];if(!(t>a-e.getDate())){e.setDate(e.getDate()+t);break}t-=a-e.getDate()+1,e.setDate(1),r<11?e.setMonth(r+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return e}function Tn(e,t,r,a){function l(o,c,_){for(o=typeof o=="number"?o.toString():o||"";o.length<c;)o=_[0]+o;return o}function i(o,c){return l(o,c,"0")}function s(o,c){function _(le){return le<0?-1:0<le?1:0}var T;return T=(T=_(o.getFullYear()-c.getFullYear()))===0&&(T=_(o.getMonth()-c.getMonth()))===0?_(o.getDate()-c.getDate()):T}function g(o){switch(o.getDay()){case 0:return new Date(o.getFullYear()-1,11,29);case 1:return o;case 2:return new Date(o.getFullYear(),0,3);case 3:return new Date(o.getFullYear(),0,2);case 4:return new Date(o.getFullYear(),0,1);case 5:return new Date(o.getFullYear()-1,11,31);case 6:return new Date(o.getFullYear()-1,11,30)}}function w(o){o=Ie(new Date(o.F+1900,0,1),o.R);var _=new Date(o.getFullYear()+1,0,4),c=g(new Date(o.getFullYear(),0,4)),_=g(_);return s(c,o)<=0?s(_,o)<=0?o.getFullYear()+1:o.getFullYear():o.getFullYear()-1}var S,y=v[a+40>>2];for(S in a={X:v[a>>2],W:v[a+4>>2],O:v[a+8>>2],N:v[a+12>>2],M:v[a+16>>2],F:v[a+20>>2],P:v[a+24>>2],R:v[a+28>>2],ea:v[a+32>>2],V:v[a+36>>2],Y:y?P(y):""},r=P(r),y={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(S,"g"),y[S]);var C,R,A="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),z="January February March April May June July August September October November December".split(" ");for(S in y={"%a":function(o){return A[o.P].substring(0,3)},"%A":function(o){return A[o.P]},"%b":function(o){return z[o.M].substring(0,3)},"%B":function(o){return z[o.M]},"%C":function(o){return i((o.F+1900)/100|0,2)},"%d":function(o){return i(o.N,2)},"%e":function(o){return l(o.N,2," ")},"%g":function(o){return w(o).toString().substring(2)},"%G":w,"%H":function(o){return i(o.O,2)},"%I":function(o){return(o=o.O)==0?o=12:12<o&&(o-=12),i(o,2)},"%j":function(o){return i(o.N+qe(Oe(o.F+1900)?Ae:Ce,o.M-1),3)},"%m":function(o){return i(o.M+1,2)},"%M":function(o){return i(o.W,2)},"%n":function(){return`
`},"%p":function(o){return 0<=o.O&&o.O<12?"AM":"PM"},"%S":function(o){return i(o.X,2)},"%t":function(){return"	"},"%u":function(o){return o.P||7},"%U":function(o){var c=new Date(o.F+1900,0,1),_=c.getDay()===0?c:Ie(c,7-c.getDay());return s(_,o=new Date(o.F+1900,o.M,o.N))<0?i(Math.ceil((31-_.getDate()+(qe(Oe(o.getFullYear())?Ae:Ce,o.getMonth()-1)-31)+o.getDate())/7),2):s(_,c)===0?"01":"00"},"%V":function(o){var _=new Date(o.F+1901,0,4),c=g(new Date(o.F+1900,0,4)),_=g(_),T=Ie(new Date(o.F+1900,0,1),o.R);return s(T,c)<0?"53":s(_,T)<=0?"01":i(Math.ceil((c.getFullYear()<o.F+1900?o.R+32-c.getDate():o.R+1-c.getDate())/7),2)},"%w":function(o){return o.P},"%W":function(o){var c=new Date(o.F,0,1),_=c.getDay()===1?c:Ie(c,c.getDay()===0?1:7-c.getDay()+1);return s(_,o=new Date(o.F+1900,o.M,o.N))<0?i(Math.ceil((31-_.getDate()+(qe(Oe(o.getFullYear())?Ae:Ce,o.getMonth()-1)-31)+o.getDate())/7),2):s(_,c)===0?"01":"00"},"%y":function(o){return(o.F+1900).toString().substring(2)},"%Y":function(o){return o.F+1900},"%z":function(o){var c=0<=(o=o.V);return o=Math.abs(o)/60,(c?"+":"-")+("0000"+(o/60*100+o%60)).slice(-4)},"%Z":function(o){return o.Y},"%%":function(){return"%"}})r.includes(S)&&(r=r.replace(new RegExp(S,"g"),y[S](a)));return C=r,R=Array(Ue(C)+1),N(C,R,0,R.length),(S=R).length>t?0:(he.set(S,e),S.length-1)}function Re(e){try{e()}catch(t){X(t)}}var ne=0,te=null,ln=0,Te=[],pn={},dn={},xn=0,Ge=null,mn=[],Fn=[];function yn(e){var t,r={};for(t in e)(function(a){var l=e[a];r[a]=typeof l=="function"?function(){Te.push(a);try{return l.apply(null,arguments)}catch(i){if(i.message.indexOf("unreachable")===-1)throw i}finally{ce||(Te.pop()!==a&&X("Assertion failed: undefined"),te&&ne===1&&Te.length===0&&(ne=0,Re(n._asyncify_stop_unwind),typeof Fibers<"u"&&Fibers.fa(),Ge)&&(Ge(),Ge=null))}}:l})(t);return r}function gn(e){var t,r,a,l;if(!ce)return ne===0?(r=t=!1,e(function(i){var s;!ce&&(ln=i||0,t=!0,r)&&(ne=2,Re(function(){n._asyncify_start_rewind(te)}),typeof Browser<"u"&&Browser.T.U&&Browser.T.resume(),s=(0,n.asm[dn[v[te+8>>2]]])(),te||(i=mn,mn=[],i.forEach(function(g){g(s)})))}),r=!0,t||(ne=1,e=fe(4108),a=e+12,v[e>>2]=a,v[e+4>>2]=a+4096,a=Te[0],(l=pn[a])===void 0&&(l=xn++,pn[a]=l,dn[l]=a),v[e+8>>2]=l,te=e,Re(function(){n._asyncify_start_unwind(te)}),typeof Browser<"u"&&Browser.T.U&&Browser.T.pause())):ne===2?(ne=0,Re(n._asyncify_stop_rewind),Xe(te),te=null,Fn.forEach(function(i){ee(i)})):X("invalid state: "+ne),ln}(function(e){try{var t=indexedDB.open("emscripten_filesystem",1)}catch{return e()}t.onupgradeneeded=function(r){(r=r.target.result).objectStoreNames.contains("FILES")&&r.deleteObjectStore("FILES"),r.createObjectStore("FILES")},t.onsuccess=function(r){r=r.target.result,_e=r,Ne()},t.onerror=function(r){e()}})(function(){_e=!1,Ne()}),typeof ENVIRONMENT_IS_FETCH_WORKER<"u"&&ENVIRONMENT_IS_FETCH_WORKER||on();var xe,Ln={f:function(){return 0},p:function(){return 0},q:function(){},i:function(e){delete ke[e-1]},a:function(){X()},h:function(e,t){if(e===0)e=Date.now();else{if(e!==1&&e!==4)return v[hn()>>2]=28,-1;e=Rn()}return v[t>>2]=e/1e3|0,v[t+4>>2]=e%1e3*1e6|0,0},k:function(){return!se},o:function(e,t,r){E.copyWithin(e,t,t+r)},d:function(){X("OOM")},b:function(e){gn(function(t){var r;r=t,setTimeout(function(){ee(r)},e)})},j:function(e,t,r,a,l){function i(p,pe){cn(p,pe.response,function(J){ee(function(){R?re.apply(null,[R,J]):t&&t(J)},u)},function(J){ee(function(){R?re.apply(null,[R,J]):t&&t(J)},u)})}function s(p){ee(function(){o?re.apply(null,[o,p]):l&&l(p)},u)}function g(p){ee(function(){A?re.apply(null,[A,p]):r&&r(p)},u)}function w(p){ee(function(){z?re.apply(null,[z,p]):a&&a(p)},u)}function S(p){ee(function(){R?re.apply(null,[R,p]):t&&t(p)},u)}var y=e+112,C=P(y),R=m[y+36>>2],A=m[y+40>>2],z=m[y+44>>2],o=m[y+48>>2],c=m[y+52>>2],_=!!(4&c),T=!!(32&c),le=!!(16&c),u=!!(64&c);if(C==="EM_IDB_STORE")C=m[y+84>>2],cn(e,E.slice(C,C+m[y+88>>2]),S,g);else if(C==="EM_IDB_DELETE"){var d=e,F=S,j=g;if(c=_e,c){y=m[d+112+64>>2],y=P(y=y||m[d+8>>2]);try{var Sn=c.transaction(["FILES"],"readwrite").objectStore("FILES").delete(y);Sn.onsuccess=function(p){p=p.target.result,m[d+12>>2]=0,x(d+16,0),x(d+24,0),x(d+32,0),b[d+40>>1]=4,b[d+42>>1]=200,N("OK",E,d+44,64),F(d,0,p)},Sn.onerror=function(p){b[d+40>>1]=4,b[d+42>>1]=404,N("Not Found",E,d+44,64),j(d,0,p)}}catch(p){j(d,0,p)}}else j(d,0,"IndexedDB not available!")}else if(le){if(T)return 0;Ye(e,_?i:S,g,w,s)}else{var M=e,Pn=S,Le=T?g:_?function(p){Ye(p,i,g,w,s)}:function(p){Ye(p,S,g,w,s)};if(C=_e,C){c=m[M+112+64>>2],c=P(c=c||m[M+8>>2]);try{var wn=C.transaction(["FILES"],"readonly").objectStore("FILES").get(c);wn.onsuccess=function(p){var pe,J;p.target.result?(pe=(p=p.target.result).byteLength||p.length,J=fe(pe),E.set(new Uint8Array(p),J),m[M+12>>2]=J,x(M+16,pe),x(M+24,0),x(M+32,pe),b[M+40>>1]=4,b[M+42>>1]=200,N("OK",E,M+44,64),Pn(M,0,p)):(b[M+40>>1]=4,b[M+42>>1]=404,N("Not Found",E,M+44,64),Le(M,0,"no data"))},wn.onerror=function(p){b[M+40>>1]=4,b[M+42>>1]=404,N("Not Found",E,M+44,64),Le(M,0,p)}}catch(p){Le(M,0,p)}}else Le(M,0,"IndexedDB not available!")}return e},l:function(){return e=async()=>{var t=await n.queue.get(),r=Ue(t)+1,a=fe(r);return N(t,E,a,r),a},gn(function(t){e().then(t)});var e},u:function(e,t){var r=0;return fn().forEach(function(a,l){var i=t+r;for(l=v[e+4*l>>2]=i,i=0;i<a.length;++i)he[l++>>0]=a.charCodeAt(i);he[l>>0]=0,r+=a.length+1}),0},v:function(e,t){var r=fn(),a=(v[e>>2]=r.length,0);return r.forEach(function(l){a+=l.length+1}),v[t>>2]=a,0},c:function(e){_n(e)},g:function(){return 0},s:function(e,t,r,a){return e=sn.aa(e),t=sn.$(e,t,r),v[a>>2]=t,0},n:function(){},r:function(e,t,r,a){for(var l=0,i=0;i<r;i++){for(var s=v[t+8*i>>2],g=v[t+(8*i+4)>>2],w=0;w<g;w++){var S=E[s+w],y=In[e];S===0||S===10?((e===1?An:Z)(Ze(y,0)),y.length=0):y.push(S)}l+=g}return v[a>>2]=l,0},m:function(){n.pauseQueue()},t:Tn,e:function(){n.unpauseQueue()}},Xe=(function(){function e(i){i=yn(i=i.exports),n.asm=i,i=n.asm.w.buffer,n.HEAP8=he=new Int8Array(i),n.HEAP16=new Int16Array(i),n.HEAP32=v=new Int32Array(i),n.HEAPU8=E=new Uint8Array(i),n.HEAPU16=b=new Uint16Array(i),n.HEAPU32=m=new Uint32Array(i),n.HEAPF32=new Float32Array(i),n.HEAPF64=new Float64Array(i),tn.unshift(n.asm.x),Ne()}function t(i){e(i.instance)}function r(i){return(ge||!$e&&!se||typeof fetch!="function"?Promise.resolve().then(un):fetch($,{credentials:"same-origin"}).then(function(s){if(s.ok)return s.arrayBuffer();throw"failed to load wasm binary file at '"+$+"'"}).catch(un)).then(function(s){return WebAssembly.instantiate(s,a)}).then(i,function(s){Z("failed to asynchronously prepare wasm: "+s),X(s)})}var a={a:Ln};if(on(),n.instantiateWasm)try{var l=n.instantiateWasm(a,e);return yn(l)}catch(i){return Z("Module.instantiateWasm callback failed with error: "+i)}(ge||typeof WebAssembly.instantiateStreaming!="function"||an()||typeof fetch!="function"?r(t):fetch($,{credentials:"same-origin"}).then(function(i){return WebAssembly.instantiateStreaming(i,a).then(t,function(s){return Z("wasm streaming compile failed: "+s),Z("falling back to ArrayBuffer instantiation"),r(t)})})).catch(ae)}(),n.___wasm_call_ctors=function(){return(n.___wasm_call_ctors=n.asm.x).apply(null,arguments)},n._main=function(){return(n._main=n.asm.y).apply(null,arguments)},n._free=function(){return(Xe=n._free=n.asm.z).apply(null,arguments)}),fe=(n._stop=function(){return(n._stop=n.asm.A).apply(null,arguments)},n._ponderhit=function(){return(n._ponderhit=n.asm.B).apply(null,arguments)},n._malloc=function(){return(fe=n._malloc=n.asm.C).apply(null,arguments)}),hn=n.___errno_location=function(){return(hn=n.___errno_location=n.asm.D).apply(null,arguments)},ze=n.stackAlloc=function(){return(ze=n.stackAlloc=n.asm.E).apply(null,arguments)},re=n.dynCall_vi=function(){return(re=n.dynCall_vi=n.asm.G).apply(null,arguments)},vn=n.dynCall_v=function(){return(vn=n.dynCall_v=n.asm.H).apply(null,arguments)};function Fe(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function Ve(e){function t(){if(!xe&&(xe=!0,n.calledRun=!0,!ce)){if(De(tn),De(Cn),G(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),bn){var a=e,l=n._main,i=(a=a||[]).length+1,s=ze(4*(i+1));v[s>>2]=en(we);for(var g=1;g<i;g++)v[(s>>2)+g]=en(a[g-1]);v[(s>>2)+i]=0;try{_n(l(i,s))}catch(w){w instanceof Fe||w=="unwind"||((a=w)&&typeof w=="object"&&w.stack&&(a=[w,w.stack]),Z("exception thrown: "+a),Me(1,w))}}if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)a=n.postRun.shift(),rn.unshift(a);De(rn)}}if(e=e||H,!(0<ue)){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)r=void 0,r=n.preRun.shift(),nn.unshift(r);De(nn),0<ue||(n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),t()},1)):t())}var r}function _n(e){Me(e,new Fe(e))}if(n._asyncify_start_unwind=function(){return(n._asyncify_start_unwind=n.asm.I).apply(null,arguments)},n._asyncify_stop_unwind=function(){return(n._asyncify_stop_unwind=n.asm.J).apply(null,arguments)},n._asyncify_start_rewind=function(){return(n._asyncify_start_rewind=n.asm.K).apply(null,arguments)},n._asyncify_stop_rewind=function(){return(n._asyncify_stop_rewind=n.asm.L).apply(null,arguments)},ve=function e(){xe||Ve(),xe||(ve=e)},n.run=Ve,n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);0<n.preInit.length;)n.preInit.pop()();var bn=!0;return n.noInitialRun&&(bn=!1),Ve(),n.onSpecialMessage=n.postCustomMessage,U.ready}var D;return D=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,typeof __filename<"u"&&(D=D||__filename),q.exports=f,f}typeof self<"u"&&self.location.hash.split(",")[1]==="worker"||typeof k<"u"&&Object.prototype.toString.call(k.process)==="[object process]"&&!oe.isMainThread||(typeof onmessage<"u"&&(typeof window>"u"||window.document===void 0)||typeof k<"u"&&Object.prototype.toString.call(k.process)==="[object process]"?(Se=typeof k<"u"&&Object.prototype.toString.call(k.process)==="[object process]",K=[],Se?require.main===q?(Q=oe.join(__dirname,"stockfish-nnue-16-single.wasm"),be={locateFile:function(f){return-1<f.indexOf(".wasm")?Q:__filename}},me()(be).then(function(f){(I=f).addMessageListener(function(D){console.log(D)}),K.length&&K.forEach(function(D){f.postMessage(D,!0)}),K=null}),oe.createInterface({input:process.stdin,output:process.stdout,completer:function(f){var D=["binc ","btime ","confidence ","depth ","infinite ","mate ","maxdepth ","maxtime ","mindepth ","mintime ","moves ","movestogo ","movetime ","ponder ","searchmoves ","shallow ","winc ","wtime "];function U(G){return G.indexOf(f)===0}var n=["compiler","d","eval","exit","flip","go ","isready ","ponderhit ","position fen ","position startpos","position startpos moves","quit","setoption name Clear Hash value true","setoption name Contempt value ","setoption name Hash value ","setoption name Minimum Thinking Time value ","setoption name Move Overhead value ","setoption name MultiPV value ","setoption name Ponder value ","setoption name Skill Level value ","setoption name Slow Mover value ","setoption name Threads value ","setoption name UCI_Chess960 value false","setoption name UCI_Chess960 value true","setoption name UCI_AnalyseMode value true","setoption name UCI_AnalyseMode value false","setoption name UCI_LimitStrength value true","setoption name UCI_LimitStrength value false","setoption name UCI_Elo value ","setoption name UCI_ShowWDL value true","setoption name UCI_ShowWDL value false","setoption name Use NNUE value true","setoption name Use NNUE value false","setoption name nodestime value ","setoption name EvalFile value ","stop","uci","ucinewgame"].filter(U);return[n=n.length?n:(f=f.replace(/^.*\s/,""))?D.filter(U):D,f]},historySize:100}).on("line",function(f){f&&(f!=="quit"&&f!=="exit"||process.exit(),I?I.postMessage(f,!0):K.push(f))}).on("close",function(){process.exit()}).setPrompt("")):q.exports=me:(V=function(f){I.__IS_NON_NESTED__||I.__IS_SINGLE_THREADED__?I.onCustomMessage(f):I.postMessage(f,!0)},Se=self.location.hash.substr(1).split(","),Q=decodeURIComponent(Se[0]||"stockfish-nnue-16-single.wasm"),be={locateFile:function(f){return-1<f.indexOf(".wasm")?Q:self.location.origin+self.location.pathname+"#"+Q+",worker"}},me()(be).then(function(f){(I=f).addMessageListener(function(D){postMessage(D)}),K.length&&K.forEach(function(D){V(D)}),K=null}).catch(function(f){setTimeout(function(){throw f},1)}),onmessage=onmessage||function(f){I?V(f.data):K.push(f.data)})):typeof document=="object"&&document.currentScript?document.currentScript._exports=me():me()),function(f,D){var U,n,G,ae,ie;function Y(h){if(n)setTimeout(Y,0,h);else{var O=U[h];if(O){n=!0;try{var L=O,W=L.callback,H=L.args;switch(H.length){case 0:W();break;case 1:W(H[0]);break;case 2:W(H[0],H[1]);break;case 3:W(H[0],H[1],H[2]);break;default:W.apply(D,H)}}finally{delete U[h],n=!1}}}}function ye(){function h(L){L.source===f&&typeof L.data=="string"&&L.data.indexOf(O)===0&&Y(+L.data.slice(O.length))}var O="setImmediate$"+Math.random()+"$";f.addEventListener?f.addEventListener("message",h,!1):f.attachEvent("onmessage",h)}f.setImmediate||(n=!(U={}),G=f.document,{}.toString.call(f.process)==="[object process]"||(function(){var h,O;if(f.postMessage&&!f.importScripts)return h=!0,O=f.onmessage,f.onmessage=function(){h=!1},f.postMessage("","*"),f.onmessage=O,h}()?ye():f.MessageChannel?(ie=new MessageChannel).port1.onmessage=function(h){Y(h.data)}:G&&"onreadystatechange"in G.createElement("script")&&(ae=G.documentElement)))}(typeof self>"u"?typeof k>"u"?this:k:self)})()})(En)})();
