var z=Object.defineProperty;var g=(t,e,o)=>e in t?z(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var d=(t,e,o)=>(g(t,typeof e!="symbol"?e+"":e,o),o);import"./Vector2Property-DCXaH-JP.js";import{N as u,f as p}from"./PhetioControlledVisibilityProperty-sdyDHryr.js";import{q}from"./patternBoards-BWMN3hEW.js";import{B as l}from"./BinaryRuleCollection-BKRM-FAV.js";import{B as r}from"./BinaryRuleSequence-swyjMjWa.js";import{s as b,d as c}from"./PatternRule-DoiK-ly1.js";import{B as f}from"./BinaryMixedRuleGroup-BYk59YZ5.js";import{_ as B,a as S,b as N}from"./createBoardDescriptor-DQiPBFka.js";import"./getEmbeddings-BW9bZEIh.js";import"./computeEmbeddings-DgNcEsIq.js";import"./getPeriodicTilingGenerator-9D05ORtn.js";import"./getCoordinateClusteredMap-BFcIYRrL.js";import"./FeatureSet-CUuwAkcj.js";import"./FaceColorDualFeature-D9dVWw2V.js";import"./operations-BoJEwKFC.js";import"./logic-solver-PjryYC9f.js";import"./PatternBoardSolver-FUiAf3Qg.js";import"./HighlanderPruner-ClXsMd3n.js";import"./generalPatternBoardGenerations-WDVO6BXS.js";import"./RichSolution-Dy4hnxeR.js";class s{constructor(e,o,i,n){d(this,"collections");this.mainCollection=e,this.fallbackCollection=o,this.highlanderCollection=i,this.highlanderFallbackCollection=n,this.collections=[e,i,o,n].filter(a=>a!==null)}get size(){return B.sum(this.collections.map(e=>e.size))}getRule(e){S()&&N(e<this.size);for(const o of this.collections){if(e<o.size)return o.getRule(e);e-=o.size}throw new Error(`bad index: ${e}`)}withOnlyHighlander(){return new s(null,null,this.highlanderCollection,this.highlanderFallbackCollection)}withoutHighlander(){return new s(this.mainCollection,this.fallbackCollection,null,null)}withoutFallback(){return new s(this.mainCollection,null,this.highlanderCollection,null)}withPatternBoardFilter(e){return new s(this.mainCollection&&this.mainCollection.withPatternBoardFilter(e),this.fallbackCollection&&this.fallbackCollection.withPatternBoardFilter(e),this.highlanderCollection&&this.highlanderCollection.withPatternBoardFilter(e),this.highlanderFallbackCollection&&this.highlanderFallbackCollection.withPatternBoardFilter(e))}}const P=new u,k=new u({renderer:"svg",children:[P]}),h=new p(k,{allowWebGL:!0,allowBackingScaleAntialiasing:!0,allowSceneOverflow:!1});document.body.appendChild(h.domElement);h.setWidthHeight(window.innerWidth,window.innerHeight);window.standardSquareBoardGenerations=q;window.getSequenceName=t=>r.getName(t);window.getEmptySequence=t=>r.empty(t).serialize();window.getSequenceStatus=t=>r.deserialize(t).getStatusString();window.getNextBoardInSequence=t=>{const o=r.deserialize(t).getNextBoard();return o?b(o):null};window.getSequenceWithProcessingBoard=(t,e)=>{const o=r.deserialize(t),i=c(e);return o.addProcessingBoard(i),o.serialize()};window.getSequenceWithoutProcessingBoard=(t,e)=>{const o=r.deserialize(t),i=c(e);return o.removeProcessingBoard(i),o.serialize()};window.getSequenceWithCollection=(t,e,o)=>{const i=r.deserialize(t),n=c(e),a=l.deserialize(o);return i.addProcessedBoardCollection(n,a),i.serialize()};window.getCollectionForSequence=(t,e)=>{const o=r.deserialize(t),i=c(e);return o.getCollectionForBoard(i).serialize()};window.withCollection=(t,e)=>{const o=l.deserialize(t),i=l.deserialize(e);return o.withCollection(i).serialize()};window.withCollectionNonequal=(t,e)=>{const o=l.deserialize(t),i=l.deserialize(e);return o.withCollectionNonequal(i).serialize()};window.withCollectionNonredundant=(t,e)=>{const o=l.deserialize(t),i=l.deserialize(e);return o.withCollectionNonredundant(i).serialize()};window.withoutCollectionNonequal=(t,e)=>{const o=l.deserialize(t),i=l.deserialize(e);return o.withoutCollectionNonequal(i).serialize()};window.withoutCollectionNonredundant=(t,e)=>{const o=l.deserialize(t),i=l.deserialize(e);return o.withoutCollectionNonredundant(i).serialize()};window.collectionsToSortedMixedGroup=(t,e,o,i)=>{const n=t?l.deserialize(t):null,a=e?l.deserialize(e):null,w=o?l.deserialize(o):null,C=i?l.deserialize(i):null,m=new s(n,a,w,C);return f.fromGroup(m).sortedDefault().serialize()};
