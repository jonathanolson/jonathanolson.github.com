var J0=Object.defineProperty;var t1=(A,t,i)=>t in A?J0(A,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):A[t]=i;var zr=(A,t,i)=>(t1(A,typeof t!="symbol"?t+"":t,i),i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const g of r.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&a(g)}).observe(document,{childList:!0,subtree:!0});function i(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(l){if(l.ep)return;l.ep=!0;const r=i(l);fetch(l.href,r)}})();var Ur=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sv(A){return A&&A.__esModule&&Object.prototype.hasOwnProperty.call(A,"default")?A.default:A}function rv(A){if(A.__esModule)return A;var t=A.default;if(typeof t=="function"){var i=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(A).forEach(function(a){var l=Object.getOwnPropertyDescriptor(A,a);Object.defineProperty(i,a,l.get?l:{enumerable:!0,get:function(){return A[a]}})}),i}/*!
 * jQuery JavaScript Library v2.1.0
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-01-23T21:10Z
 */(function(A){(function(t,i){window.$=t.document?i(t,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return i(a)}})(typeof window<"u"?window:Ur,function(t,i){var a=[],l=a.slice,r=a.concat,g=a.push,S=a.indexOf,B={},j=B.toString,W=B.hasOwnProperty,G="".trim,J={},R=t.document,gt="2.1.0",m=function(c,v){return new m.fn.init(c,v)},it=/^-ms-/,et=/-([\da-z])/gi,nt=function(c,v){return v.toUpperCase()};m.fn=m.prototype={jquery:gt,constructor:m,selector:"",length:0,toArray:function(){return l.call(this)},get:function(c){return c!=null?c<0?this[c+this.length]:this[c]:l.call(this)},pushStack:function(c){var v=m.merge(this.constructor(),c);return v.prevObject=this,v.context=this.context,v},each:function(c,v){return m.each(this,c,v)},map:function(c){return this.pushStack(m.map(this,function(v,b){return c.call(v,b,v)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(c){var v=this.length,b=+c+(c<0?v:0);return this.pushStack(b>=0&&b<v?[this[b]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:g,sort:a.sort,splice:a.splice},m.extend=m.fn.extend=function(){var c,v,b,E,V,q,Q=arguments[0]||{},ft=1,St=arguments.length,Pt=!1;for(typeof Q=="boolean"&&(Pt=Q,Q=arguments[ft]||{},ft++),typeof Q!="object"&&!m.isFunction(Q)&&(Q={}),ft===St&&(Q=this,ft--);ft<St;ft++)if((c=arguments[ft])!=null)for(v in c)b=Q[v],E=c[v],Q!==E&&(Pt&&E&&(m.isPlainObject(E)||(V=m.isArray(E)))?(V?(V=!1,q=b&&m.isArray(b)?b:[]):q=b&&m.isPlainObject(b)?b:{},Q[v]=m.extend(Pt,q,E)):E!==void 0&&(Q[v]=E));return Q},m.extend({expando:"jQuery"+(gt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(c){throw new Error(c)},noop:function(){},isFunction:function(c){return m.type(c)==="function"},isArray:Array.isArray,isWindow:function(c){return c!=null&&c===c.window},isNumeric:function(c){return c-parseFloat(c)>=0},isPlainObject:function(c){if(m.type(c)!=="object"||c.nodeType||m.isWindow(c))return!1;try{if(c.constructor&&!W.call(c.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0},isEmptyObject:function(c){var v;for(v in c)return!1;return!0},type:function(c){return c==null?c+"":typeof c=="object"||typeof c=="function"?B[j.call(c)]||"object":typeof c},globalEval:function(c){var v,b=eval;c=m.trim(c),c&&(c.indexOf("use strict")===1?(v=R.createElement("script"),v.text=c,R.head.appendChild(v).parentNode.removeChild(v)):b(c))},camelCase:function(c){return c.replace(it,"ms-").replace(et,nt)},nodeName:function(c,v){return c.nodeName&&c.nodeName.toLowerCase()===v.toLowerCase()},each:function(c,v,b){var E,V=0,q=c.length,Q=Et(c);if(b){if(Q)for(;V<q&&(E=v.apply(c[V],b),E!==!1);V++);else for(V in c)if(E=v.apply(c[V],b),E===!1)break}else if(Q)for(;V<q&&(E=v.call(c[V],V,c[V]),E!==!1);V++);else for(V in c)if(E=v.call(c[V],V,c[V]),E===!1)break;return c},trim:function(c){return c==null?"":G.call(c)},makeArray:function(c,v){var b=v||[];return c!=null&&(Et(Object(c))?m.merge(b,typeof c=="string"?[c]:c):g.call(b,c)),b},inArray:function(c,v,b){return v==null?-1:S.call(v,c,b)},merge:function(c,v){for(var b=+v.length,E=0,V=c.length;E<b;E++)c[V++]=v[E];return c.length=V,c},grep:function(c,v,b){for(var E,V=[],q=0,Q=c.length,ft=!b;q<Q;q++)E=!v(c[q],q),E!==ft&&V.push(c[q]);return V},map:function(c,v,b){var E,V=0,q=c.length,Q=Et(c),ft=[];if(Q)for(;V<q;V++)E=v(c[V],V,b),E!=null&&ft.push(E);else for(V in c)E=v(c[V],V,b),E!=null&&ft.push(E);return r.apply([],ft)},guid:1,proxy:function(c,v){var b,E,V;if(typeof v=="string"&&(b=c[v],v=c,c=b),!!m.isFunction(c))return E=l.call(arguments,2),V=function(){return c.apply(v||this,E.concat(l.call(arguments)))},V.guid=c.guid=c.guid||m.guid++,V},now:Date.now,support:J}),m.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(c,v){B["[object "+v+"]"]=v.toLowerCase()});function Et(c){var v=c.length,b=m.type(c);return b==="function"||m.isWindow(c)?!1:c.nodeType===1&&v?!0:b==="array"||v===0||typeof v=="number"&&v>0&&v-1 in c}var ot=function(c){var v,b,E,V,q,Q,ft,St,Pt,Ct,Ht,jt,ae,Be,We,Ci,Qn,ai="sizzle"+-new Date,li=c.document,Oe=0,bs=0,ii=sa(),Si=sa(),qi=sa(),lr=function(st,pt){return st===pt&&(Pt=!0),0},ln="undefined",js=1<<31,Os={}.hasOwnProperty,nn=[],xs=nn.pop,Vn=nn.push,Ps=nn.push,hn=nn.slice,Zs=nn.indexOf||function(st){for(var pt=0,At=this.length;pt<At;pt++)if(this[pt]===st)return pt;return-1},mn="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",wi="[\\x20\\t\\r\\n\\f]",Ws="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",As=Ws.replace("w","w#"),Tr="\\["+wi+"*("+Ws+")"+wi+"*(?:([*^$|!~]?=)"+wi+`*(?:(['"])((?:\\\\.|[^\\\\])*?)\\3|(`+As+")|)|)"+wi+"*\\]",Ir=":("+Ws+`)(?:\\(((['"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|`+Tr.replace(3,8)+")*)|.*)\\)|)",Ai=new RegExp("^"+wi+"+|((?:^|[^\\\\])(?:\\\\.)*)"+wi+"+$","g"),Ns=new RegExp("^"+wi+"*,"+wi+"*"),Mr=new RegExp("^"+wi+"*([>+~]|"+wi+")"+wi+"*"),Io=new RegExp("="+wi+`*([^\\]'"]*?)`+wi+"*\\]","g"),Fa=new RegExp(Ir),Mo=new RegExp("^"+As+"$"),na={ID:new RegExp("^#("+Ws+")"),CLASS:new RegExp("^\\.("+Ws+")"),TAG:new RegExp("^("+Ws.replace("w","w*")+")"),ATTR:new RegExp("^"+Tr),PSEUDO:new RegExp("^"+Ir),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+wi+"*(even|odd|(([+-]|)(\\d*)n|)"+wi+"*(?:([+-]|)"+wi+"*(\\d+)|))"+wi+"*\\)|)","i"),bool:new RegExp("^(?:"+mn+")$","i"),needsContext:new RegExp("^"+wi+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+wi+"*((?:-\\d)?\\d*)"+wi+"*\\)|)(?=[^-]|$)","i")},Oo=/^(?:input|select|textarea|button)$/i,Su=/^h\d$/i,Fs=/^[^{]+\{\s*\[native \w/,hr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ba=/[+~]/,Tu=/'|\\/g,Ds=new RegExp("\\\\([\\da-f]{1,6}"+wi+"?|("+wi+")|.)","ig"),ls=function(st,pt,At){var Lt="0x"+pt-65536;return Lt!==Lt||At?pt:Lt<0?String.fromCharCode(Lt+65536):String.fromCharCode(Lt>>10|55296,Lt&1023|56320)};try{Ps.apply(nn=hn.call(li.childNodes),li.childNodes),nn[li.childNodes.length].nodeType}catch{Ps={apply:nn.length?function(pt,At){Vn.apply(pt,hn.call(At))}:function(pt,At){for(var Lt=pt.length,Nt=0;pt[Lt++]=At[Nt++];);pt.length=Lt-1}}}function Di(st,pt,At,Lt){var Nt,qt,kt,ie,we,Le,Ve,Ie,ui,yt;if((pt?pt.ownerDocument||pt:li)!==Ht&&Ct(pt),pt=pt||Ht,At=At||[],!st||typeof st!="string")return At;if((ie=pt.nodeType)!==1&&ie!==9)return[];if(ae&&!Lt){if(Nt=hr.exec(st))if(kt=Nt[1]){if(ie===9)if(qt=pt.getElementById(kt),qt&&qt.parentNode){if(qt.id===kt)return At.push(qt),At}else return At;else if(pt.ownerDocument&&(qt=pt.ownerDocument.getElementById(kt))&&Qn(pt,qt)&&qt.id===kt)return At.push(qt),At}else{if(Nt[2])return Ps.apply(At,pt.getElementsByTagName(st)),At;if((kt=Nt[3])&&b.getElementsByClassName&&pt.getElementsByClassName)return Ps.apply(At,pt.getElementsByClassName(kt)),At}if(b.qsa&&(!Be||!Be.test(st))){if(Ie=Ve=ai,ui=pt,yt=ie===9&&st,ie===1&&pt.nodeName.toLowerCase()!=="object"){for(Le=aa(st),(Ve=pt.getAttribute("id"))?Ie=Ve.replace(Tu,"\\$&"):pt.setAttribute("id",Ie),Ie="[id='"+Ie+"'] ",we=Le.length;we--;)Le[we]=Ie+ua(Le[we]);ui=Ba.test(st)&&ra(pt.parentNode)||pt,yt=Le.join(",")}if(yt)try{return Ps.apply(At,ui.querySelectorAll(yt)),At}catch{}finally{Ve||pt.removeAttribute("id")}}}return Mu(st.replace(Ai,"$1"),pt,At,Lt)}function sa(){var st=[];function pt(At,Lt){return st.push(At+" ")>E.cacheLength&&delete pt[st.shift()],pt[At+" "]=Lt}return pt}function Jn(st){return st[ai]=!0,st}function Dn(st){var pt=Ht.createElement("div");try{return!!st(pt)}catch{return!1}finally{pt.parentNode&&pt.parentNode.removeChild(pt),pt=null}}function Or(st,pt){for(var At=st.split("|"),Lt=st.length;Lt--;)E.attrHandle[At[Lt]]=pt}function Iu(st,pt){var At=pt&&st,Lt=At&&st.nodeType===1&&pt.nodeType===1&&(~pt.sourceIndex||js)-(~st.sourceIndex||js);if(Lt)return Lt;if(At){for(;At=At.nextSibling;)if(At===pt)return-1}return st?1:-1}function En(st){return function(pt){var At=pt.nodeName.toLowerCase();return At==="input"&&pt.type===st}}function Va(st){return function(pt){var At=pt.nodeName.toLowerCase();return(At==="input"||At==="button")&&pt.type===st}}function ts(st){return Jn(function(pt){return pt=+pt,Jn(function(At,Lt){for(var Nt,qt=st([],At.length,pt),kt=qt.length;kt--;)At[Nt=qt[kt]]&&(At[Nt]=!(Lt[Nt]=At[Nt]))})})}function ra(st){return st&&typeof st.getElementsByTagName!==ln&&st}b=Di.support={},q=Di.isXML=function(st){var pt=st&&(st.ownerDocument||st).documentElement;return pt?pt.nodeName!=="HTML":!1},Ct=Di.setDocument=function(st){var pt,At=st?st.ownerDocument||st:li,Lt=At.defaultView;return At===Ht||At.nodeType!==9||!At.documentElement?Ht:(Ht=At,jt=At.documentElement,ae=!q(At),Lt&&Lt!==Lt.top&&(Lt.addEventListener?Lt.addEventListener("unload",function(){Ct()},!1):Lt.attachEvent&&Lt.attachEvent("onunload",function(){Ct()})),b.attributes=Dn(function(Nt){return Nt.className="i",!Nt.getAttribute("className")}),b.getElementsByTagName=Dn(function(Nt){return Nt.appendChild(At.createComment("")),!Nt.getElementsByTagName("*").length}),b.getElementsByClassName=Fs.test(At.getElementsByClassName)&&Dn(function(Nt){return Nt.innerHTML="<div class='a'></div><div class='a i'></div>",Nt.firstChild.className="i",Nt.getElementsByClassName("i").length===2}),b.getById=Dn(function(Nt){return jt.appendChild(Nt).id=ai,!At.getElementsByName||!At.getElementsByName(ai).length}),b.getById?(E.find.ID=function(Nt,qt){if(typeof qt.getElementById!==ln&&ae){var kt=qt.getElementById(Nt);return kt&&kt.parentNode?[kt]:[]}},E.filter.ID=function(Nt){var qt=Nt.replace(Ds,ls);return function(kt){return kt.getAttribute("id")===qt}}):(delete E.find.ID,E.filter.ID=function(Nt){var qt=Nt.replace(Ds,ls);return function(kt){var ie=typeof kt.getAttributeNode!==ln&&kt.getAttributeNode("id");return ie&&ie.value===qt}}),E.find.TAG=b.getElementsByTagName?function(Nt,qt){if(typeof qt.getElementsByTagName!==ln)return qt.getElementsByTagName(Nt)}:function(Nt,qt){var kt,ie=[],we=0,Le=qt.getElementsByTagName(Nt);if(Nt==="*"){for(;kt=Le[we++];)kt.nodeType===1&&ie.push(kt);return ie}return Le},E.find.CLASS=b.getElementsByClassName&&function(Nt,qt){if(typeof qt.getElementsByClassName!==ln&&ae)return qt.getElementsByClassName(Nt)},We=[],Be=[],(b.qsa=Fs.test(At.querySelectorAll))&&(Dn(function(Nt){Nt.innerHTML="<select t=''><option selected=''></option></select>",Nt.querySelectorAll("[t^='']").length&&Be.push("[*^$]="+wi+`*(?:''|"")`),Nt.querySelectorAll("[selected]").length||Be.push("\\["+wi+"*(?:value|"+mn+")"),Nt.querySelectorAll(":checked").length||Be.push(":checked")}),Dn(function(Nt){var qt=At.createElement("input");qt.setAttribute("type","hidden"),Nt.appendChild(qt).setAttribute("name","D"),Nt.querySelectorAll("[name=d]").length&&Be.push("name"+wi+"*[*^$|!~]?="),Nt.querySelectorAll(":enabled").length||Be.push(":enabled",":disabled"),Nt.querySelectorAll("*,:x"),Be.push(",.*:")})),(b.matchesSelector=Fs.test(Ci=jt.webkitMatchesSelector||jt.mozMatchesSelector||jt.oMatchesSelector||jt.msMatchesSelector))&&Dn(function(Nt){b.disconnectedMatch=Ci.call(Nt,"div"),Ci.call(Nt,"[s!='']:x"),We.push("!=",Ir)}),Be=Be.length&&new RegExp(Be.join("|")),We=We.length&&new RegExp(We.join("|")),pt=Fs.test(jt.compareDocumentPosition),Qn=pt||Fs.test(jt.contains)?function(Nt,qt){var kt=Nt.nodeType===9?Nt.documentElement:Nt,ie=qt&&qt.parentNode;return Nt===ie||!!(ie&&ie.nodeType===1&&(kt.contains?kt.contains(ie):Nt.compareDocumentPosition&&Nt.compareDocumentPosition(ie)&16))}:function(Nt,qt){if(qt){for(;qt=qt.parentNode;)if(qt===Nt)return!0}return!1},lr=pt?function(Nt,qt){if(Nt===qt)return Pt=!0,0;var kt=!Nt.compareDocumentPosition-!qt.compareDocumentPosition;return kt||(kt=(Nt.ownerDocument||Nt)===(qt.ownerDocument||qt)?Nt.compareDocumentPosition(qt):1,kt&1||!b.sortDetached&&qt.compareDocumentPosition(Nt)===kt?Nt===At||Nt.ownerDocument===li&&Qn(li,Nt)?-1:qt===At||qt.ownerDocument===li&&Qn(li,qt)?1:St?Zs.call(St,Nt)-Zs.call(St,qt):0:kt&4?-1:1)}:function(Nt,qt){if(Nt===qt)return Pt=!0,0;var kt,ie=0,we=Nt.parentNode,Le=qt.parentNode,Ve=[Nt],Ie=[qt];if(!we||!Le)return Nt===At?-1:qt===At?1:we?-1:Le?1:St?Zs.call(St,Nt)-Zs.call(St,qt):0;if(we===Le)return Iu(Nt,qt);for(kt=Nt;kt=kt.parentNode;)Ve.unshift(kt);for(kt=qt;kt=kt.parentNode;)Ie.unshift(kt);for(;Ve[ie]===Ie[ie];)ie++;return ie?Iu(Ve[ie],Ie[ie]):Ve[ie]===li?-1:Ie[ie]===li?1:0},At)},Di.matches=function(st,pt){return Di(st,null,null,pt)},Di.matchesSelector=function(st,pt){if((st.ownerDocument||st)!==Ht&&Ct(st),pt=pt.replace(Io,"='$1']"),b.matchesSelector&&ae&&(!We||!We.test(pt))&&(!Be||!Be.test(pt)))try{var At=Ci.call(st,pt);if(At||b.disconnectedMatch||st.document&&st.document.nodeType!==11)return At}catch{}return Di(pt,Ht,null,[st]).length>0},Di.contains=function(st,pt){return(st.ownerDocument||st)!==Ht&&Ct(st),Qn(st,pt)},Di.attr=function(st,pt){(st.ownerDocument||st)!==Ht&&Ct(st);var At=E.attrHandle[pt.toLowerCase()],Lt=At&&Os.call(E.attrHandle,pt.toLowerCase())?At(st,pt,!ae):void 0;return Lt!==void 0?Lt:b.attributes||!ae?st.getAttribute(pt):(Lt=st.getAttributeNode(pt))&&Lt.specified?Lt.value:null},Di.error=function(st){throw new Error("Syntax error, unrecognized expression: "+st)},Di.uniqueSort=function(st){var pt,At=[],Lt=0,Nt=0;if(Pt=!b.detectDuplicates,St=!b.sortStable&&st.slice(0),st.sort(lr),Pt){for(;pt=st[Nt++];)pt===st[Nt]&&(Lt=At.push(Nt));for(;Lt--;)st.splice(At[Lt],1)}return St=null,st},V=Di.getText=function(st){var pt,At="",Lt=0,Nt=st.nodeType;if(Nt){if(Nt===1||Nt===9||Nt===11){if(typeof st.textContent=="string")return st.textContent;for(st=st.firstChild;st;st=st.nextSibling)At+=V(st)}else if(Nt===3||Nt===4)return st.nodeValue}else for(;pt=st[Lt++];)At+=V(pt);return At},E=Di.selectors={cacheLength:50,createPseudo:Jn,match:na,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(st){return st[1]=st[1].replace(Ds,ls),st[3]=(st[4]||st[5]||"").replace(Ds,ls),st[2]==="~="&&(st[3]=" "+st[3]+" "),st.slice(0,4)},CHILD:function(st){return st[1]=st[1].toLowerCase(),st[1].slice(0,3)==="nth"?(st[3]||Di.error(st[0]),st[4]=+(st[4]?st[5]+(st[6]||1):2*(st[3]==="even"||st[3]==="odd")),st[5]=+(st[7]+st[8]||st[3]==="odd")):st[3]&&Di.error(st[0]),st},PSEUDO:function(st){var pt,At=!st[5]&&st[2];return na.CHILD.test(st[0])?null:(st[3]&&st[4]!==void 0?st[2]=st[4]:At&&Fa.test(At)&&(pt=aa(At,!0))&&(pt=At.indexOf(")",At.length-pt)-At.length)&&(st[0]=st[0].slice(0,pt),st[2]=At.slice(0,pt)),st.slice(0,3))}},filter:{TAG:function(st){var pt=st.replace(Ds,ls).toLowerCase();return st==="*"?function(){return!0}:function(At){return At.nodeName&&At.nodeName.toLowerCase()===pt}},CLASS:function(st){var pt=ii[st+" "];return pt||(pt=new RegExp("(^|"+wi+")"+st+"("+wi+"|$)"))&&ii(st,function(At){return pt.test(typeof At.className=="string"&&At.className||typeof At.getAttribute!==ln&&At.getAttribute("class")||"")})},ATTR:function(st,pt,At){return function(Lt){var Nt=Di.attr(Lt,st);return Nt==null?pt==="!=":pt?(Nt+="",pt==="="?Nt===At:pt==="!="?Nt!==At:pt==="^="?At&&Nt.indexOf(At)===0:pt==="*="?At&&Nt.indexOf(At)>-1:pt==="$="?At&&Nt.slice(-At.length)===At:pt==="~="?(" "+Nt+" ").indexOf(At)>-1:pt==="|="?Nt===At||Nt.slice(0,At.length+1)===At+"-":!1):!0}},CHILD:function(st,pt,At,Lt,Nt){var qt=st.slice(0,3)!=="nth",kt=st.slice(-4)!=="last",ie=pt==="of-type";return Lt===1&&Nt===0?function(we){return!!we.parentNode}:function(we,Le,Ve){var Ie,ui,yt,Bt,Ft,Qt,be=qt!==kt?"nextSibling":"previousSibling",xe=we.parentNode,Mi=ie&&we.nodeName.toLowerCase(),hi=!Ve&&!ie;if(xe){if(qt){for(;be;){for(yt=we;yt=yt[be];)if(ie?yt.nodeName.toLowerCase()===Mi:yt.nodeType===1)return!1;Qt=be=st==="only"&&!Qt&&"nextSibling"}return!0}if(Qt=[kt?xe.firstChild:xe.lastChild],kt&&hi){for(ui=xe[ai]||(xe[ai]={}),Ie=ui[st]||[],Ft=Ie[0]===Oe&&Ie[1],Bt=Ie[0]===Oe&&Ie[2],yt=Ft&&xe.childNodes[Ft];yt=++Ft&&yt&&yt[be]||(Bt=Ft=0)||Qt.pop();)if(yt.nodeType===1&&++Bt&&yt===we){ui[st]=[Oe,Ft,Bt];break}}else if(hi&&(Ie=(we[ai]||(we[ai]={}))[st])&&Ie[0]===Oe)Bt=Ie[1];else for(;(yt=++Ft&&yt&&yt[be]||(Bt=Ft=0)||Qt.pop())&&!((ie?yt.nodeName.toLowerCase()===Mi:yt.nodeType===1)&&++Bt&&(hi&&((yt[ai]||(yt[ai]={}))[st]=[Oe,Bt]),yt===we)););return Bt-=Nt,Bt===Lt||Bt%Lt===0&&Bt/Lt>=0}}},PSEUDO:function(st,pt){var At,Lt=E.pseudos[st]||E.setFilters[st.toLowerCase()]||Di.error("unsupported pseudo: "+st);return Lt[ai]?Lt(pt):Lt.length>1?(At=[st,st,"",pt],E.setFilters.hasOwnProperty(st.toLowerCase())?Jn(function(Nt,qt){for(var kt,ie=Lt(Nt,pt),we=ie.length;we--;)kt=Zs.call(Nt,ie[we]),Nt[kt]=!(qt[kt]=ie[we])}):function(Nt){return Lt(Nt,0,At)}):Lt}},pseudos:{not:Jn(function(st){var pt=[],At=[],Lt=Q(st.replace(Ai,"$1"));return Lt[ai]?Jn(function(Nt,qt,kt,ie){for(var we,Le=Lt(Nt,null,ie,[]),Ve=Nt.length;Ve--;)(we=Le[Ve])&&(Nt[Ve]=!(qt[Ve]=we))}):function(Nt,qt,kt){return pt[0]=Nt,Lt(pt,null,kt,At),!At.pop()}}),has:Jn(function(st){return function(pt){return Di(st,pt).length>0}}),contains:Jn(function(st){return function(pt){return(pt.textContent||pt.innerText||V(pt)).indexOf(st)>-1}}),lang:Jn(function(st){return Mo.test(st||"")||Di.error("unsupported lang: "+st),st=st.replace(Ds,ls).toLowerCase(),function(pt){var At;do if(At=ae?pt.lang:pt.getAttribute("xml:lang")||pt.getAttribute("lang"))return At=At.toLowerCase(),At===st||At.indexOf(st+"-")===0;while((pt=pt.parentNode)&&pt.nodeType===1);return!1}}),target:function(st){var pt=c.location&&c.location.hash;return pt&&pt.slice(1)===st.id},root:function(st){return st===jt},focus:function(st){return st===Ht.activeElement&&(!Ht.hasFocus||Ht.hasFocus())&&!!(st.type||st.href||~st.tabIndex)},enabled:function(st){return st.disabled===!1},disabled:function(st){return st.disabled===!0},checked:function(st){var pt=st.nodeName.toLowerCase();return pt==="input"&&!!st.checked||pt==="option"&&!!st.selected},selected:function(st){return st.parentNode&&st.parentNode.selectedIndex,st.selected===!0},empty:function(st){for(st=st.firstChild;st;st=st.nextSibling)if(st.nodeType<6)return!1;return!0},parent:function(st){return!E.pseudos.empty(st)},header:function(st){return Su.test(st.nodeName)},input:function(st){return Oo.test(st.nodeName)},button:function(st){var pt=st.nodeName.toLowerCase();return pt==="input"&&st.type==="button"||pt==="button"},text:function(st){var pt;return st.nodeName.toLowerCase()==="input"&&st.type==="text"&&((pt=st.getAttribute("type"))==null||pt.toLowerCase()==="text")},first:ts(function(){return[0]}),last:ts(function(st,pt){return[pt-1]}),eq:ts(function(st,pt,At){return[At<0?At+pt:At]}),even:ts(function(st,pt){for(var At=0;At<pt;At+=2)st.push(At);return st}),odd:ts(function(st,pt){for(var At=1;At<pt;At+=2)st.push(At);return st}),lt:ts(function(st,pt,At){for(var Lt=At<0?At+pt:At;--Lt>=0;)st.push(Lt);return st}),gt:ts(function(st,pt,At){for(var Lt=At<0?At+pt:At;++Lt<pt;)st.push(Lt);return st})}},E.pseudos.nth=E.pseudos.eq;for(v in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})E.pseudos[v]=En(v);for(v in{submit:!0,reset:!0})E.pseudos[v]=Va(v);function La(){}La.prototype=E.filters=E.pseudos,E.setFilters=new La;function aa(st,pt){var At,Lt,Nt,qt,kt,ie,we,Le=Si[st+" "];if(Le)return pt?0:Le.slice(0);for(kt=st,ie=[],we=E.preFilter;kt;){(!At||(Lt=Ns.exec(kt)))&&(Lt&&(kt=kt.slice(Lt[0].length)||kt),ie.push(Nt=[])),At=!1,(Lt=Mr.exec(kt))&&(At=Lt.shift(),Nt.push({value:At,type:Lt[0].replace(Ai," ")}),kt=kt.slice(At.length));for(qt in E.filter)(Lt=na[qt].exec(kt))&&(!we[qt]||(Lt=we[qt](Lt)))&&(At=Lt.shift(),Nt.push({value:At,type:qt,matches:Lt}),kt=kt.slice(At.length));if(!At)break}return pt?kt.length:kt?Di.error(st):Si(st,ie).slice(0)}function ua(st){for(var pt=0,At=st.length,Lt="";pt<At;pt++)Lt+=st[pt].value;return Lt}function Ra(st,pt,At){var Lt=pt.dir,Nt=At&&Lt==="parentNode",qt=bs++;return pt.first?function(kt,ie,we){for(;kt=kt[Lt];)if(kt.nodeType===1||Nt)return st(kt,ie,we)}:function(kt,ie,we){var Le,Ve,Ie=[Oe,qt];if(we){for(;kt=kt[Lt];)if((kt.nodeType===1||Nt)&&st(kt,ie,we))return!0}else for(;kt=kt[Lt];)if(kt.nodeType===1||Nt){if(Ve=kt[ai]||(kt[ai]={}),(Le=Ve[Lt])&&Le[0]===Oe&&Le[1]===qt)return Ie[2]=Le[2];if(Ve[Lt]=Ie,Ie[2]=st(kt,ie,we))return!0}}}function ka(st){return st.length>1?function(pt,At,Lt){for(var Nt=st.length;Nt--;)if(!st[Nt](pt,At,Lt))return!1;return!0}:st[0]}function oa(st,pt,At,Lt,Nt){for(var qt,kt=[],ie=0,we=st.length,Le=pt!=null;ie<we;ie++)(qt=st[ie])&&(!At||At(qt,Lt,Nt))&&(kt.push(qt),Le&&pt.push(ie));return kt}function Bs(st,pt,At,Lt,Nt,qt){return Lt&&!Lt[ai]&&(Lt=Bs(Lt)),Nt&&!Nt[ai]&&(Nt=Bs(Nt,qt)),Jn(function(kt,ie,we,Le){var Ve,Ie,ui,yt=[],Bt=[],Ft=ie.length,Qt=kt||Pr(pt||"*",we.nodeType?[we]:we,[]),be=st&&(kt||!pt)?oa(Qt,yt,st,we,Le):Qt,xe=At?Nt||(kt?st:Ft||Lt)?[]:ie:be;if(At&&At(be,xe,we,Le),Lt)for(Ve=oa(xe,Bt),Lt(Ve,[],we,Le),Ie=Ve.length;Ie--;)(ui=Ve[Ie])&&(xe[Bt[Ie]]=!(be[Bt[Ie]]=ui));if(kt){if(Nt||st){if(Nt){for(Ve=[],Ie=xe.length;Ie--;)(ui=xe[Ie])&&Ve.push(be[Ie]=ui);Nt(null,xe=[],Ve,Le)}for(Ie=xe.length;Ie--;)(ui=xe[Ie])&&(Ve=Nt?Zs.call(kt,ui):yt[Ie])>-1&&(kt[Ve]=!(ie[Ve]=ui))}}else xe=oa(xe===ie?xe.splice(Ft,xe.length):xe),Nt?Nt(null,ie,xe,Le):Ps.apply(ie,xe)})}function za(st){for(var pt,At,Lt,Nt=st.length,qt=E.relative[st[0].type],kt=qt||E.relative[" "],ie=qt?1:0,we=Ra(function(Ie){return Ie===pt},kt,!0),Le=Ra(function(Ie){return Zs.call(pt,Ie)>-1},kt,!0),Ve=[function(Ie,ui,yt){return!qt&&(yt||ui!==ft)||((pt=ui).nodeType?we(Ie,ui,yt):Le(Ie,ui,yt))}];ie<Nt;ie++)if(At=E.relative[st[ie].type])Ve=[Ra(ka(Ve),At)];else{if(At=E.filter[st[ie].type].apply(null,st[ie].matches),At[ai]){for(Lt=++ie;Lt<Nt&&!E.relative[st[Lt].type];Lt++);return Bs(ie>1&&ka(Ve),ie>1&&ua(st.slice(0,ie-1).concat({value:st[ie-2].type===" "?"*":""})).replace(Ai,"$1"),At,ie<Lt&&za(st.slice(ie,Lt)),Lt<Nt&&za(st=st.slice(Lt)),Lt<Nt&&ua(st))}Ve.push(At)}return ka(Ve)}function Po(st,pt){var At=pt.length>0,Lt=st.length>0,Nt=function(qt,kt,ie,we,Le){var Ve,Ie,ui,yt=0,Bt="0",Ft=qt&&[],Qt=[],be=ft,xe=qt||Lt&&E.find.TAG("*",Le),Mi=Oe+=be==null?1:Math.random()||.1,hi=xe.length;for(Le&&(ft=kt!==Ht&&kt);Bt!==hi&&(Ve=xe[Bt])!=null;Bt++){if(Lt&&Ve){for(Ie=0;ui=st[Ie++];)if(ui(Ve,kt,ie)){we.push(Ve);break}Le&&(Oe=Mi)}At&&((Ve=!ui&&Ve)&&yt--,qt&&Ft.push(Ve))}if(yt+=Bt,At&&Bt!==yt){for(Ie=0;ui=pt[Ie++];)ui(Ft,Qt,kt,ie);if(qt){if(yt>0)for(;Bt--;)Ft[Bt]||Qt[Bt]||(Qt[Bt]=xs.call(we));Qt=oa(Qt)}Ps.apply(we,Qt),Le&&!qt&&Qt.length>0&&yt+pt.length>1&&Di.uniqueSort(we)}return Le&&(Oe=Mi,ft=be),Ft};return At?Jn(Nt):Nt}Q=Di.compile=function(st,pt){var At,Lt=[],Nt=[],qt=qi[st+" "];if(!qt){for(pt||(pt=aa(st)),At=pt.length;At--;)qt=za(pt[At]),qt[ai]?Lt.push(qt):Nt.push(qt);qt=qi(st,Po(Nt,Lt))}return qt};function Pr(st,pt,At){for(var Lt=0,Nt=pt.length;Lt<Nt;Lt++)Di(st,pt[Lt],At);return At}function Mu(st,pt,At,Lt){var Nt,qt,kt,ie,we,Le=aa(st);if(!Lt&&Le.length===1){if(qt=Le[0]=Le[0].slice(0),qt.length>2&&(kt=qt[0]).type==="ID"&&b.getById&&pt.nodeType===9&&ae&&E.relative[qt[1].type]){if(pt=(E.find.ID(kt.matches[0].replace(Ds,ls),pt)||[])[0],!pt)return At;st=st.slice(qt.shift().value.length)}for(Nt=na.needsContext.test(st)?0:qt.length;Nt--&&(kt=qt[Nt],!E.relative[ie=kt.type]);)if((we=E.find[ie])&&(Lt=we(kt.matches[0].replace(Ds,ls),Ba.test(qt[0].type)&&ra(pt.parentNode)||pt))){if(qt.splice(Nt,1),st=Lt.length&&ua(qt),!st)return Ps.apply(At,Lt),At;break}}return Q(st,Le)(Lt,pt,!ae,At,Ba.test(st)&&ra(pt.parentNode)||pt),At}return b.sortStable=ai.split("").sort(lr).join("")===ai,b.detectDuplicates=!!Pt,Ct(),b.sortDetached=Dn(function(st){return st.compareDocumentPosition(Ht.createElement("div"))&1}),Dn(function(st){return st.innerHTML="<a href='#'></a>",st.firstChild.getAttribute("href")==="#"})||Or("type|href|height|width",function(st,pt,At){if(!At)return st.getAttribute(pt,pt.toLowerCase()==="type"?1:2)}),(!b.attributes||!Dn(function(st){return st.innerHTML="<input/>",st.firstChild.setAttribute("value",""),st.firstChild.getAttribute("value")===""}))&&Or("value",function(st,pt,At){if(!At&&st.nodeName.toLowerCase()==="input")return st.defaultValue}),Dn(function(st){return st.getAttribute("disabled")==null})||Or(mn,function(st,pt,At){var Lt;if(!At)return st[pt]===!0?pt.toLowerCase():(Lt=st.getAttributeNode(pt))&&Lt.specified?Lt.value:null}),Di}(t);m.find=ot,m.expr=ot.selectors,m.expr[":"]=m.expr.pseudos,m.unique=ot.uniqueSort,m.text=ot.getText,m.isXMLDoc=ot.isXML,m.contains=ot.contains;var ct=m.expr.match.needsContext,xt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,zt=/^.[^:#\[\.,]*$/;function Mt(c,v,b){if(m.isFunction(v))return m.grep(c,function(E,V){return!!v.call(E,V,E)!==b});if(v.nodeType)return m.grep(c,function(E){return E===v!==b});if(typeof v=="string"){if(zt.test(v))return m.filter(v,c,b);v=m.filter(v,c)}return m.grep(c,function(E){return S.call(v,E)>=0!==b})}m.filter=function(c,v,b){var E=v[0];return b&&(c=":not("+c+")"),v.length===1&&E.nodeType===1?m.find.matchesSelector(E,c)?[E]:[]:m.find.matches(c,m.grep(v,function(V){return V.nodeType===1}))},m.fn.extend({find:function(c){var v,b=this.length,E=[],V=this;if(typeof c!="string")return this.pushStack(m(c).filter(function(){for(v=0;v<b;v++)if(m.contains(V[v],this))return!0}));for(v=0;v<b;v++)m.find(c,V[v],E);return E=this.pushStack(b>1?m.unique(E):E),E.selector=this.selector?this.selector+" "+c:c,E},filter:function(c){return this.pushStack(Mt(this,c||[],!1))},not:function(c){return this.pushStack(Mt(this,c||[],!0))},is:function(c){return!!Mt(this,typeof c=="string"&&ct.test(c)?m(c):c||[],!1).length}});var T,F=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,Rt=m.fn.init=function(c,v){var b,E;if(!c)return this;if(typeof c=="string")if(c[0]==="<"&&c[c.length-1]===">"&&c.length>=3?b=[null,c,null]:b=F.exec(c),b&&(b[1]||!v))if(b[1]){if(v=v instanceof m?v[0]:v,m.merge(this,m.parseHTML(b[1],v&&v.nodeType?v.ownerDocument||v:R,!0)),xt.test(b[1])&&m.isPlainObject(v))for(b in v)m.isFunction(this[b])?this[b](v[b]):this.attr(b,v[b]);return this}else return E=R.getElementById(b[2]),E&&E.parentNode&&(this.length=1,this[0]=E),this.context=R,this.selector=c,this;else return!v||v.jquery?(v||T).find(c):this.constructor(v).find(c);else{if(c.nodeType)return this.context=this[0]=c,this.length=1,this;if(m.isFunction(c))return typeof T.ready<"u"?T.ready(c):c(m)}return c.selector!==void 0&&(this.selector=c.selector,this.context=c.context),m.makeArray(c,this)};Rt.prototype=m.fn,T=m(R);var se=/^(?:parents|prev(?:Until|All))/,tt={children:!0,contents:!0,next:!0,prev:!0};m.extend({dir:function(c,v,b){for(var E=[],V=b!==void 0;(c=c[v])&&c.nodeType!==9;)if(c.nodeType===1){if(V&&m(c).is(b))break;E.push(c)}return E},sibling:function(c,v){for(var b=[];c;c=c.nextSibling)c.nodeType===1&&c!==v&&b.push(c);return b}}),m.fn.extend({has:function(c){var v=m(c,this),b=v.length;return this.filter(function(){for(var E=0;E<b;E++)if(m.contains(this,v[E]))return!0})},closest:function(c,v){for(var b,E=0,V=this.length,q=[],Q=ct.test(c)||typeof c!="string"?m(c,v||this.context):0;E<V;E++)for(b=this[E];b&&b!==v;b=b.parentNode)if(b.nodeType<11&&(Q?Q.index(b)>-1:b.nodeType===1&&m.find.matchesSelector(b,c))){q.push(b);break}return this.pushStack(q.length>1?m.unique(q):q)},index:function(c){return c?typeof c=="string"?S.call(m(c),this[0]):S.call(this,c.jquery?c[0]:c):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(c,v){return this.pushStack(m.unique(m.merge(this.get(),m(c,v))))},addBack:function(c){return this.add(c==null?this.prevObject:this.prevObject.filter(c))}});function Zt(c,v){for(;(c=c[v])&&c.nodeType!==1;);return c}m.each({parent:function(c){var v=c.parentNode;return v&&v.nodeType!==11?v:null},parents:function(c){return m.dir(c,"parentNode")},parentsUntil:function(c,v,b){return m.dir(c,"parentNode",b)},next:function(c){return Zt(c,"nextSibling")},prev:function(c){return Zt(c,"previousSibling")},nextAll:function(c){return m.dir(c,"nextSibling")},prevAll:function(c){return m.dir(c,"previousSibling")},nextUntil:function(c,v,b){return m.dir(c,"nextSibling",b)},prevUntil:function(c,v,b){return m.dir(c,"previousSibling",b)},siblings:function(c){return m.sibling((c.parentNode||{}).firstChild,c)},children:function(c){return m.sibling(c.firstChild)},contents:function(c){return c.contentDocument||m.merge([],c.childNodes)}},function(c,v){m.fn[c]=function(b,E){var V=m.map(this,v,b);return c.slice(-5)!=="Until"&&(E=b),E&&typeof E=="string"&&(V=m.filter(E,V)),this.length>1&&(tt[c]||m.unique(V),se.test(c)&&V.reverse()),this.pushStack(V)}});var Ee=/\S+/g,Dt={};function re(c){var v=Dt[c]={};return m.each(c.match(Ee)||[],function(b,E){v[E]=!0}),v}m.Callbacks=function(c){c=typeof c=="string"?Dt[c]||re(c):m.extend({},c);var v,b,E,V,q,Q,ft=[],St=!c.once&&[],Pt=function(Ht){for(v=c.memory&&Ht,b=!0,Q=V||0,V=0,q=ft.length,E=!0;ft&&Q<q;Q++)if(ft[Q].apply(Ht[0],Ht[1])===!1&&c.stopOnFalse){v=!1;break}E=!1,ft&&(St?St.length&&Pt(St.shift()):v?ft=[]:Ct.disable())},Ct={add:function(){if(ft){var Ht=ft.length;(function jt(ae){m.each(ae,function(Be,We){var Ci=m.type(We);Ci==="function"?(!c.unique||!Ct.has(We))&&ft.push(We):We&&We.length&&Ci!=="string"&&jt(We)})})(arguments),E?q=ft.length:v&&(V=Ht,Pt(v))}return this},remove:function(){return ft&&m.each(arguments,function(Ht,jt){for(var ae;(ae=m.inArray(jt,ft,ae))>-1;)ft.splice(ae,1),E&&(ae<=q&&q--,ae<=Q&&Q--)}),this},has:function(Ht){return Ht?m.inArray(Ht,ft)>-1:!!(ft&&ft.length)},empty:function(){return ft=[],q=0,this},disable:function(){return ft=St=v=void 0,this},disabled:function(){return!ft},lock:function(){return St=void 0,v||Ct.disable(),this},locked:function(){return!St},fireWith:function(Ht,jt){return ft&&(!b||St)&&(jt=jt||[],jt=[Ht,jt.slice?jt.slice():jt],E?St.push(jt):Pt(jt)),this},fire:function(){return Ct.fireWith(this,arguments),this},fired:function(){return!!b}};return Ct},m.extend({Deferred:function(c){var v=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],b="pending",E={state:function(){return b},always:function(){return V.done(arguments).fail(arguments),this},then:function(){var q=arguments;return m.Deferred(function(Q){m.each(v,function(ft,St){var Pt=m.isFunction(q[ft])&&q[ft];V[St[1]](function(){var Ct=Pt&&Pt.apply(this,arguments);Ct&&m.isFunction(Ct.promise)?Ct.promise().done(Q.resolve).fail(Q.reject).progress(Q.notify):Q[St[0]+"With"](this===E?Q.promise():this,Pt?[Ct]:arguments)})}),q=null}).promise()},promise:function(q){return q!=null?m.extend(q,E):E}},V={};return E.pipe=E.then,m.each(v,function(q,Q){var ft=Q[2],St=Q[3];E[Q[1]]=ft.add,St&&ft.add(function(){b=St},v[q^1][2].disable,v[2][2].lock),V[Q[0]]=function(){return V[Q[0]+"With"](this===V?E:this,arguments),this},V[Q[0]+"With"]=ft.fireWith}),E.promise(V),c&&c.call(V,V),V},when:function(c){var v=0,b=l.call(arguments),E=b.length,V=E!==1||c&&m.isFunction(c.promise)?E:0,q=V===1?c:m.Deferred(),Q=function(Ct,Ht,jt){return function(ae){Ht[Ct]=this,jt[Ct]=arguments.length>1?l.call(arguments):ae,jt===ft?q.notifyWith(Ht,jt):--V||q.resolveWith(Ht,jt)}},ft,St,Pt;if(E>1)for(ft=new Array(E),St=new Array(E),Pt=new Array(E);v<E;v++)b[v]&&m.isFunction(b[v].promise)?b[v].promise().done(Q(v,Pt,b)).fail(q.reject).progress(Q(v,St,ft)):--V;return V||q.resolveWith(Pt,b),q.promise()}});var ve;m.fn.ready=function(c){return m.ready.promise().done(c),this},m.extend({isReady:!1,readyWait:1,holdReady:function(c){c?m.readyWait++:m.ready(!0)},ready:function(c){(c===!0?--m.readyWait:m.isReady)||(m.isReady=!0,!(c!==!0&&--m.readyWait>0)&&(ve.resolveWith(R,[m]),m.fn.trigger&&m(R).trigger("ready").off("ready")))}});function $t(){R.removeEventListener("DOMContentLoaded",$t,!1),t.removeEventListener("load",$t,!1),m.ready()}m.ready.promise=function(c){return ve||(ve=m.Deferred(),R.readyState==="complete"?setTimeout(m.ready):(R.addEventListener("DOMContentLoaded",$t,!1),t.addEventListener("load",$t,!1))),ve.promise(c)},m.ready.promise();var ee=m.access=function(c,v,b,E,V,q,Q){var ft=0,St=c.length,Pt=b==null;if(m.type(b)==="object"){V=!0;for(ft in b)m.access(c,v,ft,b[ft],!0,q,Q)}else if(E!==void 0&&(V=!0,m.isFunction(E)||(Q=!0),Pt&&(Q?(v.call(c,E),v=null):(Pt=v,v=function(Ct,Ht,jt){return Pt.call(m(Ct),jt)})),v))for(;ft<St;ft++)v(c[ft],b,Q?E:E.call(c[ft],ft,v(c[ft],b)));return V?c:Pt?v.call(c):St?v(c[0],b):q};m.acceptData=function(c){return c.nodeType===1||c.nodeType===9||!+c.nodeType};function pe(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=m.expando+Math.random()}pe.uid=1,pe.accepts=m.acceptData,pe.prototype={key:function(c){if(!pe.accepts(c))return 0;var v={},b=c[this.expando];if(!b){b=pe.uid++;try{v[this.expando]={value:b},Object.defineProperties(c,v)}catch{v[this.expando]=b,m.extend(c,v)}}return this.cache[b]||(this.cache[b]={}),b},set:function(c,v,b){var E,V=this.key(c),q=this.cache[V];if(typeof v=="string")q[v]=b;else if(m.isEmptyObject(q))m.extend(this.cache[V],v);else for(E in v)q[E]=v[E];return q},get:function(c,v){var b=this.cache[this.key(c)];return v===void 0?b:b[v]},access:function(c,v,b){var E;return v===void 0||v&&typeof v=="string"&&b===void 0?(E=this.get(c,v),E!==void 0?E:this.get(c,m.camelCase(v))):(this.set(c,v,b),b!==void 0?b:v)},remove:function(c,v){var b,E,V,q=this.key(c),Q=this.cache[q];if(v===void 0)this.cache[q]={};else for(m.isArray(v)?E=v.concat(v.map(m.camelCase)):(V=m.camelCase(v),v in Q?E=[v,V]:(E=V,E=E in Q?[E]:E.match(Ee)||[])),b=E.length;b--;)delete Q[E[b]]},hasData:function(c){return!m.isEmptyObject(this.cache[c[this.expando]]||{})},discard:function(c){c[this.expando]&&delete this.cache[c[this.expando]]}};var oe=new pe,Ce=new pe,Se=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,fe=/([A-Z])/g;function xi(c,v,b){var E;if(b===void 0&&c.nodeType===1)if(E="data-"+v.replace(fe,"-$1").toLowerCase(),b=c.getAttribute(E),typeof b=="string"){try{b=b==="true"?!0:b==="false"?!1:b==="null"?null:+b+""===b?+b:Se.test(b)?m.parseJSON(b):b}catch{}Ce.set(c,v,b)}else b=void 0;return b}m.extend({hasData:function(c){return Ce.hasData(c)||oe.hasData(c)},data:function(c,v,b){return Ce.access(c,v,b)},removeData:function(c,v){Ce.remove(c,v)},_data:function(c,v,b){return oe.access(c,v,b)},_removeData:function(c,v){oe.remove(c,v)}}),m.fn.extend({data:function(c,v){var b,E,V,q=this[0],Q=q&&q.attributes;if(c===void 0){if(this.length&&(V=Ce.get(q),q.nodeType===1&&!oe.get(q,"hasDataAttrs"))){for(b=Q.length;b--;)E=Q[b].name,E.indexOf("data-")===0&&(E=m.camelCase(E.slice(5)),xi(q,E,V[E]));oe.set(q,"hasDataAttrs",!0)}return V}return typeof c=="object"?this.each(function(){Ce.set(this,c)}):ee(this,function(ft){var St,Pt=m.camelCase(c);if(q&&ft===void 0)return St=Ce.get(q,c),St!==void 0||(St=Ce.get(q,Pt),St!==void 0)||(St=xi(q,Pt,void 0),St!==void 0)?St:void 0;this.each(function(){var Ct=Ce.get(this,Pt);Ce.set(this,Pt,ft),c.indexOf("-")!==-1&&Ct!==void 0&&Ce.set(this,c,ft)})},null,v,arguments.length>1,null,!0)},removeData:function(c){return this.each(function(){Ce.remove(this,c)})}}),m.extend({queue:function(c,v,b){var E;if(c)return v=(v||"fx")+"queue",E=oe.get(c,v),b&&(!E||m.isArray(b)?E=oe.access(c,v,m.makeArray(b)):E.push(b)),E||[]},dequeue:function(c,v){v=v||"fx";var b=m.queue(c,v),E=b.length,V=b.shift(),q=m._queueHooks(c,v),Q=function(){m.dequeue(c,v)};V==="inprogress"&&(V=b.shift(),E--),V&&(v==="fx"&&b.unshift("inprogress"),delete q.stop,V.call(c,Q,q)),!E&&q&&q.empty.fire()},_queueHooks:function(c,v){var b=v+"queueHooks";return oe.get(c,b)||oe.access(c,b,{empty:m.Callbacks("once memory").add(function(){oe.remove(c,[v+"queue",b])})})}}),m.fn.extend({queue:function(c,v){var b=2;return typeof c!="string"&&(v=c,c="fx",b--),arguments.length<b?m.queue(this[0],c):v===void 0?this:this.each(function(){var E=m.queue(this,c,v);m._queueHooks(this,c),c==="fx"&&E[0]!=="inprogress"&&m.dequeue(this,c)})},dequeue:function(c){return this.each(function(){m.dequeue(this,c)})},clearQueue:function(c){return this.queue(c||"fx",[])},promise:function(c,v){var b,E=1,V=m.Deferred(),q=this,Q=this.length,ft=function(){--E||V.resolveWith(q,[q])};for(typeof c!="string"&&(v=c,c=void 0),c=c||"fx";Q--;)b=oe.get(q[Q],c+"queueHooks"),b&&b.empty&&(E++,b.empty.add(ft));return ft(),V.promise(v)}});var Ei=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ci=["Top","Right","Bottom","Left"],Ge=function(c,v){return c=v||c,m.css(c,"display")==="none"||!m.contains(c.ownerDocument,c)},Je=/^(?:checkbox|radio)$/i;(function(){var c=R.createDocumentFragment(),v=c.appendChild(R.createElement("div"));v.innerHTML="<input type='radio' checked='checked' name='t'/>",J.checkClone=v.cloneNode(!0).cloneNode(!0).lastChild.checked,v.innerHTML="<textarea>x</textarea>",J.noCloneChecked=!!v.cloneNode(!0).lastChild.defaultValue})();var Te="undefined";J.focusinBubbles="onfocusin"in t;var Gi=/^key/,Fi=/^(?:mouse|contextmenu)|click/,dn=/^(?:focusinfocus|focusoutblur)$/,Gn=/^([^.]*)(?:\.(.+)|)$/;function $i(){return!0}function Ae(){return!1}function Pi(){try{return R.activeElement}catch{}}m.event={global:{},add:function(c,v,b,E,V){var q,Q,ft,St,Pt,Ct,Ht,jt,ae,Be,We,Ci=oe.get(c);if(Ci)for(b.handler&&(q=b,b=q.handler,V=q.selector),b.guid||(b.guid=m.guid++),(St=Ci.events)||(St=Ci.events={}),(Q=Ci.handle)||(Q=Ci.handle=function(Qn){return typeof m!==Te&&m.event.triggered!==Qn.type?m.event.dispatch.apply(c,arguments):void 0}),v=(v||"").match(Ee)||[""],Pt=v.length;Pt--;)ft=Gn.exec(v[Pt])||[],ae=We=ft[1],Be=(ft[2]||"").split(".").sort(),ae&&(Ht=m.event.special[ae]||{},ae=(V?Ht.delegateType:Ht.bindType)||ae,Ht=m.event.special[ae]||{},Ct=m.extend({type:ae,origType:We,data:E,handler:b,guid:b.guid,selector:V,needsContext:V&&m.expr.match.needsContext.test(V),namespace:Be.join(".")},q),(jt=St[ae])||(jt=St[ae]=[],jt.delegateCount=0,(!Ht.setup||Ht.setup.call(c,E,Be,Q)===!1)&&c.addEventListener&&c.addEventListener(ae,Q,!1)),Ht.add&&(Ht.add.call(c,Ct),Ct.handler.guid||(Ct.handler.guid=b.guid)),V?jt.splice(jt.delegateCount++,0,Ct):jt.push(Ct),m.event.global[ae]=!0)},remove:function(c,v,b,E,V){var q,Q,ft,St,Pt,Ct,Ht,jt,ae,Be,We,Ci=oe.hasData(c)&&oe.get(c);if(!(!Ci||!(St=Ci.events))){for(v=(v||"").match(Ee)||[""],Pt=v.length;Pt--;){if(ft=Gn.exec(v[Pt])||[],ae=We=ft[1],Be=(ft[2]||"").split(".").sort(),!ae){for(ae in St)m.event.remove(c,ae+v[Pt],b,E,!0);continue}for(Ht=m.event.special[ae]||{},ae=(E?Ht.delegateType:Ht.bindType)||ae,jt=St[ae]||[],ft=ft[2]&&new RegExp("(^|\\.)"+Be.join("\\.(?:.*\\.|)")+"(\\.|$)"),Q=q=jt.length;q--;)Ct=jt[q],(V||We===Ct.origType)&&(!b||b.guid===Ct.guid)&&(!ft||ft.test(Ct.namespace))&&(!E||E===Ct.selector||E==="**"&&Ct.selector)&&(jt.splice(q,1),Ct.selector&&jt.delegateCount--,Ht.remove&&Ht.remove.call(c,Ct));Q&&!jt.length&&((!Ht.teardown||Ht.teardown.call(c,Be,Ci.handle)===!1)&&m.removeEvent(c,ae,Ci.handle),delete St[ae])}m.isEmptyObject(St)&&(delete Ci.handle,oe.remove(c,"events"))}},trigger:function(c,v,b,E){var V,q,Q,ft,St,Pt,Ct,Ht=[b||R],jt=W.call(c,"type")?c.type:c,ae=W.call(c,"namespace")?c.namespace.split("."):[];if(q=Q=b=b||R,!(b.nodeType===3||b.nodeType===8)&&!dn.test(jt+m.event.triggered)&&(jt.indexOf(".")>=0&&(ae=jt.split("."),jt=ae.shift(),ae.sort()),St=jt.indexOf(":")<0&&"on"+jt,c=c[m.expando]?c:new m.Event(jt,typeof c=="object"&&c),c.isTrigger=E?2:3,c.namespace=ae.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+ae.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=void 0,c.target||(c.target=b),v=v==null?[c]:m.makeArray(v,[c]),Ct=m.event.special[jt]||{},!(!E&&Ct.trigger&&Ct.trigger.apply(b,v)===!1))){if(!E&&!Ct.noBubble&&!m.isWindow(b)){for(ft=Ct.delegateType||jt,dn.test(ft+jt)||(q=q.parentNode);q;q=q.parentNode)Ht.push(q),Q=q;Q===(b.ownerDocument||R)&&Ht.push(Q.defaultView||Q.parentWindow||t)}for(V=0;(q=Ht[V++])&&!c.isPropagationStopped();)c.type=V>1?ft:Ct.bindType||jt,Pt=(oe.get(q,"events")||{})[c.type]&&oe.get(q,"handle"),Pt&&Pt.apply(q,v),Pt=St&&q[St],Pt&&Pt.apply&&m.acceptData(q)&&(c.result=Pt.apply(q,v),c.result===!1&&c.preventDefault());return c.type=jt,!E&&!c.isDefaultPrevented()&&(!Ct._default||Ct._default.apply(Ht.pop(),v)===!1)&&m.acceptData(b)&&St&&m.isFunction(b[jt])&&!m.isWindow(b)&&(Q=b[St],Q&&(b[St]=null),m.event.triggered=jt,b[jt](),m.event.triggered=void 0,Q&&(b[St]=Q)),c.result}},dispatch:function(c){c=m.event.fix(c);var v,b,E,V,q,Q=[],ft=l.call(arguments),St=(oe.get(this,"events")||{})[c.type]||[],Pt=m.event.special[c.type]||{};if(ft[0]=c,c.delegateTarget=this,!(Pt.preDispatch&&Pt.preDispatch.call(this,c)===!1)){for(Q=m.event.handlers.call(this,c,St),v=0;(V=Q[v++])&&!c.isPropagationStopped();)for(c.currentTarget=V.elem,b=0;(q=V.handlers[b++])&&!c.isImmediatePropagationStopped();)(!c.namespace_re||c.namespace_re.test(q.namespace))&&(c.handleObj=q,c.data=q.data,E=((m.event.special[q.origType]||{}).handle||q.handler).apply(V.elem,ft),E!==void 0&&(c.result=E)===!1&&(c.preventDefault(),c.stopPropagation()));return Pt.postDispatch&&Pt.postDispatch.call(this,c),c.result}},handlers:function(c,v){var b,E,V,q,Q=[],ft=v.delegateCount,St=c.target;if(ft&&St.nodeType&&(!c.button||c.type!=="click")){for(;St!==this;St=St.parentNode||this)if(St.disabled!==!0||c.type!=="click"){for(E=[],b=0;b<ft;b++)q=v[b],V=q.selector+" ",E[V]===void 0&&(E[V]=q.needsContext?m(V,this).index(St)>=0:m.find(V,this,null,[St]).length),E[V]&&E.push(q);E.length&&Q.push({elem:St,handlers:E})}}return ft<v.length&&Q.push({elem:this,handlers:v.slice(ft)}),Q},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(c,v){return c.which==null&&(c.which=v.charCode!=null?v.charCode:v.keyCode),c}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(c,v){var b,E,V,q=v.button;return c.pageX==null&&v.clientX!=null&&(b=c.target.ownerDocument||R,E=b.documentElement,V=b.body,c.pageX=v.clientX+(E&&E.scrollLeft||V&&V.scrollLeft||0)-(E&&E.clientLeft||V&&V.clientLeft||0),c.pageY=v.clientY+(E&&E.scrollTop||V&&V.scrollTop||0)-(E&&E.clientTop||V&&V.clientTop||0)),!c.which&&q!==void 0&&(c.which=q&1?1:q&2?3:q&4?2:0),c}},fix:function(c){if(c[m.expando])return c;var v,b,E,V=c.type,q=c,Q=this.fixHooks[V];for(Q||(this.fixHooks[V]=Q=Fi.test(V)?this.mouseHooks:Gi.test(V)?this.keyHooks:{}),E=Q.props?this.props.concat(Q.props):this.props,c=new m.Event(q),v=E.length;v--;)b=E[v],c[b]=q[b];return c.target||(c.target=R),c.target.nodeType===3&&(c.target=c.target.parentNode),Q.filter?Q.filter(c,q):c},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Pi()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Pi()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(this.type==="checkbox"&&this.click&&m.nodeName(this,"input"))return this.click(),!1},_default:function(c){return m.nodeName(c.target,"a")}},beforeunload:{postDispatch:function(c){c.result!==void 0&&(c.originalEvent.returnValue=c.result)}}},simulate:function(c,v,b,E){var V=m.extend(new m.Event,b,{type:c,isSimulated:!0,originalEvent:{}});E?m.event.trigger(V,null,v):m.event.dispatch.call(v,V),V.isDefaultPrevented()&&b.preventDefault()}},m.removeEvent=function(c,v,b){c.removeEventListener&&c.removeEventListener(v,b,!1)},m.Event=function(c,v){if(!(this instanceof m.Event))return new m.Event(c,v);c&&c.type?(this.originalEvent=c,this.type=c.type,this.isDefaultPrevented=c.defaultPrevented||c.defaultPrevented===void 0&&c.getPreventDefault&&c.getPreventDefault()?$i:Ae):this.type=c,v&&m.extend(this,v),this.timeStamp=c&&c.timeStamp||m.now(),this[m.expando]=!0},m.Event.prototype={isDefaultPrevented:Ae,isPropagationStopped:Ae,isImmediatePropagationStopped:Ae,preventDefault:function(){var c=this.originalEvent;this.isDefaultPrevented=$i,c&&c.preventDefault&&c.preventDefault()},stopPropagation:function(){var c=this.originalEvent;this.isPropagationStopped=$i,c&&c.stopPropagation&&c.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=$i,this.stopPropagation()}},m.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(c,v){m.event.special[c]={delegateType:v,bindType:v,handle:function(b){var E,V=this,q=b.relatedTarget,Q=b.handleObj;return(!q||q!==V&&!m.contains(V,q))&&(b.type=Q.origType,E=Q.handler.apply(this,arguments),b.type=v),E}}}),J.focusinBubbles||m.each({focus:"focusin",blur:"focusout"},function(c,v){var b=function(E){m.event.simulate(v,E.target,m.event.fix(E),!0)};m.event.special[v]={setup:function(){var E=this.ownerDocument||this,V=oe.access(E,v);V||E.addEventListener(c,b,!0),oe.access(E,v,(V||0)+1)},teardown:function(){var E=this.ownerDocument||this,V=oe.access(E,v)-1;V?oe.access(E,v,V):(E.removeEventListener(c,b,!0),oe.remove(E,v))}}}),m.fn.extend({on:function(c,v,b,E,V){var q,Q;if(typeof c=="object"){typeof v!="string"&&(b=b||v,v=void 0);for(Q in c)this.on(Q,v,b,c[Q],V);return this}if(b==null&&E==null?(E=v,b=v=void 0):E==null&&(typeof v=="string"?(E=b,b=void 0):(E=b,b=v,v=void 0)),E===!1)E=Ae;else if(!E)return this;return V===1&&(q=E,E=function(ft){return m().off(ft),q.apply(this,arguments)},E.guid=q.guid||(q.guid=m.guid++)),this.each(function(){m.event.add(this,c,E,b,v)})},one:function(c,v,b,E){return this.on(c,v,b,E,1)},off:function(c,v,b){var E,V;if(c&&c.preventDefault&&c.handleObj)return E=c.handleObj,m(c.delegateTarget).off(E.namespace?E.origType+"."+E.namespace:E.origType,E.selector,E.handler),this;if(typeof c=="object"){for(V in c)this.off(V,v,c[V]);return this}return(v===!1||typeof v=="function")&&(b=v,v=void 0),b===!1&&(b=Ae),this.each(function(){m.event.remove(this,c,b,v)})},trigger:function(c,v){return this.each(function(){m.event.trigger(c,v,this)})},triggerHandler:function(c,v){var b=this[0];if(b)return m.event.trigger(c,v,b,!0)}});var on=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Xe=/<([\w:]+)/,$n=/<|&#?\w+;/,mi=/<(?:script|style|link)/i,Gt=/checked\s*(?:[^=]|=\s*.checked.)/i,ne=/^$|\/(?:java|ecma)script/i,e=/^true\/(.*)/,s=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,u={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};u.optgroup=u.option,u.tbody=u.tfoot=u.colgroup=u.caption=u.thead,u.th=u.td;function h(c,v){return m.nodeName(c,"table")&&m.nodeName(v.nodeType!==11?v:v.firstChild,"tr")?c.getElementsByTagName("tbody")[0]||c.appendChild(c.ownerDocument.createElement("tbody")):c}function f(c){return c.type=(c.getAttribute("type")!==null)+"/"+c.type,c}function p(c){var v=e.exec(c.type);return v?c.type=v[1]:c.removeAttribute("type"),c}function w(c,v){for(var b=0,E=c.length;b<E;b++)oe.set(c[b],"globalEval",!v||oe.get(v[b],"globalEval"))}function y(c,v){var b,E,V,q,Q,ft,St,Pt;if(v.nodeType===1){if(oe.hasData(c)&&(q=oe.access(c),Q=oe.set(v,q),Pt=q.events,Pt)){delete Q.handle,Q.events={};for(V in Pt)for(b=0,E=Pt[V].length;b<E;b++)m.event.add(v,V,Pt[V][b])}Ce.hasData(c)&&(ft=Ce.access(c),St=m.extend({},ft),Ce.set(v,St))}}function x(c,v){var b=c.getElementsByTagName?c.getElementsByTagName(v||"*"):c.querySelectorAll?c.querySelectorAll(v||"*"):[];return v===void 0||v&&m.nodeName(c,v)?m.merge([c],b):b}function D(c,v){var b=v.nodeName.toLowerCase();b==="input"&&Je.test(c.type)?v.checked=c.checked:(b==="input"||b==="textarea")&&(v.defaultValue=c.defaultValue)}m.extend({clone:function(c,v,b){var E,V,q,Q,ft=c.cloneNode(!0),St=m.contains(c.ownerDocument,c);if(!J.noCloneChecked&&(c.nodeType===1||c.nodeType===11)&&!m.isXMLDoc(c))for(Q=x(ft),q=x(c),E=0,V=q.length;E<V;E++)D(q[E],Q[E]);if(v)if(b)for(q=q||x(c),Q=Q||x(ft),E=0,V=q.length;E<V;E++)y(q[E],Q[E]);else y(c,ft);return Q=x(ft,"script"),Q.length>0&&w(Q,!St&&x(c,"script")),ft},buildFragment:function(c,v,b,E){for(var V,q,Q,ft,St,Pt,Ct=v.createDocumentFragment(),Ht=[],jt=0,ae=c.length;jt<ae;jt++)if(V=c[jt],V||V===0)if(m.type(V)==="object")m.merge(Ht,V.nodeType?[V]:V);else if(!$n.test(V))Ht.push(v.createTextNode(V));else{for(q=q||Ct.appendChild(v.createElement("div")),Q=(Xe.exec(V)||["",""])[1].toLowerCase(),ft=u[Q]||u._default,q.innerHTML=ft[1]+V.replace(on,"<$1></$2>")+ft[2],Pt=ft[0];Pt--;)q=q.lastChild;m.merge(Ht,q.childNodes),q=Ct.firstChild,q.textContent=""}for(Ct.textContent="",jt=0;V=Ht[jt++];)if(!(E&&m.inArray(V,E)!==-1)&&(St=m.contains(V.ownerDocument,V),q=x(Ct.appendChild(V),"script"),St&&w(q),b))for(Pt=0;V=q[Pt++];)ne.test(V.type||"")&&b.push(V);return Ct},cleanData:function(c){for(var v,b,E,V,q,Q,ft=m.event.special,St=0;(b=c[St])!==void 0;St++){if(m.acceptData(b)&&(q=b[oe.expando],q&&(v=oe.cache[q]))){if(E=Object.keys(v.events||{}),E.length)for(Q=0;(V=E[Q])!==void 0;Q++)ft[V]?m.event.remove(b,V):m.removeEvent(b,V,v.handle);oe.cache[q]&&delete oe.cache[q]}delete Ce.cache[b[Ce.expando]]}}}),m.fn.extend({text:function(c){return ee(this,function(v){return v===void 0?m.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=v)})},null,c,arguments.length)},append:function(){return this.domManip(arguments,function(c){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var v=h(this,c);v.appendChild(c)}})},prepend:function(){return this.domManip(arguments,function(c){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var v=h(this,c);v.insertBefore(c,v.firstChild)}})},before:function(){return this.domManip(arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this)})},after:function(){return this.domManip(arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this.nextSibling)})},remove:function(c,v){for(var b,E=c?m.filter(c,this):this,V=0;(b=E[V])!=null;V++)!v&&b.nodeType===1&&m.cleanData(x(b)),b.parentNode&&(v&&m.contains(b.ownerDocument,b)&&w(x(b,"script")),b.parentNode.removeChild(b));return this},empty:function(){for(var c,v=0;(c=this[v])!=null;v++)c.nodeType===1&&(m.cleanData(x(c,!1)),c.textContent="");return this},clone:function(c,v){return c=c??!1,v=v??c,this.map(function(){return m.clone(this,c,v)})},html:function(c){return ee(this,function(v){var b=this[0]||{},E=0,V=this.length;if(v===void 0&&b.nodeType===1)return b.innerHTML;if(typeof v=="string"&&!mi.test(v)&&!u[(Xe.exec(v)||["",""])[1].toLowerCase()]){v=v.replace(on,"<$1></$2>");try{for(;E<V;E++)b=this[E]||{},b.nodeType===1&&(m.cleanData(x(b,!1)),b.innerHTML=v);b=0}catch{}}b&&this.empty().append(v)},null,c,arguments.length)},replaceWith:function(){var c=arguments[0];return this.domManip(arguments,function(v){c=this.parentNode,m.cleanData(x(this)),c&&c.replaceChild(v,this)}),c&&(c.length||c.nodeType)?this:this.remove()},detach:function(c){return this.remove(c,!0)},domManip:function(c,v){c=r.apply([],c);var b,E,V,q,Q,ft,St=0,Pt=this.length,Ct=this,Ht=Pt-1,jt=c[0],ae=m.isFunction(jt);if(ae||Pt>1&&typeof jt=="string"&&!J.checkClone&&Gt.test(jt))return this.each(function(Be){var We=Ct.eq(Be);ae&&(c[0]=jt.call(this,Be,We.html())),We.domManip(c,v)});if(Pt&&(b=m.buildFragment(c,this[0].ownerDocument,!1,this),E=b.firstChild,b.childNodes.length===1&&(b=E),E)){for(V=m.map(x(b,"script"),f),q=V.length;St<Pt;St++)Q=b,St!==Ht&&(Q=m.clone(Q,!0,!0),q&&m.merge(V,x(Q,"script"))),v.call(this[St],Q,St);if(q)for(ft=V[V.length-1].ownerDocument,m.map(V,p),St=0;St<q;St++)Q=V[St],ne.test(Q.type||"")&&!oe.access(Q,"globalEval")&&m.contains(ft,Q)&&(Q.src?m._evalUrl&&m._evalUrl(Q.src):m.globalEval(Q.textContent.replace(s,"")))}return this}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(c,v){m.fn[c]=function(b){for(var E,V=[],q=m(b),Q=q.length-1,ft=0;ft<=Q;ft++)E=ft===Q?this:this.clone(!0),m(q[ft])[v](E),g.apply(V,E.get());return this.pushStack(V)}});var P,N={};function O(c,v){var b=m(v.createElement(c)).appendTo(v.body),E=t.getDefaultComputedStyle?t.getDefaultComputedStyle(b[0]).display:m.css(b[0],"display");return b.detach(),E}function I(c){var v=R,b=N[c];return b||(b=O(c,v),(b==="none"||!b)&&(P=(P||m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(v.documentElement),v=P[0].contentDocument,v.write(),v.close(),b=O(c,v),P.detach()),N[c]=b),b}var z=/^margin/,U=new RegExp("^("+Ei+")(?!px)[a-z%]+$","i"),$=function(c){return c.ownerDocument.defaultView.getComputedStyle(c,null)};function k(c,v,b){var E,V,q,Q,ft=c.style;return b=b||$(c),b&&(Q=b.getPropertyValue(v)||b[v]),b&&(Q===""&&!m.contains(c.ownerDocument,c)&&(Q=m.style(c,v)),U.test(Q)&&z.test(v)&&(E=ft.width,V=ft.minWidth,q=ft.maxWidth,ft.minWidth=ft.maxWidth=ft.width=Q,Q=b.width,ft.width=E,ft.minWidth=V,ft.maxWidth=q)),Q!==void 0?Q+"":Q}function X(c,v){return{get:function(){if(c()){delete this.get;return}return(this.get=v).apply(this,arguments)}}}(function(){var c,v,b="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",E=R.documentElement,V=R.createElement("div"),q=R.createElement("div");q.style.backgroundClip="content-box",q.cloneNode(!0).style.backgroundClip="",J.clearCloneStyle=q.style.backgroundClip==="content-box",V.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",V.appendChild(q);function Q(){q.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",E.appendChild(V);var ft=t.getComputedStyle(q,null);c=ft.top!=="1%",v=ft.width==="4px",E.removeChild(V)}t.getComputedStyle&&m.extend(J,{pixelPosition:function(){return Q(),c},boxSizingReliable:function(){return v==null&&Q(),v},reliableMarginRight:function(){var ft,St=q.appendChild(R.createElement("div"));return St.style.cssText=q.style.cssText=b,St.style.marginRight=St.style.width="0",q.style.width="1px",E.appendChild(V),ft=!parseFloat(t.getComputedStyle(St,null).marginRight),E.removeChild(V),q.innerHTML="",ft}})})(),m.swap=function(c,v,b,E){var V,q,Q={};for(q in v)Q[q]=c.style[q],c.style[q]=v[q];V=b.apply(c,E||[]);for(q in v)c.style[q]=Q[q];return V};var M=/^(none|table(?!-c[ea]).+)/,L=new RegExp("^("+Ei+")(.*)$","i"),H=new RegExp("^([+-])=("+Ei+")","i"),Z={position:"absolute",visibility:"hidden",display:"block"},at={letterSpacing:0,fontWeight:400},ut=["Webkit","O","Moz","ms"];function lt(c,v){if(v in c)return v;for(var b=v[0].toUpperCase()+v.slice(1),E=v,V=ut.length;V--;)if(v=ut[V]+b,v in c)return v;return E}function ht(c,v,b){var E=L.exec(v);return E?Math.max(0,E[1]-(b||0))+(E[2]||"px"):v}function vt(c,v,b,E,V){for(var q=b===(E?"border":"content")?4:v==="width"?1:0,Q=0;q<4;q+=2)b==="margin"&&(Q+=m.css(c,b+ci[q],!0,V)),E?(b==="content"&&(Q-=m.css(c,"padding"+ci[q],!0,V)),b!=="margin"&&(Q-=m.css(c,"border"+ci[q]+"Width",!0,V))):(Q+=m.css(c,"padding"+ci[q],!0,V),b!=="padding"&&(Q+=m.css(c,"border"+ci[q]+"Width",!0,V)));return Q}function dt(c,v,b){var E=!0,V=v==="width"?c.offsetWidth:c.offsetHeight,q=$(c),Q=m.css(c,"boxSizing",!1,q)==="border-box";if(V<=0||V==null){if(V=k(c,v,q),(V<0||V==null)&&(V=c.style[v]),U.test(V))return V;E=Q&&(J.boxSizingReliable()||V===c.style[v]),V=parseFloat(V)||0}return V+vt(c,v,b||(Q?"border":"content"),E,q)+"px"}function _t(c,v){for(var b,E,V,q=[],Q=0,ft=c.length;Q<ft;Q++)E=c[Q],E.style&&(q[Q]=oe.get(E,"olddisplay"),b=E.style.display,v?(!q[Q]&&b==="none"&&(E.style.display=""),E.style.display===""&&Ge(E)&&(q[Q]=oe.access(E,"olddisplay",I(E.nodeName)))):q[Q]||(V=Ge(E),(b&&b!=="none"||!V)&&oe.set(E,"olddisplay",V?b:m.css(E,"display"))));for(Q=0;Q<ft;Q++)E=c[Q],E.style&&(!v||E.style.display==="none"||E.style.display==="")&&(E.style.display=v?q[Q]||"":"none");return c}m.extend({cssHooks:{opacity:{get:function(c,v){if(v){var b=k(c,"opacity");return b===""?"1":b}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(c,v,b,E){if(!(!c||c.nodeType===3||c.nodeType===8||!c.style)){var V,q,Q,ft=m.camelCase(v),St=c.style;if(v=m.cssProps[ft]||(m.cssProps[ft]=lt(St,ft)),Q=m.cssHooks[v]||m.cssHooks[ft],b!==void 0){if(q=typeof b,q==="string"&&(V=H.exec(b))&&(b=(V[1]+1)*V[2]+parseFloat(m.css(c,v)),q="number"),b==null||b!==b)return;q==="number"&&!m.cssNumber[ft]&&(b+="px"),!J.clearCloneStyle&&b===""&&v.indexOf("background")===0&&(St[v]="inherit"),(!Q||!("set"in Q)||(b=Q.set(c,b,E))!==void 0)&&(St[v]="",St[v]=b)}else return Q&&"get"in Q&&(V=Q.get(c,!1,E))!==void 0?V:St[v]}},css:function(c,v,b,E){var V,q,Q,ft=m.camelCase(v);return v=m.cssProps[ft]||(m.cssProps[ft]=lt(c.style,ft)),Q=m.cssHooks[v]||m.cssHooks[ft],Q&&"get"in Q&&(V=Q.get(c,!0,b)),V===void 0&&(V=k(c,v,E)),V==="normal"&&v in at&&(V=at[v]),b===""||b?(q=parseFloat(V),b===!0||m.isNumeric(q)?q||0:V):V}}),m.each(["height","width"],function(c,v){m.cssHooks[v]={get:function(b,E,V){if(E)return b.offsetWidth===0&&M.test(m.css(b,"display"))?m.swap(b,Z,function(){return dt(b,v,V)}):dt(b,v,V)},set:function(b,E,V){var q=V&&$(b);return ht(b,E,V?vt(b,v,V,m.css(b,"boxSizing",!1,q)==="border-box",q):0)}}}),m.cssHooks.marginRight=X(J.reliableMarginRight,function(c,v){if(v)return m.swap(c,{display:"inline-block"},k,[c,"marginRight"])}),m.each({margin:"",padding:"",border:"Width"},function(c,v){m.cssHooks[c+v]={expand:function(b){for(var E=0,V={},q=typeof b=="string"?b.split(" "):[b];E<4;E++)V[c+ci[E]+v]=q[E]||q[E-2]||q[0];return V}},z.test(c)||(m.cssHooks[c+v].set=ht)}),m.fn.extend({css:function(c,v){return ee(this,function(b,E,V){var q,Q,ft={},St=0;if(m.isArray(E)){for(q=$(b),Q=E.length;St<Q;St++)ft[E[St]]=m.css(b,E[St],!1,q);return ft}return V!==void 0?m.style(b,E,V):m.css(b,E)},c,v,arguments.length>1)},show:function(){return _t(this,!0)},hide:function(){return _t(this)},toggle:function(c){return typeof c=="boolean"?c?this.show():this.hide():this.each(function(){Ge(this)?m(this).show():m(this).hide()})}});function wt(c,v,b,E,V){return new wt.prototype.init(c,v,b,E,V)}m.Tween=wt,wt.prototype={constructor:wt,init:function(c,v,b,E,V,q){this.elem=c,this.prop=b,this.easing=V||"swing",this.options=v,this.start=this.now=this.cur(),this.end=E,this.unit=q||(m.cssNumber[b]?"":"px")},cur:function(){var c=wt.propHooks[this.prop];return c&&c.get?c.get(this):wt.propHooks._default.get(this)},run:function(c){var v,b=wt.propHooks[this.prop];return this.options.duration?this.pos=v=m.easing[this.easing](c,this.options.duration*c,0,1,this.options.duration):this.pos=v=c,this.now=(this.end-this.start)*v+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),b&&b.set?b.set(this):wt.propHooks._default.set(this),this}},wt.prototype.init.prototype=wt.prototype,wt.propHooks={_default:{get:function(c){var v;return c.elem[c.prop]!=null&&(!c.elem.style||c.elem.style[c.prop]==null)?c.elem[c.prop]:(v=m.css(c.elem,c.prop,""),!v||v==="auto"?0:v)},set:function(c){m.fx.step[c.prop]?m.fx.step[c.prop](c):c.elem.style&&(c.elem.style[m.cssProps[c.prop]]!=null||m.cssHooks[c.prop])?m.style(c.elem,c.prop,c.now+c.unit):c.elem[c.prop]=c.now}}},wt.propHooks.scrollTop=wt.propHooks.scrollLeft={set:function(c){c.elem.nodeType&&c.elem.parentNode&&(c.elem[c.prop]=c.now)}},m.easing={linear:function(c){return c},swing:function(c){return .5-Math.cos(c*Math.PI)/2}},m.fx=wt.prototype.init,m.fx.step={};var Tt,Ot,Vt=/^(?:toggle|show|hide)$/,Wt=new RegExp("^(?:([+-])=|)("+Ei+")([a-z%]*)$","i"),Kt=/queueHooks$/,Jt=[Fe],_e={"*":[function(c,v){var b=this.createTween(c,v),E=b.cur(),V=Wt.exec(v),q=V&&V[3]||(m.cssNumber[c]?"":"px"),Q=(m.cssNumber[c]||q!=="px"&&+E)&&Wt.exec(m.css(b.elem,c)),ft=1,St=20;if(Q&&Q[3]!==q){q=q||Q[3],V=V||[],Q=+E||1;do ft=ft||".5",Q=Q/ft,m.style(b.elem,c,Q+q);while(ft!==(ft=b.cur()/E)&&ft!==1&&--St)}return V&&(Q=b.start=+Q||+E||0,b.unit=q,b.end=V[1]?Q+(V[1]+1)*V[2]:+V[2]),b}]};function ye(){return setTimeout(function(){Tt=void 0}),Tt=m.now()}function me(c,v){var b,E=0,V={height:c};for(v=v?1:0;E<4;E+=2-v)b=ci[E],V["margin"+b]=V["padding"+b]=c;return v&&(V.opacity=V.width=c),V}function ge(c,v,b){for(var E,V=(_e[v]||[]).concat(_e["*"]),q=0,Q=V.length;q<Q;q++)if(E=V[q].call(b,v,c))return E}function Fe(c,v,b){var E,V,q,Q,ft,St,Pt,Ct=this,Ht={},jt=c.style,ae=c.nodeType&&Ge(c),Be=oe.get(c,"fxshow");b.queue||(ft=m._queueHooks(c,"fx"),ft.unqueued==null&&(ft.unqueued=0,St=ft.empty.fire,ft.empty.fire=function(){ft.unqueued||St()}),ft.unqueued++,Ct.always(function(){Ct.always(function(){ft.unqueued--,m.queue(c,"fx").length||ft.empty.fire()})})),c.nodeType===1&&("height"in v||"width"in v)&&(b.overflow=[jt.overflow,jt.overflowX,jt.overflowY],Pt=m.css(c,"display"),Pt==="none"&&(Pt=I(c.nodeName)),Pt==="inline"&&m.css(c,"float")==="none"&&(jt.display="inline-block")),b.overflow&&(jt.overflow="hidden",Ct.always(function(){jt.overflow=b.overflow[0],jt.overflowX=b.overflow[1],jt.overflowY=b.overflow[2]}));for(E in v)if(V=v[E],Vt.exec(V)){if(delete v[E],q=q||V==="toggle",V===(ae?"hide":"show"))if(V==="show"&&Be&&Be[E]!==void 0)ae=!0;else continue;Ht[E]=Be&&Be[E]||m.style(c,E)}if(!m.isEmptyObject(Ht)){Be?"hidden"in Be&&(ae=Be.hidden):Be=oe.access(c,"fxshow",{}),q&&(Be.hidden=!ae),ae?m(c).show():Ct.done(function(){m(c).hide()}),Ct.done(function(){var We;oe.remove(c,"fxshow");for(We in Ht)m.style(c,We,Ht[We])});for(E in Ht)Q=ge(ae?Be[E]:0,E,Ct),E in Be||(Be[E]=Q.start,ae&&(Q.end=Q.start,Q.start=E==="width"||E==="height"?1:0))}}function De(c,v){var b,E,V,q,Q;for(b in c)if(E=m.camelCase(b),V=v[E],q=c[b],m.isArray(q)&&(V=q[1],q=c[b]=q[0]),b!==E&&(c[E]=q,delete c[b]),Q=m.cssHooks[E],Q&&"expand"in Q){q=Q.expand(q),delete c[E];for(b in q)b in c||(c[b]=q[b],v[b]=V)}else v[E]=V}function ei(c,v,b){var E,V,q=0,Q=Jt.length,ft=m.Deferred().always(function(){delete St.elem}),St=function(){if(V)return!1;for(var Ht=Tt||ye(),jt=Math.max(0,Pt.startTime+Pt.duration-Ht),ae=jt/Pt.duration||0,Be=1-ae,We=0,Ci=Pt.tweens.length;We<Ci;We++)Pt.tweens[We].run(Be);return ft.notifyWith(c,[Pt,Be,jt]),Be<1&&Ci?jt:(ft.resolveWith(c,[Pt]),!1)},Pt=ft.promise({elem:c,props:m.extend({},v),opts:m.extend(!0,{specialEasing:{}},b),originalProperties:v,originalOptions:b,startTime:Tt||ye(),duration:b.duration,tweens:[],createTween:function(Ht,jt){var ae=m.Tween(c,Pt.opts,Ht,jt,Pt.opts.specialEasing[Ht]||Pt.opts.easing);return Pt.tweens.push(ae),ae},stop:function(Ht){var jt=0,ae=Ht?Pt.tweens.length:0;if(V)return this;for(V=!0;jt<ae;jt++)Pt.tweens[jt].run(1);return Ht?ft.resolveWith(c,[Pt,Ht]):ft.rejectWith(c,[Pt,Ht]),this}}),Ct=Pt.props;for(De(Ct,Pt.opts.specialEasing);q<Q;q++)if(E=Jt[q].call(Pt,c,Ct,Pt.opts),E)return E;return m.map(Ct,ge,Pt),m.isFunction(Pt.opts.start)&&Pt.opts.start.call(c,Pt),m.fx.timer(m.extend(St,{elem:c,anim:Pt,queue:Pt.opts.queue})),Pt.progress(Pt.opts.progress).done(Pt.opts.done,Pt.opts.complete).fail(Pt.opts.fail).always(Pt.opts.always)}m.Animation=m.extend(ei,{tweener:function(c,v){m.isFunction(c)?(v=c,c=["*"]):c=c.split(" ");for(var b,E=0,V=c.length;E<V;E++)b=c[E],_e[b]=_e[b]||[],_e[b].unshift(v)},prefilter:function(c,v){v?Jt.unshift(c):Jt.push(c)}}),m.speed=function(c,v,b){var E=c&&typeof c=="object"?m.extend({},c):{complete:b||!b&&v||m.isFunction(c)&&c,duration:c,easing:b&&v||v&&!m.isFunction(v)&&v};return E.duration=m.fx.off?0:typeof E.duration=="number"?E.duration:E.duration in m.fx.speeds?m.fx.speeds[E.duration]:m.fx.speeds._default,(E.queue==null||E.queue===!0)&&(E.queue="fx"),E.old=E.complete,E.complete=function(){m.isFunction(E.old)&&E.old.call(this),E.queue&&m.dequeue(this,E.queue)},E},m.fn.extend({fadeTo:function(c,v,b,E){return this.filter(Ge).css("opacity",0).show().end().animate({opacity:v},c,b,E)},animate:function(c,v,b,E){var V=m.isEmptyObject(c),q=m.speed(v,b,E),Q=function(){var ft=ei(this,m.extend({},c),q);(V||oe.get(this,"finish"))&&ft.stop(!0)};return Q.finish=Q,V||q.queue===!1?this.each(Q):this.queue(q.queue,Q)},stop:function(c,v,b){var E=function(V){var q=V.stop;delete V.stop,q(b)};return typeof c!="string"&&(b=v,v=c,c=void 0),v&&c!==!1&&this.queue(c||"fx",[]),this.each(function(){var V=!0,q=c!=null&&c+"queueHooks",Q=m.timers,ft=oe.get(this);if(q)ft[q]&&ft[q].stop&&E(ft[q]);else for(q in ft)ft[q]&&ft[q].stop&&Kt.test(q)&&E(ft[q]);for(q=Q.length;q--;)Q[q].elem===this&&(c==null||Q[q].queue===c)&&(Q[q].anim.stop(b),V=!1,Q.splice(q,1));(V||!b)&&m.dequeue(this,c)})},finish:function(c){return c!==!1&&(c=c||"fx"),this.each(function(){var v,b=oe.get(this),E=b[c+"queue"],V=b[c+"queueHooks"],q=m.timers,Q=E?E.length:0;for(b.finish=!0,m.queue(this,c,[]),V&&V.stop&&V.stop.call(this,!0),v=q.length;v--;)q[v].elem===this&&q[v].queue===c&&(q[v].anim.stop(!0),q.splice(v,1));for(v=0;v<Q;v++)E[v]&&E[v].finish&&E[v].finish.call(this);delete b.finish})}}),m.each(["toggle","show","hide"],function(c,v){var b=m.fn[v];m.fn[v]=function(E,V,q){return E==null||typeof E=="boolean"?b.apply(this,arguments):this.animate(me(v,!0),E,V,q)}}),m.each({slideDown:me("show"),slideUp:me("hide"),slideToggle:me("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(c,v){m.fn[c]=function(b,E,V){return this.animate(v,b,E,V)}}),m.timers=[],m.fx.tick=function(){var c,v=0,b=m.timers;for(Tt=m.now();v<b.length;v++)c=b[v],!c()&&b[v]===c&&b.splice(v--,1);b.length||m.fx.stop(),Tt=void 0},m.fx.timer=function(c){m.timers.push(c),c()?m.fx.start():m.timers.pop()},m.fx.interval=13,m.fx.start=function(){Ot||(Ot=setInterval(m.fx.tick,m.fx.interval))},m.fx.stop=function(){clearInterval(Ot),Ot=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(c,v){return c=m.fx&&m.fx.speeds[c]||c,v=v||"fx",this.queue(v,function(b,E){var V=setTimeout(b,c);E.stop=function(){clearTimeout(V)}})},function(){var c=R.createElement("input"),v=R.createElement("select"),b=v.appendChild(R.createElement("option"));c.type="checkbox",J.checkOn=c.value!=="",J.optSelected=b.selected,v.disabled=!0,J.optDisabled=!b.disabled,c=R.createElement("input"),c.value="t",c.type="radio",J.radioValue=c.value==="t"}();var ze,je,qe=m.expr.attrHandle;m.fn.extend({attr:function(c,v){return ee(this,m.attr,c,v,arguments.length>1)},removeAttr:function(c){return this.each(function(){m.removeAttr(this,c)})}}),m.extend({attr:function(c,v,b){var E,V,q=c.nodeType;if(!(!c||q===3||q===8||q===2)){if(typeof c.getAttribute===Te)return m.prop(c,v,b);if((q!==1||!m.isXMLDoc(c))&&(v=v.toLowerCase(),E=m.attrHooks[v]||(m.expr.match.bool.test(v)?je:ze)),b!==void 0)if(b===null)m.removeAttr(c,v);else return E&&"set"in E&&(V=E.set(c,b,v))!==void 0?V:(c.setAttribute(v,b+""),b);else return E&&"get"in E&&(V=E.get(c,v))!==null?V:(V=m.find.attr(c,v),V??void 0)}},removeAttr:function(c,v){var b,E,V=0,q=v&&v.match(Ee);if(q&&c.nodeType===1)for(;b=q[V++];)E=m.propFix[b]||b,m.expr.match.bool.test(b)&&(c[E]=!1),c.removeAttribute(b)},attrHooks:{type:{set:function(c,v){if(!J.radioValue&&v==="radio"&&m.nodeName(c,"input")){var b=c.value;return c.setAttribute("type",v),b&&(c.value=b),v}}}}}),je={set:function(c,v,b){return v===!1?m.removeAttr(c,b):c.setAttribute(b,b),b}},m.each(m.expr.match.bool.source.match(/\w+/g),function(c,v){var b=qe[v]||m.find.attr;qe[v]=function(E,V,q){var Q,ft;return q||(ft=qe[V],qe[V]=Q,Q=b(E,V,q)!=null?V.toLowerCase():null,qe[V]=ft),Q}});var Ue=/^(?:input|select|textarea|button)$/i;m.fn.extend({prop:function(c,v){return ee(this,m.prop,c,v,arguments.length>1)},removeProp:function(c){return this.each(function(){delete this[m.propFix[c]||c]})}}),m.extend({propFix:{for:"htmlFor",class:"className"},prop:function(c,v,b){var E,V,q,Q=c.nodeType;if(!(!c||Q===3||Q===8||Q===2))return q=Q!==1||!m.isXMLDoc(c),q&&(v=m.propFix[v]||v,V=m.propHooks[v]),b!==void 0?V&&"set"in V&&(E=V.set(c,b,v))!==void 0?E:c[v]=b:V&&"get"in V&&(E=V.get(c,v))!==null?E:c[v]},propHooks:{tabIndex:{get:function(c){return c.hasAttribute("tabindex")||Ue.test(c.nodeName)||c.href?c.tabIndex:-1}}}}),J.optSelected||(m.propHooks.selected={get:function(c){var v=c.parentNode;return v&&v.parentNode&&v.parentNode.selectedIndex,null}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this});var Vi=/[\t\r\n\f]/g;m.fn.extend({addClass:function(c){var v,b,E,V,q,Q,ft=typeof c=="string"&&c,St=0,Pt=this.length;if(m.isFunction(c))return this.each(function(Ct){m(this).addClass(c.call(this,Ct,this.className))});if(ft){for(v=(c||"").match(Ee)||[];St<Pt;St++)if(b=this[St],E=b.nodeType===1&&(b.className?(" "+b.className+" ").replace(Vi," "):" "),E){for(q=0;V=v[q++];)E.indexOf(" "+V+" ")<0&&(E+=V+" ");Q=m.trim(E),b.className!==Q&&(b.className=Q)}}return this},removeClass:function(c){var v,b,E,V,q,Q,ft=arguments.length===0||typeof c=="string"&&c,St=0,Pt=this.length;if(m.isFunction(c))return this.each(function(Ct){m(this).removeClass(c.call(this,Ct,this.className))});if(ft){for(v=(c||"").match(Ee)||[];St<Pt;St++)if(b=this[St],E=b.nodeType===1&&(b.className?(" "+b.className+" ").replace(Vi," "):""),E){for(q=0;V=v[q++];)for(;E.indexOf(" "+V+" ")>=0;)E=E.replace(" "+V+" "," ");Q=c?m.trim(E):"",b.className!==Q&&(b.className=Q)}}return this},toggleClass:function(c,v){var b=typeof c;return typeof v=="boolean"&&b==="string"?v?this.addClass(c):this.removeClass(c):m.isFunction(c)?this.each(function(E){m(this).toggleClass(c.call(this,E,this.className,v),v)}):this.each(function(){if(b==="string")for(var E,V=0,q=m(this),Q=c.match(Ee)||[];E=Q[V++];)q.hasClass(E)?q.removeClass(E):q.addClass(E);else(b===Te||b==="boolean")&&(this.className&&oe.set(this,"__className__",this.className),this.className=this.className||c===!1?"":oe.get(this,"__className__")||"")})},hasClass:function(c){for(var v=" "+c+" ",b=0,E=this.length;b<E;b++)if(this[b].nodeType===1&&(" "+this[b].className+" ").replace(Vi," ").indexOf(v)>=0)return!0;return!1}});var Zi=/\r/g;m.fn.extend({val:function(c){var v,b,E,V=this[0];return arguments.length?(E=m.isFunction(c),this.each(function(q){var Q;this.nodeType===1&&(E?Q=c.call(this,q,m(this).val()):Q=c,Q==null?Q="":typeof Q=="number"?Q+="":m.isArray(Q)&&(Q=m.map(Q,function(ft){return ft==null?"":ft+""})),v=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()],(!v||!("set"in v)||v.set(this,Q,"value")===void 0)&&(this.value=Q))})):V?(v=m.valHooks[V.type]||m.valHooks[V.nodeName.toLowerCase()],v&&"get"in v&&(b=v.get(V,"value"))!==void 0?b:(b=V.value,typeof b=="string"?b.replace(Zi,""):b??"")):void 0}}),m.extend({valHooks:{select:{get:function(c){for(var v,b,E=c.options,V=c.selectedIndex,q=c.type==="select-one"||V<0,Q=q?null:[],ft=q?V+1:E.length,St=V<0?ft:q?V:0;St<ft;St++)if(b=E[St],(b.selected||St===V)&&(J.optDisabled?!b.disabled:b.getAttribute("disabled")===null)&&(!b.parentNode.disabled||!m.nodeName(b.parentNode,"optgroup"))){if(v=m(b).val(),q)return v;Q.push(v)}return Q},set:function(c,v){for(var b,E,V=c.options,q=m.makeArray(v),Q=V.length;Q--;)E=V[Q],(E.selected=m.inArray(m(E).val(),q)>=0)&&(b=!0);return b||(c.selectedIndex=-1),q}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(c,v){if(m.isArray(v))return c.checked=m.inArray(m(c).val(),v)>=0}},J.checkOn||(m.valHooks[this].get=function(c){return c.getAttribute("value")===null?"on":c.value})}),m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(c,v){m.fn[v]=function(b,E){return arguments.length>0?this.on(v,null,b,E):this.trigger(v)}}),m.fn.extend({hover:function(c,v){return this.mouseenter(c).mouseleave(v||c)},bind:function(c,v,b){return this.on(c,null,v,b)},unbind:function(c,v){return this.off(c,null,v)},delegate:function(c,v,b,E){return this.on(v,c,b,E)},undelegate:function(c,v,b){return arguments.length===1?this.off(c,"**"):this.off(v,c||"**",b)}});var ki=m.now(),Ii=/\?/;m.parseJSON=function(c){return JSON.parse(c+"")},m.parseXML=function(c){var v,b;if(!c||typeof c!="string")return null;try{b=new DOMParser,v=b.parseFromString(c,"text/xml")}catch{v=void 0}return(!v||v.getElementsByTagName("parsererror").length)&&m.error("Invalid XML: "+c),v};var $e,_i,bn=/#.*$/,zi=/([?&])_=[^&]*/,us=/^(.*?):[ \t]*([^\r\n]*)$/mg,Ms=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Kn=/^(?:GET|HEAD)$/,os=/^\/\//,en=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,xn={},ws={},An="*/".concat("*");try{_i=location.href}catch{_i=R.createElement("a"),_i.href="",_i=_i.href}$e=en.exec(_i.toLowerCase())||[];function Sr(c){return function(v,b){typeof v!="string"&&(b=v,v="*");var E,V=0,q=v.toLowerCase().match(Ee)||[];if(m.isFunction(b))for(;E=q[V++];)E[0]==="+"?(E=E.slice(1)||"*",(c[E]=c[E]||[]).unshift(b)):(c[E]=c[E]||[]).push(b)}}function yu(c,v,b,E){var V={},q=c===ws;function Q(ft){var St;return V[ft]=!0,m.each(c[ft]||[],function(Pt,Ct){var Ht=Ct(v,b,E);if(typeof Ht=="string"&&!q&&!V[Ht])return v.dataTypes.unshift(Ht),Q(Ht),!1;if(q)return!(St=Ht)}),St}return Q(v.dataTypes[0])||!V["*"]&&Q("*")}function Qr(c,v){var b,E,V=m.ajaxSettings.flatOptions||{};for(b in v)v[b]!==void 0&&((V[b]?c:E||(E={}))[b]=v[b]);return E&&m.extend(!0,c,E),c}function _u(c,v,b){for(var E,V,q,Q,ft=c.contents,St=c.dataTypes;St[0]==="*";)St.shift(),E===void 0&&(E=c.mimeType||v.getResponseHeader("Content-Type"));if(E){for(V in ft)if(ft[V]&&ft[V].test(E)){St.unshift(V);break}}if(St[0]in b)q=St[0];else{for(V in b){if(!St[0]||c.converters[V+" "+St[0]]){q=V;break}Q||(Q=V)}q=q||Q}if(q)return q!==St[0]&&St.unshift(q),b[q]}function Oa(c,v,b,E){var V,q,Q,ft,St,Pt={},Ct=c.dataTypes.slice();if(Ct[1])for(Q in c.converters)Pt[Q.toLowerCase()]=c.converters[Q];for(q=Ct.shift();q;)if(c.responseFields[q]&&(b[c.responseFields[q]]=v),!St&&E&&c.dataFilter&&(v=c.dataFilter(v,c.dataType)),St=q,q=Ct.shift(),q){if(q==="*")q=St;else if(St!=="*"&&St!==q){if(Q=Pt[St+" "+q]||Pt["* "+q],!Q){for(V in Pt)if(ft=V.split(" "),ft[1]===q&&(Q=Pt[St+" "+ft[0]]||Pt["* "+ft[0]],Q)){Q===!0?Q=Pt[V]:Pt[V]!==!0&&(q=ft[0],Ct.unshift(ft[1]));break}}if(Q!==!0)if(Q&&c.throws)v=Q(v);else try{v=Q(v)}catch(Ht){return{state:"parsererror",error:Q?Ht:"No conversion from "+St+" to "+q}}}}return{state:"success",data:v}}m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_i,type:"GET",isLocal:Ms.test($e[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":An,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":m.parseJSON,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(c,v){return v?Qr(Qr(c,m.ajaxSettings),v):Qr(m.ajaxSettings,c)},ajaxPrefilter:Sr(xn),ajaxTransport:Sr(ws),ajax:function(c,v){typeof c=="object"&&(v=c,c=void 0),v=v||{};var b,E,V,q,Q,ft,St,Pt,Ct=m.ajaxSetup({},v),Ht=Ct.context||Ct,jt=Ct.context&&(Ht.nodeType||Ht.jquery)?m(Ht):m.event,ae=m.Deferred(),Be=m.Callbacks("once memory"),We=Ct.statusCode||{},Ci={},Qn={},ai=0,li="canceled",Oe={readyState:0,getResponseHeader:function(ii){var Si;if(ai===2){if(!q)for(q={};Si=us.exec(V);)q[Si[1].toLowerCase()]=Si[2];Si=q[ii.toLowerCase()]}return Si??null},getAllResponseHeaders:function(){return ai===2?V:null},setRequestHeader:function(ii,Si){var qi=ii.toLowerCase();return ai||(ii=Qn[qi]=Qn[qi]||ii,Ci[ii]=Si),this},overrideMimeType:function(ii){return ai||(Ct.mimeType=ii),this},statusCode:function(ii){var Si;if(ii)if(ai<2)for(Si in ii)We[Si]=[We[Si],ii[Si]];else Oe.always(ii[Oe.status]);return this},abort:function(ii){var Si=ii||li;return b&&b.abort(Si),bs(0,Si),this}};if(ae.promise(Oe).complete=Be.add,Oe.success=Oe.done,Oe.error=Oe.fail,Ct.url=((c||Ct.url||_i)+"").replace(bn,"").replace(os,$e[1]+"//"),Ct.type=v.method||v.type||Ct.method||Ct.type,Ct.dataTypes=m.trim(Ct.dataType||"*").toLowerCase().match(Ee)||[""],Ct.crossDomain==null&&(ft=en.exec(Ct.url.toLowerCase()),Ct.crossDomain=!!(ft&&(ft[1]!==$e[1]||ft[2]!==$e[2]||(ft[3]||(ft[1]==="http:"?"80":"443"))!==($e[3]||($e[1]==="http:"?"80":"443"))))),Ct.data&&Ct.processData&&typeof Ct.data!="string"&&(Ct.data=m.param(Ct.data,Ct.traditional)),yu(xn,Ct,v,Oe),ai===2)return Oe;St=Ct.global,St&&m.active++===0&&m.event.trigger("ajaxStart"),Ct.type=Ct.type.toUpperCase(),Ct.hasContent=!Kn.test(Ct.type),E=Ct.url,Ct.hasContent||(Ct.data&&(E=Ct.url+=(Ii.test(E)?"&":"?")+Ct.data,delete Ct.data),Ct.cache===!1&&(Ct.url=zi.test(E)?E.replace(zi,"$1_="+ki++):E+(Ii.test(E)?"&":"?")+"_="+ki++)),Ct.ifModified&&(m.lastModified[E]&&Oe.setRequestHeader("If-Modified-Since",m.lastModified[E]),m.etag[E]&&Oe.setRequestHeader("If-None-Match",m.etag[E])),(Ct.data&&Ct.hasContent&&Ct.contentType!==!1||v.contentType)&&Oe.setRequestHeader("Content-Type",Ct.contentType),Oe.setRequestHeader("Accept",Ct.dataTypes[0]&&Ct.accepts[Ct.dataTypes[0]]?Ct.accepts[Ct.dataTypes[0]]+(Ct.dataTypes[0]!=="*"?", "+An+"; q=0.01":""):Ct.accepts["*"]);for(Pt in Ct.headers)Oe.setRequestHeader(Pt,Ct.headers[Pt]);if(Ct.beforeSend&&(Ct.beforeSend.call(Ht,Oe,Ct)===!1||ai===2))return Oe.abort();li="abort";for(Pt in{success:1,error:1,complete:1})Oe[Pt](Ct[Pt]);if(b=yu(ws,Ct,v,Oe),!b)bs(-1,"No Transport");else{Oe.readyState=1,St&&jt.trigger("ajaxSend",[Oe,Ct]),Ct.async&&Ct.timeout>0&&(Q=setTimeout(function(){Oe.abort("timeout")},Ct.timeout));try{ai=1,b.send(Ci,bs)}catch(ii){if(ai<2)bs(-1,ii);else throw ii}}function bs(ii,Si,qi,lr){var ln,js,Os,nn,xs,Vn=Si;ai!==2&&(ai=2,Q&&clearTimeout(Q),b=void 0,V=lr||"",Oe.readyState=ii>0?4:0,ln=ii>=200&&ii<300||ii===304,qi&&(nn=_u(Ct,Oe,qi)),nn=Oa(Ct,nn,Oe,ln),ln?(Ct.ifModified&&(xs=Oe.getResponseHeader("Last-Modified"),xs&&(m.lastModified[E]=xs),xs=Oe.getResponseHeader("etag"),xs&&(m.etag[E]=xs)),ii===204||Ct.type==="HEAD"?Vn="nocontent":ii===304?Vn="notmodified":(Vn=nn.state,js=nn.data,Os=nn.error,ln=!Os)):(Os=Vn,(ii||!Vn)&&(Vn="error",ii<0&&(ii=0))),Oe.status=ii,Oe.statusText=(Si||Vn)+"",ln?ae.resolveWith(Ht,[js,Vn,Oe]):ae.rejectWith(Ht,[Oe,Vn,Os]),Oe.statusCode(We),We=void 0,St&&jt.trigger(ln?"ajaxSuccess":"ajaxError",[Oe,Ct,ln?js:Os]),Be.fireWith(Ht,[Oe,Vn]),St&&(jt.trigger("ajaxComplete",[Oe,Ct]),--m.active||m.event.trigger("ajaxStop")))}return Oe},getJSON:function(c,v,b){return m.get(c,v,b,"json")},getScript:function(c,v){return m.get(c,void 0,v,"script")}}),m.each(["get","post"],function(c,v){m[v]=function(b,E,V,q){return m.isFunction(E)&&(q=q||V,V=E,E=void 0),m.ajax({url:b,type:v,dataType:q,data:E,success:V})}}),m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(c,v){m.fn[v]=function(b){return this.on(v,b)}}),m._evalUrl=function(c){return m.ajax({url:c,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},m.fn.extend({wrapAll:function(c){var v;return m.isFunction(c)?this.each(function(b){m(this).wrapAll(c.call(this,b))}):(this[0]&&(v=m(c,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&v.insertBefore(this[0]),v.map(function(){for(var b=this;b.firstElementChild;)b=b.firstElementChild;return b}).append(this)),this)},wrapInner:function(c){return m.isFunction(c)?this.each(function(v){m(this).wrapInner(c.call(this,v))}):this.each(function(){var v=m(this),b=v.contents();b.length?b.wrapAll(c):v.append(c)})},wrap:function(c){var v=m.isFunction(c);return this.each(function(b){m(this).wrapAll(v?c.call(this,b):c)})},unwrap:function(){return this.parent().each(function(){m.nodeName(this,"body")||m(this).replaceWith(this.childNodes)}).end()}}),m.expr.filters.hidden=function(c){return c.offsetWidth<=0&&c.offsetHeight<=0},m.expr.filters.visible=function(c){return!m.expr.filters.hidden(c)};var So=/%20/g,wu=/\[\]$/,Jr=/\r?\n/g,Pa=/^(?:submit|button|image|reset|file)$/i,ur=/^(?:input|select|textarea|keygen)/i;function ta(c,v,b,E){var V;if(m.isArray(v))m.each(v,function(q,Q){b||wu.test(c)?E(c,Q):ta(c+"["+(typeof Q=="object"?q:"")+"]",Q,b,E)});else if(!b&&m.type(v)==="object")for(V in v)ta(c+"["+V+"]",v[V],b,E);else E(c,v)}m.param=function(c,v){var b,E=[],V=function(q,Q){Q=m.isFunction(Q)?Q():Q??"",E[E.length]=encodeURIComponent(q)+"="+encodeURIComponent(Q)};if(v===void 0&&(v=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(c)||c.jquery&&!m.isPlainObject(c))m.each(c,function(){V(this.name,this.value)});else for(b in c)ta(b,c[b],v,V);return E.join("&").replace(So,"+")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var c=m.prop(this,"elements");return c?m.makeArray(c):this}).filter(function(){var c=this.type;return this.name&&!m(this).is(":disabled")&&ur.test(this.nodeName)&&!Pa.test(c)&&(this.checked||!Je.test(c))}).map(function(c,v){var b=m(this).val();return b==null?null:m.isArray(b)?m.map(b,function(E){return{name:v.name,value:E.replace(Jr,`\r
`)}}):{name:v.name,value:b.replace(Jr,`\r
`)}}).get()}}),m.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch{}};var bu=0,ea={},xu={0:200,1223:204},or=m.ajaxSettings.xhr();t.ActiveXObject&&m(t).on("unload",function(){for(var c in ea)ea[c]()}),J.cors=!!or&&"withCredentials"in or,J.ajax=or=!!or,m.ajaxTransport(function(c){var v;if(J.cors||or&&!c.crossDomain)return{send:function(b,E){var V,q=c.xhr(),Q=++bu;if(q.open(c.type,c.url,c.async,c.username,c.password),c.xhrFields)for(V in c.xhrFields)q[V]=c.xhrFields[V];c.mimeType&&q.overrideMimeType&&q.overrideMimeType(c.mimeType),!c.crossDomain&&!b["X-Requested-With"]&&(b["X-Requested-With"]="XMLHttpRequest");for(V in b)q.setRequestHeader(V,b[V]);v=function(ft){return function(){v&&(delete ea[Q],v=q.onload=q.onerror=null,ft==="abort"?q.abort():ft==="error"?E(q.status,q.statusText):E(xu[q.status]||q.status,q.statusText,typeof q.responseText=="string"?{text:q.responseText}:void 0,q.getAllResponseHeaders()))}},q.onload=v(),q.onerror=v("error"),v=ea[Q]=v("abort"),q.send(c.hasContent&&c.data||null)},abort:function(){v&&v()}}}),m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(c){return m.globalEval(c),c}}}),m.ajaxPrefilter("script",function(c){c.cache===void 0&&(c.cache=!1),c.crossDomain&&(c.type="GET")}),m.ajaxTransport("script",function(c){if(c.crossDomain){var v,b;return{send:function(E,V){v=m("<script>").prop({async:!0,charset:c.scriptCharset,src:c.url}).on("load error",b=function(q){v.remove(),b=null,q&&V(q.type==="error"?404:200,q.type)}),R.head.appendChild(v[0])},abort:function(){b&&b()}}}});var Na=[],ia=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var c=Na.pop()||m.expando+"_"+ki++;return this[c]=!0,c}}),m.ajaxPrefilter("json jsonp",function(c,v,b){var E,V,q,Q=c.jsonp!==!1&&(ia.test(c.url)?"url":typeof c.data=="string"&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&ia.test(c.data)&&"data");if(Q||c.dataTypes[0]==="jsonp")return E=c.jsonpCallback=m.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,Q?c[Q]=c[Q].replace(ia,"$1"+E):c.jsonp!==!1&&(c.url+=(Ii.test(c.url)?"&":"?")+c.jsonp+"="+E),c.converters["script json"]=function(){return q||m.error(E+" was not called"),q[0]},c.dataTypes[0]="json",V=t[E],t[E]=function(){q=arguments},b.always(function(){t[E]=V,c[E]&&(c.jsonpCallback=v.jsonpCallback,Na.push(E)),q&&m.isFunction(V)&&V(q[0]),q=V=void 0}),"script"}),m.parseHTML=function(c,v,b){if(!c||typeof c!="string")return null;typeof v=="boolean"&&(b=v,v=!1),v=v||R;var E=xt.exec(c),V=!b&&[];return E?[v.createElement(E[1])]:(E=m.buildFragment([c],v,V),V&&V.length&&m(V).remove(),m.merge([],E.childNodes))};var Au=m.fn.load;m.fn.load=function(c,v,b){if(typeof c!="string"&&Au)return Au.apply(this,arguments);var E,V,q,Q=this,ft=c.indexOf(" ");return ft>=0&&(E=c.slice(ft),c=c.slice(0,ft)),m.isFunction(v)?(b=v,v=void 0):v&&typeof v=="object"&&(V="POST"),Q.length>0&&m.ajax({url:c,type:V,dataType:"html",data:v}).done(function(St){q=arguments,Q.html(E?m("<div>").append(m.parseHTML(St)).find(E):St)}).complete(b&&function(St,Pt){Q.each(b,q||[St.responseText,Pt,St])}),this},m.expr.filters.animated=function(c){return m.grep(m.timers,function(v){return c===v.elem}).length};var Du=t.document.documentElement;function Eu(c){return m.isWindow(c)?c:c.nodeType===9&&c.defaultView}m.offset={setOffset:function(c,v,b){var E,V,q,Q,ft,St,Pt,Ct=m.css(c,"position"),Ht=m(c),jt={};Ct==="static"&&(c.style.position="relative"),ft=Ht.offset(),q=m.css(c,"top"),St=m.css(c,"left"),Pt=(Ct==="absolute"||Ct==="fixed")&&(q+St).indexOf("auto")>-1,Pt?(E=Ht.position(),Q=E.top,V=E.left):(Q=parseFloat(q)||0,V=parseFloat(St)||0),m.isFunction(v)&&(v=v.call(c,b,ft)),v.top!=null&&(jt.top=v.top-ft.top+Q),v.left!=null&&(jt.left=v.left-ft.left+V),"using"in v?v.using.call(c,jt):Ht.css(jt)}},m.fn.extend({offset:function(c){if(arguments.length)return c===void 0?this:this.each(function(Q){m.offset.setOffset(this,c,Q)});var v,b,E=this[0],V={top:0,left:0},q=E&&E.ownerDocument;if(q)return v=q.documentElement,m.contains(v,E)?(typeof E.getBoundingClientRect!==Te&&(V=E.getBoundingClientRect()),b=Eu(q),{top:V.top+b.pageYOffset-v.clientTop,left:V.left+b.pageXOffset-v.clientLeft}):V},position:function(){if(this[0]){var c,v,b=this[0],E={top:0,left:0};return m.css(b,"position")==="fixed"?v=b.getBoundingClientRect():(c=this.offsetParent(),v=this.offset(),m.nodeName(c[0],"html")||(E=c.offset()),E.top+=m.css(c[0],"borderTopWidth",!0),E.left+=m.css(c[0],"borderLeftWidth",!0)),{top:v.top-E.top-m.css(b,"marginTop",!0),left:v.left-E.left-m.css(b,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var c=this.offsetParent||Du;c&&!m.nodeName(c,"html")&&m.css(c,"position")==="static";)c=c.offsetParent;return c||Du})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(c,v){var b=v==="pageYOffset";m.fn[c]=function(E){return ee(this,function(V,q,Q){var ft=Eu(V);if(Q===void 0)return ft?ft[v]:V[q];ft?ft.scrollTo(b?t.pageXOffset:Q,b?Q:t.pageYOffset):V[q]=Q},c,E,arguments.length,null)}}),m.each(["top","left"],function(c,v){m.cssHooks[v]=X(J.pixelPosition,function(b,E){if(E)return E=k(b,v),U.test(E)?m(b).position()[v]+"px":E})}),m.each({Height:"height",Width:"width"},function(c,v){m.each({padding:"inner"+c,content:v,"":"outer"+c},function(b,E){m.fn[E]=function(V,q){var Q=arguments.length&&(b||typeof V!="boolean"),ft=b||(V===!0||q===!0?"margin":"border");return ee(this,function(St,Pt,Ct){var Ht;return m.isWindow(St)?St.document.documentElement["client"+c]:St.nodeType===9?(Ht=St.documentElement,Math.max(St.body["scroll"+c],Ht["scroll"+c],St.body["offset"+c],Ht["offset"+c],Ht["client"+c])):Ct===void 0?m.css(St,Pt,ft):m.style(St,Pt,Ct,ft)},v,Q?V:void 0,Q,null)}})}),m.fn.size=function(){return this.length},m.fn.andSelf=m.fn.addBack;var Cu=t.jQuery,To=t.$;return m.noConflict=function(c){return t.$===m&&(t.$=To),c&&t.jQuery===m&&(t.jQuery=Cu),m},typeof i===Te&&(t.jQuery=t.$=m),m})})();var wo={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */wo.exports;(function(A,t){(function(){var i,a="4.17.4",l=200,r="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",g="Expected a function",S="__lodash_hash_undefined__",B=500,j="__lodash_placeholder__",W=1,G=2,J=4,R=1,gt=2,m=1,it=2,et=4,nt=8,Et=16,ot=32,ct=64,xt=128,zt=256,Mt=512,T=30,F="...",Rt=800,se=16,tt=1,Zt=2,Ee=3,Dt=1/0,re=9007199254740991,ve=17976931348623157e292,$t=NaN,ee=4294967295,pe=ee-1,oe=ee>>>1,Ce=[["ary",xt],["bind",m],["bindKey",it],["curry",nt],["curryRight",Et],["flip",Mt],["partial",ot],["partialRight",ct],["rearg",zt]],Se="[object Arguments]",fe="[object Array]",xi="[object AsyncFunction]",Ei="[object Boolean]",ci="[object Date]",Ge="[object DOMException]",Je="[object Error]",Te="[object Function]",Gi="[object GeneratorFunction]",Fi="[object Map]",dn="[object Number]",Gn="[object Null]",$i="[object Object]",Ae="[object Promise]",Pi="[object Proxy]",on="[object RegExp]",Xe="[object Set]",$n="[object String]",mi="[object Symbol]",Gt="[object Undefined]",ne="[object WeakMap]",e="[object WeakSet]",s="[object ArrayBuffer]",u="[object DataView]",h="[object Float32Array]",f="[object Float64Array]",p="[object Int8Array]",w="[object Int16Array]",y="[object Int32Array]",x="[object Uint8Array]",D="[object Uint8ClampedArray]",P="[object Uint16Array]",N="[object Uint32Array]",O=/\b__p \+= '';/g,I=/\b(__p \+=) '' \+/g,z=/(__e\(.*?\)|\b__t\)) \+\n'';/g,U=/&(?:amp|lt|gt|quot|#39);/g,$=/[&<>"']/g,k=RegExp(U.source),X=RegExp($.source),M=/<%-([\s\S]+?)%>/g,L=/<%([\s\S]+?)%>/g,H=/<%=([\s\S]+?)%>/g,Z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,at=/^\w*$/,ut=/^\./,lt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ht=/[\\^$.*+?()[\]{}|]/g,vt=RegExp(ht.source),dt=/^\s+|\s+$/g,_t=/^\s+/,wt=/\s+$/,Tt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ot=/\{\n\/\* \[wrapped with (.+)\] \*/,Vt=/,? & /,Wt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Kt=/\\(\\)?/g,Jt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,_e=/\w*$/,ye=/^[-+]0x[0-9a-f]+$/i,me=/^0b[01]+$/i,ge=/^\[object .+?Constructor\]$/,Fe=/^0o[0-7]+$/i,De=/^(?:0|[1-9]\d*)$/,ei=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ze=/($^)/,je=/['\n\r\u2028\u2029\\]/g,qe="\\ud800-\\udfff",Ue="\\u0300-\\u036f",Vi="\\ufe20-\\ufe2f",Zi="\\u20d0-\\u20ff",ki=Ue+Vi+Zi,Ii="\\u2700-\\u27bf",$e="a-z\\xdf-\\xf6\\xf8-\\xff",_i="\\xac\\xb1\\xd7\\xf7",bn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",zi="\\u2000-\\u206f",us=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ms="A-Z\\xc0-\\xd6\\xd8-\\xde",Kn="\\ufe0e\\ufe0f",os=_i+bn+zi+us,en="[']",xn="["+qe+"]",ws="["+os+"]",An="["+ki+"]",Sr="\\d+",yu="["+Ii+"]",Qr="["+$e+"]",_u="[^"+qe+os+Sr+Ii+$e+Ms+"]",Oa="\\ud83c[\\udffb-\\udfff]",So="(?:"+An+"|"+Oa+")",wu="[^"+qe+"]",Jr="(?:\\ud83c[\\udde6-\\uddff]){2}",Pa="[\\ud800-\\udbff][\\udc00-\\udfff]",ur="["+Ms+"]",ta="\\u200d",bu="(?:"+Qr+"|"+_u+")",ea="(?:"+ur+"|"+_u+")",xu="(?:"+en+"(?:d|ll|m|re|s|t|ve))?",or="(?:"+en+"(?:D|LL|M|RE|S|T|VE))?",Na=So+"?",ia="["+Kn+"]?",Au="(?:"+ta+"(?:"+[wu,Jr,Pa].join("|")+")"+ia+Na+")*",Du="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",Eu="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",Cu=ia+Na+Au,To="(?:"+[yu,Jr,Pa].join("|")+")"+Cu,c="(?:"+[wu+An+"?",An,Jr,Pa,xn].join("|")+")",v=RegExp(en,"g"),b=RegExp(An,"g"),E=RegExp(Oa+"(?="+Oa+")|"+c+Cu,"g"),V=RegExp([ur+"?"+Qr+"+"+xu+"(?="+[ws,ur,"$"].join("|")+")",ea+"+"+or+"(?="+[ws,ur+bu,"$"].join("|")+")",ur+"?"+bu+"+"+xu,ur+"+"+or,Eu,Du,Sr,To].join("|"),"g"),q=RegExp("["+ta+qe+ki+Kn+"]"),Q=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ft=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],St=-1,Pt={};Pt[h]=Pt[f]=Pt[p]=Pt[w]=Pt[y]=Pt[x]=Pt[D]=Pt[P]=Pt[N]=!0,Pt[Se]=Pt[fe]=Pt[s]=Pt[Ei]=Pt[u]=Pt[ci]=Pt[Je]=Pt[Te]=Pt[Fi]=Pt[dn]=Pt[$i]=Pt[on]=Pt[Xe]=Pt[$n]=Pt[ne]=!1;var Ct={};Ct[Se]=Ct[fe]=Ct[s]=Ct[u]=Ct[Ei]=Ct[ci]=Ct[h]=Ct[f]=Ct[p]=Ct[w]=Ct[y]=Ct[Fi]=Ct[dn]=Ct[$i]=Ct[on]=Ct[Xe]=Ct[$n]=Ct[mi]=Ct[x]=Ct[D]=Ct[P]=Ct[N]=!0,Ct[Je]=Ct[Te]=Ct[ne]=!1;var Ht={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},jt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ae={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Be={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},We=parseFloat,Ci=parseInt,Qn=typeof Ur=="object"&&Ur&&Ur.Object===Object&&Ur,ai=typeof self=="object"&&self&&self.Object===Object&&self,li=Qn||ai||Function("return this")(),Oe=t&&!t.nodeType&&t,bs=Oe&&!0&&A&&!A.nodeType&&A,ii=bs&&bs.exports===Oe,Si=ii&&Qn.process,qi=function(){try{return Si&&Si.binding&&Si.binding("util")}catch{}}(),lr=qi&&qi.isArrayBuffer,ln=qi&&qi.isDate,js=qi&&qi.isMap,Os=qi&&qi.isRegExp,nn=qi&&qi.isSet,xs=qi&&qi.isTypedArray;function Vn(yt,Bt){return yt.set(Bt[0],Bt[1]),yt}function Ps(yt,Bt){return yt.add(Bt),yt}function hn(yt,Bt,Ft){switch(Ft.length){case 0:return yt.call(Bt);case 1:return yt.call(Bt,Ft[0]);case 2:return yt.call(Bt,Ft[0],Ft[1]);case 3:return yt.call(Bt,Ft[0],Ft[1],Ft[2])}return yt.apply(Bt,Ft)}function Zs(yt,Bt,Ft,Qt){for(var be=-1,xe=yt==null?0:yt.length;++be<xe;){var Mi=yt[be];Bt(Qt,Mi,Ft(Mi),yt)}return Qt}function mn(yt,Bt){for(var Ft=-1,Qt=yt==null?0:yt.length;++Ft<Qt&&Bt(yt[Ft],Ft,yt)!==!1;);return yt}function wi(yt,Bt){for(var Ft=yt==null?0:yt.length;Ft--&&Bt(yt[Ft],Ft,yt)!==!1;);return yt}function Ws(yt,Bt){for(var Ft=-1,Qt=yt==null?0:yt.length;++Ft<Qt;)if(!Bt(yt[Ft],Ft,yt))return!1;return!0}function As(yt,Bt){for(var Ft=-1,Qt=yt==null?0:yt.length,be=0,xe=[];++Ft<Qt;){var Mi=yt[Ft];Bt(Mi,Ft,yt)&&(xe[be++]=Mi)}return xe}function Tr(yt,Bt){var Ft=yt==null?0:yt.length;return!!Ft&&hr(yt,Bt,0)>-1}function Ir(yt,Bt,Ft){for(var Qt=-1,be=yt==null?0:yt.length;++Qt<be;)if(Ft(Bt,yt[Qt]))return!0;return!1}function Ai(yt,Bt){for(var Ft=-1,Qt=yt==null?0:yt.length,be=Array(Qt);++Ft<Qt;)be[Ft]=Bt(yt[Ft],Ft,yt);return be}function Ns(yt,Bt){for(var Ft=-1,Qt=Bt.length,be=yt.length;++Ft<Qt;)yt[be+Ft]=Bt[Ft];return yt}function Mr(yt,Bt,Ft,Qt){var be=-1,xe=yt==null?0:yt.length;for(Qt&&xe&&(Ft=yt[++be]);++be<xe;)Ft=Bt(Ft,yt[be],be,yt);return Ft}function Io(yt,Bt,Ft,Qt){var be=yt==null?0:yt.length;for(Qt&&be&&(Ft=yt[--be]);be--;)Ft=Bt(Ft,yt[be],be,yt);return Ft}function Fa(yt,Bt){for(var Ft=-1,Qt=yt==null?0:yt.length;++Ft<Qt;)if(Bt(yt[Ft],Ft,yt))return!0;return!1}var Mo=ls("length");function na(yt){return yt.split("")}function Oo(yt){return yt.match(Wt)||[]}function Su(yt,Bt,Ft){var Qt;return Ft(yt,function(be,xe,Mi){if(Bt(be,xe,Mi))return Qt=xe,!1}),Qt}function Fs(yt,Bt,Ft,Qt){for(var be=yt.length,xe=Ft+(Qt?1:-1);Qt?xe--:++xe<be;)if(Bt(yt[xe],xe,yt))return xe;return-1}function hr(yt,Bt,Ft){return Bt===Bt?Lt(yt,Bt,Ft):Fs(yt,Tu,Ft)}function Ba(yt,Bt,Ft,Qt){for(var be=Ft-1,xe=yt.length;++be<xe;)if(Qt(yt[be],Bt))return be;return-1}function Tu(yt){return yt!==yt}function Ds(yt,Bt){var Ft=yt==null?0:yt.length;return Ft?Dn(yt,Bt)/Ft:$t}function ls(yt){return function(Bt){return Bt==null?i:Bt[yt]}}function Di(yt){return function(Bt){return yt==null?i:yt[Bt]}}function sa(yt,Bt,Ft,Qt,be){return be(yt,function(xe,Mi,hi){Ft=Qt?(Qt=!1,xe):Bt(Ft,xe,Mi,hi)}),Ft}function Jn(yt,Bt){var Ft=yt.length;for(yt.sort(Bt);Ft--;)yt[Ft]=yt[Ft].value;return yt}function Dn(yt,Bt){for(var Ft,Qt=-1,be=yt.length;++Qt<be;){var xe=Bt(yt[Qt]);xe!==i&&(Ft=Ft===i?xe:Ft+xe)}return Ft}function Or(yt,Bt){for(var Ft=-1,Qt=Array(yt);++Ft<yt;)Qt[Ft]=Bt(Ft);return Qt}function Iu(yt,Bt){return Ai(Bt,function(Ft){return[Ft,yt[Ft]]})}function En(yt){return function(Bt){return yt(Bt)}}function Va(yt,Bt){return Ai(Bt,function(Ft){return yt[Ft]})}function ts(yt,Bt){return yt.has(Bt)}function ra(yt,Bt){for(var Ft=-1,Qt=yt.length;++Ft<Qt&&hr(Bt,yt[Ft],0)>-1;);return Ft}function La(yt,Bt){for(var Ft=yt.length;Ft--&&hr(Bt,yt[Ft],0)>-1;);return Ft}function aa(yt,Bt){for(var Ft=yt.length,Qt=0;Ft--;)yt[Ft]===Bt&&++Qt;return Qt}var ua=Di(Ht),Ra=Di(jt);function ka(yt){return"\\"+Be[yt]}function oa(yt,Bt){return yt==null?i:yt[Bt]}function Bs(yt){return q.test(yt)}function za(yt){return Q.test(yt)}function Po(yt){for(var Bt,Ft=[];!(Bt=yt.next()).done;)Ft.push(Bt.value);return Ft}function Pr(yt){var Bt=-1,Ft=Array(yt.size);return yt.forEach(function(Qt,be){Ft[++Bt]=[be,Qt]}),Ft}function Mu(yt,Bt){return function(Ft){return yt(Bt(Ft))}}function st(yt,Bt){for(var Ft=-1,Qt=yt.length,be=0,xe=[];++Ft<Qt;){var Mi=yt[Ft];(Mi===Bt||Mi===j)&&(yt[Ft]=j,xe[be++]=Ft)}return xe}function pt(yt){var Bt=-1,Ft=Array(yt.size);return yt.forEach(function(Qt){Ft[++Bt]=Qt}),Ft}function At(yt){var Bt=-1,Ft=Array(yt.size);return yt.forEach(function(Qt){Ft[++Bt]=[Qt,Qt]}),Ft}function Lt(yt,Bt,Ft){for(var Qt=Ft-1,be=yt.length;++Qt<be;)if(yt[Qt]===Bt)return Qt;return-1}function Nt(yt,Bt,Ft){for(var Qt=Ft+1;Qt--;)if(yt[Qt]===Bt)return Qt;return Qt}function qt(yt){return Bs(yt)?we(yt):Mo(yt)}function kt(yt){return Bs(yt)?Le(yt):na(yt)}var ie=Di(ae);function we(yt){for(var Bt=E.lastIndex=0;E.test(yt);)++Bt;return Bt}function Le(yt){return yt.match(E)||[]}function Ve(yt){return yt.match(V)||[]}var Ie=function yt(Bt){Bt=Bt==null?li:ui.defaults(li.Object(),Bt,ui.pick(li,ft));var Ft=Bt.Array,Qt=Bt.Date,be=Bt.Error,xe=Bt.Function,Mi=Bt.Math,hi=Bt.Object,No=Bt.RegExp,zf=Bt.String,hs=Bt.TypeError,Ou=Ft.prototype,qf=xe.prototype,qa=hi.prototype,Pu=Bt["__core-js_shared__"],Nu=qf.toString,Oi=qa.hasOwnProperty,Yf=0,ah=function(){var n=/[^.]+$/.exec(Pu&&Pu.keys&&Pu.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),uh=qa.toString,Xf=Nu.call(hi),Hf=li._,Uf=No("^"+Nu.call(Oi).replace(ht,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Fu=ii?Bt.Buffer:i,cr=Bt.Symbol,Bu=Bt.Uint8Array,oh=Fu?Fu.allocUnsafe:i,Vu=Mu(hi.getPrototypeOf,hi),lh=hi.create,hh=qa.propertyIsEnumerable,Lu=Ou.splice,ch=cr?cr.isConcatSpreadable:i,Ya=cr?cr.iterator:i,Nr=cr?cr.toStringTag:i,Ru=function(){try{var n=Lr(hi,"defineProperty");return n({},"",{}),n}catch{}}(),jf=Bt.clearTimeout!==li.clearTimeout&&Bt.clearTimeout,Zf=Qt&&Qt.now!==li.Date.now&&Qt.now,Wf=Bt.setTimeout!==li.setTimeout&&Bt.setTimeout,ku=Mi.ceil,zu=Mi.floor,Fo=hi.getOwnPropertySymbols,Gf=Fu?Fu.isBuffer:i,$f=Bt.isFinite,Kf=Ou.join,Qf=Mu(hi.keys,hi),Ki=Mi.max,pn=Mi.min,Jf=Qt.now,td=Bt.parseInt,fh=Mi.random,ed=Ou.reverse,Bo=Lr(Bt,"DataView"),Xa=Lr(Bt,"Map"),Vo=Lr(Bt,"Promise"),la=Lr(Bt,"Set"),Ha=Lr(Bt,"WeakMap"),Ua=Lr(hi,"create"),qu=Ha&&new Ha,ja={},id=Rr(Bo),nd=Rr(Xa),sd=Rr(Vo),rd=Rr(la),ad=Rr(Ha),Yu=cr?cr.prototype:i,Za=Yu?Yu.valueOf:i,dh=Yu?Yu.toString:i;function K(n){if(Li(n)&&!Ye(n)&&!(n instanceof ti)){if(n instanceof cs)return n;if(Oi.call(n,"__wrapped__"))return fc(n)}return new cs(n)}var ha=function(){function n(){}return function(o){if(!Bi(o))return{};if(lh)return lh(o);n.prototype=o;var d=new n;return n.prototype=i,d}}();function Xu(){}function cs(n,o){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=i}K.templateSettings={escape:M,evaluate:L,interpolate:H,variable:"",imports:{_:K}},K.prototype=Xu.prototype,K.prototype.constructor=K,cs.prototype=ha(Xu.prototype),cs.prototype.constructor=cs;function ti(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ee,this.__views__=[]}function ud(){var n=new ti(this.__wrapped__);return n.__actions__=Ln(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=Ln(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=Ln(this.__views__),n}function od(){if(this.__filtered__){var n=new ti(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function ld(){var n=this.__wrapped__.value(),o=this.__dir__,d=Ye(n),C=o<0,Y=d?n.length:0,rt=Dm(0,Y,this.__views__),mt=rt.start,bt=rt.end,It=bt-mt,Xt=C?bt:mt-1,Yt=this.__iteratees__,Ut=Yt.length,ue=0,de=pn(It,this.__takeCount__);if(!d||!C&&Y==It&&de==It)return Lh(n,this.__actions__);var Ne=[];t:for(;It--&&ue<de;){Xt+=o;for(var Ke=-1,Re=n[Xt];++Ke<Ut;){var oi=Yt[Ke],gi=oi.iteratee,Sn=oi.type,Tn=gi(Re);if(Sn==Zt)Re=Tn;else if(!Tn){if(Sn==tt)continue t;break t}}Ne[ue++]=Re}return Ne}ti.prototype=ha(Xu.prototype),ti.prototype.constructor=ti;function Fr(n){var o=-1,d=n==null?0:n.length;for(this.clear();++o<d;){var C=n[o];this.set(C[0],C[1])}}function hd(){this.__data__=Ua?Ua(null):{},this.size=0}function cd(n){var o=this.has(n)&&delete this.__data__[n];return this.size-=o?1:0,o}function fd(n){var o=this.__data__;if(Ua){var d=o[n];return d===S?i:d}return Oi.call(o,n)?o[n]:i}function dd(n){var o=this.__data__;return Ua?o[n]!==i:Oi.call(o,n)}function md(n,o){var d=this.__data__;return this.size+=this.has(n)?0:1,d[n]=Ua&&o===i?S:o,this}Fr.prototype.clear=hd,Fr.prototype.delete=cd,Fr.prototype.get=fd,Fr.prototype.has=dd,Fr.prototype.set=md;function Gs(n){var o=-1,d=n==null?0:n.length;for(this.clear();++o<d;){var C=n[o];this.set(C[0],C[1])}}function pd(){this.__data__=[],this.size=0}function gd(n){var o=this.__data__,d=Hu(o,n);if(d<0)return!1;var C=o.length-1;return d==C?o.pop():Lu.call(o,d,1),--this.size,!0}function vd(n){var o=this.__data__,d=Hu(o,n);return d<0?i:o[d][1]}function yd(n){return Hu(this.__data__,n)>-1}function _d(n,o){var d=this.__data__,C=Hu(d,n);return C<0?(++this.size,d.push([n,o])):d[C][1]=o,this}Gs.prototype.clear=pd,Gs.prototype.delete=gd,Gs.prototype.get=vd,Gs.prototype.has=yd,Gs.prototype.set=_d;function $s(n){var o=-1,d=n==null?0:n.length;for(this.clear();++o<d;){var C=n[o];this.set(C[0],C[1])}}function wd(){this.size=0,this.__data__={hash:new Fr,map:new(Xa||Gs),string:new Fr}}function bd(n){var o=io(this,n).delete(n);return this.size-=o?1:0,o}function xd(n){return io(this,n).get(n)}function Ad(n){return io(this,n).has(n)}function Dd(n,o){var d=io(this,n),C=d.size;return d.set(n,o),this.size+=d.size==C?0:1,this}$s.prototype.clear=wd,$s.prototype.delete=bd,$s.prototype.get=xd,$s.prototype.has=Ad,$s.prototype.set=Dd;function Br(n){var o=-1,d=n==null?0:n.length;for(this.__data__=new $s;++o<d;)this.add(n[o])}function Ed(n){return this.__data__.set(n,S),this}function Cd(n){return this.__data__.has(n)}Br.prototype.add=Br.prototype.push=Ed,Br.prototype.has=Cd;function Es(n){var o=this.__data__=new Gs(n);this.size=o.size}function Sd(){this.__data__=new Gs,this.size=0}function Td(n){var o=this.__data__,d=o.delete(n);return this.size=o.size,d}function Id(n){return this.__data__.get(n)}function Md(n){return this.__data__.has(n)}function Od(n,o){var d=this.__data__;if(d instanceof Gs){var C=d.__data__;if(!Xa||C.length<l-1)return C.push([n,o]),this.size=++d.size,this;d=this.__data__=new $s(C)}return d.set(n,o),this.size=d.size,this}Es.prototype.clear=Sd,Es.prototype.delete=Td,Es.prototype.get=Id,Es.prototype.has=Md,Es.prototype.set=Od;function mh(n,o){var d=Ye(n),C=!d&&kr(n),Y=!d&&!C&&gr(n),rt=!d&&!C&&!Y&&pa(n),mt=d||C||Y||rt,bt=mt?Or(n.length,zf):[],It=bt.length;for(var Xt in n)(o||Oi.call(n,Xt))&&!(mt&&(Xt=="length"||Y&&(Xt=="offset"||Xt=="parent")||rt&&(Xt=="buffer"||Xt=="byteLength"||Xt=="byteOffset")||tr(Xt,It)))&&bt.push(Xt);return bt}function ph(n){var o=n.length;return o?n[Zo(0,o-1)]:i}function Pd(n,o){return no(Ln(n),Vr(o,0,n.length))}function Nd(n){return no(Ln(n))}function Lo(n,o,d){(d!==i&&!ks(n[o],d)||d===i&&!(o in n))&&Ks(n,o,d)}function Wa(n,o,d){var C=n[o];(!(Oi.call(n,o)&&ks(C,d))||d===i&&!(o in n))&&Ks(n,o,d)}function Hu(n,o){for(var d=n.length;d--;)if(ks(n[d][0],o))return d;return-1}function Fd(n,o,d,C){return fr(n,function(Y,rt,mt){o(C,Y,d(Y),mt)}),C}function gh(n,o){return n&&Ls(o,sn(o),n)}function Bd(n,o){return n&&Ls(o,ns(o),n)}function Ks(n,o,d){o=="__proto__"&&Ru?Ru(n,o,{configurable:!0,enumerable:!0,value:d,writable:!0}):n[o]=d}function Ro(n,o){for(var d=-1,C=o.length,Y=Ft(C),rt=n==null;++d<C;)Y[d]=rt?i:yl(n,o[d]);return Y}function Vr(n,o,d){return n===n&&(d!==i&&(n=n<=d?n:d),o!==i&&(n=n>=o?n:o)),n}function Cs(n,o,d,C,Y,rt){var mt,bt=o&W,It=o&G,Xt=o&J;if(d&&(mt=Y?d(n,C,Y,rt):d(n)),mt!==i)return mt;if(!Bi(n))return n;var Yt=Ye(n);if(Yt){if(mt=Cm(n),!bt)return Ln(n,mt)}else{var Ut=gn(n),ue=Ut==Te||Ut==Gi;if(gr(n))return kh(n,bt);if(Ut==$i||Ut==Se||ue&&!Y){if(mt=It||ue?{}:nc(n),!bt)return It?pm(n,Bd(mt,n)):mm(n,gh(mt,n))}else{if(!Ct[Ut])return Y?n:{};mt=Sm(n,Ut,Cs,bt)}}rt||(rt=new Es);var de=rt.get(n);if(de)return de;rt.set(n,mt);var Ne=Xt?It?rl:sl:It?ns:sn,Ke=Yt?i:Ne(n);return mn(Ke||n,function(Re,oi){Ke&&(oi=Re,Re=n[oi]),Wa(mt,oi,Cs(Re,o,d,oi,n,rt))}),mt}function Vd(n){var o=sn(n);return function(d){return vh(d,n,o)}}function vh(n,o,d){var C=d.length;if(n==null)return!C;for(n=hi(n);C--;){var Y=d[C],rt=o[Y],mt=n[Y];if(mt===i&&!(Y in n)||!rt(mt))return!1}return!0}function yh(n,o,d){if(typeof n!="function")throw new hs(g);return eu(function(){n.apply(i,d)},o)}function Ga(n,o,d,C){var Y=-1,rt=Tr,mt=!0,bt=n.length,It=[],Xt=o.length;if(!bt)return It;d&&(o=Ai(o,En(d))),C?(rt=Ir,mt=!1):o.length>=l&&(rt=ts,mt=!1,o=new Br(o));t:for(;++Y<bt;){var Yt=n[Y],Ut=d==null?Yt:d(Yt);if(Yt=C||Yt!==0?Yt:0,mt&&Ut===Ut){for(var ue=Xt;ue--;)if(o[ue]===Ut)continue t;It.push(Yt)}else rt(o,Ut,C)||It.push(Yt)}return It}var fr=Hh(Vs),_h=Hh(zo,!0);function Ld(n,o){var d=!0;return fr(n,function(C,Y,rt){return d=!!o(C,Y,rt),d}),d}function Uu(n,o,d){for(var C=-1,Y=n.length;++C<Y;){var rt=n[C],mt=o(rt);if(mt!=null&&(bt===i?mt===mt&&!is(mt):d(mt,bt)))var bt=mt,It=rt}return It}function Rd(n,o,d,C){var Y=n.length;for(d=He(d),d<0&&(d=-d>Y?0:Y+d),C=C===i||C>Y?Y:He(C),C<0&&(C+=Y),C=d>C?0:Pc(C);d<C;)n[d++]=o;return n}function wh(n,o){var d=[];return fr(n,function(C,Y,rt){o(C,Y,rt)&&d.push(C)}),d}function cn(n,o,d,C,Y){var rt=-1,mt=n.length;for(d||(d=Im),Y||(Y=[]);++rt<mt;){var bt=n[rt];o>0&&d(bt)?o>1?cn(bt,o-1,d,C,Y):Ns(Y,bt):C||(Y[Y.length]=bt)}return Y}var ko=Uh(),bh=Uh(!0);function Vs(n,o){return n&&ko(n,o,sn)}function zo(n,o){return n&&bh(n,o,sn)}function ju(n,o){return As(o,function(d){return er(n[d])})}function ca(n,o){o=mr(o,n);for(var d=0,C=o.length;n!=null&&d<C;)n=n[Rs(o[d++])];return d&&d==C?n:i}function xh(n,o,d){var C=o(n);return Ye(n)?C:Ns(C,d(n))}function Cn(n){return n==null?n===i?Gt:Gn:Nr&&Nr in hi(n)?Am(n):Vm(n)}function qo(n,o){return n>o}function kd(n,o){return n!=null&&Oi.call(n,o)}function zd(n,o){return n!=null&&o in hi(n)}function qd(n,o,d){return n>=pn(o,d)&&n<Ki(o,d)}function Yo(n,o,d){for(var C=d?Ir:Tr,Y=n[0].length,rt=n.length,mt=rt,bt=Ft(rt),It=1/0,Xt=[];mt--;){var Yt=n[mt];mt&&o&&(Yt=Ai(Yt,En(o))),It=pn(Yt.length,It),bt[mt]=!d&&(o||Y>=120&&Yt.length>=120)?new Br(mt&&Yt):i}Yt=n[0];var Ut=-1,ue=bt[0];t:for(;++Ut<Y&&Xt.length<It;){var de=Yt[Ut],Ne=o?o(de):de;if(de=d||de!==0?de:0,!(ue?ts(ue,Ne):C(Xt,Ne,d))){for(mt=rt;--mt;){var Ke=bt[mt];if(!(Ke?ts(Ke,Ne):C(n[mt],Ne,d)))continue t}ue&&ue.push(Ne),Xt.push(de)}}return Xt}function Yd(n,o,d,C){return Vs(n,function(Y,rt,mt){o(C,d(Y),rt,mt)}),C}function $a(n,o,d){o=mr(o,n),n=uc(n,o);var C=n==null?n:n[Rs(ds(o))];return C==null?i:hn(C,n,d)}function Ah(n){return Li(n)&&Cn(n)==Se}function Xd(n){return Li(n)&&Cn(n)==s}function Hd(n){return Li(n)&&Cn(n)==ci}function Ka(n,o,d,C,Y){return n===o?!0:n==null||o==null||!Li(n)&&!Li(o)?n!==n&&o!==o:Ud(n,o,d,C,Ka,Y)}function Ud(n,o,d,C,Y,rt){var mt=Ye(n),bt=Ye(o),It=mt?fe:gn(n),Xt=bt?fe:gn(o);It=It==Se?$i:It,Xt=Xt==Se?$i:Xt;var Yt=It==$i,Ut=Xt==$i,ue=It==Xt;if(ue&&gr(n)){if(!gr(o))return!1;mt=!0,Yt=!1}if(ue&&!Yt)return rt||(rt=new Es),mt||pa(n)?tc(n,o,d,C,Y,rt):bm(n,o,It,d,C,Y,rt);if(!(d&R)){var de=Yt&&Oi.call(n,"__wrapped__"),Ne=Ut&&Oi.call(o,"__wrapped__");if(de||Ne){var Ke=de?n.value():n,Re=Ne?o.value():o;return rt||(rt=new Es),Y(Ke,Re,d,C,rt)}}return ue?(rt||(rt=new Es),xm(n,o,d,C,Y,rt)):!1}function jd(n){return Li(n)&&gn(n)==Fi}function Xo(n,o,d,C){var Y=d.length,rt=Y,mt=!C;if(n==null)return!rt;for(n=hi(n);Y--;){var bt=d[Y];if(mt&&bt[2]?bt[1]!==n[bt[0]]:!(bt[0]in n))return!1}for(;++Y<rt;){bt=d[Y];var It=bt[0],Xt=n[It],Yt=bt[1];if(mt&&bt[2]){if(Xt===i&&!(It in n))return!1}else{var Ut=new Es;if(C)var ue=C(Xt,Yt,It,n,o,Ut);if(!(ue===i?Ka(Yt,Xt,R|gt,C,Ut):ue))return!1}}return!0}function Dh(n){if(!Bi(n)||Om(n))return!1;var o=er(n)?Uf:ge;return o.test(Rr(n))}function Zd(n){return Li(n)&&Cn(n)==on}function Wd(n){return Li(n)&&gn(n)==Xe}function Gd(n){return Li(n)&&lo(n.length)&&!!Pt[Cn(n)]}function Eh(n){return typeof n=="function"?n:n==null?zn:typeof n=="object"?Ye(n)?Th(n[0],n[1]):Sh(n):Xc(n)}function Ho(n){if(!tu(n))return Qf(n);var o=[];for(var d in hi(n))Oi.call(n,d)&&d!="constructor"&&o.push(d);return o}function $d(n){if(!Bi(n))return Bm(n);var o=tu(n),d=[];for(var C in n)C=="constructor"&&(o||!Oi.call(n,C))||d.push(C);return d}function Uo(n,o){return n<o}function Ch(n,o){var d=-1,C=kn(n)?Ft(n.length):[];return fr(n,function(Y,rt,mt){C[++d]=o(Y,rt,mt)}),C}function Sh(n){var o=ul(n);return o.length==1&&o[0][2]?rc(o[0][0],o[0][1]):function(d){return d===n||Xo(d,n,o)}}function Th(n,o){return ll(n)&&sc(o)?rc(Rs(n),o):function(d){var C=yl(d,n);return C===i&&C===o?_l(d,n):Ka(o,C,R|gt)}}function Zu(n,o,d,C,Y){n!==o&&ko(o,function(rt,mt){if(Bi(rt))Y||(Y=new Es),Kd(n,o,mt,d,Zu,C,Y);else{var bt=C?C(n[mt],rt,mt+"",n,o,Y):i;bt===i&&(bt=rt),Lo(n,mt,bt)}},ns)}function Kd(n,o,d,C,Y,rt,mt){var bt=n[d],It=o[d],Xt=mt.get(It);if(Xt){Lo(n,d,Xt);return}var Yt=rt?rt(bt,It,d+"",n,o,mt):i,Ut=Yt===i;if(Ut){var ue=Ye(It),de=!ue&&gr(It),Ne=!ue&&!de&&pa(It);Yt=It,ue||de||Ne?Ye(bt)?Yt=bt:Yi(bt)?Yt=Ln(bt):de?(Ut=!1,Yt=kh(It,!0)):Ne?(Ut=!1,Yt=zh(It,!0)):Yt=[]:iu(It)||kr(It)?(Yt=bt,kr(bt)?Yt=Nc(bt):(!Bi(bt)||C&&er(bt))&&(Yt=nc(It))):Ut=!1}Ut&&(mt.set(It,Yt),Y(Yt,It,C,rt,mt),mt.delete(It)),Lo(n,d,Yt)}function Ih(n,o){var d=n.length;if(d)return o+=o<0?d:0,tr(o,d)?n[o]:i}function Mh(n,o,d){var C=-1;o=Ai(o.length?o:[zn],En(Me()));var Y=Ch(n,function(rt,mt,bt){var It=Ai(o,function(Xt){return Xt(rt)});return{criteria:It,index:++C,value:rt}});return Jn(Y,function(rt,mt){return dm(rt,mt,d)})}function Qd(n,o){return Oh(n,o,function(d,C){return _l(n,C)})}function Oh(n,o,d){for(var C=-1,Y=o.length,rt={};++C<Y;){var mt=o[C],bt=ca(n,mt);d(bt,mt)&&Qa(rt,mr(mt,n),bt)}return rt}function Jd(n){return function(o){return ca(o,n)}}function jo(n,o,d,C){var Y=C?Ba:hr,rt=-1,mt=o.length,bt=n;for(n===o&&(o=Ln(o)),d&&(bt=Ai(n,En(d)));++rt<mt;)for(var It=0,Xt=o[rt],Yt=d?d(Xt):Xt;(It=Y(bt,Yt,It,C))>-1;)bt!==n&&Lu.call(bt,It,1),Lu.call(n,It,1);return n}function Ph(n,o){for(var d=n?o.length:0,C=d-1;d--;){var Y=o[d];if(d==C||Y!==rt){var rt=Y;tr(Y)?Lu.call(n,Y,1):$o(n,Y)}}return n}function Zo(n,o){return n+zu(fh()*(o-n+1))}function tm(n,o,d,C){for(var Y=-1,rt=Ki(ku((o-n)/(d||1)),0),mt=Ft(rt);rt--;)mt[C?rt:++Y]=n,n+=d;return mt}function Wo(n,o){var d="";if(!n||o<1||o>re)return d;do o%2&&(d+=n),o=zu(o/2),o&&(n+=n);while(o);return d}function Ze(n,o){return cl(ac(n,o,zn),n+"")}function em(n){return ph(ga(n))}function im(n,o){var d=ga(n);return no(d,Vr(o,0,d.length))}function Qa(n,o,d,C){if(!Bi(n))return n;o=mr(o,n);for(var Y=-1,rt=o.length,mt=rt-1,bt=n;bt!=null&&++Y<rt;){var It=Rs(o[Y]),Xt=d;if(Y!=mt){var Yt=bt[It];Xt=C?C(Yt,It,bt):i,Xt===i&&(Xt=Bi(Yt)?Yt:tr(o[Y+1])?[]:{})}Wa(bt,It,Xt),bt=bt[It]}return n}var Nh=qu?function(n,o){return qu.set(n,o),n}:zn,nm=Ru?function(n,o){return Ru(n,"toString",{configurable:!0,enumerable:!1,value:bl(o),writable:!0})}:zn;function sm(n){return no(ga(n))}function fs(n,o,d){var C=-1,Y=n.length;o<0&&(o=-o>Y?0:Y+o),d=d>Y?Y:d,d<0&&(d+=Y),Y=o>d?0:d-o>>>0,o>>>=0;for(var rt=Ft(Y);++C<Y;)rt[C]=n[C+o];return rt}function rm(n,o){var d;return fr(n,function(C,Y,rt){return d=o(C,Y,rt),!d}),!!d}function Wu(n,o,d){var C=0,Y=n==null?C:n.length;if(typeof o=="number"&&o===o&&Y<=oe){for(;C<Y;){var rt=C+Y>>>1,mt=n[rt];mt!==null&&!is(mt)&&(d?mt<=o:mt<o)?C=rt+1:Y=rt}return Y}return Go(n,o,zn,d)}function Go(n,o,d,C){o=d(o);for(var Y=0,rt=n==null?0:n.length,mt=o!==o,bt=o===null,It=is(o),Xt=o===i;Y<rt;){var Yt=zu((Y+rt)/2),Ut=d(n[Yt]),ue=Ut!==i,de=Ut===null,Ne=Ut===Ut,Ke=is(Ut);if(mt)var Re=C||Ne;else Xt?Re=Ne&&(C||ue):bt?Re=Ne&&ue&&(C||!de):It?Re=Ne&&ue&&!de&&(C||!Ke):de||Ke?Re=!1:Re=C?Ut<=o:Ut<o;Re?Y=Yt+1:rt=Yt}return pn(rt,pe)}function Fh(n,o){for(var d=-1,C=n.length,Y=0,rt=[];++d<C;){var mt=n[d],bt=o?o(mt):mt;if(!d||!ks(bt,It)){var It=bt;rt[Y++]=mt===0?0:mt}}return rt}function Bh(n){return typeof n=="number"?n:is(n)?$t:+n}function es(n){if(typeof n=="string")return n;if(Ye(n))return Ai(n,es)+"";if(is(n))return dh?dh.call(n):"";var o=n+"";return o=="0"&&1/n==-Dt?"-0":o}function dr(n,o,d){var C=-1,Y=Tr,rt=n.length,mt=!0,bt=[],It=bt;if(d)mt=!1,Y=Ir;else if(rt>=l){var Xt=o?null:_m(n);if(Xt)return pt(Xt);mt=!1,Y=ts,It=new Br}else It=o?[]:bt;t:for(;++C<rt;){var Yt=n[C],Ut=o?o(Yt):Yt;if(Yt=d||Yt!==0?Yt:0,mt&&Ut===Ut){for(var ue=It.length;ue--;)if(It[ue]===Ut)continue t;o&&It.push(Ut),bt.push(Yt)}else Y(It,Ut,d)||(It!==bt&&It.push(Ut),bt.push(Yt))}return bt}function $o(n,o){return o=mr(o,n),n=uc(n,o),n==null||delete n[Rs(ds(o))]}function Vh(n,o,d,C){return Qa(n,o,d(ca(n,o)),C)}function Gu(n,o,d,C){for(var Y=n.length,rt=C?Y:-1;(C?rt--:++rt<Y)&&o(n[rt],rt,n););return d?fs(n,C?0:rt,C?rt+1:Y):fs(n,C?rt+1:0,C?Y:rt)}function Lh(n,o){var d=n;return d instanceof ti&&(d=d.value()),Mr(o,function(C,Y){return Y.func.apply(Y.thisArg,Ns([C],Y.args))},d)}function Ko(n,o,d){var C=n.length;if(C<2)return C?dr(n[0]):[];for(var Y=-1,rt=Ft(C);++Y<C;)for(var mt=n[Y],bt=-1;++bt<C;)bt!=Y&&(rt[Y]=Ga(rt[Y]||mt,n[bt],o,d));return dr(cn(rt,1),o,d)}function Rh(n,o,d){for(var C=-1,Y=n.length,rt=o.length,mt={};++C<Y;){var bt=C<rt?o[C]:i;d(mt,n[C],bt)}return mt}function Qo(n){return Yi(n)?n:[]}function Jo(n){return typeof n=="function"?n:zn}function mr(n,o){return Ye(n)?n:ll(n,o)?[n]:cc(pi(n))}var am=Ze;function pr(n,o,d){var C=n.length;return d=d===i?C:d,!o&&d>=C?n:fs(n,o,d)}var um=jf||function(n){return li.clearTimeout(n)};function kh(n,o){if(o)return n.slice();var d=n.length,C=oh?oh(d):new n.constructor(d);return n.copy(C),C}function tl(n){var o=new n.constructor(n.byteLength);return new Bu(o).set(new Bu(n)),o}function om(n,o){var d=o?tl(n.buffer):n.buffer;return new n.constructor(d,n.byteOffset,n.byteLength)}function lm(n,o,d){var C=o?d(Pr(n),W):Pr(n);return Mr(C,Vn,new n.constructor)}function hm(n){var o=new n.constructor(n.source,_e.exec(n));return o.lastIndex=n.lastIndex,o}function cm(n,o,d){var C=o?d(pt(n),W):pt(n);return Mr(C,Ps,new n.constructor)}function fm(n){return Za?hi(Za.call(n)):{}}function zh(n,o){var d=o?tl(n.buffer):n.buffer;return new n.constructor(d,n.byteOffset,n.length)}function qh(n,o){if(n!==o){var d=n!==i,C=n===null,Y=n===n,rt=is(n),mt=o!==i,bt=o===null,It=o===o,Xt=is(o);if(!bt&&!Xt&&!rt&&n>o||rt&&mt&&It&&!bt&&!Xt||C&&mt&&It||!d&&It||!Y)return 1;if(!C&&!rt&&!Xt&&n<o||Xt&&d&&Y&&!C&&!rt||bt&&d&&Y||!mt&&Y||!It)return-1}return 0}function dm(n,o,d){for(var C=-1,Y=n.criteria,rt=o.criteria,mt=Y.length,bt=d.length;++C<mt;){var It=qh(Y[C],rt[C]);if(It){if(C>=bt)return It;var Xt=d[C];return It*(Xt=="desc"?-1:1)}}return n.index-o.index}function Yh(n,o,d,C){for(var Y=-1,rt=n.length,mt=d.length,bt=-1,It=o.length,Xt=Ki(rt-mt,0),Yt=Ft(It+Xt),Ut=!C;++bt<It;)Yt[bt]=o[bt];for(;++Y<mt;)(Ut||Y<rt)&&(Yt[d[Y]]=n[Y]);for(;Xt--;)Yt[bt++]=n[Y++];return Yt}function Xh(n,o,d,C){for(var Y=-1,rt=n.length,mt=-1,bt=d.length,It=-1,Xt=o.length,Yt=Ki(rt-bt,0),Ut=Ft(Yt+Xt),ue=!C;++Y<Yt;)Ut[Y]=n[Y];for(var de=Y;++It<Xt;)Ut[de+It]=o[It];for(;++mt<bt;)(ue||Y<rt)&&(Ut[de+d[mt]]=n[Y++]);return Ut}function Ln(n,o){var d=-1,C=n.length;for(o||(o=Ft(C));++d<C;)o[d]=n[d];return o}function Ls(n,o,d,C){var Y=!d;d||(d={});for(var rt=-1,mt=o.length;++rt<mt;){var bt=o[rt],It=C?C(d[bt],n[bt],bt,d,n):i;It===i&&(It=n[bt]),Y?Ks(d,bt,It):Wa(d,bt,It)}return d}function mm(n,o){return Ls(n,ol(n),o)}function pm(n,o){return Ls(n,ec(n),o)}function $u(n,o){return function(d,C){var Y=Ye(d)?Zs:Fd,rt=o?o():{};return Y(d,n,Me(C,2),rt)}}function fa(n){return Ze(function(o,d){var C=-1,Y=d.length,rt=Y>1?d[Y-1]:i,mt=Y>2?d[2]:i;for(rt=n.length>3&&typeof rt=="function"?(Y--,rt):i,mt&&Rn(d[0],d[1],mt)&&(rt=Y<3?i:rt,Y=1),o=hi(o);++C<Y;){var bt=d[C];bt&&n(o,bt,C,rt)}return o})}function Hh(n,o){return function(d,C){if(d==null)return d;if(!kn(d))return n(d,C);for(var Y=d.length,rt=o?Y:-1,mt=hi(d);(o?rt--:++rt<Y)&&C(mt[rt],rt,mt)!==!1;);return d}}function Uh(n){return function(o,d,C){for(var Y=-1,rt=hi(o),mt=C(o),bt=mt.length;bt--;){var It=mt[n?bt:++Y];if(d(rt[It],It,rt)===!1)break}return o}}function gm(n,o,d){var C=o&m,Y=Ja(n);function rt(){var mt=this&&this!==li&&this instanceof rt?Y:n;return mt.apply(C?d:this,arguments)}return rt}function jh(n){return function(o){o=pi(o);var d=Bs(o)?kt(o):i,C=d?d[0]:o.charAt(0),Y=d?pr(d,1).join(""):o.slice(1);return C[n]()+Y}}function da(n){return function(o){return Mr(qc(zc(o).replace(v,"")),n,"")}}function Ja(n){return function(){var o=arguments;switch(o.length){case 0:return new n;case 1:return new n(o[0]);case 2:return new n(o[0],o[1]);case 3:return new n(o[0],o[1],o[2]);case 4:return new n(o[0],o[1],o[2],o[3]);case 5:return new n(o[0],o[1],o[2],o[3],o[4]);case 6:return new n(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new n(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var d=ha(n.prototype),C=n.apply(d,o);return Bi(C)?C:d}}function vm(n,o,d){var C=Ja(n);function Y(){for(var rt=arguments.length,mt=Ft(rt),bt=rt,It=ma(Y);bt--;)mt[bt]=arguments[bt];var Xt=rt<3&&mt[0]!==It&&mt[rt-1]!==It?[]:st(mt,It);if(rt-=Xt.length,rt<d)return Kh(n,o,Ku,Y.placeholder,i,mt,Xt,i,i,d-rt);var Yt=this&&this!==li&&this instanceof Y?C:n;return hn(Yt,this,mt)}return Y}function Zh(n){return function(o,d,C){var Y=hi(o);if(!kn(o)){var rt=Me(d,3);o=sn(o),d=function(bt){return rt(Y[bt],bt,Y)}}var mt=n(o,d,C);return mt>-1?Y[rt?o[mt]:mt]:i}}function Wh(n){return Js(function(o){var d=o.length,C=d,Y=cs.prototype.thru;for(n&&o.reverse();C--;){var rt=o[C];if(typeof rt!="function")throw new hs(g);if(Y&&!mt&&eo(rt)=="wrapper")var mt=new cs([],!0)}for(C=mt?C:d;++C<d;){rt=o[C];var bt=eo(rt),It=bt=="wrapper"?al(rt):i;It&&hl(It[0])&&It[1]==(xt|nt|ot|zt)&&!It[4].length&&It[9]==1?mt=mt[eo(It[0])].apply(mt,It[3]):mt=rt.length==1&&hl(rt)?mt[bt]():mt.thru(rt)}return function(){var Xt=arguments,Yt=Xt[0];if(mt&&Xt.length==1&&Ye(Yt))return mt.plant(Yt).value();for(var Ut=0,ue=d?o[Ut].apply(this,Xt):Yt;++Ut<d;)ue=o[Ut].call(this,ue);return ue}})}function Ku(n,o,d,C,Y,rt,mt,bt,It,Xt){var Yt=o&xt,Ut=o&m,ue=o&it,de=o&(nt|Et),Ne=o&Mt,Ke=ue?i:Ja(n);function Re(){for(var oi=arguments.length,gi=Ft(oi),Sn=oi;Sn--;)gi[Sn]=arguments[Sn];if(de)var Tn=ma(Re),vr=aa(gi,Tn);if(C&&(gi=Yh(gi,C,Y,de)),rt&&(gi=Xh(gi,rt,mt,de)),oi-=vr,de&&oi<Xt){var Xi=st(gi,Tn);return Kh(n,o,Ku,Re.placeholder,d,gi,Xi,bt,It,Xt-oi)}var Ss=Ut?d:this,nr=ue?Ss[n]:n;return oi=gi.length,bt?gi=Lm(gi,bt):Ne&&oi>1&&gi.reverse(),Yt&&It<oi&&(gi.length=It),this&&this!==li&&this instanceof Re&&(nr=Ke||Ja(nr)),nr.apply(Ss,gi)}return Re}function Gh(n,o){return function(d,C){return Yd(d,n,o(C),{})}}function Qu(n,o){return function(d,C){var Y;if(d===i&&C===i)return o;if(d!==i&&(Y=d),C!==i){if(Y===i)return C;typeof d=="string"||typeof C=="string"?(d=es(d),C=es(C)):(d=Bh(d),C=Bh(C)),Y=n(d,C)}return Y}}function el(n){return Js(function(o){return o=Ai(o,En(Me())),Ze(function(d){var C=this;return n(o,function(Y){return hn(Y,C,d)})})})}function Ju(n,o){o=o===i?" ":es(o);var d=o.length;if(d<2)return d?Wo(o,n):o;var C=Wo(o,ku(n/qt(o)));return Bs(o)?pr(kt(C),0,n).join(""):C.slice(0,n)}function ym(n,o,d,C){var Y=o&m,rt=Ja(n);function mt(){for(var bt=-1,It=arguments.length,Xt=-1,Yt=C.length,Ut=Ft(Yt+It),ue=this&&this!==li&&this instanceof mt?rt:n;++Xt<Yt;)Ut[Xt]=C[Xt];for(;It--;)Ut[Xt++]=arguments[++bt];return hn(ue,Y?d:this,Ut)}return mt}function $h(n){return function(o,d,C){return C&&typeof C!="number"&&Rn(o,d,C)&&(d=C=i),o=ir(o),d===i?(d=o,o=0):d=ir(d),C=C===i?o<d?1:-1:ir(C),tm(o,d,C,n)}}function to(n){return function(o,d){return typeof o=="string"&&typeof d=="string"||(o=ms(o),d=ms(d)),n(o,d)}}function Kh(n,o,d,C,Y,rt,mt,bt,It,Xt){var Yt=o&nt,Ut=Yt?mt:i,ue=Yt?i:mt,de=Yt?rt:i,Ne=Yt?i:rt;o|=Yt?ot:ct,o&=~(Yt?ct:ot),o&et||(o&=~(m|it));var Ke=[n,o,Y,de,Ut,Ne,ue,bt,It,Xt],Re=d.apply(i,Ke);return hl(n)&&oc(Re,Ke),Re.placeholder=C,lc(Re,n,o)}function il(n){var o=Mi[n];return function(d,C){if(d=ms(d),C=C==null?0:pn(He(C),292),C){var Y=(pi(d)+"e").split("e"),rt=o(Y[0]+"e"+(+Y[1]+C));return Y=(pi(rt)+"e").split("e"),+(Y[0]+"e"+(+Y[1]-C))}return o(d)}}var _m=la&&1/pt(new la([,-0]))[1]==Dt?function(n){return new la(n)}:Dl;function Qh(n){return function(o){var d=gn(o);return d==Fi?Pr(o):d==Xe?At(o):Iu(o,n(o))}}function Qs(n,o,d,C,Y,rt,mt,bt){var It=o&it;if(!It&&typeof n!="function")throw new hs(g);var Xt=C?C.length:0;if(Xt||(o&=~(ot|ct),C=Y=i),mt=mt===i?mt:Ki(He(mt),0),bt=bt===i?bt:He(bt),Xt-=Y?Y.length:0,o&ct){var Yt=C,Ut=Y;C=Y=i}var ue=It?i:al(n),de=[n,o,d,C,Y,Yt,Ut,rt,mt,bt];if(ue&&Fm(de,ue),n=de[0],o=de[1],d=de[2],C=de[3],Y=de[4],bt=de[9]=de[9]===i?It?0:n.length:Ki(de[9]-Xt,0),!bt&&o&(nt|Et)&&(o&=~(nt|Et)),!o||o==m)var Ne=gm(n,o,d);else o==nt||o==Et?Ne=vm(n,o,bt):(o==ot||o==(m|ot))&&!Y.length?Ne=ym(n,o,d,C):Ne=Ku.apply(i,de);var Ke=ue?Nh:oc;return lc(Ke(Ne,de),n,o)}function nl(n,o,d,C){return n===i||ks(n,qa[d])&&!Oi.call(C,d)?o:n}function Jh(n,o,d,C,Y,rt){return Bi(n)&&Bi(o)&&(rt.set(o,n),Zu(n,o,i,Jh,rt),rt.delete(o)),n}function wm(n){return iu(n)?i:n}function tc(n,o,d,C,Y,rt){var mt=d&R,bt=n.length,It=o.length;if(bt!=It&&!(mt&&It>bt))return!1;var Xt=rt.get(n);if(Xt&&rt.get(o))return Xt==o;var Yt=-1,Ut=!0,ue=d&gt?new Br:i;for(rt.set(n,o),rt.set(o,n);++Yt<bt;){var de=n[Yt],Ne=o[Yt];if(C)var Ke=mt?C(Ne,de,Yt,o,n,rt):C(de,Ne,Yt,n,o,rt);if(Ke!==i){if(Ke)continue;Ut=!1;break}if(ue){if(!Fa(o,function(Re,oi){if(!ts(ue,oi)&&(de===Re||Y(de,Re,d,C,rt)))return ue.push(oi)})){Ut=!1;break}}else if(!(de===Ne||Y(de,Ne,d,C,rt))){Ut=!1;break}}return rt.delete(n),rt.delete(o),Ut}function bm(n,o,d,C,Y,rt,mt){switch(d){case u:if(n.byteLength!=o.byteLength||n.byteOffset!=o.byteOffset)return!1;n=n.buffer,o=o.buffer;case s:return!(n.byteLength!=o.byteLength||!rt(new Bu(n),new Bu(o)));case Ei:case ci:case dn:return ks(+n,+o);case Je:return n.name==o.name&&n.message==o.message;case on:case $n:return n==o+"";case Fi:var bt=Pr;case Xe:var It=C&R;if(bt||(bt=pt),n.size!=o.size&&!It)return!1;var Xt=mt.get(n);if(Xt)return Xt==o;C|=gt,mt.set(n,o);var Yt=tc(bt(n),bt(o),C,Y,rt,mt);return mt.delete(n),Yt;case mi:if(Za)return Za.call(n)==Za.call(o)}return!1}function xm(n,o,d,C,Y,rt){var mt=d&R,bt=sl(n),It=bt.length,Xt=sl(o),Yt=Xt.length;if(It!=Yt&&!mt)return!1;for(var Ut=It;Ut--;){var ue=bt[Ut];if(!(mt?ue in o:Oi.call(o,ue)))return!1}var de=rt.get(n);if(de&&rt.get(o))return de==o;var Ne=!0;rt.set(n,o),rt.set(o,n);for(var Ke=mt;++Ut<It;){ue=bt[Ut];var Re=n[ue],oi=o[ue];if(C)var gi=mt?C(oi,Re,ue,o,n,rt):C(Re,oi,ue,n,o,rt);if(!(gi===i?Re===oi||Y(Re,oi,d,C,rt):gi)){Ne=!1;break}Ke||(Ke=ue=="constructor")}if(Ne&&!Ke){var Sn=n.constructor,Tn=o.constructor;Sn!=Tn&&"constructor"in n&&"constructor"in o&&!(typeof Sn=="function"&&Sn instanceof Sn&&typeof Tn=="function"&&Tn instanceof Tn)&&(Ne=!1)}return rt.delete(n),rt.delete(o),Ne}function Js(n){return cl(ac(n,i,pc),n+"")}function sl(n){return xh(n,sn,ol)}function rl(n){return xh(n,ns,ec)}var al=qu?function(n){return qu.get(n)}:Dl;function eo(n){for(var o=n.name+"",d=ja[o],C=Oi.call(ja,o)?d.length:0;C--;){var Y=d[C],rt=Y.func;if(rt==null||rt==n)return Y.name}return o}function ma(n){var o=Oi.call(K,"placeholder")?K:n;return o.placeholder}function Me(){var n=K.iteratee||xl;return n=n===xl?Eh:n,arguments.length?n(arguments[0],arguments[1]):n}function io(n,o){var d=n.__data__;return Mm(o)?d[typeof o=="string"?"string":"hash"]:d.map}function ul(n){for(var o=sn(n),d=o.length;d--;){var C=o[d],Y=n[C];o[d]=[C,Y,sc(Y)]}return o}function Lr(n,o){var d=oa(n,o);return Dh(d)?d:i}function Am(n){var o=Oi.call(n,Nr),d=n[Nr];try{n[Nr]=i;var C=!0}catch{}var Y=uh.call(n);return C&&(o?n[Nr]=d:delete n[Nr]),Y}var ol=Fo?function(n){return n==null?[]:(n=hi(n),As(Fo(n),function(o){return hh.call(n,o)}))}:El,ec=Fo?function(n){for(var o=[];n;)Ns(o,ol(n)),n=Vu(n);return o}:El,gn=Cn;(Bo&&gn(new Bo(new ArrayBuffer(1)))!=u||Xa&&gn(new Xa)!=Fi||Vo&&gn(Vo.resolve())!=Ae||la&&gn(new la)!=Xe||Ha&&gn(new Ha)!=ne)&&(gn=function(n){var o=Cn(n),d=o==$i?n.constructor:i,C=d?Rr(d):"";if(C)switch(C){case id:return u;case nd:return Fi;case sd:return Ae;case rd:return Xe;case ad:return ne}return o});function Dm(n,o,d){for(var C=-1,Y=d.length;++C<Y;){var rt=d[C],mt=rt.size;switch(rt.type){case"drop":n+=mt;break;case"dropRight":o-=mt;break;case"take":o=pn(o,n+mt);break;case"takeRight":n=Ki(n,o-mt);break}}return{start:n,end:o}}function Em(n){var o=n.match(Ot);return o?o[1].split(Vt):[]}function ic(n,o,d){o=mr(o,n);for(var C=-1,Y=o.length,rt=!1;++C<Y;){var mt=Rs(o[C]);if(!(rt=n!=null&&d(n,mt)))break;n=n[mt]}return rt||++C!=Y?rt:(Y=n==null?0:n.length,!!Y&&lo(Y)&&tr(mt,Y)&&(Ye(n)||kr(n)))}function Cm(n){var o=n.length,d=n.constructor(o);return o&&typeof n[0]=="string"&&Oi.call(n,"index")&&(d.index=n.index,d.input=n.input),d}function nc(n){return typeof n.constructor=="function"&&!tu(n)?ha(Vu(n)):{}}function Sm(n,o,d,C){var Y=n.constructor;switch(o){case s:return tl(n);case Ei:case ci:return new Y(+n);case u:return om(n,C);case h:case f:case p:case w:case y:case x:case D:case P:case N:return zh(n,C);case Fi:return lm(n,C,d);case dn:case $n:return new Y(n);case on:return hm(n);case Xe:return cm(n,C,d);case mi:return fm(n)}}function Tm(n,o){var d=o.length;if(!d)return n;var C=d-1;return o[C]=(d>1?"& ":"")+o[C],o=o.join(d>2?", ":" "),n.replace(Tt,`{
/* [wrapped with `+o+`] */
`)}function Im(n){return Ye(n)||kr(n)||!!(ch&&n&&n[ch])}function tr(n,o){return o=o??re,!!o&&(typeof n=="number"||De.test(n))&&n>-1&&n%1==0&&n<o}function Rn(n,o,d){if(!Bi(d))return!1;var C=typeof o;return(C=="number"?kn(d)&&tr(o,d.length):C=="string"&&o in d)?ks(d[o],n):!1}function ll(n,o){if(Ye(n))return!1;var d=typeof n;return d=="number"||d=="symbol"||d=="boolean"||n==null||is(n)?!0:at.test(n)||!Z.test(n)||o!=null&&n in hi(o)}function Mm(n){var o=typeof n;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?n!=="__proto__":n===null}function hl(n){var o=eo(n),d=K[o];if(typeof d!="function"||!(o in ti.prototype))return!1;if(n===d)return!0;var C=al(d);return!!C&&n===C[0]}function Om(n){return!!ah&&ah in n}var Pm=Pu?er:Cl;function tu(n){var o=n&&n.constructor,d=typeof o=="function"&&o.prototype||qa;return n===d}function sc(n){return n===n&&!Bi(n)}function rc(n,o){return function(d){return d==null?!1:d[n]===o&&(o!==i||n in hi(d))}}function Nm(n){var o=uo(n,function(C){return d.size===B&&d.clear(),C}),d=o.cache;return o}function Fm(n,o){var d=n[1],C=o[1],Y=d|C,rt=Y<(m|it|xt),mt=C==xt&&d==nt||C==xt&&d==zt&&n[7].length<=o[8]||C==(xt|zt)&&o[7].length<=o[8]&&d==nt;if(!(rt||mt))return n;C&m&&(n[2]=o[2],Y|=d&m?0:et);var bt=o[3];if(bt){var It=n[3];n[3]=It?Yh(It,bt,o[4]):bt,n[4]=It?st(n[3],j):o[4]}return bt=o[5],bt&&(It=n[5],n[5]=It?Xh(It,bt,o[6]):bt,n[6]=It?st(n[5],j):o[6]),bt=o[7],bt&&(n[7]=bt),C&xt&&(n[8]=n[8]==null?o[8]:pn(n[8],o[8])),n[9]==null&&(n[9]=o[9]),n[0]=o[0],n[1]=Y,n}function Bm(n){var o=[];if(n!=null)for(var d in hi(n))o.push(d);return o}function Vm(n){return uh.call(n)}function ac(n,o,d){return o=Ki(o===i?n.length-1:o,0),function(){for(var C=arguments,Y=-1,rt=Ki(C.length-o,0),mt=Ft(rt);++Y<rt;)mt[Y]=C[o+Y];Y=-1;for(var bt=Ft(o+1);++Y<o;)bt[Y]=C[Y];return bt[o]=d(mt),hn(n,this,bt)}}function uc(n,o){return o.length<2?n:ca(n,fs(o,0,-1))}function Lm(n,o){for(var d=n.length,C=pn(o.length,d),Y=Ln(n);C--;){var rt=o[C];n[C]=tr(rt,d)?Y[rt]:i}return n}var oc=hc(Nh),eu=Wf||function(n,o){return li.setTimeout(n,o)},cl=hc(nm);function lc(n,o,d){var C=o+"";return cl(n,Tm(C,Rm(Em(C),d)))}function hc(n){var o=0,d=0;return function(){var C=Jf(),Y=se-(C-d);if(d=C,Y>0){if(++o>=Rt)return arguments[0]}else o=0;return n.apply(i,arguments)}}function no(n,o){var d=-1,C=n.length,Y=C-1;for(o=o===i?C:o;++d<o;){var rt=Zo(d,Y),mt=n[rt];n[rt]=n[d],n[d]=mt}return n.length=o,n}var cc=Nm(function(n){var o=[];return ut.test(n)&&o.push(""),n.replace(lt,function(d,C,Y,rt){o.push(Y?rt.replace(Kt,"$1"):C||d)}),o});function Rs(n){if(typeof n=="string"||is(n))return n;var o=n+"";return o=="0"&&1/n==-Dt?"-0":o}function Rr(n){if(n!=null){try{return Nu.call(n)}catch{}try{return n+""}catch{}}return""}function Rm(n,o){return mn(Ce,function(d){var C="_."+d[0];o&d[1]&&!Tr(n,C)&&n.push(C)}),n.sort()}function fc(n){if(n instanceof ti)return n.clone();var o=new cs(n.__wrapped__,n.__chain__);return o.__actions__=Ln(n.__actions__),o.__index__=n.__index__,o.__values__=n.__values__,o}function km(n,o,d){(d?Rn(n,o,d):o===i)?o=1:o=Ki(He(o),0);var C=n==null?0:n.length;if(!C||o<1)return[];for(var Y=0,rt=0,mt=Ft(ku(C/o));Y<C;)mt[rt++]=fs(n,Y,Y+=o);return mt}function zm(n){for(var o=-1,d=n==null?0:n.length,C=0,Y=[];++o<d;){var rt=n[o];rt&&(Y[C++]=rt)}return Y}function qm(){var n=arguments.length;if(!n)return[];for(var o=Ft(n-1),d=arguments[0],C=n;C--;)o[C-1]=arguments[C];return Ns(Ye(d)?Ln(d):[d],cn(o,1))}var Ym=Ze(function(n,o){return Yi(n)?Ga(n,cn(o,1,Yi,!0)):[]}),Xm=Ze(function(n,o){var d=ds(o);return Yi(d)&&(d=i),Yi(n)?Ga(n,cn(o,1,Yi,!0),Me(d,2)):[]}),Hm=Ze(function(n,o){var d=ds(o);return Yi(d)&&(d=i),Yi(n)?Ga(n,cn(o,1,Yi,!0),i,d):[]});function Um(n,o,d){var C=n==null?0:n.length;return C?(o=d||o===i?1:He(o),fs(n,o<0?0:o,C)):[]}function jm(n,o,d){var C=n==null?0:n.length;return C?(o=d||o===i?1:He(o),o=C-o,fs(n,0,o<0?0:o)):[]}function Zm(n,o){return n&&n.length?Gu(n,Me(o,3),!0,!0):[]}function Wm(n,o){return n&&n.length?Gu(n,Me(o,3),!0):[]}function Gm(n,o,d,C){var Y=n==null?0:n.length;return Y?(d&&typeof d!="number"&&Rn(n,o,d)&&(d=0,C=Y),Rd(n,o,d,C)):[]}function dc(n,o,d){var C=n==null?0:n.length;if(!C)return-1;var Y=d==null?0:He(d);return Y<0&&(Y=Ki(C+Y,0)),Fs(n,Me(o,3),Y)}function mc(n,o,d){var C=n==null?0:n.length;if(!C)return-1;var Y=C-1;return d!==i&&(Y=He(d),Y=d<0?Ki(C+Y,0):pn(Y,C-1)),Fs(n,Me(o,3),Y,!0)}function pc(n){var o=n==null?0:n.length;return o?cn(n,1):[]}function $m(n){var o=n==null?0:n.length;return o?cn(n,Dt):[]}function Km(n,o){var d=n==null?0:n.length;return d?(o=o===i?1:He(o),cn(n,o)):[]}function Qm(n){for(var o=-1,d=n==null?0:n.length,C={};++o<d;){var Y=n[o];C[Y[0]]=Y[1]}return C}function gc(n){return n&&n.length?n[0]:i}function Jm(n,o,d){var C=n==null?0:n.length;if(!C)return-1;var Y=d==null?0:He(d);return Y<0&&(Y=Ki(C+Y,0)),hr(n,o,Y)}function t2(n){var o=n==null?0:n.length;return o?fs(n,0,-1):[]}var e2=Ze(function(n){var o=Ai(n,Qo);return o.length&&o[0]===n[0]?Yo(o):[]}),i2=Ze(function(n){var o=ds(n),d=Ai(n,Qo);return o===ds(d)?o=i:d.pop(),d.length&&d[0]===n[0]?Yo(d,Me(o,2)):[]}),n2=Ze(function(n){var o=ds(n),d=Ai(n,Qo);return o=typeof o=="function"?o:i,o&&d.pop(),d.length&&d[0]===n[0]?Yo(d,i,o):[]});function s2(n,o){return n==null?"":Kf.call(n,o)}function ds(n){var o=n==null?0:n.length;return o?n[o-1]:i}function r2(n,o,d){var C=n==null?0:n.length;if(!C)return-1;var Y=C;return d!==i&&(Y=He(d),Y=Y<0?Ki(C+Y,0):pn(Y,C-1)),o===o?Nt(n,o,Y):Fs(n,Tu,Y,!0)}function a2(n,o){return n&&n.length?Ih(n,He(o)):i}var u2=Ze(vc);function vc(n,o){return n&&n.length&&o&&o.length?jo(n,o):n}function o2(n,o,d){return n&&n.length&&o&&o.length?jo(n,o,Me(d,2)):n}function l2(n,o,d){return n&&n.length&&o&&o.length?jo(n,o,i,d):n}var h2=Js(function(n,o){var d=n==null?0:n.length,C=Ro(n,o);return Ph(n,Ai(o,function(Y){return tr(Y,d)?+Y:Y}).sort(qh)),C});function c2(n,o){var d=[];if(!(n&&n.length))return d;var C=-1,Y=[],rt=n.length;for(o=Me(o,3);++C<rt;){var mt=n[C];o(mt,C,n)&&(d.push(mt),Y.push(C))}return Ph(n,Y),d}function fl(n){return n==null?n:ed.call(n)}function f2(n,o,d){var C=n==null?0:n.length;return C?(d&&typeof d!="number"&&Rn(n,o,d)?(o=0,d=C):(o=o==null?0:He(o),d=d===i?C:He(d)),fs(n,o,d)):[]}function d2(n,o){return Wu(n,o)}function m2(n,o,d){return Go(n,o,Me(d,2))}function p2(n,o){var d=n==null?0:n.length;if(d){var C=Wu(n,o);if(C<d&&ks(n[C],o))return C}return-1}function g2(n,o){return Wu(n,o,!0)}function v2(n,o,d){return Go(n,o,Me(d,2),!0)}function y2(n,o){var d=n==null?0:n.length;if(d){var C=Wu(n,o,!0)-1;if(ks(n[C],o))return C}return-1}function _2(n){return n&&n.length?Fh(n):[]}function w2(n,o){return n&&n.length?Fh(n,Me(o,2)):[]}function b2(n){var o=n==null?0:n.length;return o?fs(n,1,o):[]}function x2(n,o,d){return n&&n.length?(o=d||o===i?1:He(o),fs(n,0,o<0?0:o)):[]}function A2(n,o,d){var C=n==null?0:n.length;return C?(o=d||o===i?1:He(o),o=C-o,fs(n,o<0?0:o,C)):[]}function D2(n,o){return n&&n.length?Gu(n,Me(o,3),!1,!0):[]}function E2(n,o){return n&&n.length?Gu(n,Me(o,3)):[]}var C2=Ze(function(n){return dr(cn(n,1,Yi,!0))}),S2=Ze(function(n){var o=ds(n);return Yi(o)&&(o=i),dr(cn(n,1,Yi,!0),Me(o,2))}),T2=Ze(function(n){var o=ds(n);return o=typeof o=="function"?o:i,dr(cn(n,1,Yi,!0),i,o)});function I2(n){return n&&n.length?dr(n):[]}function M2(n,o){return n&&n.length?dr(n,Me(o,2)):[]}function O2(n,o){return o=typeof o=="function"?o:i,n&&n.length?dr(n,i,o):[]}function dl(n){if(!(n&&n.length))return[];var o=0;return n=As(n,function(d){if(Yi(d))return o=Ki(d.length,o),!0}),Or(o,function(d){return Ai(n,ls(d))})}function yc(n,o){if(!(n&&n.length))return[];var d=dl(n);return o==null?d:Ai(d,function(C){return hn(o,i,C)})}var P2=Ze(function(n,o){return Yi(n)?Ga(n,o):[]}),N2=Ze(function(n){return Ko(As(n,Yi))}),F2=Ze(function(n){var o=ds(n);return Yi(o)&&(o=i),Ko(As(n,Yi),Me(o,2))}),B2=Ze(function(n){var o=ds(n);return o=typeof o=="function"?o:i,Ko(As(n,Yi),i,o)}),V2=Ze(dl);function L2(n,o){return Rh(n||[],o||[],Wa)}function R2(n,o){return Rh(n||[],o||[],Qa)}var k2=Ze(function(n){var o=n.length,d=o>1?n[o-1]:i;return d=typeof d=="function"?(n.pop(),d):i,yc(n,d)});function _c(n){var o=K(n);return o.__chain__=!0,o}function z2(n,o){return o(n),n}function so(n,o){return o(n)}var q2=Js(function(n){var o=n.length,d=o?n[0]:0,C=this.__wrapped__,Y=function(rt){return Ro(rt,n)};return o>1||this.__actions__.length||!(C instanceof ti)||!tr(d)?this.thru(Y):(C=C.slice(d,+d+(o?1:0)),C.__actions__.push({func:so,args:[Y],thisArg:i}),new cs(C,this.__chain__).thru(function(rt){return o&&!rt.length&&rt.push(i),rt}))});function Y2(){return _c(this)}function X2(){return new cs(this.value(),this.__chain__)}function H2(){this.__values__===i&&(this.__values__=Oc(this.value()));var n=this.__index__>=this.__values__.length,o=n?i:this.__values__[this.__index__++];return{done:n,value:o}}function U2(){return this}function j2(n){for(var o,d=this;d instanceof Xu;){var C=fc(d);C.__index__=0,C.__values__=i,o?Y.__wrapped__=C:o=C;var Y=C;d=d.__wrapped__}return Y.__wrapped__=n,o}function Z2(){var n=this.__wrapped__;if(n instanceof ti){var o=n;return this.__actions__.length&&(o=new ti(this)),o=o.reverse(),o.__actions__.push({func:so,args:[fl],thisArg:i}),new cs(o,this.__chain__)}return this.thru(fl)}function W2(){return Lh(this.__wrapped__,this.__actions__)}var G2=$u(function(n,o,d){Oi.call(n,d)?++n[d]:Ks(n,d,1)});function $2(n,o,d){var C=Ye(n)?Ws:Ld;return d&&Rn(n,o,d)&&(o=i),C(n,Me(o,3))}function K2(n,o){var d=Ye(n)?As:wh;return d(n,Me(o,3))}var Q2=Zh(dc),J2=Zh(mc);function tp(n,o){return cn(ro(n,o),1)}function ep(n,o){return cn(ro(n,o),Dt)}function ip(n,o,d){return d=d===i?1:He(d),cn(ro(n,o),d)}function wc(n,o){var d=Ye(n)?mn:fr;return d(n,Me(o,3))}function bc(n,o){var d=Ye(n)?wi:_h;return d(n,Me(o,3))}var np=$u(function(n,o,d){Oi.call(n,d)?n[d].push(o):Ks(n,d,[o])});function sp(n,o,d,C){n=kn(n)?n:ga(n),d=d&&!C?He(d):0;var Y=n.length;return d<0&&(d=Ki(Y+d,0)),ho(n)?d<=Y&&n.indexOf(o,d)>-1:!!Y&&hr(n,o,d)>-1}var rp=Ze(function(n,o,d){var C=-1,Y=typeof o=="function",rt=kn(n)?Ft(n.length):[];return fr(n,function(mt){rt[++C]=Y?hn(o,mt,d):$a(mt,o,d)}),rt}),ap=$u(function(n,o,d){Ks(n,d,o)});function ro(n,o){var d=Ye(n)?Ai:Ch;return d(n,Me(o,3))}function up(n,o,d,C){return n==null?[]:(Ye(o)||(o=o==null?[]:[o]),d=C?i:d,Ye(d)||(d=d==null?[]:[d]),Mh(n,o,d))}var op=$u(function(n,o,d){n[d?0:1].push(o)},function(){return[[],[]]});function lp(n,o,d){var C=Ye(n)?Mr:sa,Y=arguments.length<3;return C(n,Me(o,4),d,Y,fr)}function hp(n,o,d){var C=Ye(n)?Io:sa,Y=arguments.length<3;return C(n,Me(o,4),d,Y,_h)}function cp(n,o){var d=Ye(n)?As:wh;return d(n,oo(Me(o,3)))}function fp(n){var o=Ye(n)?ph:em;return o(n)}function dp(n,o,d){(d?Rn(n,o,d):o===i)?o=1:o=He(o);var C=Ye(n)?Pd:im;return C(n,o)}function mp(n){var o=Ye(n)?Nd:sm;return o(n)}function pp(n){if(n==null)return 0;if(kn(n))return ho(n)?qt(n):n.length;var o=gn(n);return o==Fi||o==Xe?n.size:Ho(n).length}function gp(n,o,d){var C=Ye(n)?Fa:rm;return d&&Rn(n,o,d)&&(o=i),C(n,Me(o,3))}var vp=Ze(function(n,o){if(n==null)return[];var d=o.length;return d>1&&Rn(n,o[0],o[1])?o=[]:d>2&&Rn(o[0],o[1],o[2])&&(o=[o[0]]),Mh(n,cn(o,1),[])}),ao=Zf||function(){return li.Date.now()};function yp(n,o){if(typeof o!="function")throw new hs(g);return n=He(n),function(){if(--n<1)return o.apply(this,arguments)}}function xc(n,o,d){return o=d?i:o,o=n&&o==null?n.length:o,Qs(n,xt,i,i,i,i,o)}function Ac(n,o){var d;if(typeof o!="function")throw new hs(g);return n=He(n),function(){return--n>0&&(d=o.apply(this,arguments)),n<=1&&(o=i),d}}var ml=Ze(function(n,o,d){var C=m;if(d.length){var Y=st(d,ma(ml));C|=ot}return Qs(n,C,o,d,Y)}),Dc=Ze(function(n,o,d){var C=m|it;if(d.length){var Y=st(d,ma(Dc));C|=ot}return Qs(o,C,n,d,Y)});function Ec(n,o,d){o=d?i:o;var C=Qs(n,nt,i,i,i,i,i,o);return C.placeholder=Ec.placeholder,C}function Cc(n,o,d){o=d?i:o;var C=Qs(n,Et,i,i,i,i,i,o);return C.placeholder=Cc.placeholder,C}function Sc(n,o,d){var C,Y,rt,mt,bt,It,Xt=0,Yt=!1,Ut=!1,ue=!0;if(typeof n!="function")throw new hs(g);o=ms(o)||0,Bi(d)&&(Yt=!!d.leading,Ut="maxWait"in d,rt=Ut?Ki(ms(d.maxWait)||0,o):rt,ue="trailing"in d?!!d.trailing:ue);function de(Xi){var Ss=C,nr=Y;return C=Y=i,Xt=Xi,mt=n.apply(nr,Ss),mt}function Ne(Xi){return Xt=Xi,bt=eu(oi,o),Yt?de(Xi):mt}function Ke(Xi){var Ss=Xi-It,nr=Xi-Xt,Hc=o-Ss;return Ut?pn(Hc,rt-nr):Hc}function Re(Xi){var Ss=Xi-It,nr=Xi-Xt;return It===i||Ss>=o||Ss<0||Ut&&nr>=rt}function oi(){var Xi=ao();if(Re(Xi))return gi(Xi);bt=eu(oi,Ke(Xi))}function gi(Xi){return bt=i,ue&&C?de(Xi):(C=Y=i,mt)}function Sn(){bt!==i&&um(bt),Xt=0,C=It=Y=bt=i}function Tn(){return bt===i?mt:gi(ao())}function vr(){var Xi=ao(),Ss=Re(Xi);if(C=arguments,Y=this,It=Xi,Ss){if(bt===i)return Ne(It);if(Ut)return bt=eu(oi,o),de(It)}return bt===i&&(bt=eu(oi,o)),mt}return vr.cancel=Sn,vr.flush=Tn,vr}var _p=Ze(function(n,o){return yh(n,1,o)}),wp=Ze(function(n,o,d){return yh(n,ms(o)||0,d)});function bp(n){return Qs(n,Mt)}function uo(n,o){if(typeof n!="function"||o!=null&&typeof o!="function")throw new hs(g);var d=function(){var C=arguments,Y=o?o.apply(this,C):C[0],rt=d.cache;if(rt.has(Y))return rt.get(Y);var mt=n.apply(this,C);return d.cache=rt.set(Y,mt)||rt,mt};return d.cache=new(uo.Cache||$s),d}uo.Cache=$s;function oo(n){if(typeof n!="function")throw new hs(g);return function(){var o=arguments;switch(o.length){case 0:return!n.call(this);case 1:return!n.call(this,o[0]);case 2:return!n.call(this,o[0],o[1]);case 3:return!n.call(this,o[0],o[1],o[2])}return!n.apply(this,o)}}function xp(n){return Ac(2,n)}var Ap=am(function(n,o){o=o.length==1&&Ye(o[0])?Ai(o[0],En(Me())):Ai(cn(o,1),En(Me()));var d=o.length;return Ze(function(C){for(var Y=-1,rt=pn(C.length,d);++Y<rt;)C[Y]=o[Y].call(this,C[Y]);return hn(n,this,C)})}),pl=Ze(function(n,o){var d=st(o,ma(pl));return Qs(n,ot,i,o,d)}),Tc=Ze(function(n,o){var d=st(o,ma(Tc));return Qs(n,ct,i,o,d)}),Dp=Js(function(n,o){return Qs(n,zt,i,i,i,o)});function Ep(n,o){if(typeof n!="function")throw new hs(g);return o=o===i?o:He(o),Ze(n,o)}function Cp(n,o){if(typeof n!="function")throw new hs(g);return o=o==null?0:Ki(He(o),0),Ze(function(d){var C=d[o],Y=pr(d,0,o);return C&&Ns(Y,C),hn(n,this,Y)})}function Sp(n,o,d){var C=!0,Y=!0;if(typeof n!="function")throw new hs(g);return Bi(d)&&(C="leading"in d?!!d.leading:C,Y="trailing"in d?!!d.trailing:Y),Sc(n,o,{leading:C,maxWait:o,trailing:Y})}function Tp(n){return xc(n,1)}function Ip(n,o){return pl(Jo(o),n)}function Mp(){if(!arguments.length)return[];var n=arguments[0];return Ye(n)?n:[n]}function Op(n){return Cs(n,J)}function Pp(n,o){return o=typeof o=="function"?o:i,Cs(n,J,o)}function Np(n){return Cs(n,W|J)}function Fp(n,o){return o=typeof o=="function"?o:i,Cs(n,W|J,o)}function Bp(n,o){return o==null||vh(n,o,sn(o))}function ks(n,o){return n===o||n!==n&&o!==o}var Vp=to(qo),Lp=to(function(n,o){return n>=o}),kr=Ah(function(){return arguments}())?Ah:function(n){return Li(n)&&Oi.call(n,"callee")&&!hh.call(n,"callee")},Ye=Ft.isArray,Rp=lr?En(lr):Xd;function kn(n){return n!=null&&lo(n.length)&&!er(n)}function Yi(n){return Li(n)&&kn(n)}function kp(n){return n===!0||n===!1||Li(n)&&Cn(n)==Ei}var gr=Gf||Cl,zp=ln?En(ln):Hd;function qp(n){return Li(n)&&n.nodeType===1&&!iu(n)}function Yp(n){if(n==null)return!0;if(kn(n)&&(Ye(n)||typeof n=="string"||typeof n.splice=="function"||gr(n)||pa(n)||kr(n)))return!n.length;var o=gn(n);if(o==Fi||o==Xe)return!n.size;if(tu(n))return!Ho(n).length;for(var d in n)if(Oi.call(n,d))return!1;return!0}function Xp(n,o){return Ka(n,o)}function Hp(n,o,d){d=typeof d=="function"?d:i;var C=d?d(n,o):i;return C===i?Ka(n,o,i,d):!!C}function gl(n){if(!Li(n))return!1;var o=Cn(n);return o==Je||o==Ge||typeof n.message=="string"&&typeof n.name=="string"&&!iu(n)}function Up(n){return typeof n=="number"&&$f(n)}function er(n){if(!Bi(n))return!1;var o=Cn(n);return o==Te||o==Gi||o==xi||o==Pi}function Ic(n){return typeof n=="number"&&n==He(n)}function lo(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=re}function Bi(n){var o=typeof n;return n!=null&&(o=="object"||o=="function")}function Li(n){return n!=null&&typeof n=="object"}var jp=js?En(js):jd;function Zp(n,o){return n===o||Xo(n,o,ul(o))}function Wp(n,o,d){return d=typeof d=="function"?d:i,Xo(n,o,ul(o),d)}function Gp(n){return Mc(n)&&n!=+n}function $p(n){if(Pm(n))throw new be(r);return Dh(n)}function Kp(n){return n===null}function Qp(n){return n==null}function Mc(n){return typeof n=="number"||Li(n)&&Cn(n)==dn}function iu(n){if(!Li(n)||Cn(n)!=$i)return!1;var o=Vu(n);if(o===null)return!0;var d=Oi.call(o,"constructor")&&o.constructor;return typeof d=="function"&&d instanceof d&&Nu.call(d)==Xf}var vl=Os?En(Os):Zd;function Jp(n){return Ic(n)&&n>=-re&&n<=re}var tg=nn?En(nn):Wd;function ho(n){return typeof n=="string"||!Ye(n)&&Li(n)&&Cn(n)==$n}function is(n){return typeof n=="symbol"||Li(n)&&Cn(n)==mi}var pa=xs?En(xs):Gd;function eg(n){return n===i}function ig(n){return Li(n)&&gn(n)==ne}function ng(n){return Li(n)&&Cn(n)==e}var sg=to(Uo),rg=to(function(n,o){return n<=o});function Oc(n){if(!n)return[];if(kn(n))return ho(n)?kt(n):Ln(n);if(Ya&&n[Ya])return Po(n[Ya]());var o=gn(n),d=o==Fi?Pr:o==Xe?pt:ga;return d(n)}function ir(n){if(!n)return n===0?n:0;if(n=ms(n),n===Dt||n===-Dt){var o=n<0?-1:1;return o*ve}return n===n?n:0}function He(n){var o=ir(n),d=o%1;return o===o?d?o-d:o:0}function Pc(n){return n?Vr(He(n),0,ee):0}function ms(n){if(typeof n=="number")return n;if(is(n))return $t;if(Bi(n)){var o=typeof n.valueOf=="function"?n.valueOf():n;n=Bi(o)?o+"":o}if(typeof n!="string")return n===0?n:+n;n=n.replace(dt,"");var d=me.test(n);return d||Fe.test(n)?Ci(n.slice(2),d?2:8):ye.test(n)?$t:+n}function Nc(n){return Ls(n,ns(n))}function ag(n){return n?Vr(He(n),-re,re):n===0?n:0}function pi(n){return n==null?"":es(n)}var ug=fa(function(n,o){if(tu(o)||kn(o)){Ls(o,sn(o),n);return}for(var d in o)Oi.call(o,d)&&Wa(n,d,o[d])}),Fc=fa(function(n,o){Ls(o,ns(o),n)}),nu=fa(function(n,o,d,C){Ls(o,ns(o),n,C)}),og=fa(function(n,o,d,C){Ls(o,sn(o),n,C)}),lg=Js(Ro);function hg(n,o){var d=ha(n);return o==null?d:gh(d,o)}var cg=Ze(function(n){return n.push(i,nl),hn(nu,i,n)}),fg=Ze(function(n){return n.push(i,Jh),hn(Bc,i,n)});function dg(n,o){return Su(n,Me(o,3),Vs)}function mg(n,o){return Su(n,Me(o,3),zo)}function pg(n,o){return n==null?n:ko(n,Me(o,3),ns)}function gg(n,o){return n==null?n:bh(n,Me(o,3),ns)}function vg(n,o){return n&&Vs(n,Me(o,3))}function yg(n,o){return n&&zo(n,Me(o,3))}function _g(n){return n==null?[]:ju(n,sn(n))}function wg(n){return n==null?[]:ju(n,ns(n))}function yl(n,o,d){var C=n==null?i:ca(n,o);return C===i?d:C}function bg(n,o){return n!=null&&ic(n,o,kd)}function _l(n,o){return n!=null&&ic(n,o,zd)}var xg=Gh(function(n,o,d){n[o]=d},bl(zn)),Ag=Gh(function(n,o,d){Oi.call(n,o)?n[o].push(d):n[o]=[d]},Me),Dg=Ze($a);function sn(n){return kn(n)?mh(n):Ho(n)}function ns(n){return kn(n)?mh(n,!0):$d(n)}function Eg(n,o){var d={};return o=Me(o,3),Vs(n,function(C,Y,rt){Ks(d,o(C,Y,rt),C)}),d}function Cg(n,o){var d={};return o=Me(o,3),Vs(n,function(C,Y,rt){Ks(d,Y,o(C,Y,rt))}),d}var Sg=fa(function(n,o,d){Zu(n,o,d)}),Bc=fa(function(n,o,d,C){Zu(n,o,d,C)}),Tg=Js(function(n,o){var d={};if(n==null)return d;var C=!1;o=Ai(o,function(rt){return rt=mr(rt,n),C||(C=rt.length>1),rt}),Ls(n,rl(n),d),C&&(d=Cs(d,W|G|J,wm));for(var Y=o.length;Y--;)$o(d,o[Y]);return d});function Ig(n,o){return Vc(n,oo(Me(o)))}var Mg=Js(function(n,o){return n==null?{}:Qd(n,o)});function Vc(n,o){if(n==null)return{};var d=Ai(rl(n),function(C){return[C]});return o=Me(o),Oh(n,d,function(C,Y){return o(C,Y[0])})}function Og(n,o,d){o=mr(o,n);var C=-1,Y=o.length;for(Y||(Y=1,n=i);++C<Y;){var rt=n==null?i:n[Rs(o[C])];rt===i&&(C=Y,rt=d),n=er(rt)?rt.call(n):rt}return n}function Pg(n,o,d){return n==null?n:Qa(n,o,d)}function Ng(n,o,d,C){return C=typeof C=="function"?C:i,n==null?n:Qa(n,o,d,C)}var Lc=Qh(sn),Rc=Qh(ns);function Fg(n,o,d){var C=Ye(n),Y=C||gr(n)||pa(n);if(o=Me(o,4),d==null){var rt=n&&n.constructor;Y?d=C?new rt:[]:Bi(n)?d=er(rt)?ha(Vu(n)):{}:d={}}return(Y?mn:Vs)(n,function(mt,bt,It){return o(d,mt,bt,It)}),d}function Bg(n,o){return n==null?!0:$o(n,o)}function Vg(n,o,d){return n==null?n:Vh(n,o,Jo(d))}function Lg(n,o,d,C){return C=typeof C=="function"?C:i,n==null?n:Vh(n,o,Jo(d),C)}function ga(n){return n==null?[]:Va(n,sn(n))}function Rg(n){return n==null?[]:Va(n,ns(n))}function kg(n,o,d){return d===i&&(d=o,o=i),d!==i&&(d=ms(d),d=d===d?d:0),o!==i&&(o=ms(o),o=o===o?o:0),Vr(ms(n),o,d)}function zg(n,o,d){return o=ir(o),d===i?(d=o,o=0):d=ir(d),n=ms(n),qd(n,o,d)}function qg(n,o,d){if(d&&typeof d!="boolean"&&Rn(n,o,d)&&(o=d=i),d===i&&(typeof o=="boolean"?(d=o,o=i):typeof n=="boolean"&&(d=n,n=i)),n===i&&o===i?(n=0,o=1):(n=ir(n),o===i?(o=n,n=0):o=ir(o)),n>o){var C=n;n=o,o=C}if(d||n%1||o%1){var Y=fh();return pn(n+Y*(o-n+We("1e-"+((Y+"").length-1))),o)}return Zo(n,o)}var Yg=da(function(n,o,d){return o=o.toLowerCase(),n+(d?kc(o):o)});function kc(n){return wl(pi(n).toLowerCase())}function zc(n){return n=pi(n),n&&n.replace(ei,ua).replace(b,"")}function Xg(n,o,d){n=pi(n),o=es(o);var C=n.length;d=d===i?C:Vr(He(d),0,C);var Y=d;return d-=o.length,d>=0&&n.slice(d,Y)==o}function Hg(n){return n=pi(n),n&&X.test(n)?n.replace($,Ra):n}function Ug(n){return n=pi(n),n&&vt.test(n)?n.replace(ht,"\\$&"):n}var jg=da(function(n,o,d){return n+(d?"-":"")+o.toLowerCase()}),Zg=da(function(n,o,d){return n+(d?" ":"")+o.toLowerCase()}),Wg=jh("toLowerCase");function Gg(n,o,d){n=pi(n),o=He(o);var C=o?qt(n):0;if(!o||C>=o)return n;var Y=(o-C)/2;return Ju(zu(Y),d)+n+Ju(ku(Y),d)}function $g(n,o,d){n=pi(n),o=He(o);var C=o?qt(n):0;return o&&C<o?n+Ju(o-C,d):n}function Kg(n,o,d){n=pi(n),o=He(o);var C=o?qt(n):0;return o&&C<o?Ju(o-C,d)+n:n}function Qg(n,o,d){return d||o==null?o=0:o&&(o=+o),td(pi(n).replace(_t,""),o||0)}function Jg(n,o,d){return(d?Rn(n,o,d):o===i)?o=1:o=He(o),Wo(pi(n),o)}function t0(){var n=arguments,o=pi(n[0]);return n.length<3?o:o.replace(n[1],n[2])}var e0=da(function(n,o,d){return n+(d?"_":"")+o.toLowerCase()});function i0(n,o,d){return d&&typeof d!="number"&&Rn(n,o,d)&&(o=d=i),d=d===i?ee:d>>>0,d?(n=pi(n),n&&(typeof o=="string"||o!=null&&!vl(o))&&(o=es(o),!o&&Bs(n))?pr(kt(n),0,d):n.split(o,d)):[]}var n0=da(function(n,o,d){return n+(d?" ":"")+wl(o)});function s0(n,o,d){return n=pi(n),d=d==null?0:Vr(He(d),0,n.length),o=es(o),n.slice(d,d+o.length)==o}function r0(n,o,d){var C=K.templateSettings;d&&Rn(n,o,d)&&(o=i),n=pi(n),o=nu({},o,C,nl);var Y=nu({},o.imports,C.imports,nl),rt=sn(Y),mt=Va(Y,rt),bt,It,Xt=0,Yt=o.interpolate||ze,Ut="__p += '",ue=No((o.escape||ze).source+"|"+Yt.source+"|"+(Yt===H?Jt:ze).source+"|"+(o.evaluate||ze).source+"|$","g"),de="//# sourceURL="+("sourceURL"in o?o.sourceURL:"lodash.templateSources["+ ++St+"]")+`
`;n.replace(ue,function(Re,oi,gi,Sn,Tn,vr){return gi||(gi=Sn),Ut+=n.slice(Xt,vr).replace(je,ka),oi&&(bt=!0,Ut+=`' +
__e(`+oi+`) +
'`),Tn&&(It=!0,Ut+=`';
`+Tn+`;
__p += '`),gi&&(Ut+=`' +
((__t = (`+gi+`)) == null ? '' : __t) +
'`),Xt=vr+Re.length,Re}),Ut+=`';
`;var Ne=o.variable;Ne||(Ut=`with (obj) {
`+Ut+`
}
`),Ut=(It?Ut.replace(O,""):Ut).replace(I,"$1").replace(z,"$1;"),Ut="function("+(Ne||"obj")+`) {
`+(Ne?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(bt?", __e = _.escape":"")+(It?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ut+`return __p
}`;var Ke=Yc(function(){return xe(rt,de+"return "+Ut).apply(i,mt)});if(Ke.source=Ut,gl(Ke))throw Ke;return Ke}function a0(n){return pi(n).toLowerCase()}function u0(n){return pi(n).toUpperCase()}function o0(n,o,d){if(n=pi(n),n&&(d||o===i))return n.replace(dt,"");if(!n||!(o=es(o)))return n;var C=kt(n),Y=kt(o),rt=ra(C,Y),mt=La(C,Y)+1;return pr(C,rt,mt).join("")}function l0(n,o,d){if(n=pi(n),n&&(d||o===i))return n.replace(wt,"");if(!n||!(o=es(o)))return n;var C=kt(n),Y=La(C,kt(o))+1;return pr(C,0,Y).join("")}function h0(n,o,d){if(n=pi(n),n&&(d||o===i))return n.replace(_t,"");if(!n||!(o=es(o)))return n;var C=kt(n),Y=ra(C,kt(o));return pr(C,Y).join("")}function c0(n,o){var d=T,C=F;if(Bi(o)){var Y="separator"in o?o.separator:Y;d="length"in o?He(o.length):d,C="omission"in o?es(o.omission):C}n=pi(n);var rt=n.length;if(Bs(n)){var mt=kt(n);rt=mt.length}if(d>=rt)return n;var bt=d-qt(C);if(bt<1)return C;var It=mt?pr(mt,0,bt).join(""):n.slice(0,bt);if(Y===i)return It+C;if(mt&&(bt+=It.length-bt),vl(Y)){if(n.slice(bt).search(Y)){var Xt,Yt=It;for(Y.global||(Y=No(Y.source,pi(_e.exec(Y))+"g")),Y.lastIndex=0;Xt=Y.exec(Yt);)var Ut=Xt.index;It=It.slice(0,Ut===i?bt:Ut)}}else if(n.indexOf(es(Y),bt)!=bt){var ue=It.lastIndexOf(Y);ue>-1&&(It=It.slice(0,ue))}return It+C}function f0(n){return n=pi(n),n&&k.test(n)?n.replace(U,ie):n}var d0=da(function(n,o,d){return n+(d?" ":"")+o.toUpperCase()}),wl=jh("toUpperCase");function qc(n,o,d){return n=pi(n),o=d?i:o,o===i?za(n)?Ve(n):Oo(n):n.match(o)||[]}var Yc=Ze(function(n,o){try{return hn(n,i,o)}catch(d){return gl(d)?d:new be(d)}}),m0=Js(function(n,o){return mn(o,function(d){d=Rs(d),Ks(n,d,ml(n[d],n))}),n});function p0(n){var o=n==null?0:n.length,d=Me();return n=o?Ai(n,function(C){if(typeof C[1]!="function")throw new hs(g);return[d(C[0]),C[1]]}):[],Ze(function(C){for(var Y=-1;++Y<o;){var rt=n[Y];if(hn(rt[0],this,C))return hn(rt[1],this,C)}})}function g0(n){return Vd(Cs(n,W))}function bl(n){return function(){return n}}function v0(n,o){return n==null||n!==n?o:n}var y0=Wh(),_0=Wh(!0);function zn(n){return n}function xl(n){return Eh(typeof n=="function"?n:Cs(n,W))}function w0(n){return Sh(Cs(n,W))}function b0(n,o){return Th(n,Cs(o,W))}var x0=Ze(function(n,o){return function(d){return $a(d,n,o)}}),A0=Ze(function(n,o){return function(d){return $a(n,d,o)}});function Al(n,o,d){var C=sn(o),Y=ju(o,C);d==null&&!(Bi(o)&&(Y.length||!C.length))&&(d=o,o=n,n=this,Y=ju(o,sn(o)));var rt=!(Bi(d)&&"chain"in d)||!!d.chain,mt=er(n);return mn(Y,function(bt){var It=o[bt];n[bt]=It,mt&&(n.prototype[bt]=function(){var Xt=this.__chain__;if(rt||Xt){var Yt=n(this.__wrapped__),Ut=Yt.__actions__=Ln(this.__actions__);return Ut.push({func:It,args:arguments,thisArg:n}),Yt.__chain__=Xt,Yt}return It.apply(n,Ns([this.value()],arguments))})}),n}function D0(){return li._===this&&(li._=Hf),this}function Dl(){}function E0(n){return n=He(n),Ze(function(o){return Ih(o,n)})}var C0=el(Ai),S0=el(Ws),T0=el(Fa);function Xc(n){return ll(n)?ls(Rs(n)):Jd(n)}function I0(n){return function(o){return n==null?i:ca(n,o)}}var M0=$h(),O0=$h(!0);function El(){return[]}function Cl(){return!1}function P0(){return{}}function N0(){return""}function F0(){return!0}function B0(n,o){if(n=He(n),n<1||n>re)return[];var d=ee,C=pn(n,ee);o=Me(o),n-=ee;for(var Y=Or(C,o);++d<n;)o(d);return Y}function V0(n){return Ye(n)?Ai(n,Rs):is(n)?[n]:Ln(cc(pi(n)))}function L0(n){var o=++Yf;return pi(n)+o}var R0=Qu(function(n,o){return n+o},0),k0=il("ceil"),z0=Qu(function(n,o){return n/o},1),q0=il("floor");function Y0(n){return n&&n.length?Uu(n,zn,qo):i}function X0(n,o){return n&&n.length?Uu(n,Me(o,2),qo):i}function H0(n){return Ds(n,zn)}function U0(n,o){return Ds(n,Me(o,2))}function j0(n){return n&&n.length?Uu(n,zn,Uo):i}function Z0(n,o){return n&&n.length?Uu(n,Me(o,2),Uo):i}var W0=Qu(function(n,o){return n*o},1),G0=il("round"),$0=Qu(function(n,o){return n-o},0);function K0(n){return n&&n.length?Dn(n,zn):0}function Q0(n,o){return n&&n.length?Dn(n,Me(o,2)):0}return K.after=yp,K.ary=xc,K.assign=ug,K.assignIn=Fc,K.assignInWith=nu,K.assignWith=og,K.at=lg,K.before=Ac,K.bind=ml,K.bindAll=m0,K.bindKey=Dc,K.castArray=Mp,K.chain=_c,K.chunk=km,K.compact=zm,K.concat=qm,K.cond=p0,K.conforms=g0,K.constant=bl,K.countBy=G2,K.create=hg,K.curry=Ec,K.curryRight=Cc,K.debounce=Sc,K.defaults=cg,K.defaultsDeep=fg,K.defer=_p,K.delay=wp,K.difference=Ym,K.differenceBy=Xm,K.differenceWith=Hm,K.drop=Um,K.dropRight=jm,K.dropRightWhile=Zm,K.dropWhile=Wm,K.fill=Gm,K.filter=K2,K.flatMap=tp,K.flatMapDeep=ep,K.flatMapDepth=ip,K.flatten=pc,K.flattenDeep=$m,K.flattenDepth=Km,K.flip=bp,K.flow=y0,K.flowRight=_0,K.fromPairs=Qm,K.functions=_g,K.functionsIn=wg,K.groupBy=np,K.initial=t2,K.intersection=e2,K.intersectionBy=i2,K.intersectionWith=n2,K.invert=xg,K.invertBy=Ag,K.invokeMap=rp,K.iteratee=xl,K.keyBy=ap,K.keys=sn,K.keysIn=ns,K.map=ro,K.mapKeys=Eg,K.mapValues=Cg,K.matches=w0,K.matchesProperty=b0,K.memoize=uo,K.merge=Sg,K.mergeWith=Bc,K.method=x0,K.methodOf=A0,K.mixin=Al,K.negate=oo,K.nthArg=E0,K.omit=Tg,K.omitBy=Ig,K.once=xp,K.orderBy=up,K.over=C0,K.overArgs=Ap,K.overEvery=S0,K.overSome=T0,K.partial=pl,K.partialRight=Tc,K.partition=op,K.pick=Mg,K.pickBy=Vc,K.property=Xc,K.propertyOf=I0,K.pull=u2,K.pullAll=vc,K.pullAllBy=o2,K.pullAllWith=l2,K.pullAt=h2,K.range=M0,K.rangeRight=O0,K.rearg=Dp,K.reject=cp,K.remove=c2,K.rest=Ep,K.reverse=fl,K.sampleSize=dp,K.set=Pg,K.setWith=Ng,K.shuffle=mp,K.slice=f2,K.sortBy=vp,K.sortedUniq=_2,K.sortedUniqBy=w2,K.split=i0,K.spread=Cp,K.tail=b2,K.take=x2,K.takeRight=A2,K.takeRightWhile=D2,K.takeWhile=E2,K.tap=z2,K.throttle=Sp,K.thru=so,K.toArray=Oc,K.toPairs=Lc,K.toPairsIn=Rc,K.toPath=V0,K.toPlainObject=Nc,K.transform=Fg,K.unary=Tp,K.union=C2,K.unionBy=S2,K.unionWith=T2,K.uniq=I2,K.uniqBy=M2,K.uniqWith=O2,K.unset=Bg,K.unzip=dl,K.unzipWith=yc,K.update=Vg,K.updateWith=Lg,K.values=ga,K.valuesIn=Rg,K.without=P2,K.words=qc,K.wrap=Ip,K.xor=N2,K.xorBy=F2,K.xorWith=B2,K.zip=V2,K.zipObject=L2,K.zipObjectDeep=R2,K.zipWith=k2,K.entries=Lc,K.entriesIn=Rc,K.extend=Fc,K.extendWith=nu,Al(K,K),K.add=R0,K.attempt=Yc,K.camelCase=Yg,K.capitalize=kc,K.ceil=k0,K.clamp=kg,K.clone=Op,K.cloneDeep=Np,K.cloneDeepWith=Fp,K.cloneWith=Pp,K.conformsTo=Bp,K.deburr=zc,K.defaultTo=v0,K.divide=z0,K.endsWith=Xg,K.eq=ks,K.escape=Hg,K.escapeRegExp=Ug,K.every=$2,K.find=Q2,K.findIndex=dc,K.findKey=dg,K.findLast=J2,K.findLastIndex=mc,K.findLastKey=mg,K.floor=q0,K.forEach=wc,K.forEachRight=bc,K.forIn=pg,K.forInRight=gg,K.forOwn=vg,K.forOwnRight=yg,K.get=yl,K.gt=Vp,K.gte=Lp,K.has=bg,K.hasIn=_l,K.head=gc,K.identity=zn,K.includes=sp,K.indexOf=Jm,K.inRange=zg,K.invoke=Dg,K.isArguments=kr,K.isArray=Ye,K.isArrayBuffer=Rp,K.isArrayLike=kn,K.isArrayLikeObject=Yi,K.isBoolean=kp,K.isBuffer=gr,K.isDate=zp,K.isElement=qp,K.isEmpty=Yp,K.isEqual=Xp,K.isEqualWith=Hp,K.isError=gl,K.isFinite=Up,K.isFunction=er,K.isInteger=Ic,K.isLength=lo,K.isMap=jp,K.isMatch=Zp,K.isMatchWith=Wp,K.isNaN=Gp,K.isNative=$p,K.isNil=Qp,K.isNull=Kp,K.isNumber=Mc,K.isObject=Bi,K.isObjectLike=Li,K.isPlainObject=iu,K.isRegExp=vl,K.isSafeInteger=Jp,K.isSet=tg,K.isString=ho,K.isSymbol=is,K.isTypedArray=pa,K.isUndefined=eg,K.isWeakMap=ig,K.isWeakSet=ng,K.join=s2,K.kebabCase=jg,K.last=ds,K.lastIndexOf=r2,K.lowerCase=Zg,K.lowerFirst=Wg,K.lt=sg,K.lte=rg,K.max=Y0,K.maxBy=X0,K.mean=H0,K.meanBy=U0,K.min=j0,K.minBy=Z0,K.stubArray=El,K.stubFalse=Cl,K.stubObject=P0,K.stubString=N0,K.stubTrue=F0,K.multiply=W0,K.nth=a2,K.noConflict=D0,K.noop=Dl,K.now=ao,K.pad=Gg,K.padEnd=$g,K.padStart=Kg,K.parseInt=Qg,K.random=qg,K.reduce=lp,K.reduceRight=hp,K.repeat=Jg,K.replace=t0,K.result=Og,K.round=G0,K.runInContext=yt,K.sample=fp,K.size=pp,K.snakeCase=e0,K.some=gp,K.sortedIndex=d2,K.sortedIndexBy=m2,K.sortedIndexOf=p2,K.sortedLastIndex=g2,K.sortedLastIndexBy=v2,K.sortedLastIndexOf=y2,K.startCase=n0,K.startsWith=s0,K.subtract=$0,K.sum=K0,K.sumBy=Q0,K.template=r0,K.times=B0,K.toFinite=ir,K.toInteger=He,K.toLength=Pc,K.toLower=a0,K.toNumber=ms,K.toSafeInteger=ag,K.toString=pi,K.toUpper=u0,K.trim=o0,K.trimEnd=l0,K.trimStart=h0,K.truncate=c0,K.unescape=f0,K.uniqueId=L0,K.upperCase=d0,K.upperFirst=wl,K.each=wc,K.eachRight=bc,K.first=gc,Al(K,function(){var n={};return Vs(K,function(o,d){Oi.call(K.prototype,d)||(n[d]=o)}),n}(),{chain:!1}),K.VERSION=a,mn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){K[n].placeholder=K}),mn(["drop","take"],function(n,o){ti.prototype[n]=function(d){d=d===i?1:Ki(He(d),0);var C=this.__filtered__&&!o?new ti(this):this.clone();return C.__filtered__?C.__takeCount__=pn(d,C.__takeCount__):C.__views__.push({size:pn(d,ee),type:n+(C.__dir__<0?"Right":"")}),C},ti.prototype[n+"Right"]=function(d){return this.reverse()[n](d).reverse()}}),mn(["filter","map","takeWhile"],function(n,o){var d=o+1,C=d==tt||d==Ee;ti.prototype[n]=function(Y){var rt=this.clone();return rt.__iteratees__.push({iteratee:Me(Y,3),type:d}),rt.__filtered__=rt.__filtered__||C,rt}}),mn(["head","last"],function(n,o){var d="take"+(o?"Right":"");ti.prototype[n]=function(){return this[d](1).value()[0]}}),mn(["initial","tail"],function(n,o){var d="drop"+(o?"":"Right");ti.prototype[n]=function(){return this.__filtered__?new ti(this):this[d](1)}}),ti.prototype.compact=function(){return this.filter(zn)},ti.prototype.find=function(n){return this.filter(n).head()},ti.prototype.findLast=function(n){return this.reverse().find(n)},ti.prototype.invokeMap=Ze(function(n,o){return typeof n=="function"?new ti(this):this.map(function(d){return $a(d,n,o)})}),ti.prototype.reject=function(n){return this.filter(oo(Me(n)))},ti.prototype.slice=function(n,o){n=He(n);var d=this;return d.__filtered__&&(n>0||o<0)?new ti(d):(n<0?d=d.takeRight(-n):n&&(d=d.drop(n)),o!==i&&(o=He(o),d=o<0?d.dropRight(-o):d.take(o-n)),d)},ti.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},ti.prototype.toArray=function(){return this.take(ee)},Vs(ti.prototype,function(n,o){var d=/^(?:filter|find|map|reject)|While$/.test(o),C=/^(?:head|last)$/.test(o),Y=K[C?"take"+(o=="last"?"Right":""):o],rt=C||/^find/.test(o);Y&&(K.prototype[o]=function(){var mt=this.__wrapped__,bt=C?[1]:arguments,It=mt instanceof ti,Xt=bt[0],Yt=It||Ye(mt),Ut=function(oi){var gi=Y.apply(K,Ns([oi],bt));return C&&ue?gi[0]:gi};Yt&&d&&typeof Xt=="function"&&Xt.length!=1&&(It=Yt=!1);var ue=this.__chain__,de=!!this.__actions__.length,Ne=rt&&!ue,Ke=It&&!de;if(!rt&&Yt){mt=Ke?mt:new ti(this);var Re=n.apply(mt,bt);return Re.__actions__.push({func:so,args:[Ut],thisArg:i}),new cs(Re,ue)}return Ne&&Ke?n.apply(this,bt):(Re=this.thru(Ut),Ne?C?Re.value()[0]:Re.value():Re)})}),mn(["pop","push","shift","sort","splice","unshift"],function(n){var o=Ou[n],d=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",C=/^(?:pop|shift)$/.test(n);K.prototype[n]=function(){var Y=arguments;if(C&&!this.__chain__){var rt=this.value();return o.apply(Ye(rt)?rt:[],Y)}return this[d](function(mt){return o.apply(Ye(mt)?mt:[],Y)})}}),Vs(ti.prototype,function(n,o){var d=K[o];if(d){var C=d.name+"",Y=ja[C]||(ja[C]=[]);Y.push({name:o,func:d})}}),ja[Ku(i,it).name]=[{name:"wrapper",func:i}],ti.prototype.clone=ud,ti.prototype.reverse=od,ti.prototype.value=ld,K.prototype.at=q2,K.prototype.chain=Y2,K.prototype.commit=X2,K.prototype.next=H2,K.prototype.plant=j2,K.prototype.reverse=Z2,K.prototype.toJSON=K.prototype.valueOf=K.prototype.value=W2,K.prototype.first=K.prototype.head,Ya&&(K.prototype[Ya]=U2),K},ui=Ie();bs?((bs.exports=ui)._=ui,Oe._=ui):li._=ui,li._=ui}).call(window)})(wo,wo.exports);wo.exports;(function(){window.phetio=window.phetio||{};const A=".",t="_",i="-",a="general",l="global",r="homeScreen",g="model",S="view",B="colors",j="strings",W="controller",G="Screen",J="archetype",R="Capsule";window.phetio.PhetioIDUtils={append:function(gt,...m){return m.forEach(it=>{if(assert&&assert(it.indexOf(A)===-1,`separator appears in componentName: ${it}`),it==="")return;gt+=(gt===""?"":A)+it}),gt},getComponentName:function(gt){assert&&assert(gt.length>0);const m=gt.lastIndexOf(A);return m===-1?gt:gt.substring(m+1,gt.length)},getParentID:function(gt){const m=gt.lastIndexOf(A);return m===-1?null:gt.substring(0,m)},getDOMElementID:function(gt){return`phetioID:${gt}`},getScreenID:function(gt){const m=[],it=gt.split(A);for(let et=0;et<it.length;et++){const nt=it[et];m.push(nt);const Et=nt.indexOf(G);if(Et>0&&Et+G.length===nt.length)return m.join(A)}return null},getGroupElementIndex:function(gt){return assert&&assert(gt.indexOf(window.phetio.PhetioIDUtils.GROUP_SEPARATOR)>=0,"component name for phetioID should have group element syntax"),Number(gt.split(window.phetio.PhetioIDUtils.GROUP_SEPARATOR)[1])},isAncestor:function(gt,m){const it=gt.split(A),et=m.split(A);for(let nt=0;nt<it.length;nt++)if(it[nt]!==et[nt])return!1;return m!==gt},getArchetypalPhetioID:function(gt){const m=gt.split(A);for(let it=0;it<m.length;it++){const et=m[it];if(et.endsWith(R)&&it<m.length-1)m[it+1]=J,it++;else{const nt=et.split(i).map(Et=>Et.includes(t)?J:Et);m[it]=nt.join(i)}}return m.join(A)},SEPARATOR:A,GROUP_SEPARATOR:t,INTER_TERM_SEPARATOR:i,GENERAL_COMPONENT_NAME:a,GLOBAL_COMPONENT_NAME:l,HOME_SCREEN_COMPONENT_NAME:r,MODEL_COMPONENT_NAME:g,VIEW_COMPONENT_NAME:S,CONTROLLER_COMPONENT_NAME:W,COLORS_COMPONENT_NAME:B,STRINGS_COMPONENT_NAME:j,ARCHETYPE:J,CAPSULE_SUFFIX:R}})();window.LineBreaker=(()=>{const A=(()=>{var $t=0,ee=-3;function pe(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function oe(Gt,ne){this.source=Gt,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=ne,this.destLen=0,this.ltree=new pe,this.dtree=new pe}var Ce=new pe,Se=new pe,fe=new Uint8Array(30),xi=new Uint16Array(30),Ei=new Uint8Array(30),ci=new Uint16Array(30),Ge=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Je=new pe,Te=new Uint8Array(320);function Gi(Gt,ne,e,s){var u,h;for(u=0;u<e;++u)Gt[u]=0;for(u=0;u<30-e;++u)Gt[u+e]=u/e|0;for(h=s,u=0;u<30;++u)ne[u]=h,h+=1<<Gt[u]}function Fi(Gt,ne){var e;for(e=0;e<7;++e)Gt.table[e]=0;for(Gt.table[7]=24,Gt.table[8]=152,Gt.table[9]=112,e=0;e<24;++e)Gt.trans[e]=256+e;for(e=0;e<144;++e)Gt.trans[24+e]=e;for(e=0;e<8;++e)Gt.trans[168+e]=280+e;for(e=0;e<112;++e)Gt.trans[176+e]=144+e;for(e=0;e<5;++e)ne.table[e]=0;for(ne.table[5]=32,e=0;e<32;++e)ne.trans[e]=e}var dn=new Uint16Array(16);function Gn(Gt,ne,e,s){var u,h;for(u=0;u<16;++u)Gt.table[u]=0;for(u=0;u<s;++u)Gt.table[ne[e+u]]++;for(Gt.table[0]=0,h=0,u=0;u<16;++u)dn[u]=h,h+=Gt.table[u];for(u=0;u<s;++u)ne[e+u]&&(Gt.trans[dn[ne[e+u]]++]=u)}function $i(Gt){Gt.bitcount--||(Gt.tag=Gt.source[Gt.sourceIndex++],Gt.bitcount=7);var ne=Gt.tag&1;return Gt.tag>>>=1,ne}function Ae(Gt,ne,e){if(!ne)return e;for(;Gt.bitcount<24;)Gt.tag|=Gt.source[Gt.sourceIndex++]<<Gt.bitcount,Gt.bitcount+=8;var s=Gt.tag&65535>>>16-ne;return Gt.tag>>>=ne,Gt.bitcount-=ne,s+e}function Pi(Gt,ne){for(;Gt.bitcount<24;)Gt.tag|=Gt.source[Gt.sourceIndex++]<<Gt.bitcount,Gt.bitcount+=8;var e=0,s=0,u=0,h=Gt.tag;do s=2*s+(h&1),h>>>=1,++u,e+=ne.table[u],s-=ne.table[u];while(s>=0);return Gt.tag=h,Gt.bitcount-=u,ne.trans[e+s]}function on(Gt,ne,e){var s,u,h,f,p,w;for(s=Ae(Gt,5,257),u=Ae(Gt,5,1),h=Ae(Gt,4,4),f=0;f<19;++f)Te[f]=0;for(f=0;f<h;++f){var y=Ae(Gt,3,0);Te[Ge[f]]=y}for(Gn(Je,Te,0,19),p=0;p<s+u;){var x=Pi(Gt,Je);switch(x){case 16:var D=Te[p-1];for(w=Ae(Gt,2,3);w;--w)Te[p++]=D;break;case 17:for(w=Ae(Gt,3,3);w;--w)Te[p++]=0;break;case 18:for(w=Ae(Gt,7,11);w;--w)Te[p++]=0;break;default:Te[p++]=x;break}}Gn(ne,Te,0,s),Gn(e,Te,s,u)}function Xe(Gt,ne,e){for(;;){var s=Pi(Gt,ne);if(s===256)return $t;if(s<256)Gt.dest[Gt.destLen++]=s;else{var u,h,f,p;for(s-=257,u=Ae(Gt,fe[s],xi[s]),h=Pi(Gt,e),f=Gt.destLen-Ae(Gt,Ei[h],ci[h]),p=f;p<f+u;++p)Gt.dest[Gt.destLen++]=Gt.dest[p]}}}function $n(Gt){for(var ne,e,s;Gt.bitcount>8;)Gt.sourceIndex--,Gt.bitcount-=8;if(ne=Gt.source[Gt.sourceIndex+1],ne=256*ne+Gt.source[Gt.sourceIndex],e=Gt.source[Gt.sourceIndex+3],e=256*e+Gt.source[Gt.sourceIndex+2],ne!==(~e&65535))return ee;for(Gt.sourceIndex+=4,s=ne;s;--s)Gt.dest[Gt.destLen++]=Gt.source[Gt.sourceIndex++];return Gt.bitcount=0,$t}function mi(Gt,ne){var e=new oe(Gt,ne),s,u,h;do{switch(s=$i(e),u=Ae(e,2,0),u){case 0:h=$n(e);break;case 1:h=Xe(e,Ce,Se);break;case 2:on(e,e.ltree,e.dtree),h=Xe(e,e.ltree,e.dtree);break;default:h=ee}if(h!==$t)throw new Error("Data error")}while(!s);return e.destLen<e.dest.length?typeof e.dest.slice=="function"?e.dest.slice(0,e.destLen):e.dest.subarray(0,e.destLen):e.dest}return Fi(Ce,Se),Gi(fe,xi,4,3),Gi(Ei,ci,2,1),fe[28]=0,xi[28]=258,mi})(),t=(()=>{const $t=new Uint8Array(new Uint32Array([305419896]).buffer)[0]===18,ee=(Ce,Se,fe)=>{let xi=Ce[Se];Ce[Se]=Ce[fe],Ce[fe]=xi},pe=Ce=>{const Se=Ce.length;for(let fe=0;fe<Se;fe+=4)ee(Ce,fe,fe+3),ee(Ce,fe+1,fe+2)};return Ce=>{$t&&pe(Ce)}})(),i=(()=>{class Gn{constructor(Ae){const Pi=typeof Ae.readUInt32BE=="function"&&typeof Ae.slice=="function";if(Pi||Ae instanceof Uint8Array){let on;if(Pi)this.highStart=Ae.readUInt32LE(0),this.errorValue=Ae.readUInt32LE(4),on=Ae.readUInt32LE(8),Ae=Ae.slice(12);else{const Xe=new DataView(Ae.buffer);this.highStart=Xe.getUint32(0,!0),this.errorValue=Xe.getUint32(4,!0),on=Xe.getUint32(8,!0),Ae=Ae.subarray(12)}Ae=A(Ae,new Uint8Array(on)),Ae=A(Ae,new Uint8Array(on)),t(Ae),this.data=new Uint32Array(Ae.buffer)}else({data:this.data,highStart:this.highStart,errorValue:this.errorValue}=Ae)}get(Ae){let Pi;return Ae<0||Ae>1114111?this.errorValue:Ae<55296||Ae>56319&&Ae<=65535?(Pi=(this.data[Ae>>5]<<2)+(Ae&31),this.data[Pi]):Ae<=65535?(Pi=(this.data[2048+(Ae-55296>>5)]<<2)+(Ae&31),this.data[Pi]):Ae<this.highStart?(Pi=this.data[2080+(Ae>>11)],Pi=this.data[Pi+(Ae>>5&63)],Pi=(Pi<<2)+(Ae&31),this.data[Pi]):this.data[this.data.length-4]}}return Gn})(),r=($t=>{const ee=window.atob($t),pe=new Uint8Array(ee.length);for(var oe=0;oe<ee.length;oe++)pe[oe]=ee.charCodeAt(oe);return pe})("AAgOAAAAAAAQ4QAAAQ0P8vDtnQuMXUUZx+eyu7d7797d9m5bHoWltKVUlsjLWE0VJNigQoMVqkStEoNQQUl5GIo1KKmogEgqkKbBRki72lYabZMGKoGAjQRtJJDaCCIRiiigREBQS3z+xzOTnZ3O+3HOhd5NfpkzZx7fN9988zivu2M9hGwB28F94DnwEngd/Asc1EtIs9c/bIPDwCxwLDgezHcodyo4w5C+CCwBS8FnwSXgCnA1uFbI93XwbXAbWAfWgx+CzWAb+An4KfgFeAzsYWWfYuFz4CXwGvgb+Dfo6yNkEEwGh4CZYB44FpwI3g1OY+kfBItZOo2fB84Hy8DF4HJwNbiWpV8PVoO1LH4n2NRXyN+KcAd4kNVP9XsY4aPgcfAbsBfs6SniL4K/sPjfEf6HlanXCRkCw2BGvUh/keWfXS/CY+pFXs7x9XHmM94LTmWIeU2cgbxnS/k/B3kf86jDhU8L9V2E40vAFWAlWFUfb++NOL4F3C7JX4/4GiE+hvgWsF0oS7mXldspnN+F493gyXrh9xTav0cg3EvzgVfBG6wsmVSEkxBOBgdPGpd7JI6PnqRvJ68/xlbHof53gPeA94OzwLngk+ACsAwsByvASrAK3MB0Ws3CtQjvBJvAVrADPMDSHkb4CNijaccTwvnf4fiPEs8Lxy+D18A/QU8/xjgYBjPAbDAKTgYLwOngTHAO+EQ/8wuEF4EvsPiVCFf2+9tsFStzA8LVHuXXBsi6QyqzUYiPMR/7Mc7dAx7oL8bzw/3u/Bw8Bp4Az4AXwCtgHzsmDXP5fiF9iiVvly5d0sHngar16NKlS5cuXbp06fLmYlqHXrcd3ph4P0THUY3iXh49novju4S0tzfs5d+JPKewfAsRntZb3K9ZhOMlrO6lCC8An28U9+OuovcPcPxlVu5rCL/VmHh/iHIrzn3fIPu7SN8Axmg+8AOwEWwCm7tp3bRuWjetm5Y8bSu4B9zbKO6ZVsnORrVU3f4uXTqZ2H3sLoyx3eDXjfDndE9qyj6L838CfwVvgFpzYnof4oNgOhgBc8Fos9DrZIQLmtXPP1MmF6wGj4H+KXoWguvADkXaPil+YpuQy8Am8Ey7ODdtmJDF4HowBp4De6HDTNjhfHAHeBr0DBBy0kDxfPbcgSIusgrcWhtnJ8vL+TPix7UIOQtcBq4C28Cr4KRBnANbwSuDE+s50JgyNNFuXbp06XIgsXjIvPafjvXozKY+fVFz/z0LT1uCtKVSWbrOLWPnztG8e0Xfy7ol8XtZJi7WtG+5od2UFXQ/A12vUeS7jp27yVKHjdsU9lXB869TyNvAzt0lpP2oWbwLdjiO78bx/Sz+EMJHwK9Y/LcIfw+eZ3F67/Hl5vh9xX80J+rwX8SvRDhpgL17iPAQMHNArfPrqHPewLheI+AERV6efwV418B4nOZ/H+IfYHV8GOF5LJ3eAz0fx8sM9S0fUNud39O9CulfGZhY5huI3wzWgNvBelbHZoTbNPVpfYjKQpkHwUNgl0LWblbnk0LbbDxr0OMFpL3iqWdu9nWYPlVAWkXY39LnGdCkDbeqv1YNbfcMQ3t9oe8lzm6NH9N1ZB6Ln4BwfkJZJk7RyFnYKt6b/JDQXx9p5X+eFdqOjzM9P9MB/lUlFzr20aXIdzlY4dmn9F3YqtvoO76/2hp/D/xA5Zue88nNyL8GbFbs075X0tyUig3Qd2MCnf//HjnzpbsR3g9+1kHzzVjdnE71/qVBX9rGPUh/ysNWe1neFzvIDi5zAufV1sT0N0poR22wkFUfTOPfA4N2mbZ5fSrqOHSw+IbkSBbOGSzSRgf91/GTUWYBOB2cIZQ/G8cfBZ8CFwrnL8XxF8FKcA24jqXdiPA7Qr61OF7H4mMItwzuv2/YLth1ISt3Hzu3k4W7EH5JqPdRHD/O4k+z8A8IX5Lq3y7Z4nXE9xn6kX6vQ4bKfy+ok+hH+xf3hq9dnTTHhjKd2GmDuWA242iHMq4cC7A8kJ7i8o1+skSa7Jieo38HCWnoNjKFhdSFBxzpZ7QE6lI8N4S14aASZcryaV/WWHw66f6NHuCoxuQxmvM56GX9QMd8Q4D65ywGP+ZzRJuM+zQvx/MOS2VFeqQ4IXnH26zM9Xe6/E6D+4foAzzuajPZp8Qyw5ayZVDWuH0z0BtYRkeIDqH9KO9VbH1btd/lhNqCzvl8zeLnG0S/hnU6baHfpiuO6yy0rd+DHURo/zYF5H26j03rQsip2ndzz82u1z9N4VjWKWeb68Tedpt95HRVXp7H1R6p+/Wt4FPy/PpWwscOLRJ+PVWF/+W0iVyGzs18TIvXkOJ1Wxm66vSXz+vylenrZcj1ub439W+K8RNCGTJi2p/TJ1K23VaXr35tRpnzmjxequgfcfyk6B/TGBVlyedsNgpdd/h+W1U3P99QyFPNo1X3TwpM/WLTIWYfoBqXrv6iskHZ/RFr79R6hIyHBrH3f1nrUVnjP8SnZZ+rYtzr9Exld5MNbPNErusAPg+77u/eDOPftU9yj39TH7rezxd1LvsZQJlzkWlOirG/79zjMj/mtHUKu7vKy+3/LnXr9okyKedjX5/0He9iP/j63LwOQdarEVlfy8OO/Lqw023j6xcqmwxLiOd6heM2i9cV9LJy8jMJ23yQ+rpbfu7EQ/pXE8KYvUSqvVnb4XzZa6LrHMXHR+zcLvqWbm/Bn0/HzIs6fWPHoat8XfnDKmZGxRxeMbn2UqZ5Q94nmcZRbqqUXbZ8+lcjE+cPX11t814orvvAXNcG8vqj2vvk1MGn3anlj0bIT72v47bvE+Lc98T9b6r7AKn6j+8Duf7D0nnZx/j7Zjn0j9nbpSTndaLr9WNLivP+iN23xF7L+fqv6ZouFyb78jxVXvv5jJ9YUs9/sddO8h7KNg5jrhfaJGztT6G7KF+1d6yCmD5Kdb2fan60rSc552fZr3zeQ9DpnPp+Si5cx5Ktv2QfSzF/mMbWdOm46rFI4XstnU9xeqX4NKb7TKEdcr6pZOK3ID1k/LvFHkVczEuZLEDr499YqvqBym1aEHWgcvoYOtv0M91qQl5TfpO/in6rWx8OVpT1Wedkv3f5xom3T/xeR/6Gx6V86PWAOB4bBpqWdN+yTcVxjIyGRz/FrDGu6w/3d7kPm8StX8RyPu+uuvpNju/vTLJV37GpvoM0oZPnW87VLnL/5pDno1NoW1R6yedU6TyUv3u19a3KFnIbTLYz+ZCLP4T0tU1uivFgso0pnsJ/UtXvarNY28Xq5cvkBDrQP/E5ZaiuQwwfmTlsOiQRU1fMuqrDd/3ISSuwjOwXOfTyGUMpZIXq4GpLn3pUcdfzch2x7XO1u2uZHOPb1G6b3Xg9PH1IIWeEpJlPQtqos2EKW8b0u8rnuP1UeVLoXJb9be0uG9nnbchjU+XTszT5VeNBThPHnc5OKj1U9aj0GTHIVaGy1YhEWT4ixns00DT+XEzWn/7VAsIc63Cov3OdyhwjrnaqQqZvWKXdypRdlq+k8msZ031U+Rm4fA+3TtyeR9hwfW9G9yxDN0fZMN33F+9TE6md4hwoxumfaUzI9fN3PFT3xVV2msrQ3UsnChm6Nulk8TndpS28D3zX9tTIPsF/z7Am5OkTjm1tI1JZW74+4VgsZ0N3L1yXV3WeP5uR7TGHHdvC3JQlxybfpd22tDlk/2eofRK8TzrN/qnar/K/OUTth6I/+jAnEptNbPvFHP2gs40N3+dfMWtwqvVct7/wfd8gtQ7imifial9ZJ9/3IHLYU6eDj3+4PhsNhX+vwvcWLnu6kGfEMe8DuciPfUfGZB8X/7HJy/Gefe5n+VRGFd/wyP2ta7/LO4yh/sbLV/k9lev6kfO9Dt/5U67b1/6u/epqB1U9Me23jfHY9sscAg4tkbLl+e4/U36rJ9ddxfd6sg5vq5ice42Wpk/pb9FOJ36/W9tpv4kbC79nUbZceX8Zu6/qJ+P3WvhvA8v3reh7Jbn2d6rrNC7XNZTLma4Ba0JI9efX2uLzF5scG/w9UNU1ZxW+ymUfzELeTllXlQ1rUuhzjS5fp9c964iFBOqeSz63bU065nZKdU+mDEz3qHIjjifquw0pnb/raRtvrnsYcb46ihT3taoYz6brdNW9l6rWRnE/navdPn1XlR1km7hcz1WlH/elKuSOSvLLuE8U6m8uzwRdfcGl73VyTHuyMvzJ1Sa2cWDTP/Z63Kc94n2B1PYr24dz1JlyHLlcP+S4B6vD1c9EW4q2LWstCvUjeVy63k/LMYdUNd5D1xQfvVTzX1VjkMsUv88N8VH5fReVn/Fjn++/h6X6Q8a6b1/q3g/i/ewi0/Scs8zxXeV6mWIOUPlPzBgdFerW+bZrm2P18dnjuK6HunEp+rHvPMXbr+sHVb/lnL+pTP57jPw9Cvk3PW178JD9qChfzuvTf7Htl38L1QUf/VKu9SFjwWbTWPvFEvu7Uq76y7+31g6QlYPc669pbsm9Xur2LWI9Pu8ypfDXqm3A2z8s1FWGn4ntL9NfQu2oSlftX9uetvTtv7J8Ql4zxfXGZ3zk8PeQ9w59x2uMfqI8/q5eKh/l9cb2rwsu9rSNl06ZP2Pmxtz+rNMx93yno0n2/82rVH7rQ+y9P15H6FyRun9ViH81ATmffI7nJ5r8uXXW6enbP6b/B8/l5OifVHYLnb9S39s2zcc+Ph+rh8+eQgVPS72elzGWY/tUtbbabBpDiI7yN1q6/4th2y+ErAc5+9BVvu/7KamJbWNZeuqI/R4tRf+YyD1HmOZM1bMV3/14Sn10c0Xu+Sj1nOXb5jL73ncdy02uvlXZNde65dOHYl7Vs4KYuS6FzWLn2zJlpZqPXPVPOa5yzKOyn1VhT9lmMfdbfH7D11Wf2PXN5h9y+dD287+qxgSnaYmnIrRtIb8pJe6/Uv9OVer6Whn0zfGO/BEloZI9ojmfAlUflClDd178bTmVHVTpZXOkAlk/lb42UujmI89HH5V+cl7XtowY6vTxLVWok6UrGzoGTHN+bB+6ri05687VNpvfuvRfaP2uMlNQth1D5JjGelm/8yn+9p3p/7qk9gnfeddXZmq/Sm333PJT659Kv1zjNbZ9uv2Oi//67CV8/N1nj1DmviyXDNVeJkaeaX8UsyesYg8cu2+NvdaPfb+lLDu5tvt/"),g=new i(r),S=5,B=12,j=13,W=16,G=17,J=22,R=28,gt=31,m=33,it=34,et=35,nt=36,Et=37,ot=38,ct=39,xt=40,zt=41,Mt=42,T=0,F=1,Rt=2,se=3,tt=4,Zt=[[tt,tt,tt,tt,tt,tt,tt,tt,tt,tt,tt,tt,tt,tt,tt,tt,tt,tt,tt,tt,tt,se,tt,tt,tt,tt,tt,tt,tt,tt,tt,tt,tt],[T,tt,tt,F,F,tt,tt,tt,tt,F,F,T,T,T,T,F,F,F,T,T,tt,Rt,tt,T,T,T,T,T,T,T,T,F,T],[T,tt,tt,F,F,tt,tt,tt,tt,F,F,F,F,F,T,F,F,F,T,T,tt,Rt,tt,T,T,T,T,T,T,T,T,F,T],[tt,tt,tt,F,F,F,tt,tt,tt,F,F,F,F,F,F,F,F,F,F,F,tt,Rt,tt,F,F,F,F,F,F,F,F,F,F],[F,tt,tt,F,F,F,tt,tt,tt,F,F,F,F,F,F,F,F,F,F,F,tt,Rt,tt,F,F,F,F,F,F,F,F,F,F],[T,tt,tt,F,F,F,tt,tt,tt,T,T,T,T,T,T,F,F,F,T,T,tt,Rt,tt,T,T,T,T,T,T,T,T,F,T],[T,tt,tt,F,F,F,tt,tt,tt,T,T,T,T,T,T,F,F,F,T,T,tt,Rt,tt,T,T,T,T,T,T,T,T,F,T],[T,tt,tt,F,F,F,tt,tt,tt,T,T,F,T,F,T,F,F,F,T,T,tt,Rt,tt,T,T,T,T,T,T,T,T,F,T],[T,tt,tt,F,F,F,tt,tt,tt,T,T,F,F,F,T,F,F,F,T,T,tt,Rt,tt,T,T,T,T,T,T,T,T,F,T],[F,tt,tt,F,F,F,tt,tt,tt,T,T,F,F,F,F,F,F,F,T,T,tt,Rt,tt,F,F,F,F,F,T,F,F,F,T],[F,tt,tt,F,F,F,tt,tt,tt,T,T,F,F,F,T,F,F,F,T,T,tt,Rt,tt,T,T,T,T,T,T,T,T,F,T],[F,tt,tt,F,F,F,tt,tt,tt,F,F,F,F,F,T,F,F,F,T,T,tt,Rt,tt,T,T,T,T,T,T,T,T,F,T],[F,tt,tt,F,F,F,tt,tt,tt,F,F,F,F,F,T,F,F,F,T,T,tt,Rt,tt,T,T,T,T,T,T,T,T,F,T],[F,tt,tt,F,F,F,tt,tt,tt,F,F,F,F,F,T,F,F,F,T,T,tt,Rt,tt,T,T,T,T,T,T,T,T,F,T],[T,tt,tt,F,F,F,tt,tt,tt,T,F,T,T,T,T,F,F,F,T,T,tt,Rt,tt,T,T,T,T,T,T,T,T,F,T],[T,tt,tt,F,F,F,tt,tt,tt,T,T,T,T,T,T,F,F,F,T,T,tt,Rt,tt,T,T,T,T,T,T,T,T,F,T],[T,tt,tt,F,T,F,tt,tt,tt,T,T,F,T,T,T,F,F,F,T,T,tt,Rt,tt,T,T,T,T,T,T,T,T,F,T],[T,tt,tt,F,T,F,tt,tt,tt,T,T,T,T,T,T,F,F,F,T,T,tt,Rt,tt,T,T,T,T,T,T,T,T,F,T],[F,tt,tt,F,F,F,tt,tt,tt,F,F,F,F,F,F,F,F,F,F,F,tt,Rt,tt,F,F,F,F,F,F,F,F,F,T],[T,tt,tt,F,F,F,tt,tt,tt,T,T,T,T,T,T,F,F,F,T,tt,tt,Rt,tt,T,T,T,T,T,T,T,T,F,T],[T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,tt,T,T,T,T,T,T,T,T,T,T,T,T],[F,tt,tt,F,F,F,tt,tt,tt,F,F,F,F,F,T,F,F,F,T,T,tt,Rt,tt,T,T,T,T,T,T,T,T,F,T],[F,tt,tt,F,F,F,tt,tt,tt,F,F,F,F,F,F,F,F,F,F,F,tt,Rt,tt,F,F,F,F,F,F,F,F,F,F],[T,tt,tt,F,F,F,tt,tt,tt,T,F,T,T,T,T,F,F,F,T,T,tt,Rt,tt,T,T,T,F,F,T,T,T,F,T],[T,tt,tt,F,F,F,tt,tt,tt,T,F,T,T,T,T,F,F,F,T,T,tt,Rt,tt,T,T,T,T,F,T,T,T,F,T],[T,tt,tt,F,F,F,tt,tt,tt,T,F,T,T,T,T,F,F,F,T,T,tt,Rt,tt,F,F,F,F,T,T,T,T,F,T],[T,tt,tt,F,F,F,tt,tt,tt,T,F,T,T,T,T,F,F,F,T,T,tt,Rt,tt,T,T,T,F,F,T,T,T,F,T],[T,tt,tt,F,F,F,tt,tt,tt,T,F,T,T,T,T,F,F,F,T,T,tt,Rt,tt,T,T,T,T,F,T,T,T,F,T],[T,tt,tt,F,F,F,tt,tt,tt,T,T,T,T,T,T,F,F,F,T,T,tt,Rt,tt,T,T,T,T,T,F,T,T,F,T],[T,tt,tt,F,F,F,tt,tt,tt,T,F,T,T,T,T,F,F,F,T,T,tt,Rt,tt,T,T,T,T,T,T,T,F,F,T],[T,tt,tt,F,F,F,tt,tt,tt,T,F,T,T,T,T,F,F,F,T,T,tt,Rt,tt,T,T,T,T,T,T,T,T,F,T],[F,tt,tt,F,F,F,tt,tt,tt,F,F,F,F,F,T,F,F,F,T,T,tt,Rt,tt,T,T,T,T,T,T,T,T,F,T],[T,tt,tt,F,F,T,tt,tt,tt,T,T,T,T,T,T,T,T,T,T,T,tt,Rt,tt,T,T,T,T,T,T,T,T,F,T]],Ee=function($t){switch($t){case m:return B;case ct:case xt:case Mt:return B;case et:return S;default:return $t}},Dt=function($t){switch($t){case Et:case ot:return it;case zt:return J;default:return $t}};class re{constructor(ee,pe=!1){this.position=ee,this.required=pe}}class ve{constructor(ee){this.string=ee,this.pos=0,this.lastPos=0,this.curClass=null,this.nextClass=null,this.LB8a=!1,this.LB21a=!1,this.LB30a=0}nextCodePoint(){const ee=this.string.charCodeAt(this.pos++),pe=this.string.charCodeAt(this.pos);return 55296<=ee&&ee<=56319&&56320<=pe&&pe<=57343?(this.pos++,(ee-55296)*1024+(pe-56320)+65536):ee}nextCharClass(){return Ee(g.get(this.nextCodePoint()))}getSimpleBreak(){switch(this.nextClass){case zt:return!1;case it:case Et:case ot:return this.curClass=it,!1;case nt:return this.curClass=nt,!1}return null}getPairTableBreak(ee){let pe=!1;switch(Zt[this.curClass][this.nextClass]){case T:pe=!0;break;case F:pe=ee===zt;break;case Rt:if(pe=ee===zt,!pe)return pe=!1,pe;break;case se:if(ee!==zt)return pe;break}return this.LB8a&&(pe=!1),this.LB21a&&(this.curClass===W||this.curClass===G)?(pe=!1,this.LB21a=!1):this.LB21a=this.curClass===j,this.curClass===R?(this.LB30a++,this.LB30a==2&&this.nextClass===R&&(pe=!0,this.LB30a=0)):this.LB30a=0,this.curClass=this.nextClass,pe}nextBreak(){if(this.curClass==null){let ee=this.nextCharClass();this.curClass=Dt(ee),this.nextClass=ee,this.LB8a=ee===gt,this.LB30a=0}for(;this.pos<this.string.length;){this.lastPos=this.pos;const ee=this.nextClass;if(this.nextClass=this.nextCharClass(),this.curClass===it||this.curClass===nt&&this.nextClass!==Et)return this.curClass=Dt(Ee(this.nextClass)),new re(this.lastPos,!0);let pe=this.getSimpleBreak();if(pe===null&&(pe=this.getPairTableBreak(ee)),this.LB8a=this.nextClass===gt,pe)return new re(this.lastPos)}return this.lastPos<this.string.length?(this.lastPos=this.string.length,new re(this.string.length)):null}}return ve})();class e1{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(t,i){let a=this.length++;for(this.ids[a]=t,this.values[a]=i;a>0;){const l=a-1>>1,r=this.values[l];if(i>=r)break;this.ids[a]=this.ids[l],this.values[a]=r,a=l}this.ids[a]=t,this.values[a]=i}pop(){if(this.length===0)return;const t=this.ids[0];if(this.length--,this.length>0){const i=this.ids[0]=this.ids[this.length],a=this.values[0]=this.values[this.length],l=this.length>>1;let r=0;for(;r<l;){let g=(r<<1)+1;const S=g+1;let B=this.ids[g],j=this.values[g];const W=this.values[S];if(S<this.length&&W<j&&(g=S,B=this.ids[S],j=W),j>=a)break;this.ids[r]=B,this.values[r]=j,r=g}this.ids[r]=i,this.values[r]=a}return t}peek(){if(this.length!==0)return this.ids[0]}peekValue(){if(this.length!==0)return this.values[0]}}window.FlatQueue=e1;var i1={exports:{}};/*!
 * Paper.js v0.12.17 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, Jrg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Thu Nov 3 21:15:36 2022 +0100
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 Jrg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */(function(A){(function(t,i){t=t||a.self;var a=t.window,l=t.document,r=new function(){var e=/^(statics|enumerable|beans|preserve)$/,s=[],u=s.slice,h=Object.create,f=Object.getOwnPropertyDescriptor,p=Object.defineProperty,w=s.forEach||function(O,I){for(var z=0,U=this.length;z<U;z++)O.call(I,this[z],z,this)},y=function(O,I){for(var z in this)this.hasOwnProperty(z)&&O.call(I,this[z],z,this)},x=Object.assign||function(O){for(var I=1,z=arguments.length;I<z;I++){var U=arguments[I];for(var $ in U)U.hasOwnProperty($)&&(O[$]=U[$])}return O},D=function(O,I,z){if(O){var U=f(O,"length");(U&&typeof U.value=="number"?w:y).call(O,I,z=z||O)}return z};function P(O,I,z,U,$){var k={};function X(at,ut){ut=ut||(ut=f(I,at))&&(ut.get?ut:ut.value),typeof ut=="string"&&ut[0]==="#"&&(ut=O[ut.substring(1)]||ut);var lt=typeof ut=="function",ht=ut,vt=$||lt&&!ut.base?ut&&ut.get?at in O:O[at]:null,dt;(!$||!vt)&&(lt&&vt&&(ut.base=vt),lt&&U!==!1&&(dt=at.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(k[dt[3].toLowerCase()+dt[4]]=dt[2]),(!ht||lt||!ht.get||typeof ht.get!="function"||!N.isPlainObject(ht))&&(ht={value:ht,writable:!0}),(f(O,at)||{configurable:!0}).configurable&&(ht.configurable=!0,ht.enumerable=z??!dt),p(O,at,ht))}if(I){for(var M in I)I.hasOwnProperty(M)&&!e.test(M)&&X(M);for(var M in k){var L=k[M],H=O["set"+L],Z=O["get"+L]||H&&O["is"+L];Z&&(U===!0||Z.length===0)&&X(M,{get:Z,set:H})}}return O}function N(){for(var O=0,I=arguments.length;O<I;O++){var z=arguments[O];z&&x(this,z)}return this}return P(N,{inject:function(O){if(O){var I=O.statics===!0?O:O.statics,z=O.beans,U=O.preserve;I!==O&&P(this.prototype,O,O.enumerable,z,U),P(this,I,null,z,U)}for(var $=1,k=arguments.length;$<k;$++)this.inject(arguments[$]);return this},extend:function(){for(var O=this,I,z,U=0,$,k=arguments.length;U<k&&!(I&&z);U++)$=arguments[U],I=I||$.initialize,z=z||$.prototype;return I=I||function(){O.apply(this,arguments)},z=I.prototype=z||h(this.prototype),p(z,"constructor",{value:I,writable:!0,configurable:!0}),P(I,this),arguments.length&&this.inject.apply(I,arguments),I.base=O,I}}).inject({enumerable:!1,initialize:N,set:N,inject:function(){for(var O=0,I=arguments.length;O<I;O++){var z=arguments[O];z&&P(this,z,z.enumerable,z.beans,z.preserve)}return this},extend:function(){var O=h(this);return O.inject.apply(O,arguments)},each:function(O,I){return D(this,O,I)},clone:function(){return new this.constructor(this)},statics:{set:x,each:D,create:h,define:p,describe:f,clone:function(O){return x(new O.constructor,O)},isPlainObject:function(O){var I=O!=null&&O.constructor;return I&&(I===Object||I===N||I.name==="Object")},pick:function(O,I){return O!==i?O:I},slice:function(O,I,z){return u.call(O,I,z)}}})};a.paper=r,r.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+r.each(this,function(e,s){if(!/^_/.test(s)){var u=typeof e;this.push(s+": "+(u==="number"?W.instance.number(e):u==="string"?"'"+e+"'":e))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(e){return r.importJSON(e,this)},exportJSON:function(e){return r.exportJSON(this,e)},toJSON:function(){return r.serialize(this)},set:function(e,s){return e&&r.filter(this,e,s,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function e(){var s=e.base.apply(this,arguments),u=s.prototype._class;return u&&!r.exports[u]&&(r.exports[u]=s),s},equals:function(e,s){if(e===s)return!0;if(e&&e.equals)return e.equals(s);if(s&&s.equals)return s.equals(e);if(e&&s&&typeof e=="object"&&typeof s=="object"){if(Array.isArray(e)&&Array.isArray(s)){var u=e.length;if(u!==s.length)return!1;for(;u--;)if(!r.equals(e[u],s[u]))return!1}else{var h=Object.keys(e),u=h.length;if(u!==Object.keys(s).length)return!1;for(;u--;){var f=h[u];if(!(s.hasOwnProperty(f)&&r.equals(e[f],s[f])))return!1}}return!0}return!1},read:function(e,s,u,h){if(this===r){var f=this.peek(e,s);return e.__index++,f}var p=this.prototype,w=p._readIndex,y=s||w&&e.__index||0,x=e.length,D=e[y];if(h=h||x-y,D instanceof this||u&&u.readNull&&D==null&&h<=1)return w&&(e.__index=y+1),D&&u&&u.clone?D.clone():D;if(D=r.create(p),w&&(D.__read=!0),D=D.initialize.apply(D,y>0||y+h<x?r.slice(e,y,y+h):e)||D,w){e.__index=y+D.__read;var P=D.__filtered;P&&(e.__filtered=P,D.__filtered=i),D.__read=i}return D},peek:function(e,s){return e[e.__index=s||e.__index||0]},remain:function(e){return e.length-(e.__index||0)},readList:function(e,s,u,h){for(var f=[],p,w=s||0,y=h?w+h:e.length,x=w;x<y;x++)f.push(Array.isArray(p=e[x])?this.read(p,0,u):this.read(e,x,u,1));return f},readNamed:function(e,s,u,h,f){var p=this.getNamed(e,s),w=p!==i;if(w){var y=e.__filtered;if(!y){var x=this.getSource(e);y=e.__filtered=r.create(x),y.__unfiltered=x}y[s]=i}return this.read(w?[p]:e,u,h,f)},readSupported:function(e,s){var u=this.getSource(e),h=this,f=!1;return u&&Object.keys(u).forEach(function(p){if(p in s){var w=h.readNamed(e,p);w!==i&&(s[p]=w),f=!0}}),f},getSource:function(e){var s=e.__source;if(s===i){var u=e.length===1&&e[0];s=e.__source=u&&r.isPlainObject(u)?u:null}return s},getNamed:function(e,s){var u=this.getSource(e);if(u)return s?u[s]:e.__filtered||u},hasNamed:function(e,s){return!!this.getNamed(e,s)},filter:function(e,s,u,h){var f;function p(P){if(!(u&&P in u)&&!(f&&P in f)){var N=s[P];N!==i&&(e[P]=N)}}if(h){for(var w={},y=0,x,D=h.length;y<D;y++)(x=h[y])in s&&(p(x),w[x]=!0);f=w}return Object.keys(s.__unfiltered||s).forEach(p),e},isPlainValue:function(e,s){return r.isPlainObject(e)||Array.isArray(e)||s&&typeof e=="string"},serialize:function(e,s,u,h){s=s||{};var f=!h,p;if(f&&(s.formatter=new W(s.precision),h={length:0,definitions:{},references:{},add:function(N,O){var I="#"+N._id,z=this.references[I];if(!z){this.length++;var U=O.call(N),$=N._class;$&&U[0]!==$&&U.unshift($),this.definitions[I]=U,z=this.references[I]=[I]}return z}}),e&&e._serialize){p=e._serialize(s,h);var w=e._class;w&&!e._compactSerialize&&(f||!u)&&p[0]!==w&&p.unshift(w)}else if(Array.isArray(e)){p=[];for(var y=0,x=e.length;y<x;y++)p[y]=r.serialize(e[y],s,u,h)}else if(r.isPlainObject(e)){p={};for(var D=Object.keys(e),y=0,x=D.length;y<x;y++){var P=D[y];p[P]=r.serialize(e[P],s,u,h)}}else typeof e=="number"?p=s.formatter.number(e,s.precision):p=e;return f&&h.length>0?[["dictionary",h.definitions],p]:p},deserialize:function(e,s,u,h,f){var p=e,w=!u,y=w&&e&&e.length&&e[0][0]==="dictionary";if(u=u||{},Array.isArray(e)){var x=e[0],D=x==="dictionary";if(e.length==1&&/^#/.test(x))return u.dictionary[x];x=r.exports[x],p=[];for(var P=x?1:0,N=e.length;P<N;P++)p.push(r.deserialize(e[P],s,u,D,y));if(x){var O=p;s?p=s(x,O,w||f):p=new x(O)}}else if(r.isPlainObject(e)){p={},h&&(u.dictionary=p);for(var I in e)p[I]=r.deserialize(e[I],s,u)}return y?p[1]:p},exportJSON:function(e,s){var u=r.serialize(e,s);return s&&s.asString==!1?u:JSON.stringify(u)},importJSON:function(e,s){return r.deserialize(typeof e=="string"?JSON.parse(e):e,function(u,h,f){var p=f&&s&&s.constructor===u,w=p?s:r.create(u.prototype);if(h.length===1&&w instanceof xt&&(p||!(w instanceof Mt))){var y=h[0];r.isPlainObject(y)&&(y.insert=!1,p&&(h=h.concat([xt.INSERT])))}return(p?w.set:u).apply(w,h),p&&(s=null),w})},push:function(e,s){var u=s.length;if(u<4096)e.push.apply(e,s);else{var h=e.length;e.length+=u;for(var f=0;f<u;f++)e[h+f]=s[f]}return e},splice:function(e,s,u,h){var f=s&&s.length,p=u===i;u=p?e.length:u,u>e.length&&(u=e.length);for(var w=0;w<f;w++)s[w]._index=u+w;if(p)return r.push(e,s),[];var y=[u,h];s&&r.push(y,s);for(var x=e.splice.apply(e,y),w=0,D=x.length;w<D;w++)x[w]._index=i;for(var w=u+f,D=e.length;w<D;w++)e[w]._index=w;return x},capitalize:function(e){return e.replace(/\b[a-z]/g,function(s){return s.toUpperCase()})},camelize:function(e){return e.replace(/-(.)/g,function(s,u){return u.toUpperCase()})},hyphenate:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var g={on:function(e,s){if(typeof e!="string")r.each(e,function(p,w){this.on(w,p)},this);else{var u=this._eventTypes,h=u&&u[e],f=this._callbacks=this._callbacks||{};f=f[e]=f[e]||[],f.indexOf(s)===-1&&(f.push(s),h&&h.install&&f.length===1&&h.install.call(this,e))}return this},off:function(e,s){if(typeof e!="string"){r.each(e,function(w,y){this.off(y,w)},this);return}var u=this._eventTypes,h=u&&u[e],f=this._callbacks&&this._callbacks[e],p;return f&&(!s||(p=f.indexOf(s))!==-1&&f.length===1?(h&&h.uninstall&&h.uninstall.call(this,e),delete this._callbacks[e]):p!==-1&&f.splice(p,1)),this},once:function(e,s){return this.on(e,function u(){s.apply(this,arguments),this.off(e,u)})},emit:function(e,s){var u=this._callbacks&&this._callbacks[e];if(!u)return!1;var h=r.slice(arguments,1),f=s&&s.target&&!s.currentTarget;u=u.slice(),f&&(s.currentTarget=this);for(var p=0,w=u.length;p<w;p++)if(u[p].apply(this,h)==!1){s&&s.stop&&s.stop();break}return f&&delete s.currentTarget,!0},responds:function(e){return!!(this._callbacks&&this._callbacks[e])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(e){var s=this._eventTypes,u=this._callbacks,h=e?"install":"uninstall";if(s){for(var f in u)if(u[f].length>0){var p=s[f],w=p&&p[h];w&&w.call(this,f)}}},statics:{inject:function e(s){var u=s._events;if(u){var h={};r.each(u,function(f,p){var w=typeof f=="string",y=w?f:p,x=r.capitalize(y),D=y.substring(2).toLowerCase();h[D]=w?{}:f,y="_"+y,s["get"+x]=function(){return this[y]},s["set"+x]=function(P){var N=this[y];N&&this.off(D,N),P&&this.on(D,P),this[y]=P}}),s._eventTypes=h}return e.base.apply(this,arguments)}}},S=r.extend({_class:"PaperScope",initialize:function e(){ne=this,this.settings=new r({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=e._id++,e._scopes[this._id]=this;var s=e.prototype;if(!this.support){var u=Xe.getContext(1,1)||{};s.support={nativeDash:"setLineDash"in u||"mozDash"in u,nativeBlendModes:$n.nativeModes},Xe.release(u)}if(!this.agent){var h=t.navigator.userAgent.toLowerCase(),f=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(h)||[])[0],p=f==="darwin"?"mac":f,w=s.agent=s.browser={platform:p};p&&(w[p]=!0),h.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(y,x,D,P,N){if(!w.chrome){var O=x==="opera"?P:/^(node|trident)$/.test(x)?N:D;w.version=O,w.versionNumber=parseFloat(O),x={trident:"msie",jsdom:"node"}[x]||x,w.name=x,w[x]=!0}}),w.chrome&&delete w.webkit,w.atom&&delete w.chrome}},version:"0.12.17",getView:function(){var e=this.project;return e&&e._view},getPaper:function(){return this},execute:function(e,s){},install:function(e){var s=this;r.each(["project","view","tool"],function(h){r.define(e,h,{configurable:!0,get:function(){return s[h]}})});for(var u in this)!/^_/.test(u)&&this[u]&&(e[u]=this[u])},setup:function(e){return ne=this,this.project=new ct(e),this},createCanvas:function(e,s){return Xe.getCanvas(e,s)},activate:function(){ne=this},clear:function(){for(var e=this.projects,s=this.tools,u=e.length-1;u>=0;u--)e[u].remove();for(var u=s.length-1;u>=0;u--)s[u].remove()},remove:function(){this.clear(),delete S._scopes[this._id]},statics:new function(){function e(s){return s+="Attribute",function(u,h){return u[s](h)||u[s]("data-paper-"+h)}}return{_scopes:{},_id:0,get:function(s){return this._scopes[s]||null},getAttribute:e("get"),hasAttribute:e("has")}}}),B=r.extend(g,{initialize:function(e){this._scope=ne,this._index=this._scope[this._list].push(this)-1,(e||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var e=this._scope[this._reference];return e&&e!==this&&e.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",e),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return this._index==null?!1:(r.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),j={findItemBoundsCollisions:function(e,s,u){function h(w){for(var y=new Array(w.length),x=0;x<w.length;x++){var D=w[x].getBounds();y[x]=[D.left,D.top,D.right,D.bottom]}return y}var f=h(e),p=!s||s===e?f:h(s);return this.findBoundsCollisions(f,p,u||0)},findCurveBoundsCollisions:function(e,s,u,h){function f(O){for(var I=Math.min,z=Math.max,U=new Array(O.length),$=0;$<O.length;$++){var k=O[$];U[$]=[I(k[0],k[2],k[4],k[6]),I(k[1],k[3],k[5],k[7]),z(k[0],k[2],k[4],k[6]),z(k[1],k[3],k[5],k[7])]}return U}var p=f(e),w=!s||s===e?p:f(s);if(h){for(var y=this.findBoundsCollisions(p,w,u||0,!1,!0),x=this.findBoundsCollisions(p,w,u||0,!0,!0),D=[],P=0,N=y.length;P<N;P++)D[P]={hor:y[P],ver:x[P]};return D}return this.findBoundsCollisions(p,w,u||0)},findBoundsCollisions:function(e,s,u,h,f){var p=!s||e===s,w=p?e:e.concat(s),y=e.length,x=w.length;function D(Kt,Jt,_e){for(var ye=0,me=Kt.length;ye<me;){var ge=me+ye>>>1;w[Kt[ge]][Jt]<_e?ye=ge+1:me=ge}return ye-1}for(var P=h?1:0,N=P+2,O=h?0:1,I=O+2,z=new Array(x),U=0;U<x;U++)z[U]=U;z.sort(function(Kt,Jt){return w[Kt][P]-w[Jt][P]});for(var $=[],k=new Array(y),U=0;U<x;U++){var X=z[U],M=w[X],L=p?X:X-y,H=X<y,Z=p||!H,at=H?[]:null;if($.length){var ut=D($,N,M[P]-u)+1;if($.splice(0,ut),p&&f){at=at.concat($);for(var lt=0;lt<$.length;lt++){var ht=$[lt];k[ht].push(L)}}else for(var vt=M[I],dt=M[O],lt=0;lt<$.length;lt++){var ht=$[lt],_t=w[ht],wt=ht<y,Tt=p||ht>=y;(f||(H&&Tt||Z&&wt)&&vt>=_t[O]-u&&dt<=_t[I]+u)&&(H&&Tt&&at.push(p?ht:ht-y),Z&&wt&&k[ht].push(L))}}if(H&&(e===s&&at.push(X),k[X]=at),$.length){var Ot=M[N],Vt=D($,N,Ot);$.splice(Vt+1,0,X)}else $.push(X)}for(var U=0;U<k.length;U++){var Wt=k[U];Wt&&Wt.sort(function(Jt,_e){return Jt-_e})}return k}},W=r.extend({initialize:function(e){this.precision=r.pick(e,5),this.multiplier=Math.pow(10,this.precision)},number:function(e){return this.precision<16?Math.round(e*this.multiplier)/this.multiplier:e},pair:function(e,s,u){return this.number(e)+(u||",")+this.number(s)},point:function(e,s){return this.number(e.x)+(s||",")+this.number(e.y)},size:function(e,s){return this.number(e.width)+(s||",")+this.number(e.height)},rectangle:function(e,s){return this.point(e,s)+(s||",")+this.size(e,s)}});W.instance=new W;var G=new function(){var e=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],s=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],u=Math.abs,h=Math.sqrt,f=Math.pow,p=Math.log2||function(N){return Math.log(N)*Math.LOG2E},w=1e-12,y=112e-18;function x(N,O,I){return N<O?O:N>I?I:N}function D(N,O,I){function z(ut){var lt=ut*134217729,ht=ut-lt,vt=ht+lt,dt=ut-vt;return[vt,dt]}var U=O*O-N*I,$=O*O+N*I;if(u(U)*3<$){var k=z(N),X=z(O),M=z(I),L=O*O,H=X[0]*X[0]-L+2*X[0]*X[1]+X[1]*X[1],Z=N*I,at=k[0]*M[0]-Z+k[0]*M[1]+k[1]*M[0]+k[1]*M[1];U=L-Z+(H-at)}return U}function P(){var N=Math.max.apply(Math,arguments);return N&&(N<1e-8||N>1e8)?f(2,-Math.round(p(N))):0}return{EPSILON:w,MACHINE_EPSILON:y,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,ANGULAR_EPSILON:1e-5,KAPPA:4*(h(2)-1)/3,isZero:function(N){return N>=-w&&N<=w},isMachineZero:function(N){return N>=-y&&N<=y},clamp:x,integrate:function(N,O,I,z){for(var U=e[z-2],$=s[z-2],k=(I-O)*.5,X=k+O,M=0,L=z+1>>1,H=z&1?$[M++]*N(X):0;M<L;){var Z=k*U[M];H+=$[M++]*(N(X+Z)+N(X-Z))}return k*H},findRoot:function(N,O,I,z,U,$,k){for(var X=0;X<$;X++){var M=N(I),L=M/O(I),H=I-L;if(u(L)<k){I=H;break}M>0?(U=I,I=H<=z?(z+U)*.5:H):(z=I,I=H>=U?(z+U)*.5:H)}return x(I,z,U)},solveQuadratic:function(N,O,I,z,U,$){var k,X=1/0;if(u(N)<w){if(u(O)<w)return u(I)<w?-1:0;k=-I/O}else{O*=-.5;var M=D(N,O,I);if(M&&u(M)<y){var L=P(u(N),u(O),u(I));L&&(N*=L,O*=L,I*=L,M=D(N,O,I))}if(M>=-y){var H=M<0?0:h(M),Z=O+(O<0?-H:H);Z===0?(k=I/N,X=-k):(k=Z/N,X=I/Z)}}var at=0,ut=U==null,lt=U-w,ht=$+w;return isFinite(k)&&(ut||k>lt&&k<ht)&&(z[at++]=ut?k:x(k,U,$)),X!==k&&isFinite(X)&&(ut||X>lt&&X<ht)&&(z[at++]=ut?X:x(X,U,$)),at},solveCubic:function(N,O,I,z,U,$,k){var X=P(u(N),u(O),u(I),u(z)),M,L,H,Z,at;X&&(N*=X,O*=X,I*=X,z*=X);function ut(Vt){M=Vt;var Wt=N*M;L=Wt+O,H=L*M+I,Z=(Wt+L)*M+H,at=H*M+z}if(u(N)<w)N=O,L=I,H=z,M=1/0;else if(u(z)<w)L=O,H=I,M=0;else{ut(-(O/N)/3);var lt=at/N,ht=f(u(lt),1/3),vt=lt<0?-1:1,dt=-Z/N,_t=dt>0?1.324717957244746*Math.max(ht,h(dt)):ht,wt=M-vt*_t;if(wt!==M){do ut(wt),wt=Z===0?M:M-at/Z/(1+y);while(vt*wt>vt*M);u(N)*M*M>u(z/M)&&(H=-z/M,L=(H-I)/M)}}var Tt=G.solveQuadratic(N,L,H,U,$,k),Ot=$==null;return isFinite(M)&&(Tt===0||Tt>0&&M!==U[0]&&M!==U[1])&&(Ot||M>$-w&&M<k+w)&&(U[Tt++]=Ot?M:x(M,$,k)),Tt}}},J={_id:1,_pools:{},get:function(e){if(e){var s=this._pools[e];return s||(s=this._pools[e]={_id:1}),s._id++}else return this._id++}},R=r.extend({_class:"Point",_readIndex:!0,initialize:function(s,u){var h=typeof s,f=this.__read,p=0;if(h==="number"){var w=typeof u=="number";this._set(s,w?u:s),f&&(p=w?2:1)}else if(h==="undefined"||s===null)this._set(0,0),f&&(p=s===null?1:0);else{var y=h==="string"?s.split(/[\s,]+/)||[]:s;p=1,Array.isArray(y)?this._set(+y[0],+(y.length>1?y[1]:y[0])):"x"in y?this._set(y.x||0,y.y||0):"width"in y?this._set(y.width||0,y.height||0):"angle"in y?(this._set(y.length||0,0),this.setAngle(y.angle||0)):(this._set(0,0),p=0)}return f&&(this.__read=p),this},set:"#initialize",_set:function(e,s){return this.x=e,this.y=s,this},equals:function(e){return this===e||e&&(this.x===e.x&&this.y===e.y||Array.isArray(e)&&this.x===e[0]&&this.y===e[1])||!1},clone:function(){return new R(this.x,this.y)},toString:function(){var e=W.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+" }"},_serialize:function(e){var s=e.formatter;return[s.number(this.x),s.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(e){if(this.isZero()){var s=this._angle||0;this._set(Math.cos(s)*e,Math.sin(s)*e)}else{var u=e/this.getLength();G.isZero(u)&&this.getAngle(),this._set(this.x*u,this.y*u)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(e){this.setAngleInRadians.call(this,e*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var e=R.read(arguments),s=this.getLength()*e.getLength();if(G.isZero(s))return NaN;var u=this.dot(e)/s;return Math.acos(u<-1?-1:u>1?1:u)}else return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(e){if(this._angle=e,!this.isZero()){var s=this.getLength();this._set(Math.cos(e)*s,Math.sin(e)*s)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var e=R.read(arguments);return Math.atan2(this.cross(e),this.dot(e))*180/Math.PI},getDistance:function(){var e=arguments,s=R.read(e),u=s.x-this.x,h=s.y-this.y,f=u*u+h*h,p=r.read(e);return p?f:Math.sqrt(f)},normalize:function(e){e===i&&(e=1);var s=this.getLength(),u=s!==0?e/s:0,h=new R(this.x*u,this.y*u);return u>=0&&(h._angle=this._angle),h},rotate:function(e,s){if(e===0)return this.clone();e=e*Math.PI/180;var u=s?this.subtract(s):this,h=Math.sin(e),f=Math.cos(e);return u=new R(u.x*f-u.y*h,u.x*h+u.y*f),s?u.add(s):u},transform:function(e){return e?e._transformPoint(this):this},add:function(){var e=R.read(arguments);return new R(this.x+e.x,this.y+e.y)},subtract:function(){var e=R.read(arguments);return new R(this.x-e.x,this.y-e.y)},multiply:function(){var e=R.read(arguments);return new R(this.x*e.x,this.y*e.y)},divide:function(){var e=R.read(arguments);return new R(this.x/e.x,this.y/e.y)},modulo:function(){var e=R.read(arguments);return new R(this.x%e.x,this.y%e.y)},negate:function(){return new R(-this.x,-this.y)},isInside:function(){return et.read(arguments).contains(this)},isClose:function(){var e=arguments,s=R.read(e),u=r.read(e);return this.getDistance(s)<=u},isCollinear:function(){var e=R.read(arguments);return R.isCollinear(this.x,this.y,e.x,e.y)},isColinear:"#isCollinear",isOrthogonal:function(){var e=R.read(arguments);return R.isOrthogonal(this.x,this.y,e.x,e.y)},isZero:function(){var e=G.isZero;return e(this.x)&&e(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(e){return this.x*(e>1&&e<4?-1:1)>=0&&this.y*(e>2?-1:1)>=0},dot:function(){var e=R.read(arguments);return this.x*e.x+this.y*e.y},cross:function(){var e=R.read(arguments);return this.x*e.y-this.y*e.x},project:function(){var e=R.read(arguments),s=e.isZero()?0:this.dot(e)/e.dot(e);return new R(e.x*s,e.y*s)},statics:{min:function(){var e=arguments,s=R.read(e),u=R.read(e);return new R(Math.min(s.x,u.x),Math.min(s.y,u.y))},max:function(){var e=arguments,s=R.read(e),u=R.read(e);return new R(Math.max(s.x,u.x),Math.max(s.y,u.y))},random:function(){return new R(Math.random(),Math.random())},isCollinear:function(e,s,u,h){return Math.abs(e*h-s*u)<=Math.sqrt((e*e+s*s)*(u*u+h*h))*1e-8},isOrthogonal:function(e,s,u,h){return Math.abs(e*u+s*h)<=Math.sqrt((e*e+s*s)*(u*u+h*h))*1e-8}}},r.each(["round","ceil","floor","abs"],function(e){var s=Math[e];this[e]=function(){return new R(s(this.x),s(this.y))}},{})),gt=R.extend({initialize:function(s,u,h,f){this._x=s,this._y=u,this._owner=h,this._setter=f},_set:function(e,s,u){return this._x=e,this._y=s,u||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),m=r.extend({_class:"Size",_readIndex:!0,initialize:function(s,u){var h=typeof s,f=this.__read,p=0;if(h==="number"){var w=typeof u=="number";this._set(s,w?u:s),f&&(p=w?2:1)}else if(h==="undefined"||s===null)this._set(0,0),f&&(p=s===null?1:0);else{var y=h==="string"?s.split(/[\s,]+/)||[]:s;p=1,Array.isArray(y)?this._set(+y[0],+(y.length>1?y[1]:y[0])):"width"in y?this._set(y.width||0,y.height||0):"x"in y?this._set(y.x||0,y.y||0):(this._set(0,0),p=0)}return f&&(this.__read=p),this},set:"#initialize",_set:function(e,s){return this.width=e,this.height=s,this},equals:function(e){return e===this||e&&(this.width===e.width&&this.height===e.height||Array.isArray(e)&&this.width===e[0]&&this.height===e[1])||!1},clone:function(){return new m(this.width,this.height)},toString:function(){var e=W.instance;return"{ width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var s=e.formatter;return[s.number(this.width),s.number(this.height)]},add:function(){var e=m.read(arguments);return new m(this.width+e.width,this.height+e.height)},subtract:function(){var e=m.read(arguments);return new m(this.width-e.width,this.height-e.height)},multiply:function(){var e=m.read(arguments);return new m(this.width*e.width,this.height*e.height)},divide:function(){var e=m.read(arguments);return new m(this.width/e.width,this.height/e.height)},modulo:function(){var e=m.read(arguments);return new m(this.width%e.width,this.height%e.height)},negate:function(){return new m(-this.width,-this.height)},isZero:function(){var e=G.isZero;return e(this.width)&&e(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(e,s){return new m(Math.min(e.width,s.width),Math.min(e.height,s.height))},max:function(e,s){return new m(Math.max(e.width,s.width),Math.max(e.height,s.height))},random:function(){return new m(Math.random(),Math.random())}}},r.each(["round","ceil","floor","abs"],function(e){var s=Math[e];this[e]=function(){return new m(s(this.width),s(this.height))}},{})),it=m.extend({initialize:function(s,u,h,f){this._width=s,this._height=u,this._owner=h,this._setter=f},_set:function(e,s,u){return this._width=e,this._height=s,u||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(e){this._width=e,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(e){this._height=e,this._owner[this._setter](this)}}),et=r.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(s,u,h,f){var p=arguments,w=typeof s,y;if(w==="number"?(this._set(s,u,h,f),y=4):w==="undefined"||s===null?(this._set(0,0,0,0),y=s===null?1:0):p.length===1&&(Array.isArray(s)?(this._set.apply(this,s),y=1):s.x!==i||s.width!==i?(this._set(s.x||0,s.y||0,s.width||0,s.height||0),y=1):s.from===i&&s.to===i&&(this._set(0,0,0,0),r.readSupported(p,this)&&(y=1))),y===i){var x=R.readNamed(p,"from"),D=r.peek(p),P=x.x,N=x.y,O,I;if(D&&D.x!==i||r.hasNamed(p,"to")){var z=R.readNamed(p,"to");O=z.x-P,I=z.y-N,O<0&&(P=z.x,O=-O),I<0&&(N=z.y,I=-I)}else{var U=m.read(p);O=U.width,I=U.height}this._set(P,N,O,I),y=p.__index}var $=p.__filtered;return $&&(this.__filtered=$),this.__read&&(this.__read=y),this},set:"#initialize",_set:function(e,s,u,h){return this.x=e,this.y=s,this.width=u,this.height=h,this},clone:function(){return new et(this.x,this.y,this.width,this.height)},equals:function(e){var s=r.isPlainValue(e)?et.read(arguments):e;return s===this||s&&this.x===s.x&&this.y===s.y&&this.width===s.width&&this.height===s.height||!1},toString:function(){var e=W.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+", width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var s=e.formatter;return[s.number(this.x),s.number(this.y),s.number(this.width),s.number(this.height)]},getPoint:function(e){var s=e?R:gt;return new s(this.x,this.y,this,"setPoint")},setPoint:function(){var e=R.read(arguments);this.x=e.x,this.y=e.y},getSize:function(e){var s=e?m:it;return new s(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var e=m.read(arguments),s=this._sx,u=this._sy,h=e.width,f=e.height;s&&(this.x+=(this.width-h)*s),u&&(this.y+=(this.height-f)*u),this.width=h,this.height=f,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(e){if(!this._fw){var s=e-this.x;this.width-=this._sx===.5?s*2:s}this.x=e,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(e){if(!this._fh){var s=e-this.y;this.height-=this._sy===.5?s*2:s}this.y=e,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(e){if(!this._fw){var s=e-this.x;this.width=this._sx===.5?s*2:s}this.x=e-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(e){if(!this._fh){var s=e-this.y;this.height=this._sy===.5?s*2:s}this.y=e-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(e){this._fw||this._sx===.5?this.x=e-this.width/2:(this._sx&&(this.x+=(e-this.x)*2*this._sx),this.width=(e-this.x)*2),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(e){this._fh||this._sy===.5?this.y=e-this.height/2:(this._sy&&(this.y+=(e-this.y)*2*this._sy),this.height=(e-this.y)*2),this._sy=.5,this._fh=0},getCenter:function(e){var s=e?R:gt;return new s(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var e=R.read(arguments);return this.setCenterX(e.x),this.setCenterY(e.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(e){return e&&e.width!==i||(Array.isArray(e)?e:arguments).length===4?this._containsRectangle(et.read(arguments)):this._containsPoint(R.read(arguments))},_containsPoint:function(e){var s=e.x,u=e.y;return s>=this.x&&u>=this.y&&s<=this.x+this.width&&u<=this.y+this.height},_containsRectangle:function(e){var s=e.x,u=e.y;return s>=this.x&&u>=this.y&&s+e.width<=this.x+this.width&&u+e.height<=this.y+this.height},intersects:function(){var e=et.read(arguments),s=r.read(arguments)||0;return e.x+e.width>this.x-s&&e.y+e.height>this.y-s&&e.x<this.x+this.width+s&&e.y<this.y+this.height+s},intersect:function(){var e=et.read(arguments),s=Math.max(this.x,e.x),u=Math.max(this.y,e.y),h=Math.min(this.x+this.width,e.x+e.width),f=Math.min(this.y+this.height,e.y+e.height);return new et(s,u,h-s,f-u)},unite:function(){var e=et.read(arguments),s=Math.min(this.x,e.x),u=Math.min(this.y,e.y),h=Math.max(this.x+this.width,e.x+e.width),f=Math.max(this.y+this.height,e.y+e.height);return new et(s,u,h-s,f-u)},include:function(){var e=R.read(arguments),s=Math.min(this.x,e.x),u=Math.min(this.y,e.y),h=Math.max(this.x+this.width,e.x),f=Math.max(this.y+this.height,e.y);return new et(s,u,h-s,f-u)},expand:function(){var e=m.read(arguments),s=e.width,u=e.height;return new et(this.x-s/2,this.y-u/2,this.width+s,this.height+u)},scale:function(e,s){return this.expand(this.width*e-this.width,this.height*(s===i?e:s)-this.height)}},r.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(e,s){var u=e.join(""),h=/^[RL]/.test(u);s>=4&&(e[1]+=h?"Y":"X");var f=e[h?0:1],p=e[h?1:0],w="get"+f,y="get"+p,x="set"+f,D="set"+p,P="get"+u,N="set"+u;this[P]=function(O){var I=O?R:gt;return new I(this[w](),this[y](),this,N)},this[N]=function(){var O=R.read(arguments);this[x](O.x),this[D](O.y)}},{beans:!0})),nt=et.extend({initialize:function(s,u,h,f,p,w){this._set(s,u,h,f,!0),this._owner=p,this._setter=w},_set:function(e,s,u,h,f){return this._x=e,this._y=s,this._width=u,this._height=h,f||this._owner[this._setter](this),this}},new function(){var e=et.prototype;return r.each(["x","y","width","height"],function(s){var u=r.capitalize(s),h="_"+s;this["get"+u]=function(){return this[h]},this["set"+u]=function(f){this[h]=f,this._dontNotify||this._owner[this._setter](this)}},r.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(s){var u="set"+s;this[u]=function(){this._dontNotify=!0,e[u].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(s){var u=this._owner;u._changeSelection&&u._changeSelection(2,s)}}))}),Et=r.extend({_class:"Matrix",initialize:function e(s,u){var h=arguments,f=h.length,p=!0;if(f>=6?this._set.apply(this,h):f===1||f===2?s instanceof e?this._set(s._a,s._b,s._c,s._d,s._tx,s._ty,u):Array.isArray(s)?this._set.apply(this,u?s.concat([u]):s):p=!1:f?p=!1:this.reset(),!p)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(e,s,u,h,f,p,w){return this._a=e,this._b=s,this._c=u,this._d=h,this._tx=f,this._ty=p,w||this._changed(),this},_serialize:function(e,s){return r.serialize(this.getValues(),e,!0,s)},_changed:function(){var e=this._owner;e&&(e._applyMatrix?e.transform(null,!0):e._changed(25))},clone:function(){return new Et(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(e){return e===this||e&&this._a===e._a&&this._b===e._b&&this._c===e._c&&this._d===e._d&&this._tx===e._tx&&this._ty===e._ty},toString:function(){var e=W.instance;return"[["+[e.number(this._a),e.number(this._c),e.number(this._tx)].join(", ")+"], ["+[e.number(this._b),e.number(this._d),e.number(this._ty)].join(", ")+"]]"},reset:function(e){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,e||this._changed(),this},apply:function(e,s){var u=this._owner;return u?(u.transform(null,r.pick(e,!0),s),this.isIdentity()):!1},translate:function(){var e=R.read(arguments),s=e.x,u=e.y;return this._tx+=s*this._a+u*this._c,this._ty+=s*this._b+u*this._d,this._changed(),this},scale:function(){var e=arguments,s=R.read(e),u=R.read(e,0,{readNull:!0});return u&&this.translate(u),this._a*=s.x,this._b*=s.x,this._c*=s.y,this._d*=s.y,u&&this.translate(u.negate()),this._changed(),this},rotate:function(e){e*=Math.PI/180;var s=R.read(arguments,1),u=s.x,h=s.y,f=Math.cos(e),p=Math.sin(e),w=u-u*f+h*p,y=h-u*p-h*f,x=this._a,D=this._b,P=this._c,N=this._d;return this._a=f*x+p*P,this._b=f*D+p*N,this._c=-p*x+f*P,this._d=-p*D+f*N,this._tx+=w*x+y*P,this._ty+=w*D+y*N,this._changed(),this},shear:function(){var e=arguments,s=R.read(e),u=R.read(e,0,{readNull:!0});u&&this.translate(u);var h=this._a,f=this._b;return this._a+=s.y*this._c,this._b+=s.y*this._d,this._c+=s.x*h,this._d+=s.x*f,u&&this.translate(u.negate()),this._changed(),this},skew:function(){var e=arguments,s=R.read(e),u=R.read(e,0,{readNull:!0}),h=Math.PI/180,f=new R(Math.tan(s.x*h),Math.tan(s.y*h));return this.shear(f,u)},append:function(e,s){if(e){var u=this._a,h=this._b,f=this._c,p=this._d,w=e._a,y=e._c,x=e._b,D=e._d,P=e._tx,N=e._ty;this._a=w*u+x*f,this._c=y*u+D*f,this._b=w*h+x*p,this._d=y*h+D*p,this._tx+=P*u+N*f,this._ty+=P*h+N*p,s||this._changed()}return this},prepend:function(e,s){if(e){var u=this._a,h=this._b,f=this._c,p=this._d,w=this._tx,y=this._ty,x=e._a,D=e._c,P=e._b,N=e._d,O=e._tx,I=e._ty;this._a=x*u+D*h,this._c=x*f+D*p,this._b=P*u+N*h,this._d=P*f+N*p,this._tx=x*w+D*y+O,this._ty=P*w+N*y+I,s||this._changed()}return this},appended:function(e){return this.clone().append(e)},prepended:function(e){return this.clone().prepend(e)},invert:function(){var e=this._a,s=this._b,u=this._c,h=this._d,f=this._tx,p=this._ty,w=e*h-s*u,y=null;return w&&!isNaN(w)&&isFinite(f)&&isFinite(p)&&(this._a=h/w,this._b=-s/w,this._c=-u/w,this._d=e/w,this._tx=(u*p-h*f)/w,this._ty=(s*f-e*p)/w,y=this),y},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new Et(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var e=this._a*this._d-this._c*this._b;return e&&!isNaN(e)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(e,s,u){return arguments.length<3?this._transformPoint(R.read(arguments)):this._transformCoordinates(e,s,u)},_transformPoint:function(e,s,u){var h=e.x,f=e.y;return s||(s=new R),s._set(h*this._a+f*this._c+this._tx,h*this._b+f*this._d+this._ty,u)},_transformCoordinates:function(e,s,u){for(var h=0,f=2*u;h<f;h+=2){var p=e[h],w=e[h+1];s[h]=p*this._a+w*this._c+this._tx,s[h+1]=p*this._b+w*this._d+this._ty}return s},_transformCorners:function(e){var s=e.x,u=e.y,h=s+e.width,f=u+e.height,p=[s,u,h,u,h,f,s,f];return this._transformCoordinates(p,p,4)},_transformBounds:function(e,s,u){for(var h=this._transformCorners(e),f=h.slice(0,2),p=f.slice(),w=2;w<8;w++){var y=h[w],x=w&1;y<f[x]?f[x]=y:y>p[x]&&(p[x]=y)}return s||(s=new et),s._set(f[0],f[1],p[0]-f[0],p[1]-f[1],u)},inverseTransform:function(){return this._inverseTransform(R.read(arguments))},_inverseTransform:function(e,s,u){var h=this._a,f=this._b,p=this._c,w=this._d,y=this._tx,x=this._ty,D=h*w-f*p,P=null;if(D&&!isNaN(D)&&isFinite(y)&&isFinite(x)){var N=e.x-this._tx,O=e.y-this._ty;s||(s=new R),P=s._set((N*w-O*p)/D,(O*h-N*f)/D,u)}return P},decompose:function(){var e=this._a,s=this._b,u=this._c,h=this._d,f=e*h-s*u,p=Math.sqrt,w=Math.atan2,y=180/Math.PI,x,D,P;if(e!==0||s!==0){var N=p(e*e+s*s);x=Math.acos(e/N)*(s>0?1:-1),D=[N,f/N],P=[w(e*u+s*h,N*N),0]}else if(u!==0||h!==0){var O=p(u*u+h*h);x=Math.asin(u/O)*(h>0?1:-1),D=[f/O,O],P=[0,w(e*u+s*h,O*O)]}else x=0,P=D=[0,0];return{translation:this.getTranslation(),rotation:x*y,scaling:new R(D),skewing:new R(P[0]*y,P[1]*y)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new R(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(e){this.isIdentity()||e.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},r.each(["a","b","c","d","tx","ty"],function(e){var s=r.capitalize(e),u="_"+e;this["get"+s]=function(){return this[u]},this["set"+s]=function(h){this[u]=h,this._changed()}},{})),ot=r.extend({_class:"Line",initialize:function(s,u,h,f,p){var w=!1;arguments.length>=4?(this._px=s,this._py=u,this._vx=h,this._vy=f,w=p):(this._px=s.x,this._py=s.y,this._vx=u.x,this._vy=u.y,w=h),w||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new R(this._px,this._py)},getVector:function(){return new R(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(e,s){return ot.intersect(this._px,this._py,this._vx,this._vy,e._px,e._py,e._vx,e._vy,!0,s)},getSide:function(e,s){return ot.getSide(this._px,this._py,this._vx,this._vy,e.x,e.y,!0,s)},getDistance:function(e){return Math.abs(this.getSignedDistance(e))},getSignedDistance:function(e){return ot.getSignedDistance(this._px,this._py,this._vx,this._vy,e.x,e.y,!0)},isCollinear:function(e){return R.isCollinear(this._vx,this._vy,e._vx,e._vy)},isOrthogonal:function(e){return R.isOrthogonal(this._vx,this._vy,e._vx,e._vy)},statics:{intersect:function(e,s,u,h,f,p,w,y,x,D){x||(u-=e,h-=s,w-=f,y-=p);var P=u*y-h*w;if(!G.isMachineZero(P)){var N=e-f,O=s-p,I=(w*O-y*N)/P,z=(u*O-h*N)/P,U=1e-12,$=-U,k=1+U;if(D||$<I&&I<k&&$<z&&z<k)return D||(I=I<=0?0:I>=1?1:I),new R(e+I*u,s+I*h)}},getSide:function(e,s,u,h,f,p,w,y){w||(u-=e,h-=s);var x=f-e,D=p-s,P=x*h-D*u;return!y&&G.isMachineZero(P)&&(P=(x*u+x*u)/(u*u+h*h),P>=0&&P<=1&&(P=0)),P<0?-1:P>0?1:0},getSignedDistance:function(e,s,u,h,f,p,w){return w||(u-=e,h-=s),u===0?h>0?f-e:e-f:h===0?u<0?p-s:s-p:((f-e)*h-(p-s)*u)/(h>u?h*Math.sqrt(1+u*u/(h*h)):u*Math.sqrt(1+h*h/(u*u)))},getDistance:function(e,s,u,h,f,p,w){return Math.abs(ot.getSignedDistance(e,s,u,h,f,p,w))}}}),ct=B.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(s){B.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new ci(null,null,this),this._view=Te.create(this,s||Xe.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(e,s){return r.serialize(this._children,e,!0,s)},_changed:function(e,s){if(e&1){var u=this._view;u&&(u._needsUpdate=!0,!u._requested&&u._autoUpdate&&u.requestUpdate())}var h=this._changes;if(h&&s){var f=this._changesById,p=s._id,w=f[p];w?w.flags|=e:h.push(f[p]={item:s,flags:e})}},clear:function(){for(var e=this._children,s=e.length-1;s>=0;s--)e[s].remove()},isEmpty:function(){return!this._children.length},remove:function e(){return e.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(e){this._currentStyle.set(e)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new Mt({project:this,insert:!0})},getSymbolDefinitions:function(){var e=[],s={};return this.getItems({class:Rt,match:function(u){var h=u._definition,f=h._id;return s[f]||(s[f]=!0,e.push(h)),!1}}),e},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var e=this._selectionItems,s=[];for(var u in e){var h=e[u],f=h._selection;f&1&&h.isInserted()?s.push(h):f||this._updateSelection(h)}return s},_updateSelection:function(e){var s=e._id,u=this._selectionItems;e._selection?u[s]!==e&&(this._selectionCount++,u[s]=e):u[s]===e&&(this._selectionCount--,delete u[s])},selectAll:function(){for(var e=this._children,s=0,u=e.length;s<u;s++)e[s].setFullySelected(!0)},deselectAll:function(){var e=this._selectionItems;for(var s in e)e[s].setFullySelected(!1)},addLayer:function(e){return this.insertLayer(i,e)},insertLayer:function(e,s){if(s instanceof Mt){s._remove(!1,!0),r.splice(this._children,[s],e,0),s._setProject(this,!0);var u=s._name;u&&s.setName(u),this._changes&&s._changed(5),this._activeLayer||(this._activeLayer=s)}else s=null;return s},_insertItem:function(e,s,u){return s=this.insertLayer(e,s)||(this._activeLayer||this._insertItem(i,new Mt(xt.NO_INSERT),!0)).insertChild(e,s),u&&s.activate&&s.activate(),s},getItems:function(e){return xt._getItems(this,e)},getItem:function(e){return xt._getItems(this,e,null,null,!0)[0]||null},importJSON:function(e){this.activate();var s=this._activeLayer;return r.importJSON(e,s&&s.isEmpty()&&s)},removeOn:function(e){var s=this._removeSets;if(s){e==="mouseup"&&(s.mousedrag=null);var u=s[e];if(u){for(var h in u){var f=u[h];for(var p in s){var w=s[p];w&&w!=u&&delete w[f._id]}f.remove()}s[e]=null}}},draw:function(e,s,u){this._updateVersion++,e.save(),s.applyToContext(e);for(var h=this._children,f=new r({offset:new R(0,0),pixelRatio:u,viewMatrix:s.isIdentity()?null:s,matrices:[new Et],updateMatrix:!0}),p=0,w=h.length;p<w;p++)h[p].draw(e,f);if(e.restore(),this._selectionCount>0){e.save(),e.strokeWidth=1;var y=this._selectionItems,x=this._scope.settings.handleSize,D=this._updateVersion;for(var P in y)y[P]._drawSelection(e,s,x,y,D);e.restore()}}}),xt=r.extend(g,{statics:{extend:function e(s){return s._serializeFields&&(s._serializeFields=r.set({},this.prototype._serializeFields,s._serializeFields)),e.base.apply(this,arguments)},INSERT:{insert:!0},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new Et,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var e=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return r.each(e,function(s){this._events[s]={install:function(u){this.getView()._countItemEvent(u,1)},uninstall:function(u){this.getView()._countItemEvent(u,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:e}})},{initialize:function(){},_initialize:function(e,s){var u=e&&r.isPlainObject(e),h=u&&e.internal===!0,f=this._matrix=new Et,p=u&&e.project||ne.project,w=ne.settings;return this._id=h?null:J.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&w.applyMatrix,s&&f.translate(s),f._owner=this,this._style=new ci(p._currentStyle,this,p),h||u&&e.insert==!1||!w.insertItems&&!(u&&e.insert==!0)?this._setProject(p):(u&&e.parent||p)._insertItem(i,this,!0),u&&e!==xt.NO_INSERT&&e!==xt.INSERT&&this.set(e,{internal:!0,insert:!0,project:!0,parent:!0}),u},_serialize:function(e,s){var u={},h=this;function f(p){for(var w in p){var y=h[w];r.equals(y,w==="leading"?p.fontSize*1.2:p[w])||(u[w]=r.serialize(y,e,w!=="data",s))}}return f(this._serializeFields),this instanceof zt||f(this._style._defaults),[this._class,u]},_changed:function(e){var s=this._symbol,u=this._parent||s,h=this._project;e&8&&(this._bounds=this._position=this._decomposed=i),e&16&&(this._globalMatrix=i),u&&e&72&&xt._clearBoundsCache(u),e&2&&xt._clearBoundsCache(this),h&&h._changed(e,this),s&&s._changed(e)},getId:function(){return this._id},getName:function(){return this._name},setName:function(e){if(this._name&&this._removeNamed(),e===+e+"")throw new Error("Names consisting only of numbers are not supported.");var s=this._getOwner();if(e&&s){var u=s._children,h=s._namedChildren;(h[e]=h[e]||[]).push(this),e in u||(u[e]=this)}this._name=e||i,this._changed(256)},getStyle:function(){return this._style},setStyle:function(e){this.getStyle().set(e)}},r.each(["locked","visible","blendMode","opacity","guide"],function(e){var s=r.capitalize(e),u="_"+e,h={locked:256,visible:265};this["get"+s]=function(){return this[u]},this["set"+s]=function(f){f!=this[u]&&(this[u]=f,this._changed(h[e]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(e){if(e!==this._selection){this._selection=e;var s=this._project;s&&(s._updateSelection(this),this._changed(257))}},_changeSelection:function(e,s){var u=this._selection;this.setSelection(s?u|e:u&~e)},isSelected:function(){if(this._selectChildren){for(var e=this._children,s=0,u=e.length;s<u;s++)if(e[s].isSelected())return!0}return!!(this._selection&1)},setSelected:function(e){if(this._selectChildren)for(var s=this._children,u=0,h=s.length;u<h;u++)s[u].setSelected(e);this._changeSelection(1,e)},isFullySelected:function(){var e=this._children,s=!!(this._selection&1);if(e&&s){for(var u=0,h=e.length;u<h;u++)if(!e[u].isFullySelected())return!1;return!0}return s},setFullySelected:function(e){var s=this._children;if(s)for(var u=0,h=s.length;u<h;u++)s[u].setFullySelected(e);this._changeSelection(1,e)},isClipMask:function(){return this._clipMask},setClipMask:function(e){this._clipMask!=(e=!!e)&&(this._clipMask=e,e&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(e){this._data=e},getPosition:function(e){var s=e?R:gt,u=this._position||(this._position=this._getPositionFromBounds());return new s(u.x,u.y,this,"setPosition")},setPosition:function(){this.translate(R.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(e){return this._pivot?this._matrix._transformPoint(this._pivot):(e||this.getBounds()).getCenter(!0)},getPivot:function(){var e=this._pivot;return e?new gt(e.x,e.y,this,"setPivot"):null},setPivot:function(){this._pivot=R.read(arguments,0,{clone:!0,readNull:!0}),this._position=i}},r.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(e,s){this[s]=function(u){return this.getBounds(u,e)}},{beans:!0,getBounds:function(e,s){var u=s||e instanceof Et,h=r.set({},u?s:e,this._boundsOptions);(!h.stroke||this.getStrokeScaling())&&(h.cacheItem=this);var f=this._getCachedBounds(u&&e,h).rect;return arguments.length?f:new nt(f.x,f.y,f.width,f.height,this,"setBounds")},setBounds:function(){var e=et.read(arguments),s=this.getBounds(),u=this._matrix,h=new Et,f=e.getCenter();h.translate(f),(e.width!=s.width||e.height!=s.height)&&(u.isInvertible()||(u.set(u._backup||new Et().translate(u.getTranslation())),s=this.getBounds()),h.scale(s.width!==0?e.width/s.width:0,s.height!==0?e.height/s.height:0)),f=s.getCenter(),h.translate(-f.x,-f.y),this.transform(h)},_getBounds:function(e,s){var u=this._children;return!u||!u.length?new et:(xt._updateBoundsCache(this,s.cacheItem),xt._getBounds(u,e,s))},_getBoundsCacheKey:function(e,s){return[e.stroke?1:0,e.handle?1:0,s?1:0].join("")},_getCachedBounds:function(e,s,u){e=e&&e._orNullIfIdentity();var h=s.internal&&!u,f=s.cacheItem,p=h?null:this._matrix._orNullIfIdentity(),w=f&&(!e||e.equals(p))&&this._getBoundsCacheKey(s,h),y=this._bounds;if(xt._updateBoundsCache(this._parent||this._symbol,f),w&&y&&w in y){var x=y[w];return{rect:x.rect.clone(),nonscaling:x.nonscaling}}var D=this._getBounds(e||p,s),P=D.rect||D,N=this._style,O=D.nonscaling||N.hasStroke()&&!N.getStrokeScaling();if(w){y||(this._bounds=y={});var x=y[w]={rect:P.clone(),nonscaling:O,internal:h}}return{rect:P,nonscaling:O}},_getStrokeMatrix:function(e,s){var u=this.getStrokeScaling()?null:s&&s.internal?this:this._parent||this._symbol&&this._symbol._item,h=u?u.getViewMatrix().invert():e;return h&&h._shiftless()},statics:{_updateBoundsCache:function(e,s){if(e&&s){var u=s._id,h=e._boundsCache=e._boundsCache||{ids:{},list:[]};h.ids[u]||(h.list.push(s),h.ids[u]=s)}},_clearBoundsCache:function(e){var s=e._boundsCache;if(s){e._bounds=e._position=e._boundsCache=i;for(var u=0,h=s.list,f=h.length;u<f;u++){var p=h[u];p!==e&&(p._bounds=p._position=i,p._boundsCache&&xt._clearBoundsCache(p))}}},_getBounds:function(e,s,u){var h=1/0,f=-h,p=h,w=f,y=!1;u=u||{};for(var x=0,D=e.length;x<D;x++){var P=e[x];if(P._visible&&!P.isEmpty(!0)){var N=P._getCachedBounds(s&&s.appended(P._matrix),u,!0),O=N.rect;h=Math.min(O.x,h),p=Math.min(O.y,p),f=Math.max(O.x+O.width,f),w=Math.max(O.y+O.height,w),N.nonscaling&&(y=!0)}}return{rect:isFinite(h)?new et(h,p,f-h,w-p):new et,nonscaling:y}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var e=this._decompose();return e?e.rotation:0},setRotation:function(e){var s=this.getRotation();if(s!=null&&e!=null){var u=this._decomposed;this.rotate(e-s),u&&(u.rotation=e,this._decomposed=u)}},getScaling:function(){var e=this._decompose(),s=e&&e.scaling;return new gt(s?s.x:1,s?s.y:1,this,"setScaling")},setScaling:function(){var e=this.getScaling(),s=R.read(arguments,0,{clone:!0,readNull:!0});if(e&&s&&!e.equals(s)){var u=this.getRotation(),h=this._decomposed,f=new Et,p=G.isZero;if(p(e.x)||p(e.y))f.translate(h.translation),u&&f.rotate(u),f.scale(s.x,s.y),this._matrix.set(f);else{var w=this.getPosition(!0);f.translate(w),u&&f.rotate(u),f.scale(s.x/e.x,s.y/e.y),u&&f.rotate(-u),f.translate(w.negate()),this.transform(f)}h&&(h.scaling=s,this._decomposed=h)}},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.set.apply(e,arguments)},getGlobalMatrix:function(e){var s=this._globalMatrix;if(s)for(var u=this._parent,h=[];u;){if(!u._globalMatrix){s=null;for(var f=0,p=h.length;f<p;f++)h[f]._globalMatrix=null;break}h.push(u),u=u._parent}if(!s){s=this._globalMatrix=this._matrix.clone();var u=this._parent;u&&s.prepend(u.getGlobalMatrix(!0))}return e?s:s.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(e){(this._applyMatrix=this._canApplyMatrix&&!!e)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(e,s){if(this._project!==e){this._project&&this._installEvents(!1),this._project=e;for(var u=this._children,h=0,f=u&&u.length;h<f;h++)u[h]._setProject(e);s=!0}s&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function e(s){e.base.call(this,s);for(var u=this._children,h=0,f=u&&u.length;h<f;h++)u[h]._installEvents(s)},getLayer:function(){for(var e=this;e=e._parent;)if(e instanceof Mt)return e;return null},getParent:function(){return this._parent},setParent:function(e){return e.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(e){this.removeChildren(),this.addChildren(e)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var e=this._getOwner();return e&&e._children[this._index+1]||null},getPreviousSibling:function(){var e=this._getOwner();return e&&e._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(e){return e===this||e&&this._class===e._class&&this._style.equals(e._style)&&this._matrix.equals(e._matrix)&&this._locked===e._locked&&this._visible===e._visible&&this._blendMode===e._blendMode&&this._opacity===e._opacity&&this._clipMask===e._clipMask&&this._guide===e._guide&&this._equals(e)||!1},_equals:function(e){return r.equals(this._children,e._children)},clone:function(e){var s=new this.constructor(xt.NO_INSERT),u=this._children,h=r.pick(e?e.insert:i,e===i||e===!0),f=r.pick(e?e.deep:i,!0);u&&s.copyAttributes(this),(!u||f)&&s.copyContent(this),u||s.copyAttributes(this),h&&s.insertAbove(this);var p=this._name,w=this._parent;if(p&&w){for(var u=w._children,y=p,x=1;u[p];)p=y+" "+x++;p!==y&&s.setName(p)}return s},copyContent:function(e){for(var s=e._children,u=0,h=s&&s.length;u<h;u++)this.addChild(s[u].clone(!1),!0)},copyAttributes:function(e,s){this.setStyle(e._style);for(var u=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],h=0,f=u.length;h<f;h++){var p=u[h];e.hasOwnProperty(p)&&(this[p]=e[p])}s||this._matrix.set(e._matrix,!0),this.setApplyMatrix(e._applyMatrix),this.setPivot(e._pivot),this.setSelection(e._selection);var w=e._data,y=e._name;this._data=w?r.clone(w):null,y&&this.setName(y)},rasterize:function(e,s){var u,h,f;r.isPlainObject(e)?(u=e.resolution,h=e.insert,f=e.raster):(u=e,h=s),f||(f=new F(xt.NO_INSERT));var p=this.getStrokeBounds(),w=(u||this.getView().getResolution())/72,y=p.getTopLeft().floor(),x=p.getBottomRight().ceil(),D=new m(x.subtract(y)),P=D.multiply(w);if(f.setSize(P,!0),!P.isZero()){var N=f.getContext(!0),O=new Et().scale(w).translate(y.negate());N.save(),O.applyToContext(N),this.draw(N,new r({matrices:[O]})),N.restore()}return f._matrix.set(new Et().translate(y.add(D.divide(2))).scale(1/w)),(h===i||h)&&f.insertAbove(this),f},contains:function(){var e=this._matrix;return e.isInvertible()&&!!this._contains(e._inverseTransform(R.read(arguments)))},_contains:function(e){var s=this._children;if(s){for(var u=s.length-1;u>=0;u--)if(s[u].contains(e))return!0;return!1}return e.isInside(this.getInternalBounds())},isInside:function(){return et.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new $t.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(e,s){return e instanceof xt?this._asPathItem().getIntersections(e._asPathItem(),null,s,!0).length>0:!1}},new function(){function e(){var h=arguments;return this._hitTest(R.read(h),tt.getOptions(h))}function s(){var h=arguments,f=R.read(h),p=tt.getOptions(h),w=[];return this._hitTest(f,new r({all:w},p)),w}function u(h,f,p,w){var y=this._children;if(y)for(var x=y.length-1;x>=0;x--){var D=y[x],P=D!==w&&D._hitTest(h,f,p);if(P&&!f.all)return P}return null}return ct.inject({hitTest:e,hitTestAll:s,_hitTest:u}),{hitTest:e,hitTestAll:s,_hitTestChildren:u}},{_hitTest:function(e,s,u){if(this._locked||!this._visible||this._guide&&!s.guides||this.isEmpty())return null;var h=this._matrix,f=u?u.appended(h):this.getGlobalMatrix().prepend(this.getView()._matrix),p=Math.max(s.tolerance,1e-12),w=s._tolerancePadding=new m($t._getStrokePadding(p,h._shiftless().invert()));if(e=h._inverseTransform(e),!e||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(w.multiply(2))._containsPoint(e))return null;var y=!(s.guides&&!this._guide||s.selected&&!this.isSelected()||s.type&&s.type!==r.hyphenate(this._class)||s.class&&!(this instanceof s.class)),x=s.match,D=this,P,N;function O(M){return M&&x&&!x(M)&&(M=null),M&&s.all&&s.all.push(M),M}function I(M,L){var H=L?P["get"+L]():D.getPosition();if(e.subtract(H).divide(w).length<=1)return new tt(M,D,{name:L?r.hyphenate(L):M,point:H})}var z=s.position,U=s.center,$=s.bounds;if(y&&this._parent&&(z||U||$)){if((U||$)&&(P=this.getInternalBounds()),N=z&&I("position")||U&&I("center","Center"),!N&&$)for(var k=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],X=0;X<8&&!N;X++)N=I("bounds",k[X]);N=O(N)}return N||(N=this._hitTestChildren(e,s,f)||y&&O(this._hitTestSelf(e,s,f,this.getStrokeScaling()?null:f._shiftless().invert()))||null),N&&N.point&&(N.point=h.transform(N.point)),N},_hitTestSelf:function(e,s){if(s.fill&&this.hasFill()&&this._contains(e))return new tt("fill",this)},matches:function(e,s){function u(w,y){for(var x in w)if(w.hasOwnProperty(x)){var D=w[x],P=y[x];if(r.isPlainObject(D)&&r.isPlainObject(P)){if(!u(D,P))return!1}else if(!r.equals(D,P))return!1}return!0}var h=typeof e;if(h==="object"){for(var f in e)if(e.hasOwnProperty(f)&&!this.matches(f,e[f]))return!1;return!0}else{if(h==="function")return e(this);if(e==="match")return s(this);var p=/^(empty|editable)$/.test(e)?this["is"+r.capitalize(e)]():e==="type"?r.hyphenate(this._class):this[e];if(e==="class"){if(typeof s=="function")return this instanceof s;p=this._class}if(typeof s=="function")return!!s(p);if(s){if(s.test)return s.test(p);if(r.isPlainObject(s))return u(s,p)}return r.equals(p,s)}},getItems:function(e){return xt._getItems(this,e,this._matrix)},getItem:function(e){return xt._getItems(this,e,this._matrix,null,!0)[0]||null},statics:{_getItems:function e(s,u,h,f,p){if(!f){var w=typeof u=="object"&&u,y=w&&w.overlapping,x=w&&w.inside,D=y||x,O=D&&et.read([D]);f={items:[],recursive:w&&w.recursive!==!1,inside:!!x,overlapping:!!y,rect:O,path:y&&new $t.Rectangle({rectangle:O,insert:!1})},w&&(u=r.filter({},u,{recursive:!0,inside:!0,overlapping:!0}))}var P=s._children,N=f.items,O=f.rect;h=O&&(h||new Et);for(var I=0,z=P&&P.length;I<z;I++){var U=P[I],$=h&&h.appended(U._matrix),k=!0;if(O){var D=U.getBounds($);if(!O.intersects(D))continue;O.contains(D)||f.overlapping&&(D.contains(O)||f.path.intersects(U,$))||(k=!1)}if(k&&U.matches(u)&&(N.push(U),p)||(f.recursive!==!1&&e(U,u,$,f,p),p&&N.length>0))break}return N}}},{importJSON:function(e){var s=r.importJSON(e,this);return s!==this?this.addChild(s):s},addChild:function(e){return this.insertChild(i,e)},insertChild:function(e,s){var u=s?this.insertChildren(e,[s]):null;return u&&u[0]},addChildren:function(e){return this.insertChildren(this._children.length,e)},insertChildren:function(e,s){var u=this._children;if(u&&s&&s.length>0){s=r.slice(s);for(var h={},f=s.length-1;f>=0;f--){var p=s[f],w=p&&p._id;!p||h[w]?s.splice(f,1):(p._remove(!1,!0),h[w]=!0)}r.splice(u,s,e,0);for(var y=this._project,x=y._changes,f=0,D=s.length;f<D;f++){var p=s[f],P=p._name;p._parent=this,p._setProject(y,!0),P&&p.setName(P),x&&p._changed(5)}this._changed(11)}else s=null;return s},_insertItem:"#insertChild",_insertAt:function(e,s){var u=e&&e._getOwner(),h=e!==this&&u?this:null;return h&&(h._remove(!1,!0),u._insertItem(e._index+s,h)),h},insertAbove:function(e){return this._insertAt(e,1)},insertBelow:function(e){return this._insertAt(e,0)},sendToBack:function(){var e=this._getOwner();return e?e._insertItem(0,this):null},bringToFront:function(){var e=this._getOwner();return e?e._insertItem(i,this):null},appendTop:"#addChild",appendBottom:function(e){return this.insertChild(0,e)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(e){return e._insertItem(i,this)},copyTo:function(e){return this.clone(!1).addTo(e)},reduce:function(e){var s=this._children;if(s&&s.length===1){var u=s[0].reduce(e);return this._parent?(u.insertAbove(this),this.remove()):u.remove(),u}return this},_removeNamed:function(){var e=this._getOwner();if(e){var s=e._children,u=e._namedChildren,h=this._name,f=u[h],p=f?f.indexOf(this):-1;p!==-1&&(s[h]==this&&delete s[h],f.splice(p,1),f.length?s[h]=f[0]:delete u[h])}},_remove:function(e,s){var u=this._getOwner(),h=this._project,f=this._index;return this._style&&this._style._dispose(),u?(this._name&&this._removeNamed(),f!=null&&(h._activeLayer===this&&(h._activeLayer=this.getNextSibling()||this.getPreviousSibling()),r.splice(u._children,null,f,1)),this._installEvents(!1),e&&h._changes&&this._changed(5),s&&u._changed(11,this),this._parent=null,!0):!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(e){var s=e&&e.insertBelow(this);return s&&this.remove(),s},removeChildren:function(e,s){if(!this._children)return null;e=e||0,s=r.pick(s,this._children.length);for(var u=r.splice(this._children,null,e,s-e),h=u.length-1;h>=0;h--)u[h]._remove(!0,!1);return u.length>0&&this._changed(11),u},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var e=0,s=this._children.length;e<s;e++)this._children[e]._index=e;this._changed(11)}},isEmpty:function(e){var s=this._children,u=s?s.length:0;if(e){for(var h=0;h<u;h++)if(!s[h].isEmpty(e))return!1;return!0}return!u},isEditable:function(){for(var e=this;e;){if(!e._visible||e._locked)return!1;e=e._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(e){function s(w){var y=[];do y.unshift(w);while(w=w._parent);return y}for(var u=s(this),h=s(e),f=0,p=Math.min(u.length,h.length);f<p;f++)if(u[f]!=h[f])return u[f]._index<h[f]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(e){return this._getOrder(e)===-1},isBelow:function(e){return this._getOrder(e)===1},isParent:function(e){return this._parent===e},isChild:function(e){return e&&e._parent===this},isDescendant:function(e){for(var s=this;s=s._parent;)if(s===e)return!0;return!1},isAncestor:function(e){return e?e.isDescendant(this):!1},isSibling:function(e){return this._parent===e._parent},isGroupedWith:function(e){for(var s=this._parent;s;){if(s._parent&&/^(Group|Layer|CompoundPath)$/.test(s._class)&&e.isDescendant(s))return!0;s=s._parent}return!1}},r.each(["rotate","scale","shear","skew"],function(e){var s=e==="rotate";this[e]=function(){var u=arguments,h=(s?r:R).read(u),f=R.read(u,0,{readNull:!0});return this.transform(new Et()[e](h,f||this.getPosition(!0)))}},{translate:function(){var e=new Et;return this.transform(e.translate.apply(e,arguments))},transform:function(e,s,u){var h=this._matrix,f=e&&!e.isIdentity(),p=u&&this._canApplyMatrix||this._applyMatrix&&(f||!h.isIdentity()||s&&this._children);if(!f&&!p)return this;if(f){!e.isInvertible()&&h.isInvertible()&&(h._backup=h.getValues()),h.prepend(e,!0);var w=this._style,y=w.getFillColor(!0),x=w.getStrokeColor(!0);y&&y.transform(e),x&&x.transform(e)}if(p&&(p=this._transformContent(h,s,u))){var D=this._pivot;D&&h._transformPoint(D,D,!0),h.reset(!0),u&&this._canApplyMatrix&&(this._applyMatrix=!0)}var P=this._bounds,N=this._position;(f||p)&&this._changed(25);var O=f&&P&&e.decompose();if(O&&O.skewing.isZero()&&O.rotation%90===0){for(var I in P){var z=P[I];if(z.nonscaling)delete P[I];else if(p||!z.internal){var U=z.rect;e._transformBounds(U,U)}}this._bounds=P;var $=P[this._getBoundsCacheKey(this._boundsOptions||{})];$&&(this._position=this._getPositionFromBounds($.rect))}else f&&N&&this._pivot&&(this._position=e._transformPoint(N,N));return this},_transformContent:function(e,s,u){var h=this._children;if(h){for(var f=0,p=h.length;f<p;f++)h[f].transform(e,s,u);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(R.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(R.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(R.read(arguments))},localToParent:function(){return this._matrix._transformPoint(R.read(arguments))},fitBounds:function(e,s){e=et.read(arguments);var u=this.getBounds(),h=u.height/u.width,f=e.height/e.width,p=(s?h>f:h<f)?e.width/u.width:e.height/u.height,w=new et(new R,new m(u.width*p,u.height*p));w.setCenter(e.getCenter()),this.setBounds(w)}}),{_setStyles:function(e,s,u){var h=this._style,f=this._matrix;if(h.hasFill()&&(e.fillStyle=h.getFillColor().toCanvasStyle(e,f)),h.hasStroke()){e.strokeStyle=h.getStrokeColor().toCanvasStyle(e,f),e.lineWidth=h.getStrokeWidth();var p=h.getStrokeJoin(),w=h.getStrokeCap(),y=h.getMiterLimit();if(p&&(e.lineJoin=p),w&&(e.lineCap=w),y&&(e.miterLimit=y),ne.support.nativeDash){var x=h.getDashArray(),D=h.getDashOffset();x&&x.length&&("setLineDash"in e?(e.setLineDash(x),e.lineDashOffset=D):(e.mozDash=x,e.mozDashOffset=D))}}if(h.hasShadow()){var P=s.pixelRatio||1,N=u._shiftless().prepend(new Et().scale(P,P)),O=N.transform(new R(h.getShadowBlur(),0)),I=N.transform(this.getShadowOffset());e.shadowColor=h.getShadowColor().toCanvasStyle(e),e.shadowBlur=O.getLength(),e.shadowOffsetX=I.x,e.shadowOffsetY=I.y}},draw:function(e,s,u){if(this._updateVersion=this._project._updateVersion,!(!this._visible||this._opacity===0)){var h=s.matrices,f=s.viewMatrix,p=this._matrix,w=h[h.length-1].appended(p);if(w.isInvertible()){f=f?f.appended(w):w,h.push(w),s.updateMatrix&&(this._globalMatrix=w);var y=this._blendMode,x=G.clamp(this._opacity,0,1),D=y==="normal",P=$n.nativeModes[y],N=D&&x===1||s.dontStart||s.clip||(P||D&&x<1)&&this._canComposite(),O=s.pixelRatio||1,I,z,U;if(!N){var $=this.getStrokeBounds(f);if(!$.width||!$.height){h.pop();return}U=s.offset,z=s.offset=$.getTopLeft().floor(),I=e,e=Xe.getContext($.getSize().ceil().add(1).multiply(O)),O!==1&&e.scale(O,O)}e.save();var k=u?u.appended(p):this._canScaleStroke&&!this.getStrokeScaling(!0)&&f,X=!N&&s.clipItem,M=!k||X;if(N?(e.globalAlpha=x,P&&(e.globalCompositeOperation=y)):M&&e.translate(-z.x,-z.y),M&&(N?p:f).applyToContext(e),X&&s.clipItem.draw(e,s.extend({clip:!0})),k){e.setTransform(O,0,0,O,0,0);var L=s.offset;L&&e.translate(-L.x,-L.y)}this._draw(e,s,f,k),e.restore(),h.pop(),s.clip&&!s.dontFinish&&e.clip(this.getFillRule()),N||($n.process(y,e,I,x,z.subtract(U).multiply(O)),Xe.release(e),s.offset=U)}}},_isUpdated:function(e){var s=this._parent;if(s instanceof ee)return s._isUpdated(e);var u=this._updateVersion===e;return!u&&s&&s._visible&&s._isUpdated(e)&&(this._updateVersion=e,u=!0),u},_drawSelection:function(e,s,u,h,f){var p=this._selection,w=p&1,y=p&2||w&&this._selectBounds,x=p&4;if(this._drawSelected||(w=!1),(w||y||x)&&this._isUpdated(f)){var D,P=this.getSelectedColor(!0)||(D=this.getLayer())&&D.getSelectedColor(!0),N=s.appended(this.getGlobalMatrix(!0)),O=u/2;if(e.strokeStyle=e.fillStyle=P?P.toCanvasStyle(e):"#009dec",w&&this._drawSelected(e,N,h),x){var I=this.getPosition(!0),z=this._parent,U=z?z.localToGlobal(I):I,$=U.x,k=U.y;e.beginPath(),e.arc($,k,O,0,Math.PI*2,!0),e.stroke();for(var X=[[0,-1],[1,0],[0,1],[-1,0]],M=O,L=u+1,H=0;H<4;H++){var Z=X[H],at=Z[0],ut=Z[1];e.moveTo($+at*M,k+ut*M),e.lineTo($+at*L,k+ut*L),e.stroke()}}if(y){var lt=N._transformCorners(this.getInternalBounds());e.beginPath();for(var H=0;H<8;H++)e[H?"lineTo":"moveTo"](lt[H],lt[++H]);e.closePath(),e.stroke();for(var H=0;H<8;H++)e.fillRect(lt[H]-O,lt[++H]-O,u,u)}}},_canComposite:function(){return!1}},r.each(["down","drag","up","move"],function(e){this["removeOn"+r.capitalize(e)]=function(){var s={};return s[e]=!0,this.removeOn(s)}},{removeOn:function(e){for(var s in e)if(e[s]){var u="mouse"+s,h=this._project,f=h._removeSets=h._removeSets||{};f[u]=f[u]||{},f[u][this._id]=this}return this}}),{tween:function(e,s,u){u||(u=s,s=e,e=null,u||(u=s,s=null));var h=u&&u.easing,f=u&&u.start,p=u!=null&&(typeof u=="number"?u:u.duration),w=new Pi(this,e,s,p,h,f);function y(x){w._handleFrame(x.time*1e3),w.running||this.off("frame",y)}return p&&this.on("frame",y),w},tweenTo:function(e,s){return this.tween(null,e,s)},tweenFrom:function(e,s){return this.tween(e,null,s)}}),zt=xt.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(s){this._children=[],this._namedChildren={},this._initialize(s)||this.addChildren(Array.isArray(s)?s:arguments)},_changed:function e(s){e.base.call(this,s),s&2050&&(this._clipItem=i)},_getClipItem:function(){var e=this._clipItem;if(e===i){e=null;for(var s=this._children,u=0,h=s.length;u<h;u++)if(s[u]._clipMask){e=s[u];break}this._clipItem=e}return e},isClipped:function(){return!!this._getClipItem()},setClipped:function(e){var s=this.getFirstChild();s&&s.setClipMask(e)},_getBounds:function e(s,u){var h=this._getClipItem();return h?h._getCachedBounds(h._matrix.prepended(s),r.set({},u,{stroke:!1})):e.base.call(this,s,u)},_hitTestChildren:function e(s,u,h){var f=this._getClipItem();return(!f||f.contains(s))&&e.base.call(this,s,u,h,f)},_draw:function(e,s){var u=s.clip,h=!u&&this._getClipItem();s=s.extend({clipItem:h,clip:!1}),u?(e.beginPath(),s.dontStart=s.dontFinish=!0):h&&h.draw(e,s.extend({clip:!0}));for(var f=this._children,p=0,w=f.length;p<w;p++){var y=f[p];y!==h&&y.draw(e,s)}}}),Mt=zt.extend({_class:"Layer",initialize:function(){zt.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function e(){return this._parent?e.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),T=xt.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(s,u){this._initialize(s,u)},_equals:function(e){return this._type===e._type&&this._size.equals(e._size)&&r.equals(this._radius,e._radius)},copyContent:function(e){this.setType(e._type),this.setSize(e._size),this.setRadius(e._radius)},getType:function(){return this._type},setType:function(e){this._type=e},getShape:"#getType",setShape:"#setType",getSize:function(){var e=this._size;return new it(e.width,e.height,this,"setSize")},setSize:function(){var e=m.read(arguments);if(!this._size)this._size=e.clone();else if(!this._size.equals(e)){var s=this._type,u=e.width,h=e.height;s==="rectangle"?this._radius.set(m.min(this._radius,e.divide(2).abs())):s==="circle"?(u=h=(u+h)/2,this._radius=u/2):s==="ellipse"&&this._radius._set(u/2,h/2),this._size._set(u,h),this._changed(9)}},getRadius:function(){var e=this._radius;return this._type==="circle"?e:new it(e.width,e.height,this,"setRadius")},setRadius:function(e){var s=this._type;if(s==="circle"){if(e===this._radius)return;var u=e*2;this._radius=e,this._size._set(u,u)}else if(e=m.read(arguments),!this._radius)this._radius=e.clone();else{if(this._radius.equals(e))return;if(this._radius.set(e),s==="rectangle"){var u=m.max(this._size,e.multiply(2));this._size.set(u)}else s==="ellipse"&&this._size._set(e.width*2,e.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(e){var s=new $t[r.capitalize(this._type)]({center:new R,size:this._size,radius:this._radius,insert:!1});return s.copyAttributes(this),ne.settings.applyMatrix&&s.setApplyMatrix(!0),(e===i||e)&&s.insertAbove(this),s},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(e,s,u,h){var f=this._style,p=f.hasFill(),w=f.hasStroke(),y=s.dontFinish||s.clip,x=!h;if(p||w||y){var D=this._type,P=this._radius,N=D==="circle";if(s.dontStart||e.beginPath(),x&&N)e.arc(0,0,P,0,Math.PI*2,!0);else{var O=N?P:P.width,I=N?P:P.height,z=this._size,U=z.width,$=z.height;if(x&&D==="rectangle"&&O===0&&I===0)e.rect(-U/2,-$/2,U,$);else{var k=U/2,X=$/2,M=1-.5522847498307936,L=O*M,H=I*M,Z=[-k,-X+I,-k,-X+H,-k+L,-X,-k+O,-X,k-O,-X,k-L,-X,k,-X+H,k,-X+I,k,X-I,k,X-H,k-L,X,k-O,X,-k+O,X,-k+L,X,-k,X-H,-k,X-I];h&&h.transform(Z,Z,32),e.moveTo(Z[0],Z[1]),e.bezierCurveTo(Z[2],Z[3],Z[4],Z[5],Z[6],Z[7]),k!==O&&e.lineTo(Z[8],Z[9]),e.bezierCurveTo(Z[10],Z[11],Z[12],Z[13],Z[14],Z[15]),X!==I&&e.lineTo(Z[16],Z[17]),e.bezierCurveTo(Z[18],Z[19],Z[20],Z[21],Z[22],Z[23]),k!==O&&e.lineTo(Z[24],Z[25]),e.bezierCurveTo(Z[26],Z[27],Z[28],Z[29],Z[30],Z[31])}}e.closePath()}!y&&(p||w)&&(this._setStyles(e,s,u),p&&(e.fill(f.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),w&&e.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(e,s){var u=new et(this._size).setCenter(0,0),h=this._style,f=s.stroke&&h.hasStroke()&&h.getStrokeWidth();return e&&(u=e._transformBounds(u)),f?u.expand($t._getStrokePadding(f,this._getStrokeMatrix(e,s))):u}},new function(){function e(u,h,f){var p=u._radius;if(!p.isZero())for(var w=u._size.divide(2),y=1;y<=4;y++){var x=new R(y>1&&y<4?-1:1,y>2?-1:1),D=x.multiply(w),P=D.subtract(x.multiply(p)),N=new et(f?D.add(x.multiply(f)):D,P);if(N.contains(h))return{point:P,quadrant:y}}}function s(u,h,f,p){var w=u.divide(h);return(!p||w.isInQuadrant(p))&&w.subtract(w.normalize()).multiply(h).divide(f).length<=1}return{_contains:function u(h){if(this._type==="rectangle"){var f=e(this,h);return f?h.subtract(f.point).divide(this._radius).getLength()<=1:u.base.call(this,h)}else return h.divide(this.size).getLength()<=.5},_hitTestSelf:function u(h,f,p,w){var y=!1,x=this._style,D=f.stroke&&x.hasStroke(),P=f.fill&&x.hasFill();if(D||P){var N=this._type,O=this._radius,I=D?x.getStrokeWidth()/2:0,z=f._tolerancePadding.add($t._getStrokePadding(I,!x.getStrokeScaling()&&w));if(N==="rectangle"){var U=z.multiply(2),$=e(this,h,U);if($)y=s(h.subtract($.point),O,z,$.quadrant);else{var k=new et(this._size).setCenter(0,0),X=k.expand(U),M=k.expand(U.negate());y=X._containsPoint(h)&&!M._containsPoint(h)}}else y=s(h,O,z)}return y?new tt(D?"stroke":"fill",this):u.base.apply(this,arguments)}}},{statics:new function(){function e(s,u,h,f,p){var w=r.create(T.prototype);return w._type=s,w._size=h,w._radius=f,w._initialize(r.getNamed(p),u),w}return{Circle:function(){var s=arguments,u=R.readNamed(s,"center"),h=r.readNamed(s,"radius");return e("circle",u,new m(h*2),h,s)},Rectangle:function(){var s=arguments,u=et.readNamed(s,"rectangle"),h=m.min(m.readNamed(s,"radius"),u.getSize(!0).divide(2));return e("rectangle",u.getCenter(!0),u.getSize(!0),h,s)},Ellipse:function(){var s=arguments,u=T._readEllipse(s),h=u.radius;return e("ellipse",u.center,h.multiply(2),h,s)},_readEllipse:function(s){var u,h;if(r.hasNamed(s,"radius"))u=R.readNamed(s,"center"),h=m.readNamed(s,"radius");else{var f=et.readNamed(s,"rectangle");u=f.getCenter(!0),h=f.getSize(!0).divide(2)}return{center:u,radius:h}}}}}),F=xt.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(s,u){if(!this._initialize(s,u!==i&&R.read(arguments))){var h,f=typeof s,p=f==="string"?l.getElementById(s):f==="object"?s:null;if(p&&p!==xt.NO_INSERT){if(p.getContext||p.naturalHeight!=null)h=p;else if(p){var w=m.read(arguments);w.isZero()||(h=Xe.getCanvas(w))}}h?this.setImage(h):this.setSource(s)}this._size||(this._size=new m,this._loaded=!1)},_equals:function(e){return this.getSource()===e.getSource()},copyContent:function(e){var s=e._image,u=e._canvas;if(s)this._setImage(s);else if(u){var h=Xe.getCanvas(e._size);h.getContext("2d").drawImage(u,0,0),this._setImage(h)}this._crossOrigin=e._crossOrigin},getSize:function(){var e=this._size;return new it(e?e.width:0,e?e.height:0,this,"setSize")},setSize:function(e,s){var u=m.read(arguments);if(u.equals(this._size))s&&this.clear();else if(u.width>0&&u.height>0){var h=!s&&this.getElement();this._setImage(Xe.getCanvas(u)),h&&this.getContext(!0).drawImage(h,0,0,u.width,u.height)}else this._canvas&&Xe.release(this._canvas),this._size=u.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(e){this.setSize(e,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(e){this.setSize(this.getWidth(),e)},getLoaded:function(){return this._loaded},isEmpty:function(){var e=this._size;return!e||e.width===0&&e.height===0},getResolution:function(){var e=this._matrix,s=new R(0,0).transform(e),u=new R(1,0).transform(e).subtract(s),h=new R(0,1).transform(e).subtract(s);return new m(72/u.getLength(),72/h.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(e){var s=this;function u(h){var f=s.getView(),p=h&&h.type||"load";f&&s.responds(p)&&(ne=f._scope,s.emit(p,new Fi(h)))}this._setImage(e),this._loaded?setTimeout(u,0):e&&Je.add(e,{load:function(h){s._setImage(e),u(h)},error:u})},_setImage:function(e){this._canvas&&Xe.release(this._canvas),e&&e.getContext?(this._image=null,this._canvas=e,this._loaded=!0):(this._image=e,this._canvas=null,this._loaded=!!(e&&e.src&&e.complete)),this._size=new m(e?e.naturalWidth||e.width:0,e?e.naturalHeight||e.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var e=Xe.getContext(this._size);try{this._image&&e.drawImage(this._image,0,0),this._canvas=e.canvas}catch{Xe.release(e)}}return this._canvas},setCanvas:"#setImage",getContext:function(e){return this._context||(this._context=this.getCanvas().getContext("2d")),e&&(this._image=null,this._changed(1025)),this._context},setContext:function(e){this._context=e},getSource:function(){var e=this._image;return e&&e.src||this.toDataURL()},setSource:function(e){var s=new t.Image,u=this._crossOrigin;u&&(s.crossOrigin=u),e&&(s.src=e),this.setImage(s)},getCrossOrigin:function(){var e=this._image;return e&&e.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(e){this._crossOrigin=e;var s=this._image;s&&(s.crossOrigin=e)},getSmoothing:function(){return this._smoothing},setSmoothing:function(e){this._smoothing=typeof e=="string"?e:e?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var e=et.read(arguments),s=Xe.getContext(e.getSize());return s.drawImage(this.getCanvas(),e.x,e.y,e.width,e.height,0,0,e.width,e.height),s.canvas},getSubRaster:function(){var e=et.read(arguments),s=new F(xt.NO_INSERT);return s._setImage(this.getSubCanvas(e)),s.translate(e.getCenter().subtract(this.getSize().divide(2))),s._matrix.prepend(this._matrix),s.insertAbove(this),s},toDataURL:function(){var e=this._image,s=e&&e.src;if(/^data:/.test(s))return s;var u=this.getCanvas();return u?u.toDataURL.apply(u,arguments):null},drawImage:function(e){var s=R.read(arguments,1);this.getContext(!0).drawImage(e,s.x,s.y)},getAverageColor:function(e){var s,u;if(e?e instanceof ve?(u=e,s=e.getBounds()):typeof e=="object"&&("width"in e?s=new et(e):"x"in e&&(s=new et(e.x-.5,e.y-.5,1,1))):s=this.getBounds(),!s)return null;var h=32,f=Math.min(s.width,h),p=Math.min(s.height,h),w=F._sampleContext;w?w.clearRect(0,0,h+1,h+1):w=F._sampleContext=Xe.getContext(new m(h)),w.save();var y=new Et().scale(f/s.width,p/s.height).translate(-s.x,-s.y);y.applyToContext(w),u&&u.draw(w,new r({clip:!0,matrices:[y]})),this._matrix.applyToContext(w);var x=this.getElement(),D=this._size;x&&w.drawImage(x,-D.width/2,-D.height/2),w.restore();for(var P=w.getImageData(.5,.5,Math.ceil(f),Math.ceil(p)).data,N=[0,0,0],O=0,I=0,z=P.length;I<z;I+=4){var U=P[I+3];O+=U,U/=255,N[0]+=P[I]*U,N[1]+=P[I+1]*U,N[2]+=P[I+2]*U}for(var I=0;I<3;I++)N[I]/=O;return O?fe.read(N):null},getPixel:function(){var e=R.read(arguments),s=this.getContext().getImageData(e.x,e.y,1,1).data;return new fe("rgb",[s[0]/255,s[1]/255,s[2]/255],s[3]/255)},setPixel:function(){var e=arguments,s=R.read(e),u=fe.read(e),h=u._convert("rgb"),f=u._alpha,p=this.getContext(!0),w=p.createImageData(1,1),y=w.data;y[0]=h[0]*255,y[1]=h[1]*255,y[2]=h[2]*255,y[3]=f!=null?f*255:255,p.putImageData(w,s.x,s.y)},clear:function(){var e=this._size;this.getContext(!0).clearRect(0,0,e.width+1,e.height+1)},createImageData:function(){var e=m.read(arguments);return this.getContext().createImageData(e.width,e.height)},getImageData:function(){var e=et.read(arguments);return e.isEmpty()&&(e=new et(this._size)),this.getContext().getImageData(e.x,e.y,e.width,e.height)},putImageData:function(e){var s=R.read(arguments,1);this.getContext(!0).putImageData(e,s.x,s.y)},setImageData:function(e){this.setSize(e),this.getContext(!0).putImageData(e,0,0)},_getBounds:function(e,s){var u=new et(this._size).setCenter(0,0);return e?e._transformBounds(u):u},_hitTestSelf:function(e){if(this._contains(e)){var s=this;return new tt("pixel",s,{offset:e.add(s._size.divide(2)).round(),color:{get:function(){return s.getPixel(this.offset)}}})}},_draw:function(e,s,u){var h=this.getElement();if(h&&h.width>0&&h.height>0){e.globalAlpha=G.clamp(this._opacity,0,1),this._setStyles(e,s,u);var f=this._smoothing,p=f==="off";Ge.setPrefixed(e,p?"imageSmoothingEnabled":"imageSmoothingQuality",p?!1:f),e.drawImage(h,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),Rt=xt.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(s,u){this._initialize(s,u!==i&&R.read(arguments,1))||this.setDefinition(s instanceof se?s:new se(s))},_equals:function(e){return this._definition===e._definition},copyContent:function(e){this.setDefinition(e._definition)},getDefinition:function(){return this._definition},setDefinition:function(e){this._definition=e,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(e,s){var u=this._definition._item;return u._getCachedBounds(u._matrix.prepended(e),s)},_hitTestSelf:function(e,s,u){var h=s.extend({all:!1}),f=this._definition._item._hitTest(e,h,u);return f&&(f.item=this),f},_draw:function(e,s){this._definition._item.draw(e,s)}}),se=r.extend({_class:"SymbolDefinition",initialize:function(s,u){this._id=J.get(),this.project=ne.project,s&&this.setItem(s,u)},_serialize:function(e,s){return s.add(this,function(){return r.serialize([this._class,this._item],e,!1,s)})},_changed:function(e){e&8&&xt._clearBoundsCache(this),e&1&&this.project._changed(e)},getItem:function(){return this._item},setItem:function(e,s){e._symbol&&(e=e.clone()),this._item&&(this._item._symbol=null),this._item=e,e.remove(),e.setSelected(!1),s||e.setPosition(new R),e._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(e){return new Rt(this,e)},clone:function(){return new se(this._item.clone(!1))},equals:function(e){return e===this||e&&this._item.equals(e._item)||!1}}),tt=r.extend({_class:"HitResult",initialize:function(s,u,h){this.type=s,this.item=u,h&&this.inject(h)},statics:{getOptions:function(e){var s=e&&r.read(e);return new r({type:null,tolerance:ne.settings.hitTolerance,fill:!s,stroke:!s,segments:!s,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},s)}}}),Zt=r.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(s,u,h,f,p,w){var y=arguments.length,x,D,P,N;y>0&&(s==null||typeof s=="object"?y===1&&s&&"point"in s?(x=s.point,D=s.handleIn,P=s.handleOut,N=s.selection):(x=s,D=u,P=h,N=f):(x=[s,u],D=h!==i?[h,f]:null,P=p!==i?[p,w]:null)),new Ee(x,this,"_point"),new Ee(D,this,"_handleIn"),new Ee(P,this,"_handleOut"),N&&this.setSelection(N)},_serialize:function(e,s){var u=this._point,h=this._selection,f=h||this.hasHandles()?[u,this._handleIn,this._handleOut]:u;return h&&f.push(h),r.serialize(f,e,!0,s)},_changed:function(e){var s=this._path;if(s){var u=s._curves,h=this._index,f;u&&((!e||e===this._point||e===this._handleIn)&&(f=h>0?u[h-1]:s._closed?u[u.length-1]:null)&&f._changed(),(!e||e===this._point||e===this._handleOut)&&(f=u[h])&&f._changed()),s._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(R.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(R.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(R.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var e=this._handleIn,s=this._handleOut;return!e.isZero()&&!s.isZero()&&e.isCollinear(s)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(e){var s=this._selection,u=this._path;this._selection=e=e||0,u&&e!==s&&(u._updateSelection(this,s,e),u._changed(257))},_changeSelection:function(e,s){var u=this._selection;this.setSelection(s?u|e:u&~e)},isSelected:function(){return!!(this._selection&7)},setSelected:function(e){this._changeSelection(7,e)},getIndex:function(){return this._index!==i?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var e=this._path,s=this._index;return e?(s>0&&!e._closed&&s===e._segments.length-1&&s--,e.getCurves()[s]||null):null},getLocation:function(){var e=this.getCurve();return e?new re(e,this===e._segment1?0:1):null},getNext:function(){var e=this._path&&this._path._segments;return e&&(e[this._index+1]||this._path._closed&&e[0])||null},smooth:function(e,s,u){var h=e||{},f=h.type,p=h.factor,w=this.getPrevious(),y=this.getNext(),x=(w||this)._point,D=this._point,P=(y||this)._point,N=x.getDistance(D),O=D.getDistance(P);if(!f||f==="catmull-rom"){var I=p===i?.5:p,z=Math.pow(N,I),U=z*z,$=Math.pow(O,I),k=$*$;if(!s&&w){var X=2*k+3*$*z+U,M=3*$*($+z);this.setHandleIn(M!==0?new R((k*x._x+X*D._x-U*P._x)/M-D._x,(k*x._y+X*D._y-U*P._y)/M-D._y):new R)}if(!u&&y){var X=2*U+3*z*$+k,M=3*z*(z+$);this.setHandleOut(M!==0?new R((U*P._x+X*D._x-k*x._x)/M-D._x,(U*P._y+X*D._y-k*x._y)/M-D._y):new R)}}else if(f==="geometric"){if(w&&y){var L=x.subtract(P),H=p===i?.4:p,Z=H*N/(N+O);s||this.setHandleIn(L.multiply(Z)),u||this.setHandleOut(L.multiply(Z-H))}}else throw new Error("Smoothing method '"+f+"' not supported.")},getPrevious:function(){var e=this._path&&this._path._segments;return e&&(e[this._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var e=this._path;return e&&this._index===e._segments.length-1||!1},reverse:function(){var e=this._handleIn,s=this._handleOut,u=e.clone();e.set(s),s.set(u)},reversed:function(){return new Zt(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new Zt(this._point,this._handleIn,this._handleOut)},equals:function(e){return e===this||e&&this._class===e._class&&this._point.equals(e._point)&&this._handleIn.equals(e._handleIn)&&this._handleOut.equals(e._handleOut)||!1},toString:function(){var e=["point: "+this._point];return this._handleIn.isZero()||e.push("handleIn: "+this._handleIn),this._handleOut.isZero()||e.push("handleOut: "+this._handleOut),"{ "+e.join(", ")+" }"},transform:function(e){this._transformCoordinates(e,new Array(6),!0),this._changed()},interpolate:function(e,s,u){var h=1-u,f=u,p=e._point,w=s._point,y=e._handleIn,x=s._handleIn,D=s._handleOut,P=e._handleOut;this._point._set(h*p._x+f*w._x,h*p._y+f*w._y,!0),this._handleIn._set(h*y._x+f*x._x,h*y._y+f*x._y,!0),this._handleOut._set(h*P._x+f*D._x,h*P._y+f*D._y,!0),this._changed()},_transformCoordinates:function(e,s,u){var h=this._point,f=!u||!this._handleIn.isZero()?this._handleIn:null,p=!u||!this._handleOut.isZero()?this._handleOut:null,w=h._x,y=h._y,x=2;return s[0]=w,s[1]=y,f&&(s[x++]=f._x+w,s[x++]=f._y+y),p&&(s[x++]=p._x+w,s[x++]=p._y+y),e&&(e._transformCoordinates(s,s,x/2),w=s[0],y=s[1],u?(h._x=w,h._y=y,x=2,f&&(f._x=s[x++]-w,f._y=s[x++]-y),p&&(p._x=s[x++]-w,p._y=s[x++]-y)):(f||(s[x++]=w,s[x++]=y),p||(s[x++]=w,s[x++]=y))),s}}),Ee=R.extend({initialize:function(s,u,h){var f,p,w;if(!s)f=p=0;else if((f=s[0])!==i)p=s[1];else{var y=s;(f=y.x)===i&&(y=R.read(arguments),f=y.x),p=y.y,w=y.selected}this._x=f,this._y=p,this._owner=u,u[h]=this,w&&this.setSelected(!0)},_set:function(e,s){return this._x=e,this._y=s,this._owner._changed(this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner._changed(this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner._changed(this)},isZero:function(){var e=G.isZero;return e(this._x)&&e(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){var e=this._owner;return this===e._point?1:this===e._handleIn?2:this===e._handleOut?4:0}}),Dt=r.extend({_class:"Curve",beans:!0,initialize:function(s,u,h,f,p,w,y,x){var D=arguments.length,P,N,O,I,z,U;D===3?(this._path=s,P=u,N=h):D?D===1?"segment1"in s?(P=new Zt(s.segment1),N=new Zt(s.segment2)):"point1"in s?(O=s.point1,z=s.handle1,U=s.handle2,I=s.point2):Array.isArray(s)&&(O=[s[0],s[1]],I=[s[6],s[7]],z=[s[2]-s[0],s[3]-s[1]],U=[s[4]-s[6],s[5]-s[7]]):D===2?(P=new Zt(s),N=new Zt(u)):D===4?(O=s,z=u,U=h,I=f):D===8&&(O=[s,u],I=[y,x],z=[h-s,f-u],U=[p-y,w-x]):(P=new Zt,N=new Zt),this._segment1=P||new Zt(O,null,z),this._segment2=N||new Zt(I,U,null)},_serialize:function(e,s){return r.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],e,!0,s)},_changed:function(){this._length=this._bounds=i},clone:function(){return new Dt(this._segment1,this._segment2)},toString:function(){var e=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||e.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||e.push("handle2: "+this._segment2._handleIn),e.push("point2: "+this._segment2._point),"{ "+e.join(", ")+" }"},classify:function(){return Dt.classify(this.getValues())},remove:function(){var e=!1;if(this._path){var s=this._segment2,u=s._handleOut;e=s.remove(),e&&this._segment1._handleOut.set(u)}return e},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(R.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(R.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(R.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(R.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index+1]||this._path._closed&&e[0])||null},getPrevious:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var e=this._path;return e&&this._segment1._index===e._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(e){this.getPoint1().setSelected(e),this.getHandle1().setSelected(e),this.getHandle2().setSelected(e),this.getPoint2().setSelected(e)},getValues:function(e){return Dt.getValues(this._segment1,this._segment2,e)},getPoints:function(){for(var e=this.getValues(),s=[],u=0;u<8;u+=2)s.push(new R(e[u],e[u+1]));return s}},{getLength:function(){return this._length==null&&(this._length=Dt.getLength(this.getValues(),0,1)),this._length},getArea:function(){return Dt.getArea(this.getValues())},getLine:function(){return new ot(this._segment1._point,this._segment2._point)},getPart:function(e,s){return new Dt(Dt.getPart(this.getValues(),e,s))},getPartLength:function(e,s){return Dt.getLength(this.getValues(),e,s)},divideAt:function(e){return this.divideAtTime(e&&e.curve===this?e.time:this.getTimeAt(e))},divideAtTime:function(e,s){var u=1e-8,h=1-u,f=null;if(e>=u&&e<=h){var p=Dt.subdivide(this.getValues(),e),w=p[0],y=p[1],x=s||this.hasHandles(),D=this._segment1,P=this._segment2,N=this._path;x&&(D._handleOut._set(w[2]-w[0],w[3]-w[1]),P._handleIn._set(y[4]-y[6],y[5]-y[7]));var O=w[6],I=w[7],z=new Zt(new R(O,I),x&&new R(w[4]-O,w[5]-I),x&&new R(y[2]-O,y[3]-I));N?(N.insert(D._index+1,z),f=this.getNext()):(this._segment2=z,this._changed(),f=new Dt(z,P))}return f},splitAt:function(e){var s=this._path;return s?s.splitAt(e):null},splitAtTime:function(e){return this.splitAt(this.getLocationAtTime(e))},divide:function(e,s){return this.divideAtTime(e===i?.5:s?e:this.getTimeAt(e))},split:function(e,s){return this.splitAtTime(e===i?.5:s?e:this.getTimeAt(e))},reversed:function(){return new Dt(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(e,s,u,h){var f=e._point,p=e._handleOut,w=s._handleIn,y=s._point,x=f.x,D=f.y,P=y.x,N=y.y,O=h?[x,D,x,D,P,N,P,N]:[x,D,x+p._x,D+p._y,P+w._x,N+w._y,P,N];return u&&u._transformCoordinates(O,O,4),O},subdivide:function(e,s){var u=e[0],h=e[1],f=e[2],p=e[3],w=e[4],y=e[5],x=e[6],D=e[7];s===i&&(s=.5);var P=1-s,N=P*u+s*f,O=P*h+s*p,I=P*f+s*w,z=P*p+s*y,U=P*w+s*x,$=P*y+s*D,k=P*N+s*I,X=P*O+s*z,M=P*I+s*U,L=P*z+s*$,H=P*k+s*M,Z=P*X+s*L;return[[u,h,N,O,k,X,H,Z],[H,Z,M,L,U,$,x,D]]},getMonoCurves:function(e,s){var u=[],h=s?0:1,f=e[h+0],p=e[h+2],w=e[h+4],y=e[h+6];if(f>=p==p>=w&&p>=w==w>=y||Dt.isStraight(e))u.push(e);else{var x=3*(p-w)-f+y,D=2*(f+w)-4*p,P=p-f,N=1e-8,O=1-N,I=[],z=G.solveQuadratic(x,D,P,I,N,O);if(!z)u.push(e);else{I.sort();var U=I[0],$=Dt.subdivide(e,U);u.push($[0]),z>1&&(U=(I[1]-U)/(1-U),$=Dt.subdivide($[1],U),u.push($[0])),u.push($[1])}}return u},solveCubic:function(e,s,u,h,f,p){var w=e[s],y=e[s+2],x=e[s+4],D=e[s+6],P=0;if(!(w<u&&D<u&&y<u&&x<u||w>u&&D>u&&y>u&&x>u)){var N=3*(y-w),O=3*(x-y)-N,I=D-w-N-O;P=G.solveCubic(I,O,N,w-u,h,f,p)}return P},getTimeOf:function(e,s){var u=new R(e[0],e[1]),h=new R(e[6],e[7]),f=1e-12,p=1e-7,w=s.isClose(u,f)?0:s.isClose(h,f)?1:null;if(w===null)for(var y=[s.x,s.y],x=[],D=0;D<2;D++)for(var P=Dt.solveCubic(e,D,y[D],x,0,1),N=0;N<P;N++){var O=x[N];if(s.isClose(Dt.getPoint(e,O),p))return O}return s.isClose(u,p)?0:s.isClose(h,p)?1:null},getNearestTime:function(e,s){if(Dt.isStraight(e)){var u=e[0],h=e[1],f=e[6],p=e[7],w=f-u,y=p-h,x=w*w+y*y;if(x===0)return 0;var D=((s.x-u)*w+(s.y-h)*y)/x;return D<1e-12?0:D>.999999999999?1:Dt.getTimeOf(e,new R(u+D*w,h+D*y))}var P=100,N=1/0,O=0;function I($){if($>=0&&$<=1){var k=s.getDistance(Dt.getPoint(e,$),!0);if(k<N)return N=k,O=$,!0}}for(var z=0;z<=P;z++)I(z/P);for(var U=1/(P*2);U>1e-8;)!I(O-U)&&!I(O+U)&&(U/=2);return O},getPart:function(e,s,u){var h=s>u;if(h){var f=s;s=u,u=f}return s>0&&(e=Dt.subdivide(e,s)[1]),u<1&&(e=Dt.subdivide(e,(u-s)/(1-s))[0]),h?[e[6],e[7],e[4],e[5],e[2],e[3],e[0],e[1]]:e},isFlatEnough:function(e,s){var u=e[0],h=e[1],f=e[2],p=e[3],w=e[4],y=e[5],x=e[6],D=e[7],P=3*f-2*u-x,N=3*p-2*h-D,O=3*w-2*x-u,I=3*y-2*D-h;return Math.max(P*P,O*O)+Math.max(N*N,I*I)<=16*s*s},getArea:function(e){var s=e[0],u=e[1],h=e[2],f=e[3],p=e[4],w=e[5],y=e[6],x=e[7];return 3*((x-u)*(h+p)-(y-s)*(f+w)+f*(s-p)-h*(u-w)+x*(p+s/3)-y*(w+u/3))/20},getBounds:function(e){for(var s=e.slice(0,2),u=s.slice(),h=[0,0],f=0;f<2;f++)Dt._addBounds(e[f],e[f+2],e[f+4],e[f+6],f,0,s,u,h);return new et(s[0],s[1],u[0]-s[0],u[1]-s[1])},_addBounds:function(e,s,u,h,f,p,w,y,x){function D(H,Z){var at=H-Z,ut=H+Z;at<w[f]&&(w[f]=at),ut>y[f]&&(y[f]=ut)}p/=2;var P=w[f]+p,N=y[f]-p;if(e<P||s<P||u<P||h<P||e>N||s>N||u>N||h>N)if(s<e!=s<h&&u<e!=u<h)D(e,0),D(h,0);else{var O=3*(s-u)-e+h,I=2*(e+u)-4*s,z=s-e,U=G.solveQuadratic(O,I,z,x),$=1e-8,k=1-$;D(h,0);for(var X=0;X<U;X++){var M=x[X],L=1-M;$<=M&&M<=k&&D(L*L*L*e+3*L*L*M*s+3*L*M*M*u+M*M*M*h,p)}}}}},r.each(["getBounds","getStrokeBounds","getHandleBounds"],function(e){this[e]=function(){this._bounds||(this._bounds={});var s=this._bounds[e];return s||(s=this._bounds[e]=$t[e]([this._segment1,this._segment2],!1,this._path)),s.clone()}},{}),r.each({isStraight:function(e,s,u,h){if(s.isZero()&&u.isZero())return!0;var f=h.subtract(e);if(f.isZero())return!1;if(f.isCollinear(s)&&f.isCollinear(u)){var p=new ot(e,h),w=1e-7;if(p.getDistance(e.add(s))<w&&p.getDistance(h.add(u))<w){var y=f.dot(f),x=f.dot(s)/y,D=f.dot(u)/y;return x>=0&&x<=1&&D<=0&&D>=-1}}return!1},isLinear:function(e,s,u,h){var f=h.subtract(e).divide(3);return s.equals(f)&&u.negate().equals(f)}},function(e,s){this[s]=function(u){var h=this._segment1,f=this._segment2;return e(h._point,h._handleOut,f._handleIn,f._point,u)},this.statics[s]=function(u,h){var f=u[0],p=u[1],w=u[6],y=u[7];return e(new R(f,p),new R(u[2]-f,u[3]-p),new R(u[4]-w,u[5]-y),new R(w,y),h)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(e){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(e||0)},isCollinear:function(e){return e&&this.isStraight()&&e.isStraight()&&this.getLine().isCollinear(e.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(e,s){return this.getLocationAtTime(s?e:this.getTimeAt(e))},getLocationAtTime:function(e){return e!=null&&e>=0&&e<=1?new re(this,e):null},getTimeAt:function(e,s){return Dt.getTimeAt(this.getValues(),e,s)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var e=R.read(arguments);return e.isZero()?[]:Dt.getTimesWithTangent(this.getValues(),e)},getOffsetAtTime:function(e){return this.getPartLength(0,e)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(R.read(arguments)))},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getTimeOf:function(){return Dt.getTimeOf(this.getValues(),R.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var e=R.read(arguments),s=this.getValues(),u=Dt.getNearestTime(s,e),h=Dt.getPoint(s,u);return new re(this,u,h,null,e.getDistance(h))},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e&&e.getPoint()}},new function(){var e=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return r.each(e,function(s){this[s+"At"]=function(u,h){var f=this.getValues();return Dt[s](f,h?u:Dt.getTimeAt(f,u))},this[s+"AtTime"]=function(u){return Dt[s](this.getValues(),u)}},{statics:{_evaluateMethods:e}})},new function(){function e(h){var f=h[0],p=h[1],w=h[2],y=h[3],x=h[4],D=h[5],P=h[6],N=h[7],O=9*(w-x)+3*(P-f),I=6*(f+x)-12*w,z=3*(w-f),U=9*(y-D)+3*(N-p),$=6*(p+D)-12*y,k=3*(y-p);return function(X){var M=(O*X+I)*X+z,L=(U*X+$)*X+k;return Math.sqrt(M*M+L*L)}}function s(h,f){return Math.max(2,Math.min(16,Math.ceil(Math.abs(f-h)*32)))}function u(h,f,p,w){if(f==null||f<0||f>1)return null;var y=h[0],x=h[1],D=h[2],P=h[3],N=h[4],O=h[5],I=h[6],z=h[7],U=G.isZero;U(D-y)&&U(P-x)&&(D=y,P=x),U(N-I)&&U(O-z)&&(N=I,O=z);var $=3*(D-y),k=3*(N-D)-$,X=I-y-$-k,M=3*(P-x),L=3*(O-P)-M,H=z-x-M-L,Z,at;if(p===0)Z=f===0?y:f===1?I:((X*f+k)*f+$)*f+y,at=f===0?x:f===1?z:((H*f+L)*f+M)*f+x;else{var ut=1e-8,lt=1-ut;if(f<ut?(Z=$,at=M):f>lt?(Z=3*(I-N),at=3*(z-O)):(Z=(3*X*f+2*k)*f+$,at=(3*H*f+2*L)*f+M),w){Z===0&&at===0&&(f<ut||f>lt)&&(Z=N-D,at=O-P);var ht=Math.sqrt(Z*Z+at*at);ht&&(Z/=ht,at/=ht)}if(p===3){var N=6*X*f+2*k,O=6*H*f+2*L,vt=Math.pow(Z*Z+at*at,3/2);Z=vt!==0?(Z*O-at*N)/vt:0,at=0}}return p===2?new R(at,-Z):new R(Z,at)}return{statics:{classify:function(h){var f=h[0],p=h[1],w=h[2],y=h[3],x=h[4],D=h[5],P=h[6],N=h[7],O=f*(N-D)+p*(x-P)+P*D-N*x,I=w*(p-N)+y*(P-f)+f*N-p*P,z=x*(y-p)+D*(f-w)+w*p-y*f,U=3*z,$=U-I,k=$-I+O,X=Math.sqrt(k*k+$*$+U*U),M=X!==0?1/X:0,L=G.isZero,H="serpentine";k*=M,$*=M,U*=M;function Z(ht,vt,dt){var _t=vt!==i,wt=_t&&vt>0&&vt<1,Tt=_t&&dt>0&&dt<1;return _t&&(!(wt||Tt)||ht==="loop"&&!(wt&&Tt))&&(ht="arch",wt=Tt=!1),{type:ht,roots:wt||Tt?wt&&Tt?vt<dt?[vt,dt]:[dt,vt]:[wt?vt:dt]:null}}if(L(k))return L($)?Z(L(U)?"line":"quadratic"):Z(H,U/(3*$));var at=3*$*$-4*k*U;if(L(at))return Z("cusp",$/(2*k));var ut=at>0?Math.sqrt(at/3):Math.sqrt(-at),lt=2*k;return Z(at>0?H:"loop",($+ut)/lt,($-ut)/lt)},getLength:function(h,f,p,w){if(f===i&&(f=0),p===i&&(p=1),Dt.isStraight(h)){var y=h;p<1&&(y=Dt.subdivide(y,p)[0],f/=p),f>0&&(y=Dt.subdivide(y,f)[1]);var x=y[6]-y[0],D=y[7]-y[1];return Math.sqrt(x*x+D*D)}return G.integrate(w||e(h),f,p,s(f,p))},getTimeAt:function(h,f,p){if(p===i&&(p=f<0?1:0),f===0)return p;var w=Math.abs,y=1e-12,x=f>0,D=x?p:0,P=x?1:p,N=e(h),O=Dt.getLength(h,D,P,N),I=w(f)-O;if(w(I)<y)return x?P:D;if(I>y)return null;var z=f/O,U=0;function $(k){return U+=G.integrate(N,p,k,s(p,k)),p=k,U-f}return G.findRoot($,N,p+z,D,P,32,1e-12)},getPoint:function(h,f){return u(h,f,0,!1)},getTangent:function(h,f){return u(h,f,1,!0)},getWeightedTangent:function(h,f){return u(h,f,1,!1)},getNormal:function(h,f){return u(h,f,2,!0)},getWeightedNormal:function(h,f){return u(h,f,2,!1)},getCurvature:function(h,f){return u(h,f,3,!1).x},getPeaks:function(h){var f=h[0],p=h[1],w=h[2],y=h[3],x=h[4],D=h[5],P=h[6],N=h[7],O=-f+3*w-3*x+P,I=3*f-6*w+3*x,z=-3*f+3*w,U=-p+3*y-3*D+N,$=3*p-6*y+3*D,k=-3*p+3*y,X=1e-8,M=1-X,L=[];return G.solveCubic(9*(O*O+U*U),9*(O*I+$*U),2*(I*I+$*$)+3*(z*O+k*U),z*I+$*k,L,X,M),L.sort()}}}},new function(){function e(I,z,U,$,k,X,M){var L=!M&&U.getPrevious()===k,H=!M&&U!==k&&U.getNext()===k,Z=1e-8,at=1-Z;if($!==null&&$>=(L?Z:0)&&$<=(H?at:1)&&X!==null&&X>=(H?Z:0)&&X<=(L?at:1)){var ut=new re(U,$,null,M),lt=new re(k,X,null,M);ut._intersection=lt,lt._intersection=ut,(!z||z(ut))&&re.insert(I,ut,!0)}}function s(I,z,U,$,k,X,M,L,H,Z,at,ut,lt){if(++H>=4096||++L>=40)return H;var ht=1e-9,vt=z[0],dt=z[1],_t=z[6],wt=z[7],Tt=ot.getSignedDistance,Ot=Tt(vt,dt,_t,wt,z[2],z[3]),Vt=Tt(vt,dt,_t,wt,z[4],z[5]),Wt=Ot*Vt>0?3/4:4/9,Kt=Wt*Math.min(0,Ot,Vt),Jt=Wt*Math.max(0,Ot,Vt),_e=Tt(vt,dt,_t,wt,I[0],I[1]),ye=Tt(vt,dt,_t,wt,I[2],I[3]),me=Tt(vt,dt,_t,wt,I[4],I[5]),ge=Tt(vt,dt,_t,wt,I[6],I[7]),Fe=u(_e,ye,me,ge),De=Fe[0],ei=Fe[1],ze,je;if(Ot===0&&Vt===0&&_e===0&&ye===0&&me===0&&ge===0||(ze=h(De,ei,Kt,Jt))==null||(je=h(De.reverse(),ei.reverse(),Kt,Jt))==null)return H;var qe=Z+(at-Z)*ze,Ue=Z+(at-Z)*je;if(Math.max(lt-ut,Ue-qe)<ht){var Vi=(qe+Ue)/2,Zi=(ut+lt)/2;e(k,X,M?$:U,M?Zi:Vi,M?U:$,M?Vi:Zi)}else{I=Dt.getPart(I,ze,je);var ki=lt-ut;if(je-ze>.8)if(Ue-qe>ki){var Ii=Dt.subdivide(I,.5),Vi=(qe+Ue)/2;H=s(z,Ii[0],$,U,k,X,!M,L,H,ut,lt,qe,Vi),H=s(z,Ii[1],$,U,k,X,!M,L,H,ut,lt,Vi,Ue)}else{var Ii=Dt.subdivide(z,.5),Zi=(ut+lt)/2;H=s(Ii[0],I,$,U,k,X,!M,L,H,ut,Zi,qe,Ue),H=s(Ii[1],I,$,U,k,X,!M,L,H,Zi,lt,qe,Ue)}else ki===0||ki>=ht?H=s(z,I,$,U,k,X,!M,L,H,ut,lt,qe,Ue):H=s(I,z,U,$,k,X,M,L,H,qe,Ue,ut,lt)}return H}function u(I,z,U,$){var k=[0,I],X=[1/3,z],M=[2/3,U],L=[1,$],H=z-(2*I+$)/3,Z=U-(I+2*$)/3,at;if(H*Z<0)at=[[k,X,L],[k,M,L]];else{var ut=H/Z;at=[ut>=2?[k,X,L]:ut<=.5?[k,M,L]:[k,X,M,L],[k,L]]}return(H||Z)<0?at.reverse():at}function h(I,z,U,$){return I[0][1]<U?f(I,!0,U):z[0][1]>$?f(z,!1,$):I[0][0]}function f(I,z,U){for(var $=I[0][0],k=I[0][1],X=1,M=I.length;X<M;X++){var L=I[X][0],H=I[X][1];if(z?H>=U:H<=U)return H===U?L:$+(U-k)*(L-$)/(H-k);$=L,k=H}return null}function p(I,z,U,$,k){var X=G.isZero;if(X($)&&X(k)){var M=Dt.getTimeOf(I,new R(z,U));return M===null?[]:[M]}for(var L=Math.atan2(-k,$),H=Math.sin(L),Z=Math.cos(L),at=[],ut=[],lt=0;lt<8;lt+=2){var ht=I[lt]-z,vt=I[lt+1]-U;at.push(ht*Z-vt*H,ht*H+vt*Z)}return Dt.solveCubic(at,1,0,ut,0,1),ut}function w(I,z,U,$,k,X,M){for(var L=z[0],H=z[1],Z=z[6],at=z[7],ut=p(I,L,H,Z-L,at-H),lt=0,ht=ut.length;lt<ht;lt++){var vt=ut[lt],dt=Dt.getPoint(I,vt),_t=Dt.getTimeOf(z,dt);_t!==null&&e(k,X,M?$:U,M?_t:vt,M?U:$,M?vt:_t)}}function y(I,z,U,$,k,X){var M=ot.intersect(I[0],I[1],I[6],I[7],z[0],z[1],z[6],z[7]);M&&e(k,X,U,Dt.getTimeOf(I,M),$,Dt.getTimeOf(z,M))}function x(I,z,U,$,k,X){var M=1e-12,L=Math.min,H=Math.max;if(H(I[0],I[2],I[4],I[6])+M>L(z[0],z[2],z[4],z[6])&&L(I[0],I[2],I[4],I[6])-M<H(z[0],z[2],z[4],z[6])&&H(I[1],I[3],I[5],I[7])+M>L(z[1],z[3],z[5],z[7])&&L(I[1],I[3],I[5],I[7])-M<H(z[1],z[3],z[5],z[7])){var Z=N(I,z);if(Z)for(var at=0;at<2;at++){var ut=Z[at];e(k,X,U,ut[0],$,ut[1],!0)}else{var lt=Dt.isStraight(I),ht=Dt.isStraight(z),vt=lt&&ht,dt=lt&&!ht,_t=k.length;if((vt?y:lt||ht?w:s)(dt?z:I,dt?I:z,dt?$:U,dt?U:$,k,X,dt,0,0,0,1,0,1),!vt||k.length===_t)for(var at=0;at<4;at++){var wt=at>>1,Tt=at&1,Ot=wt*6,Vt=Tt*6,Wt=new R(I[Ot],I[Ot+1]),Kt=new R(z[Vt],z[Vt+1]);Wt.isClose(Kt,M)&&e(k,X,U,wt,$,Tt)}}}return k}function D(I,z,U,$){var k=Dt.classify(I);if(k.type==="loop"){var X=k.roots;e(U,$,z,X[0],z,X[1])}return U}function P(I,z,U,$,k,X){var M=1e-7,L=!z;L&&(z=I);for(var H=I.length,Z=z.length,at=new Array(H),ut=L?at:new Array(Z),lt=[],ht=0;ht<H;ht++)at[ht]=I[ht].getValues($);if(!L)for(var ht=0;ht<Z;ht++)ut[ht]=z[ht].getValues(k);for(var vt=j.findCurveBoundsCollisions(at,ut,M),dt=0;dt<H;dt++){var _t=I[dt],wt=at[dt];L&&D(wt,_t,lt,U);var Tt=vt[dt];if(Tt)for(var Ot=0;Ot<Tt.length;Ot++){if(X&&lt.length)return lt;var Vt=Tt[Ot];if(!L||Vt>dt){var Wt=z[Vt],Kt=ut[Vt];x(wt,Kt,_t,Wt,lt,U)}}}return lt}function N(I,z){function U(ge){var Fe=ge[6]-ge[0],De=ge[7]-ge[1];return Fe*Fe+De*De}var $=Math.abs,k=ot.getDistance,X=1e-8,M=1e-7,L=Dt.isStraight(I),H=Dt.isStraight(z),Z=L&&H,at=U(I)<U(z),ut=at?z:I,lt=at?I:z,ht=ut[0],vt=ut[1],dt=ut[6]-ht,_t=ut[7]-vt;if(k(ht,vt,dt,_t,lt[0],lt[1],!0)<M&&k(ht,vt,dt,_t,lt[6],lt[7],!0)<M)!Z&&k(ht,vt,dt,_t,ut[2],ut[3],!0)<M&&k(ht,vt,dt,_t,ut[4],ut[5],!0)<M&&k(ht,vt,dt,_t,lt[2],lt[3],!0)<M&&k(ht,vt,dt,_t,lt[4],lt[5],!0)<M&&(L=H=Z=!0);else if(Z)return null;if(L^H)return null;for(var wt=[I,z],Tt=[],Ot=0;Ot<4&&Tt.length<2;Ot++){var Vt=Ot&1,Wt=Vt^1,Kt=Ot>>1,Jt=Dt.getTimeOf(wt[Vt],new R(wt[Wt][Kt?6:0],wt[Wt][Kt?7:1]));if(Jt!=null){var _e=Vt?[Kt,Jt]:[Jt,Kt];(!Tt.length||$(_e[0]-Tt[0][0])>X&&$(_e[1]-Tt[0][1])>X)&&Tt.push(_e)}if(Ot>2&&!Tt.length)break}if(Tt.length!==2)Tt=null;else if(!Z){var ye=Dt.getPart(I,Tt[0][0],Tt[1][0]),me=Dt.getPart(z,Tt[0][1],Tt[1][1]);($(me[2]-ye[2])>M||$(me[3]-ye[3])>M||$(me[4]-ye[4])>M||$(me[5]-ye[5])>M)&&(Tt=null)}return Tt}function O(I,z){var U=I[0],$=I[1],k=I[2],X=I[3],M=I[4],L=I[5],H=I[6],Z=I[7],at=z.normalize(),ut=at.x,lt=at.y,ht=3*H-9*M+9*k-3*U,vt=3*Z-9*L+9*X-3*$,dt=6*M-12*k+6*U,_t=6*L-12*X+6*$,wt=3*k-3*U,Tt=3*X-3*$,Ot=2*ht*lt-2*vt*ut,Vt=[];if(Math.abs(Ot)<G.CURVETIME_EPSILON){var Wt=ht*Tt-vt*wt,Ot=ht*_t-vt*dt;if(Ot!=0){var Kt=-Wt/Ot;Kt>=0&&Kt<=1&&Vt.push(Kt)}}else{var Jt=(dt*dt-4*ht*wt)*lt*lt+(-2*dt*_t+4*vt*wt+4*ht*Tt)*ut*lt+(_t*_t-4*vt*Tt)*ut*ut,_e=dt*lt-_t*ut;if(Jt>=0&&Ot!=0){var ye=Math.sqrt(Jt),me=-(_e+ye)/Ot,ge=(-_e+ye)/Ot;me>=0&&me<=1&&Vt.push(me),ge>=0&&ge<=1&&Vt.push(ge)}}return Vt}return{getIntersections:function(I){var z=this.getValues(),U=I&&I!==this&&I.getValues();return U?x(z,U,this,I,[]):D(z,this,[])},statics:{getOverlaps:N,getIntersections:P,getCurveLineIntersections:p,getTimesWithTangent:O}}}),re=r.extend({_class:"CurveLocation",initialize:function(s,u,h,f,p){if(u>=.99999999){var w=s.getNext();w&&(u=0,s=w)}this._setCurve(s),this._time=u,this._point=h||s.getPointAtTime(u),this._overlap=f,this._distance=p,this._intersection=this._next=this._previous=null},_setPath:function(e){this._path=e,this._version=e?e._version:0},_setCurve:function(e){this._setPath(e._path),this._curve=e,this._segment=null,this._segment1=e._segment1,this._segment2=e._segment2},_setSegment:function(e){var s=e.getCurve();s?this._setCurve(s):(this._setPath(e._path),this._segment1=e,this._segment2=null),this._segment=e,this._time=e===this._segment1?0:1,this._point=e._point.clone()},getSegment:function(){var e=this._segment;if(!e){var s=this.getCurve(),u=this.getTime();u===0?e=s._segment1:u===1?e=s._segment2:u!=null&&(e=s.getPartLength(0,u)<s.getPartLength(u,1)?s._segment1:s._segment2),this._segment=e}return e},getCurve:function(){var e=this._path,s=this;e&&e._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null);function u(h){var f=h&&h.getCurve();if(f&&(s._time=f.getTimeOf(s._point))!=null)return s._setCurve(f),f}return this._curve||u(this._segment)||u(this._segment1)||u(this._segment2.getPrevious())},getPath:function(){var e=this.getCurve();return e&&e._path},getIndex:function(){var e=this.getCurve();return e&&e.getIndex()},getTime:function(){var e=this.getCurve(),s=this._time;return e&&s==null?this._time=e.getTimeOf(this._point):s},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var e=this._offset;if(e==null){e=0;var s=this.getPath(),u=this.getIndex();if(s&&u!=null)for(var h=s.getCurves(),f=0;f<u;f++)e+=h[f].getLength();this._offset=e+=this.getCurveOffset()}return e},getCurveOffset:function(){var e=this._curveOffset;if(e==null){var s=this.getCurve(),u=this.getTime();this._curveOffset=e=u!=null&&s&&s.getPartLength(0,u)}return e},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var e=this.getCurve(),s=e&&e.divideAtTime(this.getTime());return s&&this._setSegment(s._segment1),s},split:function(){var e=this.getCurve(),s=e._path,u=e&&e.splitAtTime(this.getTime());return u&&this._setSegment(s.getLastSegment()),u},equals:function(e,s){var u=this===e;if(!u&&e instanceof re){var h=this.getCurve(),f=e.getCurve(),p=h._path,w=f._path;if(p===w){var y=Math.abs,x=1e-7,D=y(this.getOffset()-e.getOffset()),P=!s&&this._intersection,N=!s&&e._intersection;u=(D<x||p&&y(p.getLength()-D)<x)&&(!P&&!N||P&&N&&P.equals(N,!0))}}return u},toString:function(){var e=[],s=this.getPoint(),u=W.instance;s&&e.push("point: "+s);var h=this.getIndex();h!=null&&e.push("index: "+h);var f=this.getTime();return f!=null&&e.push("time: "+u.number(f)),this._distance!=null&&e.push("distance: "+u.number(this._distance)),"{ "+e.join(", ")+" }"},isTouching:function(){var e=this._intersection;if(e&&this.getTangent().isCollinear(e.getTangent())){var s=this.getCurve(),u=e.getCurve();return!(s.isStraight()&&u.isStraight()&&s.getLine().intersect(u.getLine()))}return!1},isCrossing:function(){var e=this._intersection;if(!e)return!1;var s=this.getTime(),u=e.getTime(),h=1e-8,f=1-h,p=s>=h&&s<=f,w=u>=h&&u<=f;if(p&&w)return!this.isTouching();var y=this.getCurve(),x=y&&s<h?y.getPrevious():y,D=e.getCurve(),P=D&&u<h?D.getPrevious():D;if(s>f&&(y=y.getNext()),u>f&&(D=D.getNext()),!x||!y||!P||!D)return!1;var N=[];function O(ut,lt){var ht=ut.getValues(),vt=Dt.classify(ht).roots||Dt.getPeaks(ht),dt=vt.length,_t=Dt.getLength(ht,lt&&dt?vt[dt-1]:0,!lt&&dt?vt[0]:1);N.push(dt?_t:_t/32)}function I(ut,lt,ht){return lt<ht?ut>lt&&ut<ht:ut>lt||ut<ht}p||(O(x,!0),O(y,!1)),w||(O(P,!0),O(D,!1));var z=this.getPoint(),U=Math.min.apply(Math,N),$=p?y.getTangentAtTime(s):y.getPointAt(U).subtract(z),k=p?$.negate():x.getPointAt(-U).subtract(z),X=w?D.getTangentAtTime(u):D.getPointAt(U).subtract(z),M=w?X.negate():P.getPointAt(-U).subtract(z),L=k.getAngle(),H=$.getAngle(),Z=M.getAngle(),at=X.getAngle();return!!(p?I(L,Z,at)^I(H,Z,at)&&I(L,at,Z)^I(H,at,Z):I(Z,L,H)^I(at,L,H)&&I(Z,H,L)^I(at,H,L))},hasOverlap:function(){return!!this._overlap}},r.each(Dt._evaluateMethods,function(e){var s=e+"At";this[e]=function(){var u=this.getCurve(),h=this.getTime();return h!=null&&u&&u[s](h,!0)}},{preserve:!0}),new function(){function e(s,u,h){var f=s.length,p=0,w=f-1;function y(z,U){for(var $=z+U;$>=-1&&$<=f;$+=U){var k=s[($%f+f)%f];if(!u.getPoint().isClose(k.getPoint(),1e-7))break;if(u.equals(k))return k}return null}for(;p<=w;){var x=p+w>>>1,D=s[x],P;if(h&&(P=u.equals(D)?D:y(x,-1)||y(x,1)))return u._overlap&&(P._overlap=P._intersection._overlap=!0),P;var N=u.getPath(),O=D.getPath(),I=N!==O?N._id-O._id:u.getIndex()+u.getTime()-(D.getIndex()+D.getTime());I<0?w=x-1:p=x+1}return s.splice(p,0,u),u}return{statics:{insert:e,expand:function(s){for(var u=s.slice(),h=s.length-1;h>=0;h--)e(u,s[h]._intersection,!1);return u}}}}),ve=xt.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(e){var s,u,h;if(r.isPlainObject(e)?(u=e.segments,s=e.pathData):Array.isArray(e)?u=e:typeof e=="string"&&(s=e),u){var f=u[0];h=f&&Array.isArray(f[0])}else s&&(h=(s.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(s));var p=h?ee:$t;return new p(e)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(e){this.isClockwise()!=(e=!!e)&&this.reverse()},setPathData:function(e){var s=e&&e.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),u,h=!1,f,p,w=new R,y=new R;function x(M,L){var H=+u[M];return h&&(H+=w[L]),H}function D(M){return new R(x(M,"x"),x(M+1,"y"))}this.clear();for(var P=0,N=s&&s.length;P<N;P++){var O=s[P],I=O[0],z=I.toLowerCase();u=O.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var U=u&&u.length;switch(h=I===z,f==="z"&&!/[mz]/.test(z)&&this.moveTo(w),z){case"m":case"l":for(var $=z==="m",k=0;k<U;k+=2)this[$?"moveTo":"lineTo"](w=D(k)),$&&(y=w,$=!1);p=w;break;case"h":case"v":var X=z==="h"?"x":"y";w=w.clone();for(var k=0;k<U;k++)w[X]=x(k,X),this.lineTo(w);p=w;break;case"c":for(var k=0;k<U;k+=6)this.cubicCurveTo(D(k),p=D(k+2),w=D(k+4));break;case"s":for(var k=0;k<U;k+=4)this.cubicCurveTo(/[cs]/.test(f)?w.multiply(2).subtract(p):w,p=D(k),w=D(k+2)),f=z;break;case"q":for(var k=0;k<U;k+=4)this.quadraticCurveTo(p=D(k),w=D(k+2));break;case"t":for(var k=0;k<U;k+=2)this.quadraticCurveTo(p=/[qt]/.test(f)?w.multiply(2).subtract(p):w,w=D(k)),f=z;break;case"a":for(var k=0;k<U;k+=7)this.arcTo(w=D(k+5),new m(+u[k],+u[k+1]),+u[k+2],+u[k+4],+u[k+3]);break;case"z":this.closePath(1e-12),w=y;break}f=z}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(e){var s=e.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(e):{};return s.onPath||!!(this.getFillRule()==="evenodd"?s.windingL&1||s.windingR&1:s.winding)},getIntersections:function(e,s,u,h){var f=this===e||!e,p=this._matrix._orNullIfIdentity(),w=f?p:(u||e._matrix)._orNullIfIdentity();return f||this.getBounds(p).intersects(e.getBounds(w),1e-12)?Dt.getIntersections(this.getCurves(),!f&&e.getCurves(),s,p,w,h):[]},getCrossings:function(e){return this.getIntersections(e,function(s){return s.isCrossing()})},getNearestLocation:function(){for(var e=R.read(arguments),s=this.getCurves(),u=1/0,h=null,f=0,p=s.length;f<p;f++){var w=s[f].getNearestLocation(e);w._distance<u&&(u=w._distance,h=w)}return h},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e&&e.getPoint()},interpolate:function(e,s,u){var h=!this._children,f=h?"_segments":"_children",p=e[f],w=s[f],y=this[f];if(!p||!w||p.length!==w.length)throw new Error("Invalid operands in interpolate() call: "+e+", "+s);var x=y.length,D=w.length;if(x<D)for(var P=h?Zt:$t,N=x;N<D;N++)this.add(new P);else x>D&&this[h?"removeSegments":"removeChildren"](D,x);for(var N=0;N<D;N++)y[N].interpolate(p[N],w[N],u);h&&(this.setClosed(e._closed),this._changed(9))},compare:function(e){var s=!1;if(e){var u=this._children||[this],h=e._children?e._children.slice():[e],f=u.length,p=h.length,w=[],y=0;s=!0;for(var x=j.findItemBoundsCollisions(u,h,G.GEOMETRIC_EPSILON),D=f-1;D>=0&&s;D--){var P=u[D];s=!1;var N=x[D];if(N)for(var O=N.length-1;O>=0&&!s;O--)P.compare(h[N[O]])&&(w[N[O]]||(w[N[O]]=!0,y++),s=!0)}s=s&&y===p}return s}}),$t=ve.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(s){this._closed=!1,this._segments=[],this._version=0;var u=arguments,h=Array.isArray(s)?typeof s[0]=="object"?s:u:s&&s.size===i&&(s.x!==i||s.point!==i)?u:null;h&&h.length>0?this.setSegments(h):(this._curves=i,this._segmentSelection=0,!h&&typeof s=="string"&&(this.setPathData(s),s=null)),this._initialize(!h&&s)},_equals:function(e){return this._closed===e._closed&&r.equals(this._segments,e._segments)},copyContent:function(e){this.setSegments(e._segments),this._closed=e._closed},_changed:function e(s){if(e.base.call(this,s),s&8){if(this._length=this._area=i,s&32)this._version++;else if(this._curves)for(var u=0,h=this._curves.length;u<h;u++)this._curves[u]._changed()}else s&64&&(this._bounds=i)},getStyle:function(){var e=this._parent;return(e instanceof ee?e:this)._style},getSegments:function(){return this._segments},setSegments:function(e){var s=this.isFullySelected(),u=e&&e.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=i,u){var h=e[u-1];typeof h=="boolean"&&(this.setClosed(h),u--),this._add(Zt.readList(e,0,{},u))}s&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var e=this._curves,s=this._segments;if(!e){var u=this._countCurves();e=this._curves=new Array(u);for(var h=0;h<u;h++)e[h]=new Dt(this,s[h],s[h+1]||s[0])}return e},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var e=this.getCurves();return e[e.length-1]},isClosed:function(){return this._closed},setClosed:function(e){if(this._closed!=(e=!!e)){if(this._closed=e,this._curves){var s=this._curves.length=this._countCurves();e&&(this._curves[s-1]=new Dt(this,this._segments[s-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(e,s){var u=this._segments,h=u.length,f=new W(s),p=new Array(6),w=!0,y,x,D,P,N,O,I,z,U=[];function $(X,M){if(X._transformCoordinates(e,p),y=p[0],x=p[1],w)U.push("M"+f.pair(y,x)),w=!1;else if(N=p[2],O=p[3],N===y&&O===x&&I===D&&z===P){if(!M){var L=y-D,H=x-P;U.push(L===0?"v"+f.number(H):H===0?"h"+f.number(L):"l"+f.pair(L,H))}}else U.push("c"+f.pair(I-D,z-P)+" "+f.pair(N-D,O-P)+" "+f.pair(y-D,x-P));D=y,P=x,I=p[4],z=p[5]}if(!h)return"";for(var k=0;k<h;k++)$(u[k]);return this._closed&&h>0&&($(u[0],!0),U.push("z")),U.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(e){for(var s=this._segments,u=new Array(6),h=0,f=s.length;h<f;h++)s[h]._transformCoordinates(e,u,!0);return!0},_add:function(e,w){for(var u=this._segments,h=this._curves,f=e.length,p=w==null,w=p?u.length:w,y=0;y<f;y++){var x=e[y];x._path&&(x=e[y]=x.clone()),x._path=this,x._index=w+y,x._selection&&this._updateSelection(x,0,x._selection)}if(p)r.push(u,e);else{u.splice.apply(u,[w,0].concat(e));for(var y=w+f,D=u.length;y<D;y++)u[y]._index=y}if(h){var P=this._countCurves(),N=w>0&&w+f-1===P?w-1:w,O=N,I=Math.min(N+f,P);e._curves&&(h.splice.apply(h,[N,0].concat(e._curves)),O+=e._curves.length);for(var y=O;y<I;y++)h.splice(y,0,new Dt(this,null,null));this._adjustCurves(N,I)}return this._changed(41),e},_adjustCurves:function(e,s){for(var u=this._segments,h=this._curves,f,p=e;p<s;p++)f=h[p],f._path=this,f._segment1=u[p],f._segment2=u[p+1]||u[0],f._changed();(f=h[this._closed&&!e?u.length-1:e-1])&&(f._segment2=u[e]||u[0],f._changed()),(f=h[s])&&(f._segment1=u[s],f._changed())},_countCurves:function(){var e=this._segments.length;return!this._closed&&e>0?e-1:e},add:function(e){var s=arguments;return s.length>1&&typeof e!="number"?this._add(Zt.readList(s)):this._add([Zt.read(s)])[0]},insert:function(e,s){var u=arguments;return u.length>2&&typeof s!="number"?this._add(Zt.readList(u,1),e):this._add([Zt.read(u,1)],e)[0]},addSegment:function(){return this._add([Zt.read(arguments)])[0]},insertSegment:function(e){return this._add([Zt.read(arguments,1)],e)[0]},addSegments:function(e){return this._add(Zt.readList(e))},insertSegments:function(e,s){return this._add(Zt.readList(s),e)},removeSegment:function(e){return this.removeSegments(e,e+1)[0]||null},removeSegments:function(e,s,u){e=e||0,s=r.pick(s,this._segments.length);var h=this._segments,f=this._curves,p=h.length,w=h.splice(e,s-e),y=w.length;if(!y)return w;for(var x=0;x<y;x++){var D=w[x];D._selection&&this._updateSelection(D,D._selection,0),D._index=D._path=null}for(var x=e,P=h.length;x<P;x++)h[x]._index=x;if(f){for(var N=e>0&&s===p+(this._closed?1:0)?e-1:e,f=f.splice(N,y),x=f.length-1;x>=0;x--)f[x]._path=null;u&&(w._curves=f.slice(1)),this._adjustCurves(N,N)}return this._changed(41),w},clear:"#removeSegments",hasHandles:function(){for(var e=this._segments,s=0,u=e.length;s<u;s++)if(e[s].hasHandles())return!0;return!1},clearHandles:function(){for(var e=this._segments,s=0,u=e.length;s<u;s++)e[s].clearHandles()},getLength:function(){if(this._length==null){for(var e=this.getCurves(),s=0,u=0,h=e.length;u<h;u++)s+=e[u].getLength();this._length=s}return this._length},getArea:function(){var e=this._area;if(e==null){var s=this._segments,u=this._closed;e=0;for(var h=0,f=s.length;h<f;h++){var p=h+1===f;e+=Dt.getArea(Dt.getValues(s[h],s[p?0:h+1],null,p&&!u))}this._area=e}return e},isFullySelected:function(){var e=this._segments.length;return this.isSelected()&&e>0&&this._segmentSelection===e*7},setFullySelected:function(e){e&&this._selectSegments(!0),this.setSelected(e)},setSelection:function e(s){s&1||this._selectSegments(!1),e.base.call(this,s)},_selectSegments:function(e){var s=this._segments,u=s.length,h=e?7:0;this._segmentSelection=h*u;for(var f=0;f<u;f++)s[f]._selection=h},_updateSelection:function(e,s,u){e._selection=u;var h=this._segmentSelection+=u-s;h>0&&this.setSelected(!0)},divideAt:function(e){var s=this.getLocationAt(e),u;return s&&(u=s.getCurve().divideAt(s.getCurveOffset()))?u._segment1:null},splitAt:function(e){var s=this.getLocationAt(e),u=s&&s.index,h=s&&s.time,f=1e-8,p=1-f;h>p&&(u++,h=0);var w=this.getCurves();if(u>=0&&u<w.length){h>=f&&w[u++].divideAtTime(h);var y=this.removeSegments(u,this._segments.length,!0),x;return this._closed?(this.setClosed(!1),x=this):(x=new $t(xt.NO_INSERT),x.insertAbove(this),x.copyAttributes(this)),x._add(y,0),this.addSegment(y[0]),x}return null},split:function(e,s){var u,h=s===i?e:(u=this.getCurves()[e])&&u.getLocationAtTime(s);return h!=null?this.splitAt(h):null},join:function(e,s){var u=s||0;if(e&&e!==this){var h=e._segments,f=this.getLastSegment(),p=e.getLastSegment();if(!p)return this;f&&f._point.isClose(p._point,u)&&e.reverse();var w=e.getFirstSegment();if(f&&f._point.isClose(w._point,u))f.setHandleOut(w._handleOut),this._add(h.slice(1));else{var y=this.getFirstSegment();y&&y._point.isClose(w._point,u)&&e.reverse(),p=e.getLastSegment(),y&&y._point.isClose(p._point,u)?(y.setHandleIn(p._handleIn),this._add(h.slice(0,h.length-1),0)):this._add(h.slice())}e._closed&&this._add([h[0]]),e.remove()}var x=this.getFirstSegment(),D=this.getLastSegment();return x!==D&&x._point.isClose(D._point,u)&&(x.setHandleIn(D._handleIn),D.remove(),this.setClosed(!0)),this},reduce:function(e){for(var s=this.getCurves(),u=e&&e.simplify,h=u?1e-7:0,f=s.length-1;f>=0;f--){var p=s[f];!p.hasHandles()&&(!p.hasLength(h)||u&&p.isCollinear(p.getNext()))&&p.remove()}return this},reverse:function(){this._segments.reverse();for(var e=0,s=this._segments.length;e<s;e++){var u=this._segments[e],h=u._handleIn;u._handleIn=u._handleOut,u._handleOut=h,u._index=e}this._curves=null,this._changed(9)},flatten:function(e){for(var s=new pe(this,e||.25,256,!0),u=s.parts,h=u.length,f=[],p=0;p<h;p++)f.push(new Zt(u[p].curve.slice(0,2)));!this._closed&&h>0&&f.push(new Zt(u[h-1].curve.slice(6))),this.setSegments(f)},simplify:function(e){var s=new oe(this).fit(e||2.5);return s&&this.setSegments(s),!!s},smooth:function(e){var s=this,u=e||{},h=u.type||"asymmetric",f=this._segments,p=f.length,w=this._closed;function y(De,ei){var ze=De&&De.index;if(ze!=null){var je=De.path;if(je&&je!==s)throw new Error(De._class+" "+ze+" of "+je+" is not part of "+s);ei&&De instanceof Dt&&ze++}else ze=typeof De=="number"?De:ei;return Math.min(ze<0&&w?ze%p:ze<0?ze+p:ze,p-1)}var x=w&&u.from===i&&u.to===i,D=y(u.from,0),P=y(u.to,p-1);if(D>P)if(w)D-=p;else{var N=D;D=P,P=N}if(/^(?:asymmetric|continuous)$/.test(h)){var O=h==="asymmetric",I=Math.min,z=P-D+1,U=z-1,$=x?I(z,4):1,k=$,X=$,M=[];if(w||(k=I(1,D),X=I(1,p-P-1)),U+=k+X,U<=1)return;for(var L=0,H=D-k;L<=U;L++,H++)M[L]=f[(H<0?H+p:H)%p]._point;for(var Z=M[0]._x+2*M[1]._x,at=M[0]._y+2*M[1]._y,ut=2,lt=U-1,ht=[Z],vt=[at],dt=[ut],_t=[],wt=[],L=1;L<U;L++){var Tt=L<lt,Ot=Tt||O?1:2,Vt=Tt?4:O?2:7,Wt=Tt?4:O?3:8,Kt=Tt?2:O?0:1,Jt=Ot/ut;ut=dt[L]=Vt-Jt,Z=ht[L]=Wt*M[L]._x+Kt*M[L+1]._x-Jt*Z,at=vt[L]=Wt*M[L]._y+Kt*M[L+1]._y-Jt*at}_t[lt]=ht[lt]/dt[lt],wt[lt]=vt[lt]/dt[lt];for(var L=U-2;L>=0;L--)_t[L]=(ht[L]-_t[L+1])/dt[L],wt[L]=(vt[L]-wt[L+1])/dt[L];_t[U]=(3*M[U]._x-_t[lt])/2,wt[U]=(3*M[U]._y-wt[lt])/2;for(var L=k,_e=U-X,H=D;L<=_e;L++,H++){var ye=f[H<0?H+p:H],me=ye._point,ge=_t[L]-me._x,Fe=wt[L]-me._y;(x||L<_e)&&ye.setHandleOut(ge,Fe),(x||L>k)&&ye.setHandleIn(-ge,-Fe)}}else for(var L=D;L<=P;L++)f[L<0?L+p:L].smooth(u,!x&&L===D,!x&&L===P)},toShape:function(e){if(!this._closed)return null;var s=this._segments,u,h,f,p;function w(O,I){var z=s[O],U=z.getNext(),$=s[I],k=$.getNext();return z._handleOut.isZero()&&U._handleIn.isZero()&&$._handleOut.isZero()&&k._handleIn.isZero()&&U._point.subtract(z._point).isCollinear(k._point.subtract($._point))}function y(O){var I=s[O],z=I.getPrevious(),U=I.getNext();return z._handleOut.isZero()&&I._handleIn.isZero()&&I._handleOut.isZero()&&U._handleIn.isZero()&&I._point.subtract(z._point).isOrthogonal(U._point.subtract(I._point))}function x(O){var I=s[O],z=I.getNext(),U=I._handleOut,$=z._handleIn,k=.5522847498307936;if(U.isOrthogonal($)){var X=I._point,M=z._point,L=new ot(X,U,!0).intersect(new ot(M,$,!0),!0);return L&&G.isZero(U.getLength()/L.subtract(X).getLength()-k)&&G.isZero($.getLength()/L.subtract(M).getLength()-k)}return!1}function D(O,I){return s[O]._point.getDistance(s[I]._point)}if(!this.hasHandles()&&s.length===4&&w(0,2)&&w(1,3)&&y(1)?(u=T.Rectangle,h=new m(D(0,3),D(0,1)),p=s[1]._point.add(s[2]._point).divide(2)):s.length===8&&x(0)&&x(2)&&x(4)&&x(6)&&w(1,5)&&w(3,7)?(u=T.Rectangle,h=new m(D(1,6),D(0,3)),f=h.subtract(new m(D(0,7),D(1,2))).divide(2),p=s[3]._point.add(s[4]._point).divide(2)):s.length===4&&x(0)&&x(1)&&x(2)&&x(3)&&(G.isZero(D(0,2)-D(1,3))?(u=T.Circle,f=D(0,2)/2):(u=T.Ellipse,f=new m(D(2,0)/2,D(3,1)/2)),p=s[1]._point),u){var P=this.getPosition(!0),N=new u({center:P,size:h,radius:f,insert:!1});return N.copyAttributes(this,!0),N._matrix.prepend(this._matrix),N.rotate(p.subtract(P).getAngle()+90),(e===i||e)&&N.insertAbove(this),N}return null},toPath:"#clone",compare:function e(s){if(!s||s instanceof ee)return e.base.call(this,s);var u=this.getCurves(),h=s.getCurves(),f=u.length,p=h.length;if(!f||!p)return f==p;for(var w=u[0].getValues(),y=[],x=0,D,P=0,N,O=0;O<p;O++){var $=h[O].getValues();y.push($);var I=Dt.getOverlaps(w,$);if(I){D=!O&&I[0][0]>0?p-1:O,N=I[0][1];break}}for(var z=Math.abs,U=1e-8,$=y[D],k;w&&$;){var I=Dt.getOverlaps(w,$);if(I){var X=I[0][0];if(z(X-P)<U){P=I[1][0],P===1&&(w=++x<f?u[x].getValues():null,P=0);var M=I[0][1];if(z(M-N)<U){if(k||(k=[D,M]),N=I[1][1],N===1&&(++D>=p&&(D=0),$=y[D]||h[D].getValues(),N=0),!w)return k[0]===D&&k[1]===N;continue}}}break}return!1},_hitTestSelf:function(e,s,u,h){var f=this,p=this.getStyle(),w=this._segments,y=w.length,x=this._closed,D=s._tolerancePadding,P=D,N,O,I,z,U,$,k=s.stroke&&p.hasStroke(),X=s.fill&&p.hasFill(),M=s.curves,L=k?p.getStrokeWidth()/2:X&&s.tolerance>0||M?0:null;L!==null&&(L>0?(N=p.getStrokeJoin(),O=p.getStrokeCap(),I=p.getMiterLimit(),P=P.add($t._getStrokePadding(L,h))):N=O="round");function H(_t,wt){return e.subtract(_t).divide(wt).length<=1}function Z(_t,wt,Tt){if(!s.selected||wt.isSelected()){var Ot=_t._point;if(wt!==Ot&&(wt=wt.add(Ot)),H(wt,P))return new tt(Tt,f,{segment:_t,point:wt})}}function at(_t,wt){return(wt||s.segments)&&Z(_t,_t._point,"segment")||!wt&&s.handles&&(Z(_t,_t._handleIn,"handle-in")||Z(_t,_t._handleOut,"handle-out"))}function ut(_t){z.add(_t)}function lt(_t){var wt=x||_t._index>0&&_t._index<y-1;if((wt?N:O)==="round")return H(_t._point,P);if(z=new $t({internal:!0,closed:!0}),wt?_t.isSmooth()||$t._addBevelJoin(_t,N,L,I,null,h,ut,!0):O==="square"&&$t._addSquareCap(_t,O,L,null,h,ut,!0),!z.isEmpty()){var Tt;return z.contains(e)||(Tt=z.getNearestLocation(e))&&H(Tt.getPoint(),D)}}if(s.ends&&!s.segments&&!x){if($=at(w[0],!0)||at(w[y-1],!0))return $}else if(s.segments||s.handles){for(var ht=0;ht<y;ht++)if($=at(w[ht]))return $}if(L!==null){if(U=this.getNearestLocation(e),U){var vt=U.getTime();vt===0||vt===1&&y>1?lt(U.getSegment())||(U=null):H(U.getPoint(),P)||(U=null)}if(!U&&N==="miter"&&y>1)for(var ht=0;ht<y;ht++){var dt=w[ht];if(e.getDistance(dt._point)<=I*L&&lt(dt)){U=dt.getLocation();break}}}return!U&&X&&this._contains(e)||U&&!k&&!M?new tt("fill",this):U?new tt(k?"stroke":"curve",this,{location:U,point:U.getPoint()}):null}},r.each(Dt._evaluateMethods,function(e){this[e+"At"]=function(s){var u=this.getLocationAt(s);return u&&u[e]()}},{beans:!1,getLocationOf:function(){for(var e=R.read(arguments),s=this.getCurves(),u=0,h=s.length;u<h;u++){var f=s[u].getLocationOf(e);if(f)return f}return null},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getLocationAt:function(e){if(typeof e=="number"){for(var s=this.getCurves(),u=0,h=0,f=s.length;h<f;h++){var p=u,w=s[h];if(u+=w.getLength(),u>e)return w.getLocationAt(e-p)}if(s.length>0&&e<=this.getLength())return new re(s[s.length-1],1)}else if(e&&e.getPath&&e.getPath()===this)return e;return null},getOffsetsWithTangent:function(){var e=R.read(arguments);if(e.isZero())return[];for(var s=[],u=0,h=this.getCurves(),f=0,p=h.length;f<p;f++){for(var w=h[f],y=w.getTimesWithTangent(e),x=0,D=y.length;x<D;x++){var P=u+w.getOffsetAtTime(y[x]);s.indexOf(P)<0&&s.push(P)}u+=w.length}return s}}),new function(){function e(u,h,f,p){if(p<=0)return;var w=p/2,y=p-2,x=w-1,D=new Array(6),P,N;function O(X){var M=D[X],L=D[X+1];(P!=M||N!=L)&&(u.beginPath(),u.moveTo(P,N),u.lineTo(M,L),u.stroke(),u.beginPath(),u.arc(M,L,w,0,Math.PI*2,!0),u.fill())}for(var I=0,z=h.length;I<z;I++){var U=h[I],$=U._selection;if(U._transformCoordinates(f,D),P=D[0],N=D[1],$&2&&O(2),$&4&&O(4),u.fillRect(P-w,N-w,p,p),y>0&&!($&1)){var k=u.fillStyle;u.fillStyle="#ffffff",u.fillRect(P-x,N-x,y,y),u.fillStyle=k}}}function s(u,h,f){var p=h._segments,w=p.length,y=new Array(6),x=!0,D,P,N,O,I,z,U,$;function k(M){if(f)M._transformCoordinates(f,y),D=y[0],P=y[1];else{var L=M._point;D=L._x,P=L._y}if(x)u.moveTo(D,P),x=!1;else{if(f)I=y[2],z=y[3];else{var H=M._handleIn;I=D+H._x,z=P+H._y}I===D&&z===P&&U===N&&$===O?u.lineTo(D,P):u.bezierCurveTo(U,$,I,z,D,P)}if(N=D,O=P,f)U=y[4],$=y[5];else{var H=M._handleOut;U=N+H._x,$=O+H._y}}for(var X=0;X<w;X++)k(p[X]);h._closed&&w>0&&k(p[0])}return{_draw:function(u,h,f,p){var w=h.dontStart,y=h.dontFinish||h.clip,x=this.getStyle(),D=x.hasFill(),P=x.hasStroke(),N=x.getDashArray(),O=!ne.support.nativeDash&&P&&N&&N.length;w||u.beginPath(),(D||P&&!O||y)&&(s(u,this,p),this._closed&&u.closePath());function I(M){return N[(M%O+O)%O]}if(!y&&(D||P)&&(this._setStyles(u,h,f),D&&(u.fill(x.getFillRule()),u.shadowColor="rgba(0,0,0,0)"),P)){if(O){w||u.beginPath();for(var z=new pe(this,.25,32,!1,p),U=z.length,$=-x.getDashOffset(),k,X=0;$>0;)$-=I(X--)+I(X--);for(;$<U;)k=$+I(X++),($>0||k>0)&&z.drawPart(u,Math.max($,0),Math.max(k,0)),$=k+I(X++)}u.stroke()}},_drawSelected:function(u,h){u.beginPath(),s(u,this,h),u.stroke(),e(u,this._segments,h,ne.settings.handleSize)}}},new function(){function e(s){var u=s._segments;if(!u.length)throw new Error("Use a moveTo() command first");return u[u.length-1]}return{moveTo:function(){var s=this._segments;s.length===1&&this.removeSegment(0),s.length||this._add([new Zt(R.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new Zt(R.read(arguments))])},cubicCurveTo:function(){var s=arguments,u=R.read(s),h=R.read(s),f=R.read(s),p=e(this);p.setHandleOut(u.subtract(p._point)),this._add([new Zt(f,h.subtract(f))])},quadraticCurveTo:function(){var s=arguments,u=R.read(s),h=R.read(s),f=e(this)._point;this.cubicCurveTo(u.add(f.subtract(u).multiply(1/3)),u.add(h.subtract(u).multiply(1/3)),h)},curveTo:function(){var s=arguments,u=R.read(s),h=R.read(s),f=r.pick(r.read(s),.5),p=1-f,w=e(this)._point,y=u.subtract(w.multiply(p*p)).subtract(h.multiply(f*f)).divide(2*f*p);if(y.isNaN())throw new Error("Cannot put a curve through points with parameter = "+f);this.quadraticCurveTo(y,h)},arcTo:function(){var s=arguments,u=Math.abs,h=Math.sqrt,f=e(this),p=f._point,w=R.read(s),y,x=r.peek(s),D=r.pick(x,!0),P,N,O,I;if(typeof D=="boolean")var z=p.add(w).divide(2),y=z.add(z.subtract(p).rotate(D?-90:90));else if(r.remain(s)<=2)y=w,w=R.read(s);else if(!p.equals(w)){var U=m.read(s),$=G.isZero;if($(U.width)||$(U.height))return this.lineTo(w);var k=r.read(s),D=!!r.read(s),X=!!r.read(s),z=p.add(w).divide(2),M=p.subtract(z).rotate(-k),L=M.x,H=M.y,Z=u(U.width),at=u(U.height),ut=Z*Z,lt=at*at,ht=L*L,vt=H*H,dt=h(ht/ut+vt/lt);if(dt>1&&(Z*=dt,at*=dt,ut=Z*Z,lt=at*at),dt=(ut*lt-ut*vt-lt*ht)/(ut*vt+lt*ht),u(dt)<1e-12&&(dt=0),dt<0)throw new Error("Cannot create an arc with the given arguments");P=new R(Z*H/at,-at*L/Z).multiply((X===D?-1:1)*h(dt)).rotate(k).add(z),I=new Et().translate(P).rotate(k).scale(Z,at),O=I._inverseTransform(p),N=O.getDirectedAngle(I._inverseTransform(w)),!D&&N>0?N-=360:D&&N<0&&(N+=360)}if(y){var _t=new ot(p.add(y).divide(2),y.subtract(p).rotate(90),!0),wt=new ot(y.add(w).divide(2),w.subtract(y).rotate(90),!0),Tt=new ot(p,w),Ot=Tt.getSide(y);if(P=_t.intersect(wt,!0),!P){if(!Ot)return this.lineTo(w);throw new Error("Cannot create an arc with the given arguments")}O=p.subtract(P),N=O.getDirectedAngle(w.subtract(P));var Vt=Tt.getSide(P,!0);Vt===0?N=Ot*u(N):Ot===Vt&&(N+=N<0?360:-360)}if(N){for(var Wt=1e-5,Kt=u(N),Jt=Kt>=360?4:Math.ceil((Kt-Wt)/90),_e=N/Jt,ye=_e*Math.PI/360,me=4/3*Math.sin(ye)/(1+Math.cos(ye)),ge=[],Fe=0;Fe<=Jt;Fe++){var M=w,De=null;if(Fe<Jt&&(De=O.rotate(90).multiply(me),I?(M=I._transformPoint(O),De=I._transformPoint(O.add(De)).subtract(M)):M=P.add(O)),!Fe)f.setHandleOut(De);else{var ei=O.rotate(-90).multiply(me);I&&(ei=I._transformPoint(O.add(ei)).subtract(M)),ge.push(new Zt(M,ei,De))}O=O.rotate(_e)}this._add(ge)}},lineBy:function(){var s=R.read(arguments),u=e(this)._point;this.lineTo(u.add(s))},curveBy:function(){var s=arguments,u=R.read(s),h=R.read(s),f=r.read(s),p=e(this)._point;this.curveTo(p.add(u),p.add(h),f)},cubicCurveBy:function(){var s=arguments,u=R.read(s),h=R.read(s),f=R.read(s),p=e(this)._point;this.cubicCurveTo(p.add(u),p.add(h),p.add(f))},quadraticCurveBy:function(){var s=arguments,u=R.read(s),h=R.read(s),f=e(this)._point;this.quadraticCurveTo(f.add(u),f.add(h))},arcBy:function(){var s=arguments,u=e(this)._point,h=u.add(R.read(s)),f=r.pick(r.peek(s),!0);typeof f=="boolean"?this.arcTo(h,f):this.arcTo(h,u.add(R.read(s)))},closePath:function(s){this.setClosed(!0),this.join(this,s)}}},{_getBounds:function(e,s){var u=s.handle?"getHandleBounds":s.stroke?"getStrokeBounds":"getBounds";return $t[u](this._segments,this._closed,this,e,s)},statics:{getBounds:function(e,s,u,h,f,p){var w=e[0];if(!w)return new et;var y=new Array(6),x=w._transformCoordinates(h,new Array(6)),D=x.slice(0,2),P=D.slice(),N=new Array(2);function O(U){U._transformCoordinates(h,y);for(var $=0;$<2;$++)Dt._addBounds(x[$],x[$+4],y[$+2],y[$],$,p?p[$]:0,D,P,N);var k=x;x=y,y=k}for(var I=1,z=e.length;I<z;I++)O(e[I]);return s&&O(w),new et(D[0],D[1],P[0]-D[0],P[1]-D[1])},getStrokeBounds:function(e,s,u,h,f){var p=u.getStyle(),w=p.hasStroke(),y=p.getStrokeWidth(),x=w&&u._getStrokeMatrix(h,f),D=w&&$t._getStrokePadding(y,x),P=$t.getBounds(e,s,u,h,f,D);if(!w)return P;var N=y/2,O=p.getStrokeJoin(),I=p.getStrokeCap(),z=p.getMiterLimit(),U=new et(new m(D));function $(Z){P=P.include(Z)}function k(Z){P=P.unite(U.setCenter(Z._point.transform(h)))}function X(Z,at){at==="round"||Z.isSmooth()?k(Z):$t._addBevelJoin(Z,at,N,z,h,x,$)}function M(Z,at){at==="round"?k(Z):$t._addSquareCap(Z,at,N,h,x,$)}var L=e.length-(s?0:1);if(L>0){for(var H=1;H<L;H++)X(e[H],O);s?X(e[0],O):(M(e[0],I),M(e[e.length-1],I))}return P},_getStrokePadding:function(e,s){if(!s)return[e,e];var u=new R(e,0).transform(s),h=new R(0,e).transform(s),f=u.getAngleInRadians(),p=u.getLength(),w=h.getLength(),y=Math.sin(f),x=Math.cos(f),D=Math.tan(f),P=Math.atan2(w*D,p),N=Math.atan2(w,D*p);return[Math.abs(p*Math.cos(P)*x+w*Math.sin(P)*y),Math.abs(w*Math.sin(N)*x+p*Math.cos(N)*y)]},_addBevelJoin:function(e,s,u,h,f,p,w,y){var x=e.getCurve(),D=x.getPrevious(),P=x.getPoint1().transform(f),N=D.getNormalAtTime(1).multiply(u).transform(p),O=x.getNormalAtTime(0).multiply(u).transform(p),I=N.getDirectedAngle(O);if((I<0||I>=180)&&(N=N.negate(),O=O.negate()),y&&w(P),w(P.add(N)),s==="miter"){var z=new ot(P.add(N),new R(-N.y,N.x),!0).intersect(new ot(P.add(O),new R(-O.y,O.x),!0),!0);z&&P.getDistance(z)<=h*u&&w(z)}w(P.add(O))},_addSquareCap:function(e,s,u,h,f,p,w){var y=e._point.transform(h),x=e.getLocation(),D=x.getNormal().multiply(x.getTime()===0?u:-u).transform(f);s==="square"&&(w&&(p(y.subtract(D)),p(y.add(D))),y=y.add(D.rotate(-90))),p(y.add(D)),p(y.subtract(D))},getHandleBounds:function(e,s,u,h,f){var p=u.getStyle(),w=f.stroke&&p.hasStroke(),y,x;if(w){var D=u._getStrokeMatrix(h,f),P=p.getStrokeWidth()/2,N=P;p.getStrokeJoin()==="miter"&&(N=P*p.getMiterLimit()),p.getStrokeCap()==="square"&&(N=Math.max(N,P*Math.SQRT2)),y=$t._getStrokePadding(P,D),x=$t._getStrokePadding(N,D)}for(var O=new Array(6),I=1/0,z=-I,U=I,$=z,k=0,X=e.length;k<X;k++){var M=e[k];M._transformCoordinates(h,O);for(var L=0;L<6;L+=2){var H=L?y:x,Z=H?H[0]:0,at=H?H[1]:0,ut=O[L],lt=O[L+1],ht=ut-Z,vt=ut+Z,dt=lt-at,_t=lt+at;ht<I&&(I=ht),vt>z&&(z=vt),dt<U&&(U=dt),_t>$&&($=_t)}}return new et(I,U,z-I,$-U)}}});$t.inject({statics:new function(){var e=.5522847498307936,s=[new Zt([-1,0],[0,e],[0,-e]),new Zt([0,-1],[-e,0],[e,0]),new Zt([1,0],[0,-e],[0,e]),new Zt([0,1],[e,0],[-e,0])];function u(f,p,w){var y=r.getNamed(w),x=new $t(y&&(y.insert==!0?xt.INSERT:y.insert==!1?xt.NO_INSERT:null));return x._add(f),x._closed=p,x.set(y,xt.INSERT)}function h(f,p,w){for(var y=new Array(4),x=0;x<4;x++){var D=s[x];y[x]=new Zt(D._point.multiply(p).add(f),D._handleIn.multiply(p),D._handleOut.multiply(p))}return u(y,!0,w)}return{Line:function(){var f=arguments;return u([new Zt(R.readNamed(f,"from")),new Zt(R.readNamed(f,"to"))],!1,f)},Circle:function(){var f=arguments,p=R.readNamed(f,"center"),w=r.readNamed(f,"radius");return h(p,new m(w),f)},Rectangle:function(){var f=arguments,p=et.readNamed(f,"rectangle"),w=m.readNamed(f,"radius",0,{readNull:!0}),y=p.getBottomLeft(!0),x=p.getTopLeft(!0),D=p.getTopRight(!0),P=p.getBottomRight(!0),N;if(!w||w.isZero())N=[new Zt(y),new Zt(x),new Zt(D),new Zt(P)];else{w=m.min(w,p.getSize(!0).divide(2));var O=w.width,I=w.height,z=O*e,U=I*e;N=[new Zt(y.add(O,0),null,[-z,0]),new Zt(y.subtract(0,I),[0,U]),new Zt(x.add(0,I),null,[0,-U]),new Zt(x.add(O,0),[-z,0],null),new Zt(D.subtract(O,0),null,[z,0]),new Zt(D.add(0,I),[0,-U],null),new Zt(P.subtract(0,I),null,[0,U]),new Zt(P.subtract(O,0),[z,0])]}return u(N,!0,f)},RoundRectangle:"#Rectangle",Ellipse:function(){var f=arguments,p=T._readEllipse(f);return h(p.center,p.radius,f)},Oval:"#Ellipse",Arc:function(){var f=arguments,p=R.readNamed(f,"from"),w=R.readNamed(f,"through"),y=R.readNamed(f,"to"),x=r.getNamed(f),D=new $t(x&&x.insert==!1&&xt.NO_INSERT);return D.moveTo(p),D.arcTo(w,y),D.set(x)},RegularPolygon:function(){for(var f=arguments,p=R.readNamed(f,"center"),w=r.readNamed(f,"sides"),y=r.readNamed(f,"radius"),x=360/w,D=w%3===0,P=new R(0,D?-y:y),N=D?-1:.5,O=new Array(w),I=0;I<w;I++)O[I]=new Zt(p.add(P.rotate((I+N)*x)));return u(O,!0,f)},Star:function(){for(var f=arguments,p=R.readNamed(f,"center"),w=r.readNamed(f,"points")*2,y=r.readNamed(f,"radius1"),x=r.readNamed(f,"radius2"),D=360/w,P=new R(0,-1),N=new Array(w),O=0;O<w;O++)N[O]=new Zt(p.add(P.rotate(D*O).multiply(O%2?x:y)));return u(N,!0,f)}}}});var ee=ve.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(s){this._children=[],this._namedChildren={},this._initialize(s)||(typeof s=="string"?this.setPathData(s):this.addChildren(Array.isArray(s)?s:arguments))},insertChildren:function e(s,u){var h=u,f=h[0];f&&typeof f[0]=="number"&&(h=[h]);for(var p=u.length-1;p>=0;p--){var w=h[p];h===u&&!(w instanceof $t)&&(h=r.slice(h)),Array.isArray(w)?h[p]=new $t({segments:w,insert:!1}):w instanceof ee&&(h.splice.apply(h,[p,1].concat(w.removeChildren())),w.remove())}return e.base.call(this,s,h)},reduce:function e(s){for(var u=this._children,h=u.length-1;h>=0;h--){var f=u[h].reduce(s);f.isEmpty()&&f.remove()}if(!u.length){var f=new $t(xt.NO_INSERT);return f.copyAttributes(this),f.insertAbove(this),this.remove(),f}return e.base.call(this)},isClosed:function(){for(var e=this._children,s=0,u=e.length;s<u;s++)if(!e[s]._closed)return!1;return!0},setClosed:function(e){for(var s=this._children,u=0,h=s.length;u<h;u++)s[u].setClosed(e)},getFirstSegment:function(){var e=this.getFirstChild();return e&&e.getFirstSegment()},getLastSegment:function(){var e=this.getLastChild();return e&&e.getLastSegment()},getCurves:function(){for(var e=this._children,s=[],u=0,h=e.length;u<h;u++)r.push(s,e[u].getCurves());return s},getFirstCurve:function(){var e=this.getFirstChild();return e&&e.getFirstCurve()},getLastCurve:function(){var e=this.getLastChild();return e&&e.getLastCurve()},getArea:function(){for(var e=this._children,s=0,u=0,h=e.length;u<h;u++)s+=e[u].getArea();return s},getLength:function(){for(var e=this._children,s=0,u=0,h=e.length;u<h;u++)s+=e[u].getLength();return s},getPathData:function(e,s){for(var u=this._children,h=[],f=0,p=u.length;f<p;f++){var w=u[f],y=w._matrix;h.push(w.getPathData(e&&!y.isIdentity()?e.appended(y):e,s))}return h.join("")},_hitTestChildren:function e(s,u,h){return e.base.call(this,s,u.class===$t||u.type==="path"?u:r.set({},u,{fill:!1}),h)},_draw:function(e,s,u,h){var f=this._children;if(f.length){s=s.extend({dontStart:!0,dontFinish:!0}),e.beginPath();for(var p=0,w=f.length;p<w;p++)f[p].draw(e,s,h);if(!s.clip){this._setStyles(e,s,u);var y=this._style;y.hasFill()&&(e.fill(y.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),y.hasStroke()&&e.stroke()}}},_drawSelected:function(e,s,u){for(var h=this._children,f=0,p=h.length;f<p;f++){var w=h[f],y=w._matrix;u[w._id]||w._drawSelected(e,y.isIdentity()?s:s.appended(y))}}},new function(){function e(s,u){var h=s._children;if(u&&!h.length)throw new Error("Use a moveTo() command first");return h[h.length-1]}return r.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(s){this[s]=function(){var u=e(this,!0);u[s].apply(u,arguments)}},{moveTo:function(){var s=e(this),u=s&&s.isEmpty()?s:new $t(xt.NO_INSERT);u!==s&&this.addChild(u),u.moveTo.apply(u,arguments)},moveBy:function(){var s=e(this,!0),u=s&&s.getLastSegment(),h=R.read(arguments);this.moveTo(u?h.add(u._point):h)},closePath:function(s){e(this,!0).closePath(s)}})},r.each(["reverse","flatten","simplify","smooth"],function(e){this[e]=function(s){for(var u=this._children,h,f=0,p=u.length;f<p;f++)h=u[f][e](s)||h;return h}},{}));ve.inject(new function(){var e=Math.min,s=Math.max,u=Math.abs,h={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function f(k){return k._children||[k]}function p(k,X){var M=k.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(X){for(var L=f(M),H=0,Z=L.length;H<Z;H++){var k=L[H];!k._closed&&!k.isEmpty()&&(k.closePath(1e-12),k.getFirstSegment().setHandleIn(0,0),k.getLastSegment().setHandleOut(0,0))}M=M.resolveCrossings().reorient(M.getFillRule()==="nonzero",!0)}return M}function w(k,X,M,L,H){var Z=new ee(xt.NO_INSERT);return Z.addChildren(k,!0),Z=Z.reduce({simplify:X}),H&&H.insert==!1||Z.insertAbove(L&&M.isSibling(L)&&M.getIndex()<L.getIndex()?L:M),Z.copyAttributes(M,!0),Z}function y(k){return k.hasOverlap()||k.isCrossing()}function x(k,X,M,L){if(L&&(L.trace==!1||L.stroke)&&/^(subtract|intersect)$/.test(M))return D(k,X,M);var H=p(k,!0),Z=X&&k!==X&&p(X,!0),at=h[M];at[M]=!0,Z&&(at.subtract||at.exclude)^(Z.isClockwise()^H.isClockwise())&&Z.reverse();var ut=I(re.expand(H.getIntersections(Z,y))),lt=f(H),ht=Z&&f(Z),vt=[],dt=[],_t;function wt(De){for(var ei=0,ze=De.length;ei<ze;ei++){var je=De[ei];r.push(vt,je._segments),r.push(dt,je.getCurves()),je._overlapsOnly=!0}}function Tt(De){for(var ei=[],ze=0,je=De&&De.length;ze<je;ze++)ei.push(dt[De[ze]]);return ei}if(ut.length){wt(lt),ht&&wt(ht);for(var Ot=new Array(dt.length),Vt=0,Wt=dt.length;Vt<Wt;Vt++)Ot[Vt]=dt[Vt].getValues();for(var Kt=j.findCurveBoundsCollisions(Ot,Ot,0,!0),Jt={},Vt=0;Vt<dt.length;Vt++){var _e=dt[Vt],ye=_e._path._id,me=Jt[ye]=Jt[ye]||{};me[_e.getIndex()]={hor:Tt(Kt[Vt].hor),ver:Tt(Kt[Vt].ver)}}for(var Vt=0,Wt=ut.length;Vt<Wt;Vt++)U(ut[Vt]._segment,H,Z,Jt,at);for(var Vt=0,Wt=vt.length;Vt<Wt;Vt++){var ge=vt[Vt],Fe=ge._intersection;ge._winding||U(ge,H,Z,Jt,at),Fe&&Fe._overlap||(ge._path._overlapsOnly=!1)}_t=$(vt,at)}else _t=O(ht?lt.concat(ht):lt.slice(),function(De){return!!at[De]});return w(_t,!0,k,X,L)}function D(k,X,M){var L=p(k),H=p(X),Z=L.getIntersections(H,y),at=M==="subtract",ut=M==="divide",lt={},ht=[];function vt(wt){if(!lt[wt._id]&&(ut||H.contains(wt.getPointAt(wt.getLength()/2))^at))return ht.unshift(wt),lt[wt._id]=!0}for(var dt=Z.length-1;dt>=0;dt--){var _t=Z[dt].split();_t&&(vt(_t)&&_t.getFirstSegment().setHandleIn(0,0),L.getLastSegment().setHandleOut(0,0))}return vt(L),w(ht,!1,k,X)}function P(k,X){for(var M=k;M;){if(M===X)return;M=M._previous}for(;k._next&&k._next!==X;)k=k._next;if(!k._next){for(;X._previous;)X=X._previous;k._next=X,X._previous=k}}function N(k){for(var X=k.length-1;X>=0;X--)k[X].clearHandles()}function O(k,X,M){var L=k&&k.length;if(L){var H=r.each(k,function(Kt,Jt){this[Kt._id]={container:null,winding:Kt.isClockwise()?1:-1,index:Jt}},{}),Z=k.slice().sort(function(Kt,Jt){return u(Jt.getArea())-u(Kt.getArea())}),at=Z[0],ut=j.findItemBoundsCollisions(Z,null,G.GEOMETRIC_EPSILON);M==null&&(M=at.isClockwise());for(var lt=0;lt<L;lt++){var ht=Z[lt],vt=H[ht._id],dt=0,_t=ut[lt];if(_t){for(var wt=null,Tt=_t.length-1;Tt>=0;Tt--)if(_t[Tt]<lt){wt=wt||ht.getInteriorPoint();var Ot=Z[_t[Tt]];if(Ot.contains(wt)){var Vt=H[Ot._id];dt=Vt.winding,vt.winding+=dt,vt.container=Vt.exclude?Vt.container:Ot;break}}}if(X(vt.winding)===X(dt))vt.exclude=!0,k[vt.index]=null;else{var Wt=vt.container;ht.setClockwise(Wt?!Wt.isClockwise():M)}}}return k}function I(k,X,M){var L=X&&[],H=1e-8,Z=1-H,at=!1,ut=M||[],lt=M&&{},ht,vt,dt;function _t(ei){return ei._path._id+"."+ei._segment1._index}for(var wt=(M&&M.length)-1;wt>=0;wt--){var Tt=M[wt];Tt._path&&(lt[_t(Tt)]=!0)}for(var wt=k.length-1;wt>=0;wt--){var Ot=k[wt],Vt=Ot._time,Wt=Vt,Kt=X&&!X(Ot),Tt=Ot._curve,Jt;if(Tt&&(Tt!==vt?(at=!Tt.hasHandles()||lt&&lt[_t(Tt)],ht=[],dt=null,vt=Tt):dt>=H&&(Vt/=dt)),Kt){ht&&ht.push(Ot);continue}else X&&L.unshift(Ot);if(dt=Wt,Vt<H)Jt=Tt._segment1;else if(Vt>Z)Jt=Tt._segment2;else{var _e=Tt.divideAtTime(Vt,!0);at&&ut.push(Tt,_e),Jt=_e._segment1;for(var ye=ht.length-1;ye>=0;ye--){var me=ht[ye];me._time=(me._time-Vt)/(1-Vt)}}Ot._setSegment(Jt);var ge=Jt._intersection,Fe=Ot._intersection;if(ge){P(ge,Fe);for(var De=ge;De;)P(De._intersection,ge),De=De._next}else Jt._intersection=Fe}return M||N(ut),L||k}function z(k,X,M,L,H){var Z=Array.isArray(X)?X:X[M?"hor":"ver"],at=M?1:0,ut=at^1,lt=[k.x,k.y],ht=lt[at],vt=lt[ut],dt=1e-9,_t=1e-6,wt=ht-dt,Tt=ht+dt,Ot=0,Vt=0,Wt=0,Kt=0,Jt=!1,_e=!1,ye=1,me=[],ge,Fe;function De($e){var _i=$e[ut+0],bn=$e[ut+6];if(!(vt<e(_i,bn)||vt>s(_i,bn))){var zi=$e[at+0],us=$e[at+2],Ms=$e[at+4],Kn=$e[at+6];if(_i===bn){(zi<Tt&&Kn>wt||Kn<Tt&&zi>wt)&&(Jt=!0);return}var os=vt===_i?0:vt===bn||wt>s(zi,us,Ms,Kn)||Tt<e(zi,us,Ms,Kn)?1:Dt.solveCubic($e,ut,vt,me,0,1)>0?me[0]:1,en=os===0?zi:os===1?Kn:Dt.getPoint($e,os)[M?"y":"x"],xn=_i>bn?1:-1,ws=ge[ut]>ge[ut+6]?1:-1,An=ge[at+6];return vt!==_i?(en<wt?Wt+=xn:en>Tt?Kt+=xn:Jt=!0,en>ht-_t&&en<ht+_t&&(ye/=2)):(xn!==ws?zi<wt?Wt+=xn:zi>Tt&&(Kt+=xn):zi!=An&&(An<Tt&&en>Tt?(Kt+=xn,Jt=!0):An>wt&&en<wt&&(Wt+=xn,Jt=!0)),ye/=4),ge=$e,!H&&en>wt&&en<Tt&&Dt.getTangent($e,os)[M?"x":"y"]===0&&z(k,X,!M,L,!0)}}function ei($e){var _i=$e[ut+0],bn=$e[ut+2],zi=$e[ut+4],us=$e[ut+6];if(vt<=s(_i,bn,zi,us)&&vt>=e(_i,bn,zi,us)){for(var Ms=$e[at+0],Kn=$e[at+2],os=$e[at+4],en=$e[at+6],xn=wt>s(Ms,Kn,os,en)||Tt<e(Ms,Kn,os,en)?[$e]:Dt.getMonoCurves($e,M),ws,An=0,Sr=xn.length;An<Sr;An++)if(ws=De(xn[An]))return ws}}for(var ze=0,je=Z.length;ze<je;ze++){var qe=Z[ze],Ue=qe._path,Vi=qe.getValues(),Zi;if((!ze||Z[ze-1]._path!==Ue)&&(ge=null,Ue._closed||(Fe=Dt.getValues(Ue.getLastCurve().getSegment2(),qe.getSegment1(),null,!L),Fe[ut]!==Fe[ut+6]&&(ge=Fe)),!ge)){ge=Vi;for(var ki=Ue.getLastCurve();ki&&ki!==qe;){var Ii=ki.getValues();if(Ii[ut]!==Ii[ut+6]){ge=Ii;break}ki=ki.getPrevious()}}if(Zi=ei(Vi))return Zi;if(ze+1===je||Z[ze+1]._path!==Ue){if(Fe&&(Zi=ei(Fe)))return Zi;Jt&&!Wt&&!Kt&&(Wt=Kt=Ue.isClockwise(L)^M?1:-1),Ot+=Wt,Vt+=Kt,Wt=Kt=0,Jt&&(_e=!0,Jt=!1),Fe=null}}return Ot=u(Ot),Vt=u(Vt),{winding:s(Ot,Vt),windingL:Ot,windingR:Vt,quality:ye,onPath:_e}}function U(k,X,M,L,H){var Z=[],at=k,ut=0,dt;do{var lt=k.getCurve();if(lt){var ht=lt.getLength();Z.push({segment:k,curve:lt,length:ht}),ut+=ht}k=k.getNext()}while(k&&!k._intersection&&k!==at);for(var vt=[.5,.25,.75],dt={winding:0,quality:-1},_t=.001,wt=1-_t,Tt=0;Tt<vt.length&&dt.quality<.5;Tt++)for(var ht=ut*vt[Tt],Ot=0,Vt=Z.length;Ot<Vt;Ot++){var Wt=Z[Ot],Kt=Wt.length;if(ht<=Kt){var lt=Wt.curve,Jt=lt._path,_e=Jt._parent,ye=_e instanceof ee?_e:Jt,me=G.clamp(lt.getTimeAt(ht),_t,wt),ge=lt.getPointAtTime(me),Fe=u(lt.getTangentAtTime(me).y)<Math.SQRT1_2,De=null;if(H.subtract&&M){var ei=ye===X?M:X,ze=ei._getWinding(ge,Fe,!0);if(ye===X&&ze.winding||ye===M&&!ze.winding){if(ze.quality<1)continue;De={winding:0,quality:1}}}De=De||z(ge,L[Jt._id][lt.getIndex()],Fe,!0),De.quality>dt.quality&&(dt=De);break}ht-=Kt}for(var Ot=Z.length-1;Ot>=0;Ot--)Z[Ot].segment._winding=dt}function $(k,X){var M=[],L;function H(je){var qe;return!!(je&&!je._visited&&(!X||X[(qe=je._winding||{}).winding]&&!(X.unite&&qe.winding===2&&qe.windingL&&qe.windingR)))}function Z(je){if(je){for(var qe=0,Ue=L.length;qe<Ue;qe++)if(je===L[qe])return!0}return!1}function at(je){for(var qe=je._segments,Ue=0,Vi=qe.length;Ue<Vi;Ue++)qe[Ue]._visited=!0}function ut(je,qe){var Ue=je._intersection,Vi=Ue,Zi=[];qe&&(L=[je]);function ki(Ii,$e){for(;Ii&&Ii!==$e;){var _i=Ii._segment,bn=_i&&_i._path;if(bn){var zi=_i.getNext()||bn.getFirstSegment(),us=zi._intersection;_i!==je&&(Z(_i)||Z(zi)||zi&&H(_i)&&(H(zi)||us&&H(us._segment)))&&Zi.push(_i),qe&&L.push(_i)}Ii=Ii._next}}if(Ue){for(ki(Ue);Ue&&Ue._previous;)Ue=Ue._previous;ki(Ue,Vi)}return Zi}k.sort(function(je,qe){var Ue=je._intersection,Vi=qe._intersection,Zi=!!(Ue&&Ue._overlap),ki=!!(Vi&&Vi._overlap),Ii=je._path,$e=qe._path;return Zi^ki?Zi?1:-1:!Ue^!Vi?Ue?1:-1:Ii!==$e?Ii._id-$e._id:je._index-qe._index});for(var lt=0,ht=k.length;lt<ht;lt++){var vt=k[lt],dt=H(vt),_t=null,wt=!1,Tt=!0,Ot=[],Vt,Wt,Kt;if(dt&&vt._path._overlapsOnly){var Jt=vt._path,_e=vt._intersection._segment._path;Jt.compare(_e)&&(Jt.getArea()&&M.push(Jt.clone(!1)),at(Jt),at(_e),dt=!1)}for(;dt;){var ye=!_t,me=ut(vt,ye),ge=me.shift(),wt=!ye&&(Z(vt)||Z(ge)),Fe=!wt&&ge;if(ye&&(_t=new $t(xt.NO_INSERT),Vt=null),wt){(vt.isFirst()||vt.isLast())&&(Tt=vt._path._closed),vt._visited=!0;break}if(Fe&&Vt&&(Ot.push(Vt),Vt=null),Vt||(Fe&&me.push(vt),Vt={start:_t._segments.length,crossings:me,visited:Wt=[],handleIn:Kt}),Fe&&(vt=ge),!H(vt)){_t.removeSegments(Vt.start);for(var De=0,ei=Wt.length;De<ei;De++)Wt[De]._visited=!1;Wt.length=0;do vt=Vt&&Vt.crossings.shift(),(!vt||!vt._path)&&(vt=null,Vt=Ot.pop(),Vt&&(Wt=Vt.visited,Kt=Vt.handleIn));while(Vt&&!H(vt));if(!vt)break}var ze=vt.getNext();_t.add(new Zt(vt._point,Kt,ze&&vt._handleOut)),vt._visited=!0,Wt.push(vt),vt=ze||vt._path.getFirstSegment(),Kt=ze&&ze._handleIn}wt&&(Tt&&(_t.getFirstSegment().setHandleIn(Kt),_t.setClosed(Tt)),_t.getArea()!==0&&M.push(_t))}return M}return{_getWinding:function(k,X,M){return z(k,this.getCurves(),X,M)},unite:function(k,X){return x(this,k,"unite",X)},intersect:function(k,X){return x(this,k,"intersect",X)},subtract:function(k,X){return x(this,k,"subtract",X)},exclude:function(k,X){return x(this,k,"exclude",X)},divide:function(k,X){return X&&(X.trace==!1||X.stroke)?D(this,k,"divide"):w([this.subtract(k,X),this.intersect(k,X)],!0,this,k,X)},resolveCrossings:function(){var k=this._children,X=k||[this];function M(Vt,Wt){var Kt=Vt&&Vt._intersection;return Kt&&Kt._overlap&&Kt._path===Wt}var L=!1,H=!1,Z=this.getIntersections(null,function(Vt){return Vt.hasOverlap()&&(L=!0)||Vt.isCrossing()&&(H=!0)}),at=L&&H&&[];if(Z=re.expand(Z),L)for(var ut=I(Z,function(Vt){return Vt.hasOverlap()},at),lt=ut.length-1;lt>=0;lt--){var ht=ut[lt],vt=ht._path,dt=ht._segment,_t=dt.getPrevious(),wt=dt.getNext();M(_t,vt)&&M(wt,vt)&&(dt.remove(),_t._handleOut._set(0,0),wt._handleIn._set(0,0),_t!==dt&&!_t.getCurve().hasLength()&&(wt._handleIn.set(_t._handleIn),_t.remove()))}H&&(I(Z,L&&function(Vt){var Wt=Vt.getCurve(),Kt=Vt.getSegment(),Jt=Vt._intersection,_e=Jt._curve,ye=Jt._segment;if(Wt&&_e&&Wt._path&&_e._path)return!0;Kt&&(Kt._intersection=null),ye&&(ye._intersection=null)},at),at&&N(at),X=$(r.each(X,function(Vt){r.push(this,Vt._segments)},[])));var Tt=X.length,Ot;return Tt>1&&k?(X!==k&&this.setChildren(X),Ot=this):Tt===1&&!k&&(X[0]!==this&&this.setSegments(X[0].removeSegments()),Ot=this),Ot||(Ot=new ee(xt.NO_INSERT),Ot.addChildren(X),Ot=Ot.reduce(),Ot.copyAttributes(this),this.replaceWith(Ot)),Ot},reorient:function(k,X){var M=this._children;return M&&M.length?this.setChildren(O(this.removeChildren(),function(L){return!!(k?L:L&1)},X)):X!==i&&this.setClockwise(X),this},getInteriorPoint:function(){var k=this.getBounds(),X=k.getCenter(!0);if(!this.contains(X)){for(var M=this.getCurves(),L=X.y,H=[],Z=[],at=0,ut=M.length;at<ut;at++){var lt=M[at].getValues(),ht=lt[1],vt=lt[3],dt=lt[5],_t=lt[7];if(L>=e(ht,vt,dt,_t)&&L<=s(ht,vt,dt,_t))for(var wt=Dt.getMonoCurves(lt),Tt=0,Ot=wt.length;Tt<Ot;Tt++){var Vt=wt[Tt],Wt=Vt[1],Kt=Vt[7];if(Wt!==Kt&&(L>=Wt&&L<=Kt||L>=Kt&&L<=Wt)){var Jt=L===Wt?Vt[0]:L===Kt?Vt[6]:Dt.solveCubic(Vt,1,L,Z,0,1)===1?Dt.getPoint(Vt,Z[0]).x:(Vt[0]+Vt[6])/2;H.push(Jt)}}}H.length>1&&(H.sort(function(_e,ye){return _e-ye}),X.x=(H[0]+H[1])/2)}return X}}});var pe=r.extend({_class:"PathFlattener",initialize:function(e,s,u,h,f){var p=[],w=[],y=0,x=1/(u||32),D=e._segments,P=D[0],N;function O($,k){var X=Dt.getValues($,k,f);p.push(X),I(X,$._index,0,1)}function I($,k,X,M){if(M-X>x&&!(h&&Dt.isStraight($))&&!Dt.isFlatEnough($,s||.25)){var L=Dt.subdivide($,.5),H=(X+M)/2;I(L[0],k,X,H),I(L[1],k,H,M)}else{var Z=$[6]-$[0],at=$[7]-$[1],ut=Math.sqrt(Z*Z+at*at);ut>0&&(y+=ut,w.push({offset:y,curve:$,index:k,time:M}))}}for(var z=1,U=D.length;z<U;z++)N=D[z],O(P,N),P=N;e._closed&&O(N||P,D[0]),this.curves=p,this.parts=w,this.length=y,this.index=0},_get:function(e){for(var s=this.parts,u=s.length,h,f=this.index;h=f,!(!f||s[--f].offset<e););for(;h<u;h++){var p=s[h];if(p.offset>=e){this.index=h;var w=s[h-1],y=w&&w.index===p.index?w.time:0,x=w?w.offset:0;return{index:p.index,time:y+(p.time-y)*(e-x)/(p.offset-x)}}}return{index:s[u-1].index,time:1}},drawPart:function(e,s,u){for(var h=this._get(s),f=this._get(u),p=h.index,w=f.index;p<=w;p++){var y=Dt.getPart(this.curves[p],p===h.index?h.time:0,p===f.index?f.time:1);p===h.index&&e.moveTo(y[0],y[1]),e.bezierCurveTo.apply(e,y.slice(2))}}},r.each(Dt._evaluateMethods,function(e){this[e+"At"]=function(s){var u=this._get(s);return Dt[e](this.curves[u.index],u.time)}},{})),oe=r.extend({initialize:function(e){for(var s=this.points=[],u=e._segments,h=e._closed,f=0,p,w=u.length;f<w;f++){var y=u[f].point;(!p||!p.equals(y))&&s.push(p=y.clone())}h&&(s.unshift(s[s.length-1]),s.push(s[1])),this.closed=h},fit:function(e){var s=this.points,u=s.length,h=null;return u>0&&(h=[new Zt(s[0])],u>1&&(this.fitCubic(h,e,0,u-1,s[1].subtract(s[0]),s[u-2].subtract(s[u-1])),this.closed&&(h.shift(),h.pop()))),h},fitCubic:function(e,s,u,h,f,p){var w=this.points;if(h-u===1){var y=w[u],x=w[h],D=y.getDistance(x)/3;this.addCurve(e,[y,y.add(f.normalize(D)),x.add(p.normalize(D)),x]);return}for(var P=this.chordLengthParameterize(u,h),N=Math.max(s,s*s),O,I=!0,z=0;z<=4;z++){var U=this.generateBezier(u,h,P,f,p),$=this.findMaxError(u,h,U,P);if($.error<s&&I){this.addCurve(e,U);return}if(O=$.index,$.error>=N)break;I=this.reparameterize(u,h,P,U),N=$.error}var k=w[O-1].subtract(w[O+1]);this.fitCubic(e,s,u,O,f,k),this.fitCubic(e,s,O,h,k.negate(),p)},addCurve:function(e,s){var u=e[e.length-1];u.setHandleOut(s[1].subtract(s[0])),e.push(new Zt(s[3],s[2].subtract(s[3])))},generateBezier:function(e,s,u,h,f){for(var p=1e-12,w=Math.abs,y=this.points,x=y[e],D=y[s],P=[[0,0],[0,0]],N=[0,0],O=0,I=s-e+1;O<I;O++){var z=u[O],U=1-z,$=3*z*U,k=U*U*U,X=$*U,M=$*z,L=z*z*z,H=h.normalize(X),Z=f.normalize(M),at=y[e+O].subtract(x.multiply(k+X)).subtract(D.multiply(M+L));P[0][0]+=H.dot(H),P[0][1]+=H.dot(Z),P[1][0]=P[0][1],P[1][1]+=Z.dot(Z),N[0]+=H.dot(at),N[1]+=Z.dot(at)}var ut=P[0][0]*P[1][1]-P[1][0]*P[0][1],lt,ht;if(w(ut)>p){var vt=P[0][0]*N[1]-P[1][0]*N[0],dt=N[0]*P[1][1]-N[1]*P[0][1];lt=dt/ut,ht=vt/ut}else{var _t=P[0][0]+P[0][1],wt=P[1][0]+P[1][1];lt=ht=w(_t)>p?N[0]/_t:w(wt)>p?N[1]/wt:0}var Tt=D.getDistance(x),Ot=p*Tt,Vt,Wt;if(lt<Ot||ht<Ot)lt=ht=Tt/3;else{var Kt=D.subtract(x);Vt=h.normalize(lt),Wt=f.normalize(ht),Vt.dot(Kt)-Wt.dot(Kt)>Tt*Tt&&(lt=ht=Tt/3,Vt=Wt=null)}return[x,x.add(Vt||h.normalize(lt)),D.add(Wt||f.normalize(ht)),D]},reparameterize:function(e,s,u,h){for(var f=e;f<=s;f++)u[f-e]=this.findRoot(h,this.points[f],u[f-e]);for(var f=1,p=u.length;f<p;f++)if(u[f]<=u[f-1])return!1;return!0},findRoot:function(e,s,u){for(var h=[],f=[],p=0;p<=2;p++)h[p]=e[p+1].subtract(e[p]).multiply(3);for(var p=0;p<=1;p++)f[p]=h[p+1].subtract(h[p]).multiply(2);var w=this.evaluate(3,e,u),y=this.evaluate(2,h,u),x=this.evaluate(1,f,u),D=w.subtract(s),P=y.dot(y)+D.dot(x);return G.isMachineZero(P)?u:u-D.dot(y)/P},evaluate:function(e,s,u){for(var h=s.slice(),f=1;f<=e;f++)for(var p=0;p<=e-f;p++)h[p]=h[p].multiply(1-u).add(h[p+1].multiply(u));return h[0]},chordLengthParameterize:function(e,s){for(var u=[0],h=e+1;h<=s;h++)u[h-e]=u[h-e-1]+this.points[h].getDistance(this.points[h-1]);for(var h=1,f=s-e;h<=f;h++)u[h]/=u[f];return u},findMaxError:function(e,s,u,h){for(var f=Math.floor((s-e+1)/2),p=0,w=e+1;w<s;w++){var y=this.evaluate(3,u,h[w-e]),x=y.subtract(this.points[w]),D=x.x*x.x+x.y*x.y;D>=p&&(p=D,f=w)}return{error:p,index:f}}}),Ce=xt.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(s){this._content="",this._lines=[];var u=s&&r.isPlainObject(s)&&s.x===i&&s.y===i;this._initialize(u&&s,!u&&R.read(arguments))},_equals:function(e){return this._content===e._content},copyContent:function(e){this.setContent(e._content)},getContent:function(){return this._content},setContent:function(e){this._content=""+e,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),Se=Ce.extend({_class:"PointText",initialize:function(){Ce.apply(this,arguments)},getPoint:function(){var e=this._matrix.getTranslation();return new gt(e.x,e.y,this,"setPoint")},setPoint:function(){var e=R.read(arguments);this.translate(e.subtract(this._matrix.getTranslation()))},_draw:function(e,s,u){if(this._content){this._setStyles(e,s,u);var h=this._lines,f=this._style,p=f.hasFill(),w=f.hasStroke(),y=f.getLeading(),x=e.shadowColor;e.font=f.getFontStyle(),e.textAlign=f.getJustification();for(var D=0,P=h.length;D<P;D++){e.shadowColor=x;var N=h[D];p&&(e.fillText(N,0,0),e.shadowColor="rgba(0,0,0,0)"),w&&e.strokeText(N,0,0),e.translate(0,y)}}},_getBounds:function(e,s){var u=this._style,h=this._lines,f=h.length,p=u.getJustification(),w=u.getLeading(),y=this.getView().getTextWidth(u.getFontStyle(),h),x=0;p!=="left"&&(x-=y/(p==="center"?2:1));var D=new et(x,f?-.75*w:0,y,f*w);return e?e._transformBounds(D,D):D}}),fe=r.extend(new function(){var e={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},s={},u={transparent:[0,0,0,0]},h;function f(y){var x=y.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||y.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),D="rgb",P;if(x){var N=x[4]?4:3;P=new Array(N);for(var O=0;O<N;O++){var I=x[O+1];P[O]=parseInt(I.length==1?I+I:I,16)/255}}else if(x=y.match(/^(rgb|hsl)a?\((.*)\)$/)){D=x[1],P=x[2].trim().split(/[,\s]+/g);for(var z=D==="hsl",O=0,U=Math.min(P.length,4);O<U;O++){var $=P[O],I=parseFloat($);if(z)if(O===0){var k=$.match(/([a-z]*)$/)[1];I*={turn:360,rad:180/Math.PI,grad:.9}[k]||1}else O<3&&(I/=100);else O<3&&(I/=/%$/.test($)?100:255);P[O]=I}}else{var X=u[y];if(!X)if(a){h||(h=Xe.getContext(1,1,{willReadFrequently:!0}),h.globalCompositeOperation="copy"),h.fillStyle="rgba(0,0,0,0)",h.fillStyle=y,h.fillRect(0,0,1,1);var M=h.getImageData(0,0,1,1).data;X=u[y]=[M[0]/255,M[1]/255,M[2]/255]}else X=[0,0,0];P=X.slice()}return[D,P]}var p=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],w={"rgb-hsb":function(y,x,D){var P=Math.max(y,x,D),N=Math.min(y,x,D),O=P-N,I=O===0?0:(P==y?(x-D)/O+(x<D?6:0):P==x?(D-y)/O+2:(y-x)/O+4)*60;return[I,P===0?0:O/P,P]},"hsb-rgb":function(y,x,D){y=(y/60%6+6)%6;var N=Math.floor(y),P=y-N,N=p[N],O=[D,D*(1-x),D*(1-x*P),D*(1-x*(1-P))];return[O[N[0]],O[N[1]],O[N[2]]]},"rgb-hsl":function(y,x,D){var P=Math.max(y,x,D),N=Math.min(y,x,D),O=P-N,I=O===0,z=I?0:(P==y?(x-D)/O+(x<D?6:0):P==x?(D-y)/O+2:(y-x)/O+4)*60,U=(P+N)/2,$=I?0:U<.5?O/(P+N):O/(2-P-N);return[z,$,U]},"hsl-rgb":function(y,x,D){if(y=(y/360%1+1)%1,x===0)return[D,D,D];for(var P=[y+1/3,y,y-1/3],N=D<.5?D*(1+x):D+x-D*x,O=2*D-N,I=[],z=0;z<3;z++){var U=P[z];U<0&&(U+=1),U>1&&(U-=1),I[z]=6*U<1?O+(N-O)*6*U:2*U<1?N:3*U<2?O+(N-O)*(2/3-U)*6:O}return I},"rgb-gray":function(y,x,D){return[y*.2989+x*.587+D*.114]},"gray-rgb":function(y){return[y,y,y]},"gray-hsb":function(y){return[0,0,y]},"gray-hsl":function(y){return[0,0,y]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return r.each(e,function(y,x){s[x]=[],r.each(y,function(D,P){var N=r.capitalize(D),O=/^(hue|saturation)$/.test(D),I=s[x][P]=x==="gradient"?D==="gradient"?function(z){var U=this._components[0];return z=xi.read(Array.isArray(z)?z:arguments,0,{readNull:!0}),U!==z&&(U&&U._removeOwner(this),z&&z._addOwner(this)),z}:function(){return R.read(arguments,0,{readNull:D==="highlight",clone:!0})}:function(z){return z==null||isNaN(z)?0:+z};this["get"+N]=function(){return this._type===x||O&&/^hs[bl]$/.test(this._type)?this._components[P]:this._convert(x)[P]},this["set"+N]=function(z){this._type!==x&&!(O&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(x),this._properties=e[x],this._type=x),this._components[P]=I.call(this,z),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function y(x){var D=arguments,P=this.__read,N=0,O,I,z,U;Array.isArray(x)&&(D=x,x=D[0]);var $=x!=null&&typeof x;if($==="string"&&x in e&&(O=x,x=D[1],Array.isArray(x)?(I=x,z=D[2]):(P&&(N=1),D=r.slice(D,1),$=typeof x)),!I){if(U=$==="number"?D:$==="object"&&x.length!=null?x:null,U){O||(O=U.length>=3?"rgb":"gray");var k=e[O].length;z=U[k],P&&(N+=U===arguments?k+(z!=null?1:0):1),U.length>k&&(U=r.slice(U,0,k))}else if($==="string"){var X=f(x);O=X[0],I=X[1],I.length===4&&(z=I[3],I.length--)}else if($==="object")if(x.constructor===y){if(O=x._type,I=x._components.slice(),z=x._alpha,O==="gradient")for(var M=1,L=I.length;M<L;M++){var H=I[M];H&&(I[M]=H.clone())}}else if(x.constructor===xi)O="gradient",U=D;else{O="hue"in x?"lightness"in x?"hsl":"hsb":"gradient"in x||"stops"in x||"radial"in x?"gradient":"gray"in x?"gray":"rgb";var Z=e[O],at=s[O];this._components=I=[];for(var M=0,L=Z.length;M<L;M++){var ut=x[Z[M]];ut==null&&!M&&O==="gradient"&&"stops"in x&&(ut={stops:x.stops,radial:x.radial}),ut=at[M].call(this,ut),ut!=null&&(I[M]=ut)}z=x.alpha}P&&O&&(N=1)}if(this._type=O||"rgb",!I){this._components=I=[];for(var at=s[this._type],M=0,L=at.length;M<L;M++){var ut=at[M].call(this,U&&U[M]);ut!=null&&(I[M]=ut)}}return this._components=I,this._properties=e[this._type],this._alpha=z,P&&(this.__read=N),this},set:"#initialize",_serialize:function(y,x){var D=this.getComponents();return r.serialize(/^(gray|rgb)$/.test(this._type)?D:[this._type].concat(D),y,!0,x)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(y){var x;return this._type===y?this._components.slice():(x=w[this._type+"-"+y])?x.apply(this,this._components):w["rgb-"+y].apply(this,w[this._type+"-rgb"].apply(this,this._components))},convert:function(y){return new fe(y,this._convert(y),this._alpha)},getType:function(){return this._type},setType:function(y){this._components=this._convert(y),this._properties=e[y],this._type=y},getComponents:function(){var y=this._components.slice();return this._alpha!=null&&y.push(this._alpha),y},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(y){this._alpha=y==null?null:Math.min(Math.max(y,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(y){var x=r.isPlainValue(y,!0)?fe.read(arguments):y;return x===this||x&&this._class===x._class&&this._type===x._type&&this.getAlpha()===x.getAlpha()&&r.equals(this._components,x._components)||!1},toString:function(){for(var y=this._properties,x=[],D=this._type==="gradient",P=W.instance,N=0,O=y.length;N<O;N++){var I=this._components[N];I!=null&&x.push(y[N]+": "+(D?I:P.number(I)))}return this._alpha!=null&&x.push("alpha: "+P.number(this._alpha)),"{ "+x.join(", ")+" }"},toCSS:function(y){var x=this._convert("rgb"),D=y||this._alpha==null?1:this._alpha;function P(N){return Math.round((N<0?0:N>1?1:N)*255)}return x=[P(x[0]),P(x[1]),P(x[2])],D<1&&x.push(D<0?0:D),y?"#"+((1<<24)+(x[0]<<16)+(x[1]<<8)+x[2]).toString(16).slice(1):(x.length==4?"rgba(":"rgb(")+x.join(",")+")"},toCanvasStyle:function(y,x){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var D=this._components,P=D[0],N=P._stops,O=D[1],I=D[2],z=D[3],U=x&&x.inverted(),$;if(U&&(O=U._transformPoint(O),I=U._transformPoint(I),z&&(z=U._transformPoint(z))),P._radial){var k=I.getDistance(O);if(z){var X=z.subtract(O);X.getLength()>k&&(z=O.add(X.normalize(k-.1)))}var M=z||O;$=y.createRadialGradient(M.x,M.y,0,O.x,O.y,k)}else $=y.createLinearGradient(O.x,O.y,I.x,I.y);for(var L=0,H=N.length;L<H;L++){var Z=N[L],at=Z._offset;$.addColorStop(at??L/(H-1),Z._color.toCanvasStyle())}return this._canvasStyle=$},transform:function(y){if(this._type==="gradient"){for(var x=this._components,D=1,P=x.length;D<P;D++){var N=x[D];y._transformPoint(N,N,!0)}this._changed()}},statics:{_types:e,random:function(){var y=Math.random;return new fe(y(),y(),y())},_setOwner:function(y,x,D){return y&&(y._owner&&x&&y._owner!==x&&(y=y.clone()),!y._owner^!x&&(y._owner=x||null,y._setter=D||null)),y}}})},new function(){var e={add:function(s,u){return s+u},subtract:function(s,u){return s-u},multiply:function(s,u){return s*u},divide:function(s,u){return s/u}};return r.each(e,function(s,u){this[u]=function(h){h=fe.read(arguments);for(var f=this._type,p=this._components,w=h._convert(f),y=0,x=p.length;y<x;y++)w[y]=s(p[y],w[y]);return new fe(f,w,this._alpha!=null?s(this._alpha,h.getAlpha()):null)}},{})}),xi=r.extend({_class:"Gradient",initialize:function(s,u){this._id=J.get(),s&&r.isPlainObject(s)&&(this.set(s),s=u=null),this._stops==null&&this.setStops(s||["white","black"]),this._radial==null&&this.setRadial(typeof u=="string"&&u==="radial"||u||!1)},_serialize:function(e,s){return s.add(this,function(){return r.serialize([this._stops,this._radial],e,!0,s)})},_changed:function(){for(var e=0,s=this._owners&&this._owners.length;e<s;e++)this._owners[e]._changed()},_addOwner:function(e){this._owners||(this._owners=[]),this._owners.push(e)},_removeOwner:function(e){var s=this._owners?this._owners.indexOf(e):-1;s!=-1&&(this._owners.splice(s,1),this._owners.length||(this._owners=i))},clone:function(){for(var e=[],s=0,u=this._stops.length;s<u;s++)e[s]=this._stops[s].clone();return new xi(e,this._radial)},getStops:function(){return this._stops},setStops:function(e){if(e.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var s=this._stops;if(s)for(var u=0,h=s.length;u<h;u++)s[u]._owner=i;s=this._stops=Ei.readList(e,0,{clone:!0});for(var u=0,h=s.length;u<h;u++)s[u]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(e){this._radial=e,this._changed()},equals:function(e){if(e===this)return!0;if(e&&this._class===e._class){var s=this._stops,u=e._stops,h=s.length;if(h===u.length){for(var f=0;f<h;f++)if(!s[f].equals(u[f]))return!1;return!0}}return!1}}),Ei=r.extend({_class:"GradientStop",initialize:function(s,u){var h=s,f=u;typeof s=="object"&&u===i&&(Array.isArray(s)&&typeof s[0]!="number"?(h=s[0],f=s[1]):("color"in s||"offset"in s||"rampPoint"in s)&&(h=s.color,f=s.offset||s.rampPoint||0)),this.setColor(h),this.setOffset(f)},clone:function(){return new Ei(this._color.clone(),this._offset)},_serialize:function(e,s){var u=this._color,h=this._offset;return r.serialize(h==null?[u]:[u,h],e,!0,s)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(e){this._offset=e,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){fe._setOwner(this._color,null),this._color=fe._setOwner(fe.read(arguments,0),this,"setColor"),this._changed()},equals:function(e){return e===this||e&&this._class===e._class&&this._color.equals(e._color)&&this._offset==e._offset||!1}}),ci=r.extend(new function(){var e={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new R,selectedColor:null},s=r.set({},e,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),u=r.set({},s,{fillColor:new fe}),h={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},f={beans:!0},p={_class:"Style",beans:!0,initialize:function(y,x,D){this._values={},this._owner=x,this._project=x&&x._project||D||ne.project,this._defaults=!x||x instanceof zt?s:x instanceof Ce?u:e,y&&this.set(y)}};return r.each(s,function(w,y){var x=/Color$/.test(y),D=y==="shadowOffset",P=r.capitalize(y),N=h[y],O="set"+P,I="get"+P;p[O]=function(z){var U=this._owner,$=U&&U._children,k=$&&$.length>0&&!(U instanceof ee);if(k)for(var X=0,M=$.length;X<M;X++)$[X]._style[O](z);if((y==="selectedColor"||!k)&&y in this._defaults){var L=this._values[y];L!==z&&(x&&(L&&(fe._setOwner(L,null),L._canvasStyle=null),z&&z.constructor===fe&&(z=fe._setOwner(z,U,k&&O))),this._values[y]=z,U&&U._changed(N||129))}},p[I]=function(z){var U=this._owner,$=U&&U._children,k=$&&$.length>0&&!(U instanceof ee),X;if(k&&!z)for(var M=0,L=$.length;M<L;M++){var H=$[M]._style[I]();if(!M)X=H;else if(!r.equals(X,H))return i}else if(y in this._defaults){var X=this._values[y];if(X===i)X=this._defaults[y],X&&X.clone&&(X=X.clone());else{var Z=x?fe:D?R:null;Z&&!(X&&X.constructor===Z)&&(this._values[y]=X=Z.read([X],0,{readNull:!0,clone:!0}))}}return X&&x&&(X=fe._setOwner(X,U,k&&O)),X},f[I]=function(z){return this._style[I](z)},f[O]=function(z){this._style[O](z)}}),r.each({Font:"FontFamily",WindingRule:"FillRule"},function(w,y){var x="get"+y,D="set"+y;p[x]=f[x]="#get"+w,p[D]=f[D]="#set"+w}),xt.inject(f),p},{set:function(e){var s=e instanceof ci,u=s?e._values:e;if(u){for(var h in u)if(h in this._defaults){var f=u[h];this[h]=f&&s&&f.clone?f.clone():f}}},equals:function(e){function s(u,h,f){var p=u._values,w=h._values,y=h._defaults;for(var x in p){var D=p[x],P=w[x];if(!(f&&x in w)&&!r.equals(D,P===i?y[x]:P))return!1}return!0}return e===this||e&&this._class===e._class&&s(this,e)&&s(e,this,!0)||!1},_dispose:function(){var e;e=this.getFillColor(),e&&(e._canvasStyle=null),e=this.getStrokeColor(),e&&(e._canvasStyle=null),e=this.getShadowColor(),e&&(e._canvasStyle=null)},hasFill:function(){var e=this.getFillColor();return!!e&&e.alpha>0},hasStroke:function(){var e=this.getStrokeColor();return!!e&&e.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var e=this.getShadowColor();return!!e&&e.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var e=this.getFontSize();return this.getFontWeight()+" "+e+(/[a-z]/i.test(e+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function e(){var s=e.base.call(this),u=this.getFontSize();return/pt|em|%|px/.test(u)&&(u=this.getView().getPixelSize(u)),s??u*1.2}}),Ge=new function(){function e(s,u,h,f){for(var p=["","webkit","moz","Moz","ms","o"],w=u[0].toUpperCase()+u.substring(1),y=0;y<6;y++){var x=p[y],D=x?x+w:u;if(D in s){if(h)s[D]=f;else return s[D];break}}}return{getStyles:function(s){var u=s&&s.nodeType!==9?s.ownerDocument:s,h=u&&u.defaultView;return h&&h.getComputedStyle(s,"")},getBounds:function(s,u){var h=s.ownerDocument,f=h.body,p=h.documentElement,w;try{w=s.getBoundingClientRect()}catch{w={left:0,top:0,width:0,height:0}}var y=w.left-(p.clientLeft||f.clientLeft||0),x=w.top-(p.clientTop||f.clientTop||0);if(!u){var D=h.defaultView;y+=D.pageXOffset||p.scrollLeft||f.scrollLeft,x+=D.pageYOffset||p.scrollTop||f.scrollTop}return new et(y,x,w.width,w.height)},getViewportBounds:function(s){var u=s.ownerDocument,h=u.defaultView,f=u.documentElement;return new et(0,0,h.innerWidth||f.clientWidth,h.innerHeight||f.clientHeight)},getOffset:function(s,u){return Ge.getBounds(s,u).getPoint()},getSize:function(s){return Ge.getBounds(s,!0).getSize()},isInvisible:function(s){return Ge.getSize(s).equals(new m(0,0))},isInView:function(s){return!Ge.isInvisible(s)&&Ge.getViewportBounds(s).intersects(Ge.getBounds(s,!0))},isInserted:function(s){return l.body.contains(s)},getPrefixed:function(s,u){return s&&e(s,u)},setPrefixed:function(s,u,h){if(typeof u=="object")for(var f in u)e(s,f,!0,u[f]);else e(s,u,!0,h)}}},Je={add:function(e,s){if(e)for(var u in s)for(var h=s[u],f=u.split(/[\s,]+/g),p=0,w=f.length;p<w;p++){var y=f[p],x=e===l&&(y==="touchstart"||y==="touchmove")?{passive:!1}:!1;e.addEventListener(y,h,x)}},remove:function(e,s){if(e)for(var u in s)for(var h=s[u],f=u.split(/[\s,]+/g),p=0,w=f.length;p<w;p++)e.removeEventListener(f[p],h,!1)},getPoint:function(e){var s=e.targetTouches?e.targetTouches.length?e.targetTouches[0]:e.changedTouches[0]:e;return new R(s.pageX||s.clientX+l.documentElement.scrollLeft,s.pageY||s.clientY+l.documentElement.scrollTop)},getTarget:function(e){return e.target||e.srcElement},getRelatedTarget:function(e){return e.relatedTarget||e.toElement},getOffset:function(e,s){return Je.getPoint(e).subtract(Ge.getOffset(s||Je.getTarget(e)))}};Je.requestAnimationFrame=new function(){var e=Ge.getPrefixed(a,"requestAnimationFrame"),s=!1,u=[],h;function f(){var p=u;u=[];for(var w=0,y=p.length;w<y;w++)p[w]();s=e&&u.length,s&&e(f)}return function(p){u.push(p),e?s||(e(f),s=!0):h||(h=setInterval(f,1e3/60))}};var Te=r.extend(g,{_class:"View",initialize:function e(s,u){function h(N){return u[N]||parseInt(u.getAttribute(N),10)}function f(){var N=Ge.getSize(u);return N.isNaN()||N.isZero()?new m(h("width"),h("height")):N}var p;if(a&&u){this._id=u.getAttribute("id"),this._id==null&&u.setAttribute("id",this._id="paper-view-"+e._id++),Je.add(u,this._viewEvents);var w="none";if(Ge.setPrefixed(u.style,{userDrag:w,userSelect:w,touchCallout:w,contentZooming:w,tapHighlightColor:"rgba(0,0,0,0)"}),S.hasAttribute(u,"resize")){var y=this;Je.add(a,this._windowEvents={resize:function(){y.setViewSize(f())}})}if(p=f(),S.hasAttribute(u,"stats")&&typeof Stats<"u"){this._stats=new Stats;var x=this._stats.domElement,D=x.style,P=Ge.getOffset(u);D.position="absolute",D.left=P.x+"px",D.top=P.y+"px",l.body.appendChild(x)}}else p=new m(u),u=null;this._project=s,this._scope=s._scope,this._element=u,this._pixelRatio||(this._pixelRatio=a&&a.devicePixelRatio||1),this._setElementSize(p.width,p.height),this._viewSize=p,e._views.push(this),e._viewsById[this._id]=this,(this._matrix=new Et)._owner=this,e._focused||(e._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!ne.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;Te._focused===this&&(Te._focused=null),Te._views.splice(Te._views.indexOf(this),1),delete Te._viewsById[this._id];var e=this._project;return e._view===this&&(e._view=null),Je.remove(this._element,this._viewEvents),Je.remove(a,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:r.each(xt._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(e){this[e]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(e){this._autoUpdate=e,e&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var e=this;Je.requestAnimationFrame(function(){if(e._requested=!1,e._animate){e.requestUpdate();var s=e._element;(!Ge.getPrefixed(l,"hidden")||S.getAttribute(s,"keepalive")==="true")&&Ge.isInView(s)&&e._handleFrame()}e._autoUpdate&&e.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){ne=this._scope;var e=Date.now()/1e3,s=this._last?e-this._last:0;this._last=e,this.emit("frame",new r({delta:s,time:this._time+=s,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(e,s){var u=this._frameItems;s?(u[e._id]={item:e,time:0,count:0},++this._frameItemCount===1&&this.on("frame",this._handleFrameItems)):(delete u[e._id],--this._frameItemCount===0&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(e){for(var s in this._frameItems){var u=this._frameItems[s];u.item.emit("frame",new r(e,{time:u.time+=e.delta,count:u.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=i},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var e=this._viewSize;return new it(e.width,e.height,this,"setViewSize")},setViewSize:function(){var e=m.read(arguments),s=e.subtract(this._viewSize);s.isZero()||(this._setElementSize(e.width,e.height),this._viewSize.set(e),this._changed(),this.emit("resize",{size:e,delta:s}),this._autoUpdate&&this.update())},_setElementSize:function(e,s){var u=this._element;u&&(u.width!==e&&(u.width=e),u.height!==s&&(u.height=s))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new et(new R,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return Ge.isInView(this._element)},isInserted:function(){return Ge.isInserted(this._element)},getPixelSize:function(e){var s=this._element,u;if(s){var h=s.parentNode,f=l.createElement("div");f.style.fontSize=e,h.appendChild(f),u=parseFloat(Ge.getStyles(f).fontSize),h.removeChild(f)}else u=parseFloat(u);return u},getTextWidth:function(e,s){return 0}},r.each(["rotate","scale","shear","skew"],function(e){var s=e==="rotate";this[e]=function(){var u=arguments,h=(s?r:R).read(u),f=R.read(u,0,{readNull:!0});return this.transform(new Et()[e](h,f||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var e=new Et;return this.transform(e.translate.apply(e,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var e=R.read(arguments);this.translate(this.getCenter().subtract(e))},getZoom:function(){var e=this._decompose().scaling;return(e.x+e.y)/2},setZoom:function(e){this.transform(new Et().scale(e/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(e){var s=this.getRotation();s!=null&&e!=null&&this.rotate(e-s)},getScaling:function(){var e=this._decompose().scaling;return new gt(e.x,e.y,this,"setScaling")},setScaling:function(){var e=this.getScaling(),s=R.read(arguments,0,{clone:!0,readNull:!0});e&&s&&this.scale(s.x/e.x,s.y/e.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.set.apply(e,arguments)},transform:function(e){this._matrix.append(e)},scrollBy:function(){this.translate(R.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(R.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(R.read(arguments))},getEventPoint:function(e){return this.viewToProject(Je.getOffset(e,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(e,s){l&&typeof s=="string"&&(s=l.getElementById(s));var u=a?Gi:Te;return new u(e,s)}}},new function(){if(!a)return;var e,s,u=!1,h=!1;function f(dt){var _t=Je.getTarget(dt);return _t.getAttribute&&Te._viewsById[_t.getAttribute("id")]}function p(){var dt=Te._focused;if(!dt||!dt.isVisible()){for(var _t=0,wt=Te._views.length;_t<wt;_t++)if((dt=Te._views[_t]).isVisible()){Te._focused=s=dt;break}}}function w(dt,_t,wt){dt._handleMouseEvent("mousemove",_t,wt)}var y=a.navigator,x,D,P;y.pointerEnabled||y.msPointerEnabled?(x="pointerdown MSPointerDown",D="pointermove MSPointerMove",P="pointerup pointercancel MSPointerUp MSPointerCancel"):(x="touchstart",D="touchmove",P="touchend touchcancel","ontouchstart"in a&&y.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(x+=" mousedown",D+=" mousemove",P+=" mouseup"));var N={},O={mouseout:function(dt){var _t=Te._focused,wt=Je.getRelatedTarget(dt);if(_t&&(!wt||wt.nodeName==="HTML")){var Tt=Je.getOffset(dt,_t._element),Ot=Tt.x,Vt=Math.abs,Wt=Vt(Ot),Kt=1<<25,Jt=Wt-Kt;Tt.x=Vt(Jt)<Wt?Jt*(Ot<0?-1:1):Ot,w(_t,dt,_t.viewToProject(Tt))}},scroll:p};N[x]=function(dt){var _t=Te._focused=f(dt);u||(u=!0,_t._handleMouseEvent("mousedown",dt))},O[D]=function(dt){var _t=Te._focused;if(!h){var wt=f(dt);wt?_t!==wt&&(_t&&w(_t,dt),e||(e=_t),_t=Te._focused=s=wt):s&&s===_t&&(e&&!e.isInserted()&&(e=null),_t=Te._focused=e,e=null,p())}_t&&w(_t,dt)},O[x]=function(){h=!0},O[P]=function(dt){var _t=Te._focused;_t&&u&&_t._handleMouseEvent("mouseup",dt),h=u=!1},Je.add(l,O),Je.add(a,{load:p});var I=!1,z=!1,U={doubleclick:"click",mousedrag:"mousemove"},$=!1,k,X,M,L,H,Z,at,ut;function lt(dt,_t,wt,Tt,Ot,Vt,Wt){var Kt=!1,Jt;function _e(ye,me){if(ye.responds(me)){if(Jt||(Jt=new $i(me,Tt,Ot,_t||ye,Vt?Ot.subtract(Vt):null)),ye.emit(me,Jt)&&(I=!0,Jt.prevented&&(z=!0),Jt.stopped))return Kt=!0}else{var ge=U[me];if(ge)return _e(ye,ge)}}for(;dt&&dt!==Wt&&!_e(dt,wt);)dt=dt._parent;return Kt}function ht(dt,_t,wt,Tt,Ot,Vt){return dt._project.removeOn(wt),z=I=!1,H&&lt(H,null,wt,Tt,Ot,Vt)||_t&&_t!==H&&!_t.isDescendant(H)&&lt(_t,null,wt==="mousedrag"?"mousemove":wt,Tt,Ot,Vt,H)||lt(dt,H||_t||dt,wt,Tt,Ot,Vt)}var vt={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:N,_handleMouseEvent:function(dt,_t,wt){var Tt=this._itemEvents,Ot=Tt.native[dt],Vt=dt==="mousemove",Wt=this._scope.tool,Kt=this;function Jt(ei){return Tt.virtual[ei]||Kt.responds(ei)||Wt&&Wt.responds(ei)}Vt&&u&&Jt("mousedrag")&&(dt="mousedrag"),wt||(wt=this.getEventPoint(_t));var _e=this.getBounds().contains(wt),ye=Ot&&_e&&Kt._project.hitTest(wt,{tolerance:0,fill:!0,stroke:!0}),me=ye&&ye.item||null,ge=!1,Fe={};if(Fe[dt.substr(5)]=!0,Ot&&me!==L&&(L&&lt(L,null,"mouseleave",_t,wt),me&&lt(me,null,"mouseenter",_t,wt),L=me),$^_e&&(lt(this,null,_e?"mouseenter":"mouseleave",_t,wt),ge=!0),(_e||Fe.drag)&&!wt.equals(X)&&(ht(this,me,Vt?dt:"mousemove",_t,wt,X),ge=!0),$=_e,Fe.down&&_e||Fe.up&&k){if(ht(this,me,dt,_t,wt,k),Fe.down){if(ut=me===Z&&Date.now()-at<300,M=Z=me,!z&&me){for(var De=me;De&&!De.responds("mousedrag");)De=De._parent;De&&(H=me)}k=wt}else Fe.up&&(!z&&me===M&&(at=Date.now(),ht(this,me,ut?"doubleclick":"click",_t,wt,k),ut=!1),M=H=null);$=!1,ge=!0}X=wt,ge&&Wt&&(I=Wt._handleMouseEvent(dt,_t,wt,Fe)||I),_t.cancelable!==!1&&(I&&!Fe.move||Fe.down&&Jt("mouseup"))&&_t.preventDefault()},_handleKeyEvent:function(dt,_t,wt,Tt){var Ot=this._scope,Vt=Ot.tool,Wt;function Kt(Jt){Jt.responds(dt)&&(ne=Ot,Jt.emit(dt,Wt=Wt||new dn(dt,_t,wt,Tt)))}this.isVisible()&&(Kt(this),Vt&&Vt.responds(dt)&&Kt(Vt))},_countItemEvent:function(dt,_t){var wt=this._itemEvents,Tt=wt.native,Ot=wt.virtual;for(var Vt in vt)Tt[Vt]=(Tt[Vt]||0)+(vt[Vt][dt]||0)*_t;Ot[dt]=(Ot[dt]||0)+_t},statics:{updateFocus:p,_resetState:function(){u=h=I=$=!1,e=s=k=X=M=L=H=Z=at=ut=null}}}}),Gi=Te.extend({_class:"CanvasView",initialize:function(s,u){if(!(u instanceof a.HTMLCanvasElement)){var h=m.read(arguments,1);if(h.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+r.slice(arguments,1));u=Xe.getCanvas(h)}var f=this._context=u.getContext("2d");if(f.save(),this._pixelRatio=1,!/^off|false$/.test(S.getAttribute(u,"hidpi"))){var p=a.devicePixelRatio||1,w=Ge.getPrefixed(f,"backingStorePixelRatio")||1;this._pixelRatio=p/w}Te.call(this,s,u),this._needsUpdate=!0},remove:function e(){return this._context.restore(),e.base.call(this)},_setElementSize:function e(s,u){var h=this._pixelRatio;if(e.base.call(this,s*h,u*h),h!==1){var f=this._element,p=this._context;if(!S.hasAttribute(f,"resize")){var w=f.style;w.width=s+"px",w.height=u+"px"}p.restore(),p.save(),p.scale(h,h)}},getContext:function(){return this._context},getPixelSize:function e(s){var u=ne.agent,h;if(u&&u.firefox)h=e.base.call(this,s);else{var f=this._context,p=f.font;f.font=s+" serif",h=parseFloat(f.font),f.font=p}return h},getTextWidth:function(e,s){var u=this._context,h=u.font,f=0;u.font=e;for(var p=0,w=s.length;p<w;p++)f=Math.max(f,u.measureText(s[p]).width);return u.font=h,f},update:function(){if(!this._needsUpdate)return!1;var e=this._project,s=this._context,u=this._viewSize;return s.clearRect(0,0,u.width+1,u.height+1),e&&e.draw(s,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),Fi=r.extend({_class:"Event",initialize:function(s){this.event=s,this.type=s&&s.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return Gn.modifiers}}),dn=Fi.extend({_class:"KeyEvent",initialize:function(s,u,h,f){this.type=s,this.event=u,this.key=h,this.character=f},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),Gn=new function(){var e={"	":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},s={tab:"	",space:" ",enter:"\r"},u={},h={},f,p,w=new r({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var D=ne&&ne.agent;return D&&D.mac?this.meta:this.control}}});function y(D){var P=D.key||D.keyIdentifier;return P=/^U\+/.test(P)?String.fromCharCode(parseInt(P.substr(2),16)):/^Arrow[A-Z]/.test(P)?P.substr(5):P==="Unidentified"||P===i?String.fromCharCode(D.keyCode):P,e[P]||(P.length>1?r.hyphenate(P):P.toLowerCase())}function x(D,P,N,O){var I=Te._focused,z;if(u[P]=D,D?h[P]=N:delete h[P],P.length>1&&(z=r.camelize(P))in w){w[z]=D;var U=ne&&ne.agent;if(z==="meta"&&U&&U.mac)if(D)f={};else{for(var $ in f)$ in h&&x(!1,$,f[$],O);f=null}}else D&&f&&(f[P]=N);I&&I._handleKeyEvent(D?"keydown":"keyup",O,P,N)}return Je.add(l,{keydown:function(D){var P=y(D),N=ne&&ne.agent;P.length>1||N&&N.chrome&&(D.altKey||N.mac&&D.metaKey||!N.mac&&D.ctrlKey)?x(!0,P,s[P]||(P.length>1?"":P),D):p=P},keypress:function(D){if(p){var P=y(D),N=D.charCode,O=N>=32?String.fromCharCode(N):P.length>1?"":P;P!==p&&(P=O.toLowerCase()),x(!0,P,O,D),p=null}},keyup:function(D){var P=y(D);P in h&&x(!1,P,h[P],D)}}),Je.add(a,{blur:function(D){for(var P in h)x(!1,P,h[P],D)}}),{modifiers:w,isDown:function(D){return!!u[D]}}},$i=Fi.extend({_class:"MouseEvent",initialize:function(s,u,h,f,p){this.type=s,this.event=u,this.point=h,this.target=f,this.delta=p},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),Ae=Fi.extend({_class:"ToolEvent",_item:null,initialize:function(s,u,h){this.tool=s,this.type=u,this.event=h},_choosePoint:function(e,s){return e||(s?s.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(e){this._point=e},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(e){this._lastPoint=e},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(e){this._downPoint=e},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(e){this._middlePoint=e},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(e){this._delta=e},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(e){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=e},getItem:function(){if(!this._item){var e=this.tool._scope.project.hitTest(this.getPoint());if(e){for(var s=e.item,u=s._parent;/^(Group|CompoundPath)$/.test(u._class);)s=u,u=u._parent;this._item=s}}return this._item},setItem:function(e){this._item=e},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}});B.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(s){B.call(this),this._moveCount=-1,this._downCount=-1,this.set(s)},getMinDistance:function(){return this._minDistance},setMinDistance:function(e){this._minDistance=e,e!=null&&this._maxDistance!=null&&e>this._maxDistance&&(this._maxDistance=e)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(e){this._maxDistance=e,this._minDistance!=null&&e!=null&&e<this._minDistance&&(this._minDistance=e)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(e){this._minDistance=this._maxDistance=e},_handleMouseEvent:function(e,s,u,h){ne=this._scope,h.drag&&!this.responds(e)&&(e="mousemove");var f=h.move||h.drag,p=this.responds(e),w=this.minDistance,y=this.maxDistance,x=!1,D=this;function P(O,I){var z=u,U=f?D._point:D._downPoint||z;if(f){if(D._moveCount>=0&&z.equals(U))return!1;if(U&&(O!=null||I!=null)){var $=z.subtract(U),k=$.getLength();if(k<(O||0))return!1;I&&(z=U.add($.normalize(Math.min(k,I))))}D._moveCount++}return D._point=z,D._lastPoint=U||z,h.down&&(D._moveCount=-1,D._downPoint=z,D._downCount++),!0}function N(){p&&(x=D.emit(e,new Ae(D,e,s))||x)}if(h.down)P(),N();else if(h.up)P(null,y),N();else if(p)for(;P(w,y);)N();return x}});var Pi=r.extend(g,{_class:"Tween",statics:{easings:new r({linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+2*(2-e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}})},initialize:function e(s,u,h,f,p,w){this.object=s;var y=typeof p,x=y==="function";this.type=x?y:y==="string"?p:"linear",this.easing=x?p:e.easings[this.type],this.duration=f,this.running=!1,this._then=null,this._startTime=null;var D=u||h;this._keys=D?Object.keys(D):[],this._parsedKeys=this._parseKeys(this._keys),this._from=D&&this._getState(u),this._to=D&&this._getState(h),w!==!1&&this.start()},then:function(e){return this._then=e,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(e){if(this.running){e>=1&&(e=1,this.running=!1);for(var s=this.easing(e),u=this._keys,h=function(P){return typeof P=="function"?P(s,e):P},f=0,p=u&&u.length;f<p;f++){var w=u[f],y=h(this._from[w]),x=h(this._to[w]),D=y&&x&&y.__add&&x.__add?x.__subtract(y).__multiply(s).__add(y):(x-y)*s+y;this._setProperty(this._parsedKeys[w],D)}this.responds("update")&&this.emit("update",new r({progress:e,factor:s})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(e){var s=this._startTime,u=s?(e-s)/this.duration:0;s||(this._startTime=e),this.update(u)},_getState:function(e){for(var s=this._keys,u={},h=0,f=s.length;h<f;h++){var p=s[h],w=this._parsedKeys[p],y=this._getProperty(w),x;if(e){var D=this._resolveValue(y,e[p]);this._setProperty(w,D),x=this._getProperty(w),x=x&&x.clone?x.clone():x,this._setProperty(w,y)}else x=y&&y.clone?y.clone():y;u[p]=x}return u},_resolveValue:function(e,s){if(s){if(Array.isArray(s)&&s.length===2){var u=s[0];return u&&u.match&&u.match(/^[+\-\*\/]=/)?this._calculate(e,u[0],s[1]):s}else if(typeof s=="string"){var h=s.match(/^[+\-*/]=(.*)/);if(h){var f=JSON.parse(h[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(e,s[0],f)}}}return s},_calculate:function(e,s,u){return ne.PaperScript.calculateBinary(e,s,u)},_parseKeys:function(e){for(var s={},u=0,h=e.length;u<h;u++){var f=e[u],p=f.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");s[f]=p.split("/")}return s},_getProperty:function(e,s){for(var u=this.object,h=0,f=e.length-(s||0);h<f&&u;h++)u=u[e[h]];return u},_setProperty:function(e,s){var u=this._getProperty(e,1);u&&(u[e[e.length-1]]=s)}}),on={request:function(e){var s=new t.XMLHttpRequest;return s.open((e.method||"get").toUpperCase(),e.url,r.pick(e.async,!0)),e.mimeType&&s.overrideMimeType(e.mimeType),s.onload=function(){var u=s.status;u===0||u===200?e.onLoad&&e.onLoad.call(s,s.responseText):s.onerror()},s.onerror=function(){var u=s.status,h='Could not load "'+e.url+'" (Status: '+u+")";if(e.onError)e.onError(h,u);else throw new Error(h)},s.send(null)}},Xe=r.exports.CanvasProvider={canvases:[],getCanvas:function(e,s,u){if(!a)return null;var h,f=!0;typeof e=="object"&&(s=e.height,e=e.width),this.canvases.length?h=this.canvases.pop():(h=l.createElement("canvas"),f=!1);var p=h.getContext("2d",u||{});if(!p)throw new Error("Canvas "+h+" is unable to provide a 2D context.");return h.width===e&&h.height===s?f&&p.clearRect(0,0,e+1,s+1):(h.width=e,h.height=s),p.save(),h},getContext:function(e,s,u){var h=this.getCanvas(e,s,u);return h?h.getContext("2d",u||{}):null},release:function(e){var s=e&&e.canvas?e.canvas:e;s&&s.getContext&&(s.getContext("2d").restore(),this.canvases.push(s))}},$n=new function(){var e=Math.min,s=Math.max,u=Math.abs,h,f,p,w,y,x,D,P,N,O,I;function z(H,Z,at){return .2989*H+.587*Z+.114*at}function U(H,Z,at,ht){var lt=ht-z(H,Z,at);N=H+lt,O=Z+lt,I=at+lt;var ht=z(N,O,I),vt=e(N,O,I),dt=s(N,O,I);if(vt<0){var _t=ht-vt;N=ht+(N-ht)*ht/_t,O=ht+(O-ht)*ht/_t,I=ht+(I-ht)*ht/_t}if(dt>255){var wt=255-ht,Tt=dt-ht;N=ht+(N-ht)*wt/Tt,O=ht+(O-ht)*wt/Tt,I=ht+(I-ht)*wt/Tt}}function $(H,Z,at){return s(H,Z,at)-e(H,Z,at)}function k(H,Z,at,ut){var lt=[H,Z,at],ht=s(H,Z,at),vt=e(H,Z,at),dt;vt=vt===H?0:vt===Z?1:2,ht=ht===H?0:ht===Z?1:2,dt=e(vt,ht)===0?s(vt,ht)===1?2:1:0,lt[ht]>lt[vt]?(lt[dt]=(lt[dt]-lt[vt])*ut/(lt[ht]-lt[vt]),lt[ht]=ut):lt[dt]=lt[ht]=0,lt[vt]=0,N=lt[0],O=lt[1],I=lt[2]}var X={multiply:function(){N=y*h/255,O=x*f/255,I=D*p/255},screen:function(){N=y+h-y*h/255,O=x+f-x*f/255,I=D+p-D*p/255},overlay:function(){N=y<128?2*y*h/255:255-2*(255-y)*(255-h)/255,O=x<128?2*x*f/255:255-2*(255-x)*(255-f)/255,I=D<128?2*D*p/255:255-2*(255-D)*(255-p)/255},"soft-light":function(){var H=h*y/255;N=H+y*(255-(255-y)*(255-h)/255-H)/255,H=f*x/255,O=H+x*(255-(255-x)*(255-f)/255-H)/255,H=p*D/255,I=H+D*(255-(255-D)*(255-p)/255-H)/255},"hard-light":function(){N=h<128?2*h*y/255:255-2*(255-h)*(255-y)/255,O=f<128?2*f*x/255:255-2*(255-f)*(255-x)/255,I=p<128?2*p*D/255:255-2*(255-p)*(255-D)/255},"color-dodge":function(){N=y===0?0:h===255?255:e(255,255*y/(255-h)),O=x===0?0:f===255?255:e(255,255*x/(255-f)),I=D===0?0:p===255?255:e(255,255*D/(255-p))},"color-burn":function(){N=y===255?255:h===0?0:s(0,255-(255-y)*255/h),O=x===255?255:f===0?0:s(0,255-(255-x)*255/f),I=D===255?255:p===0?0:s(0,255-(255-D)*255/p)},darken:function(){N=y<h?y:h,O=x<f?x:f,I=D<p?D:p},lighten:function(){N=y>h?y:h,O=x>f?x:f,I=D>p?D:p},difference:function(){N=y-h,N<0&&(N=-N),O=x-f,O<0&&(O=-O),I=D-p,I<0&&(I=-I)},exclusion:function(){N=y+h*(255-y-y)/255,O=x+f*(255-x-x)/255,I=D+p*(255-D-D)/255},hue:function(){k(h,f,p,$(y,x,D)),U(N,O,I,z(y,x,D))},saturation:function(){k(y,x,D,$(h,f,p)),U(N,O,I,z(y,x,D))},luminosity:function(){U(y,x,D,z(h,f,p))},color:function(){U(h,f,p,z(y,x,D))},add:function(){N=e(y+h,255),O=e(x+f,255),I=e(D+p,255)},subtract:function(){N=s(y-h,0),O=s(x-f,0),I=s(D-p,0)},average:function(){N=(y+h)/2,O=(x+f)/2,I=(D+p)/2},negation:function(){N=255-u(255-h-y),O=255-u(255-f-x),I=255-u(255-p-D)}},M=this.nativeModes=r.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(H){this[H]=!0},{}),L=Xe.getContext(1,1,{willReadFrequently:!0});L&&(r.each(X,function(H,Z){var at=Z==="darken",ut=!1;L.save();try{L.fillStyle=at?"#300":"#a00",L.fillRect(0,0,1,1),L.globalCompositeOperation=Z,L.globalCompositeOperation===Z&&(L.fillStyle=at?"#a00":"#300",L.fillRect(0,0,1,1),ut=L.getImageData(0,0,1,1).data[0]!==at?170:51)}catch{}L.restore(),M[Z]=ut}),Xe.release(L)),this.process=function(H,Z,at,ut,lt){var ht=Z.canvas,vt=H==="normal";if(vt||M[H])at.save(),at.setTransform(1,0,0,1,0,0),at.globalAlpha=ut,vt||(at.globalCompositeOperation=H),at.drawImage(ht,lt.x,lt.y),at.restore();else{var dt=X[H];if(!dt)return;for(var _t=at.getImageData(lt.x,lt.y,ht.width,ht.height),wt=_t.data,Tt=Z.getImageData(0,0,ht.width,ht.height).data,Ot=0,Vt=wt.length;Ot<Vt;Ot+=4){h=Tt[Ot],y=wt[Ot],f=Tt[Ot+1],x=wt[Ot+1],p=Tt[Ot+2],D=wt[Ot+2],w=Tt[Ot+3],P=wt[Ot+3],dt();var Wt=w*ut/255,Kt=1-Wt;wt[Ot]=Wt*N+Kt*y,wt[Ot+1]=Wt*O+Kt*x,wt[Ot+2]=Wt*I+Kt*D,wt[Ot+3]=w*ut+Kt*P}at.putImageData(_t,lt.x,lt.y)}}},mi=new function(){var e="http://www.w3.org/2000/svg",s="http://www.w3.org/2000/xmlns",u="http://www.w3.org/1999/xlink",h={href:u,xlink:s,xmlns:s+"/","xmlns:xlink":s+"/"};function f(y,x,D){return w(l.createElementNS(e,y),x,D)}function p(y,x){var D=h[x],P=D?y.getAttributeNS(D,x):y.getAttribute(x);return P==="null"?null:P}function w(y,x,D){for(var P in x){var N=x[P],O=h[P];typeof N=="number"&&D&&(N=D.number(N)),O?y.setAttributeNS(O,P,N):y.setAttribute(P,N)}return y}return{svg:e,xmlns:s,xlink:u,create:f,get:p,set:w}},Gt=r.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(e,s){return!s&&(e instanceof ve||e instanceof T||e instanceof Ce)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(e,s){var u=r.capitalize(s),h=e[2];this[s]={type:e[1],property:s,attribute:e[0],toSVG:h,fromSVG:h&&r.each(h,function(f,p){this[f]=p},{}),exportFilter:e[3],get:"get"+u,set:"set"+u}},{});new function(){var e;function s(X,M,L){var H=new r,Z=X.getTranslation();if(M){var at;X.isInvertible()?(X=X._shiftless(),at=X._inverseTransform(Z),Z=null):at=new R,H[L?"cx":"x"]=at.x,H[L?"cy":"y"]=at.y}if(!X.isIdentity()){var ut=X.decompose();if(ut){var lt=[],ht=ut.rotation,vt=ut.scaling,dt=ut.skewing;Z&&!Z.isZero()&&lt.push("translate("+e.point(Z)+")"),ht&&lt.push("rotate("+e.number(ht)+")"),(!G.isZero(vt.x-1)||!G.isZero(vt.y-1))&&lt.push("scale("+e.point(vt)+")"),dt.x&&lt.push("skewX("+e.number(dt.x)+")"),dt.y&&lt.push("skewY("+e.number(dt.y)+")"),H.transform=lt.join(" ")}else H.transform="matrix("+X.getValues().join(",")+")"}return H}function u(X,M){for(var L=s(X._matrix),H=X._children,Z=mi.create("g",L,e),at=0,ut=H.length;at<ut;at++){var lt=H[at],ht=$(lt,M);if(ht)if(lt.isClipMask()){var vt=mi.create("clipPath");vt.appendChild(ht),z(lt,vt,"clip"),mi.set(Z,{"clip-path":"url(#"+vt.id+")"})}else Z.appendChild(ht)}return Z}function h(X,M){var L=s(X._matrix,!0),H=X.getSize(),Z=X.getImage();return L.x-=H.width/2,L.y-=H.height/2,L.width=H.width,L.height=H.height,L.href=M.embedImages==!1&&Z&&Z.src||X.toDataURL(),mi.create("image",L,e)}function f(X,M){var L=M.matchShapes;if(L){var H=X.toShape(!1);if(H)return p(H)}var Z=X._segments,at=Z.length,ut,lt=s(X._matrix);if(L&&at>=2&&!X.hasHandles())if(at>2){ut=X._closed?"polygon":"polyline";for(var ht=[],vt=0;vt<at;vt++)ht.push(e.point(Z[vt]._point));lt.points=ht.join(" ")}else{ut="line";var dt=Z[0]._point,_t=Z[1]._point;lt.set({x1:dt.x,y1:dt.y,x2:_t.x,y2:_t.y})}else ut="path",lt.d=X.getPathData(null,M.precision);return mi.create(ut,lt,e)}function p(X){var M=X._type,L=X._radius,H=s(X._matrix,!0,M!=="rectangle");if(M==="rectangle"){M="rect";var Z=X._size,at=Z.width,ut=Z.height;H.x-=at/2,H.y-=ut/2,H.width=at,H.height=ut,L.isZero()&&(L=null)}return L&&(M==="circle"?H.r=L:(H.rx=L.width,H.ry=L.height)),mi.create(M,H,e)}function w(X,M){var L=s(X._matrix),H=X.getPathData(null,M.precision);return H&&(L.d=H),mi.create("path",L,e)}function y(X,M){var L=s(X._matrix,!0),H=X._definition,Z=I(H,"symbol"),at=H._item,ut=at.getStrokeBounds();return Z||(Z=mi.create("symbol",{viewBox:e.rectangle(ut)}),Z.appendChild($(at,M)),z(H,Z,"symbol")),L.href="#"+Z.id,L.x+=ut.x,L.y+=ut.y,L.width=ut.width,L.height=ut.height,L.overflow="visible",mi.create("use",L,e)}function x(X){var M=I(X,"color");if(!M){var L=X.getGradient(),H=L._radial,Z=X.getOrigin(),at=X.getDestination(),ut;if(H){ut={cx:Z.x,cy:Z.y,r:Z.getDistance(at)};var lt=X.getHighlight();lt&&(ut.fx=lt.x,ut.fy=lt.y)}else ut={x1:Z.x,y1:Z.y,x2:at.x,y2:at.y};ut.gradientUnits="userSpaceOnUse",M=mi.create((H?"radial":"linear")+"Gradient",ut,e);for(var ht=L._stops,vt=0,dt=ht.length;vt<dt;vt++){var _t=ht[vt],wt=_t._color,Tt=wt.getAlpha(),Ot=_t._offset;ut={offset:Ot??vt/(dt-1)},wt&&(ut["stop-color"]=wt.toCSS(!0)),Tt<1&&(ut["stop-opacity"]=Tt),M.appendChild(mi.create("stop",ut,e))}z(X,M,"color")}return"url(#"+M.id+")"}function D(X){var M=mi.create("text",s(X._matrix,!0),e);return M.textContent=X._content,M}var P={Group:u,Layer:u,Raster:h,Path:f,Shape:p,CompoundPath:w,SymbolItem:y,PointText:D};function N(X,M,L){var H={},Z=!L&&X.getParent(),at=[];return X._name!=null&&(H.id=X._name),r.each(Gt,function(ut){var lt=ut.get,ht=ut.type,vt=X[lt]();if(ut.exportFilter?ut.exportFilter(X,vt):!Z||!r.equals(Z[lt](),vt)){if(ht==="color"&&vt!=null){var dt=vt.getAlpha();dt<1&&(H[ut.attribute+"-opacity"]=dt)}ht==="style"?at.push(ut.attribute+": "+vt):H[ut.attribute]=vt==null?"none":ht==="color"?vt.gradient?x(vt):vt.toCSS(!0):ht==="array"?vt.join(","):ht==="lookup"?ut.toSVG[vt]:vt}}),at.length&&(H.style=at.join(";")),H.opacity===1&&delete H.opacity,X._visible||(H.visibility="hidden"),mi.set(M,H,e)}var O;function I(X,M){return O||(O={ids:{},svgs:{}}),X&&O.svgs[M+"-"+(X._id||X.__id||(X.__id=J.get("svg")))]}function z(X,M,L){O||I();var H=O.ids[L]=(O.ids[L]||0)+1;M.id=L+"-"+H,O.svgs[L+"-"+(X._id||X.__id)]=M}function U(X,M){var L=X,H=null;if(O){L=X.nodeName.toLowerCase()==="svg"&&X;for(var Z in O.svgs)H||(L||(L=mi.create("svg"),L.appendChild(X)),H=L.insertBefore(mi.create("defs"),L.firstChild)),H.appendChild(O.svgs[Z]);O=null}return M.asString?new t.XMLSerializer().serializeToString(L):L}function $(X,M,L){var H=P[X._class],Z=H&&H(X,M);if(Z){var at=M.onExport;at&&(Z=at(X,Z,M)||Z);var ut=JSON.stringify(X._data);ut&&ut!=="{}"&&ut!=="null"&&Z.setAttribute("data-paper-data",ut)}return Z&&N(X,Z,L)}function k(X){return X||(X={}),e=new W(X.precision),X}xt.inject({exportSVG:function(X){return X=k(X),U($(this,X,!0),X)}}),ct.inject({exportSVG:function(X){X=k(X);var M=this._children,L=this.getView(),H=r.pick(X.bounds,"view"),Z=X.matrix||H==="view"&&L._matrix,at=Z&&Et.read([Z]),ut=H==="view"?new et([0,0],L.getViewSize()):H==="content"?xt._getBounds(M,at,{stroke:!0}).rect:et.read([H],0,{readNull:!0}),lt={version:"1.1",xmlns:mi.svg,"xmlns:xlink":mi.xlink};ut&&(lt.width=ut.width,lt.height=ut.height,(ut.x||ut.x===0||ut.y||ut.y===0)&&(lt.viewBox=e.rectangle(ut)));var ht=mi.create("svg",lt,e),vt=ht;at&&!at.isIdentity()&&(vt=ht.appendChild(mi.create("g",s(at),e)));for(var dt=0,_t=M.length;dt<_t;dt++)vt.appendChild($(M[dt],X,!0));return U(ht,X)}})},new function(){var e={},s;function u(M,L,H,Z,at,ut){var lt=mi.get(M,L)||ut,ht=lt==null?Z?null:H?"":0:H?lt:parseFloat(lt);return/%\s*$/.test(lt)?ht/100*(at?1:s[/x|^width/.test(L)?"width":"height"]):ht}function h(M,L,H,Z,at,ut,lt){return L=u(M,L||"x",!1,Z,at,ut),H=u(M,H||"y",!1,Z,at,lt),Z&&(L==null||H==null)?null:new R(L,H)}function f(M,L,H,Z,at){return L=u(M,L||"width",!1,Z,at),H=u(M,H||"height",!1,Z,at),Z&&(L==null||H==null)?null:new m(L,H)}function p(M,L,H){return M==="none"?null:L==="number"?parseFloat(M):L==="array"?M?M.split(/[\s,]+/g).map(parseFloat):[]:L==="color"?$(M)||M:L==="lookup"?H[M]:M}function w(M,L,H,Z){var at=M.childNodes,ut=L==="clippath",lt=L==="defs",ht=new zt,vt=ht._project,dt=vt._currentStyle,_t=[];if(!ut&&!lt&&(ht=U(ht,M,Z),vt._currentStyle=ht._style.clone()),Z)for(var wt=M.querySelectorAll("defs"),Tt=0,Ot=wt.length;Tt<Ot;Tt++)k(wt[Tt],H,!1);for(var Tt=0,Ot=at.length;Tt<Ot;Tt++){var Vt=at[Tt],Wt;Vt.nodeType===1&&!/^defs$/i.test(Vt.nodeName)&&(Wt=k(Vt,H,!1))&&!(Wt instanceof se)&&_t.push(Wt)}return ht.addChildren(_t),ut&&(ht=U(ht.reduce(),M,Z)),vt._currentStyle=dt,(ut||lt)&&(ht.remove(),ht=null),ht}function y(M,L){for(var H=M.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),Z=[],at=0,ut=H.length;at<ut;at+=2)Z.push(new R(parseFloat(H[at]),parseFloat(H[at+1])));var lt=new $t(Z);return L==="polygon"&&lt.closePath(),lt}function x(M){return ve.create(M.getAttribute("d"))}function D(M,L){var H=(u(M,"href",!0)||"").substring(1),Z=L==="radialgradient",at;if(H)at=e[H].getGradient(),at._radial^Z&&(at=at.clone(),at._radial=Z);else{for(var ut=M.childNodes,lt=[],ht=0,vt=ut.length;ht<vt;ht++){var dt=ut[ht];dt.nodeType===1&&lt.push(U(new Ei,dt))}at=new xi(lt,Z)}var _t,wt,Tt,Ot=u(M,"gradientUnits",!0)!=="userSpaceOnUse";Z?(_t=h(M,"cx","cy",!1,Ot,"50%","50%"),wt=_t.add(u(M,"r",!1,!1,Ot,"50%"),0),Tt=h(M,"fx","fy",!0,Ot)):(_t=h(M,"x1","y1",!1,Ot,"0%","0%"),wt=h(M,"x2","y2",!1,Ot,"100%","0%"));var Vt=U(new fe(at,_t,wt,Tt),M);return Vt._scaleToBounds=Ot,null}var P={"#document":function(M,L,H,Z){for(var at=M.childNodes,ut=0,lt=at.length;ut<lt;ut++){var ht=at[ut];if(ht.nodeType===1)return k(ht,H,Z)}},g:w,svg:w,clippath:w,polygon:y,polyline:y,path:x,lineargradient:D,radialgradient:D,image:function(M){var L=new F(u(M,"href",!0));return L.on("load",function(){var H=f(M);this.setSize(H);var Z=h(M).add(H.divide(2));this._matrix.append(new Et().translate(Z))}),L},symbol:function(M,L,H,Z){return new se(w(M,L,H,Z),!0)},defs:w,use:function(M){var L=(u(M,"href",!0)||"").substring(1),H=e[L],Z=h(M);return H?H instanceof se?H.place(Z):H.clone().translate(Z):null},circle:function(M){return new T.Circle(h(M,"cx","cy"),u(M,"r"))},ellipse:function(M){return new T.Ellipse({center:h(M,"cx","cy"),radius:f(M,"rx","ry")})},rect:function(M){return new T.Rectangle(new et(h(M),f(M)),f(M,"rx","ry"))},line:function(M){return new $t.Line(h(M,"x1","y1"),h(M,"x2","y2"))},text:function(M){var L=new Se(h(M).add(h(M,"dx","dy")));return L.setContent(M.textContent.trim()||""),L},switch:w};function N(M,L,H,Z){if(M.transform){for(var at=(Z.getAttribute(H)||"").split(/\)\s*/g),ut=new Et,lt=0,ht=at.length;lt<ht;lt++){var vt=at[lt];if(!vt)break;for(var dt=vt.split(/\(\s*/),_t=dt[0],wt=dt[1].split(/[\s,]+/g),Tt=0,Ot=wt.length;Tt<Ot;Tt++)wt[Tt]=parseFloat(wt[Tt]);switch(_t){case"matrix":ut.append(new Et(wt[0],wt[1],wt[2],wt[3],wt[4],wt[5]));break;case"rotate":ut.rotate(wt[0],wt[1]||0,wt[2]||0);break;case"translate":ut.translate(wt[0],wt[1]||0);break;case"scale":ut.scale(wt);break;case"skewX":ut.skew(wt[0],0);break;case"skewY":ut.skew(0,wt[0]);break}}M.transform(ut)}}function O(M,L,H){var Z=H==="fill-opacity"?"getFillColor":"getStrokeColor",at=M[Z]&&M[Z]();at&&at.setAlpha(parseFloat(L))}var I=r.set(r.each(Gt,function(M){this[M.attribute]=function(L,H){if(L[M.set]&&(L[M.set](p(H,M.type,M.fromSVG)),M.type==="color")){var Z=L[M.get]();if(Z&&Z._scaleToBounds){var at=L.getBounds();Z.transform(new Et().translate(at.getPoint()).scale(at.getSize()))}}}},{}),{id:function(M,L){e[L]=M,M.setName&&M.setName(L)},"clip-path":function(M,L){var H=$(L);if(H)if(H=H.clone(),H.setClipMask(!0),M instanceof zt)M.insertChild(0,H);else return new zt(H,M)},gradientTransform:N,transform:N,"fill-opacity":O,"stroke-opacity":O,visibility:function(M,L){M.setVisible&&M.setVisible(L==="visible")},display:function(M,L){M.setVisible&&M.setVisible(L!==null)},"stop-color":function(M,L){M.setColor&&M.setColor(L)},"stop-opacity":function(M,L){M._color&&M._color.setAlpha(parseFloat(L))},offset:function(M,L){if(M.setOffset){var H=L.match(/(.*)%$/);M.setOffset(H?H[1]/100:parseFloat(L))}},viewBox:function(M,L,H,Z,at){var ut=new et(p(L,"array")),lt=f(Z,null,null,!0),ht,vt;if(M instanceof zt){var dt=lt?lt.divide(ut.getSize()):1,vt=new Et().scale(dt).translate(ut.getPoint().negate());ht=M}else M instanceof se&&(lt&&ut.setSize(lt),ht=M._item);if(ht){if(z(Z,"overflow",at)!=="visible"){var _t=new T.Rectangle(ut);_t.setClipMask(!0),ht.addChild(_t)}vt&&ht.transform(vt)}}});function z(M,L,H){var Z=M.attributes[L],at=Z&&Z.value;if(!at&&M.style){var ut=r.camelize(L);at=M.style[ut],!at&&H.node[ut]!==H.parent[ut]&&(at=H.node[ut])}return at?at==="none"?null:at:i}function U(M,L,H){var Z=L.parentNode,at={node:Ge.getStyles(L)||{},parent:!H&&!/^defs$/i.test(Z.tagName)&&Ge.getStyles(Z)||{}};return r.each(I,function(ut,lt){var ht=z(L,lt,at);M=ht!==i&&ut(M,ht,lt,L,at)||M}),M}function $(M){var L=M&&M.match(/\((?:["'#]*)([^"')]+)/),H=L&&L[1],Z=H&&e[a?H.replace(a.location.href.split("#")[0]+"#",""):H];return Z&&Z._scaleToBounds&&(Z=Z.clone(),Z._scaleToBounds=!0),Z}function k(M,L,H){var Z=M.nodeName.toLowerCase(),at=Z!=="#document",ut=l.body,lt,ht,vt;H&&at&&(s=ne.getView().getSize(),s=f(M,null,null,!0)||s,lt=mi.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),ht=M.parentNode,vt=M.nextSibling,lt.appendChild(M),ut.appendChild(lt));var dt=ne.settings,_t=dt.applyMatrix,wt=dt.insertItems;dt.applyMatrix=!1,dt.insertItems=!1;var Tt=P[Z],Ot=Tt&&Tt(M,Z,L,H)||null;if(dt.insertItems=wt,dt.applyMatrix=_t,Ot){at&&!(Ot instanceof zt)&&(Ot=U(Ot,M,H));var Vt=L.onImport,Wt=at&&M.getAttribute("data-paper-data");Vt&&(Ot=Vt(M,Ot,L)||Ot),L.expandShapes&&Ot instanceof T&&(Ot.remove(),Ot=Ot.toPath()),Wt&&(Ot._data=JSON.parse(Wt))}return lt&&(ut.removeChild(lt),ht&&(vt?ht.insertBefore(M,vt):ht.appendChild(M))),H&&(e={},Ot&&r.pick(L.applyMatrix,_t)&&Ot.matrix.apply(!0,!0)),Ot}function X(M,L,H){if(!M)return null;L=typeof L=="function"?{onLoad:L}:L||{};var Z=ne,at=null;function ut(dt){try{var _t=typeof dt=="object"?dt:new t.DOMParser().parseFromString(dt.trim(),"image/svg+xml");if(!_t.nodeName)throw _t=null,new Error("Unsupported SVG source: "+M);ne=Z,at=k(_t,L,!0),(!L||L.insert!==!1)&&H._insertItem(i,at);var wt=L.onLoad;wt&&wt(at,dt)}catch(Tt){lt(Tt)}}function lt(dt,_t){var wt=L.onError;if(wt)wt(dt,_t);else throw new Error(dt)}if(typeof M=="string"&&!/^[\s\S]*</.test(M)){var ht=l.getElementById(M);ht?ut(ht):on.request({url:M,async:!0,onLoad:ut,onError:lt})}else if(typeof File<"u"&&M instanceof File){var vt=new FileReader;return vt.onload=function(){ut(vt.result)},vt.onerror=function(){lt(vt.error)},vt.readAsText(M)}else ut(M);return at}xt.inject({importSVG:function(M,L){return X(M,L,this)}}),ct.inject({importSVG:function(M,L){return this.activate(),X(M,L,this)}})};var ne=new(S.inject(r.exports,{Base:r,Numerical:G,Key:Gn,DomEvent:Je,DomElement:Ge,document:l,window:a,Symbol:se,PlacedSymbol:Rt}));return ne.agent.node,typeof i=="function"&&i.amd?i("paper",ne):A&&(A.exports=ne),ne}).call(window,typeof self=="object"?self:null)})(i1);/*! https://mths.be/he v1.1.1 by @mathias | MIT license */(function(A,t){(function(i){var a=typeof Ur=="object"&&Ur;(a.global===a||a.window===a)&&(i=a);var l=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,r=/[\x01-\x7F]/g,g=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,S=/<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g,B={"":"shy","":"zwnj","":"zwj","":"lrm","":"ic","":"it","":"af","":"rlm","":"ZeroWidthSpace","":"NoBreak","":"DownBreve","":"tdot","":"DotDot","	":"Tab","\n":"NewLine","":"puncsp","":"MediumSpace","":"thinsp","":"hairsp","":"emsp13","":"ensp","":"emsp14","":"emsp","":"numsp","":"nbsp","":"ThickSpace","":"oline",_:"lowbar","":"dash","":"ndash","":"mdash","":"horbar",",":"comma",";":"semi","":"bsemi",":":"colon","":"Colone","!":"excl","":"iexcl","?":"quest","":"iquest",".":"period","":"nldr","":"mldr","":"middot","'":"apos","":"lsquo","":"rsquo","":"sbquo","":"lsaquo","":"rsaquo",'"':"quot","":"ldquo","":"rdquo","":"bdquo","":"laquo","":"raquo","(":"lpar",")":"rpar","[":"lsqb","]":"rsqb","{":"lcub","}":"rcub","":"lceil","":"rceil","":"lfloor","":"rfloor","":"lopar","":"ropar","":"lbrke","":"rbrke","":"lbrkslu","":"rbrksld","":"lbrksld","":"rbrkslu","":"langd","":"rangd","":"lparlt","":"rpargt","":"gtlPar","":"ltrPar","":"lobrk","":"robrk","":"lang","":"rang","":"Lang","":"Rang","":"loang","":"roang","":"lbbrk","":"rbbrk","":"Vert","":"sect","":"para","@":"commat","*":"ast","/":"sol",undefined:null,"&":"amp","#":"num","%":"percnt","":"permil","":"pertenk","":"dagger","":"Dagger","":"bull","":"hybull","":"prime","":"Prime","":"tprime","":"qprime","":"bprime","":"caret","`":"grave","":"acute","":"tilde","^":"Hat","":"macr","":"breve","":"dot","":"die","":"ring","":"dblac","":"cedil","":"ogon","":"circ","":"caron","":"deg","":"copy","":"reg","":"copysr","":"wp","":"rx","":"mho","":"iiota","":"larr","":"nlarr","":"rarr","":"nrarr","":"uarr","":"darr","":"harr","":"nharr","":"varr","":"nwarr","":"nearr","":"searr","":"swarr","":"rarrw","":"nrarrw","":"Larr","":"Uarr","":"Rarr","":"Darr","":"larrtl","":"rarrtl","":"mapstoleft","":"mapstoup","":"map","":"mapstodown","":"larrhk","":"rarrhk","":"larrlp","":"rarrlp","":"harrw","":"lsh","":"rsh","":"ldsh","":"rdsh","":"crarr","":"cularr","":"curarr","":"olarr","":"orarr","":"lharu","":"lhard","":"uharr","":"uharl","":"rharu","":"rhard","":"dharr","":"dharl","":"rlarr","":"udarr","":"lrarr","":"llarr","":"uuarr","":"rrarr","":"ddarr","":"lrhar","":"rlhar","":"lArr","":"nlArr","":"uArr","":"rArr","":"nrArr","":"dArr","":"iff","":"nhArr","":"vArr","":"nwArr","":"neArr","":"seArr","":"swArr","":"lAarr","":"rAarr","":"zigrarr","":"larrb","":"rarrb","":"duarr","":"loarr","":"roarr","":"hoarr","":"forall","":"comp","":"part","":"npart","":"exist","":"nexist","":"empty","":"Del","":"in","":"notin","":"ni","":"notni","":"bepsi","":"prod","":"coprod","":"sum","+":"plus","":"pm","":"div","":"times","<":"lt","":"nlt","<":"nvlt","=":"equals","":"ne","=":"bne","":"Equal",">":"gt","":"ngt",">":"nvgt","":"not","|":"vert","":"brvbar","":"minus","":"mp","":"plusdo","":"frasl","":"setmn","":"lowast","":"compfn","":"Sqrt","":"prop","":"infin","":"angrt","":"ang","":"nang","":"angmsd","":"angsph","":"mid","":"nmid","":"par","":"npar","":"and","":"or","":"cap","":"caps","":"cup","":"cups","":"int","":"Int","":"tint","":"qint","":"oint","":"Conint","":"Cconint","":"cwint","":"cwconint","":"awconint","":"there4","":"becaus","":"ratio","":"Colon","":"minusd","":"mDDot","":"homtht","":"sim","":"nsim","":"nvsim","":"bsim","":"race","":"ac","":"acE","":"acd","":"wr","":"esim","":"nesim","":"sime","":"nsime","":"cong","":"ncong","":"simne","":"ap","":"nap","":"ape","":"apid","":"napid","":"bcong","":"CupCap","":"NotCupCap","":"nvap","":"bump","":"nbump","":"bumpe","":"nbumpe","":"doteq","":"nedot","":"eDot","":"efDot","":"erDot","":"colone","":"ecolon","":"ecir","":"cire","":"wedgeq","":"veeeq","":"trie","":"equest","":"equiv","":"nequiv","":"bnequiv","":"le","":"nle","":"nvle","":"ge","":"nge","":"nvge","":"lE","":"nlE","":"gE","":"ngE","":"lvnE","":"lnE","":"gnE","":"gvnE","":"ll","":"nLtv","":"nLt","":"gg","":"nGtv","":"nGt","":"twixt","":"lsim","":"nlsim","":"gsim","":"ngsim","":"lg","":"ntlg","":"gl","":"ntgl","":"pr","":"npr","":"sc","":"nsc","":"prcue","":"nprcue","":"sccue","":"nsccue","":"prsim","":"scsim","":"NotSucceedsTilde","":"sub","":"nsub","":"vnsub","":"sup","":"nsup","":"vnsup","":"sube","":"nsube","":"supe","":"nsupe","":"vsubne","":"subne","":"vsupne","":"supne","":"cupdot","":"uplus","":"sqsub","":"NotSquareSubset","":"sqsup","":"NotSquareSuperset","":"sqsube","":"nsqsube","":"sqsupe","":"nsqsupe","":"sqcap","":"sqcaps","":"sqcup","":"sqcups","":"oplus","":"ominus","":"otimes","":"osol","":"odot","":"ocir","":"oast","":"odash","":"plusb","":"minusb","":"timesb","":"sdotb","":"vdash","":"nvdash","":"dashv","":"top","":"bot","":"models","":"vDash","":"nvDash","":"Vdash","":"nVdash","":"Vvdash","":"VDash","":"nVDash","":"prurel","":"vltri","":"nltri","":"vrtri","":"nrtri","":"ltrie","":"nltrie","":"nvltrie","":"rtrie","":"nrtrie","":"nvrtrie","":"origof","":"imof","":"mumap","":"hercon","":"intcal","":"veebar","":"barvee","":"angrtvb","":"lrtri","":"Wedge","":"Vee","":"xcap","":"xcup","":"diam","":"sdot","":"Star","":"divonx","":"bowtie","":"ltimes","":"rtimes","":"lthree","":"rthree","":"bsime","":"cuvee","":"cuwed","":"Sub","":"Sup","":"Cap","":"Cup","":"fork","":"epar","":"ltdot","":"gtdot","":"Ll","":"nLl","":"Gg","":"nGg","":"lesg","":"leg","":"gel","":"gesl","":"cuepr","":"cuesc","":"lnsim","":"gnsim","":"prnsim","":"scnsim","":"vellip","":"ctdot","":"utdot","":"dtdot","":"disin","":"isinsv","":"isins","":"isindot","":"notindot","":"notinvc","":"notinvb","":"isinE","":"notinE","":"nisd","":"xnis","":"nis","":"notnivc","":"notnivb","":"barwed","":"Barwed","":"drcrop","":"dlcrop","":"urcrop","":"ulcrop","":"bnot","":"profline","":"profsurf","":"telrec","":"target","":"ulcorn","":"urcorn","":"dlcorn","":"drcorn","":"frown","":"smile","":"cylcty","":"profalar","":"topbot","":"ovbar","":"solbar","":"angzarr","":"lmoust","":"rmoust","":"tbrk","":"bbrk","":"bbrktbrk","":"OverParenthesis","":"UnderParenthesis","":"OverBrace","":"UnderBrace","":"trpezium","":"elinters","":"blank","":"boxh","":"boxv","":"boxdr","":"boxdl","":"boxur","":"boxul","":"boxvr","":"boxvl","":"boxhd","":"boxhu","":"boxvh","":"boxH","":"boxV","":"boxdR","":"boxDr","":"boxDR","":"boxdL","":"boxDl","":"boxDL","":"boxuR","":"boxUr","":"boxUR","":"boxuL","":"boxUl","":"boxUL","":"boxvR","":"boxVr","":"boxVR","":"boxvL","":"boxVl","":"boxVL","":"boxHd","":"boxhD","":"boxHD","":"boxHu","":"boxhU","":"boxHU","":"boxvH","":"boxVh","":"boxVH","":"uhblk","":"lhblk","":"block","":"blk14","":"blk12","":"blk34","":"squ","":"squf","":"EmptyVerySmallSquare","":"rect","":"marker","":"fltns","":"xutri","":"utrif","":"utri","":"rtrif","":"rtri","":"xdtri","":"dtrif","":"dtri","":"ltrif","":"ltri","":"loz","":"cir","":"tridot","":"xcirc","":"ultri","":"urtri","":"lltri","":"EmptySmallSquare","":"FilledSmallSquare","":"starf","":"star","":"phone","":"female","":"male","":"spades","":"clubs","":"hearts","":"diams","":"sung","":"check","":"cross","":"malt","":"sext","":"VerticalSeparator","":"bsolhsub","":"suphsol","":"xlarr","":"xrarr","":"xharr","":"xlArr","":"xrArr","":"xhArr","":"xmap","":"dzigrarr","":"nvlArr","":"nvrArr","":"nvHarr","":"Map","":"lbarr","":"rbarr","":"lBarr","":"rBarr","":"RBarr","":"DDotrahd","":"UpArrowBar","":"DownArrowBar","":"Rarrtl","":"latail","":"ratail","":"lAtail","":"rAtail","":"larrfs","":"rarrfs","":"larrbfs","":"rarrbfs","":"nwarhk","":"nearhk","":"searhk","":"swarhk","":"nwnear","":"toea","":"tosa","":"swnwar","":"rarrc","":"nrarrc","":"cudarrr","":"ldca","":"rdca","":"cudarrl","":"larrpl","":"curarrm","":"cularrp","":"rarrpl","":"harrcir","":"Uarrocir","":"lurdshar","":"ldrushar","":"LeftRightVector","":"RightUpDownVector","":"DownLeftRightVector","":"LeftUpDownVector","":"LeftVectorBar","":"RightVectorBar","":"RightUpVectorBar","":"RightDownVectorBar","":"DownLeftVectorBar","":"DownRightVectorBar","":"LeftUpVectorBar","":"LeftDownVectorBar","":"LeftTeeVector","":"RightTeeVector","":"RightUpTeeVector","":"RightDownTeeVector","":"DownLeftTeeVector","":"DownRightTeeVector","":"LeftUpTeeVector","":"LeftDownTeeVector","":"lHar","":"uHar","":"rHar","":"dHar","":"luruhar","":"ldrdhar","":"ruluhar","":"rdldhar","":"lharul","":"llhard","":"rharul","":"lrhard","":"udhar","":"duhar","":"RoundImplies","":"erarr","":"simrarr","":"larrsim","":"rarrsim","":"rarrap","":"ltlarr","":"gtrarr","":"subrarr","":"suplarr","":"lfisht","":"rfisht","":"ufisht","":"dfisht","":"vzigzag","":"vangrt","":"angrtvbd","":"ange","":"range","":"dwangle","":"uwangle","":"angmsdaa","":"angmsdab","":"angmsdac","":"angmsdad","":"angmsdae","":"angmsdaf","":"angmsdag","":"angmsdah","":"bemptyv","":"demptyv","":"cemptyv","":"raemptyv","":"laemptyv","":"ohbar","":"omid","":"opar","":"operp","":"olcross","":"odsold","":"olcir","":"ofcir","":"olt","":"ogt","":"cirscir","":"cirE","":"solb","":"bsolb","":"boxbox","":"trisb","":"rtriltri","":"LeftTriangleBar","":"NotLeftTriangleBar","":"RightTriangleBar","":"NotRightTriangleBar","":"iinfin","":"infintie","":"nvinfin","":"eparsl","":"smeparsl","":"eqvparsl","":"lozf","":"RuleDelayed","":"dsol","":"xodot","":"xoplus","":"xotime","":"xuplus","":"xsqcup","":"fpartint","":"cirfnint","":"awint","":"rppolint","":"scpolint","":"npolint","":"pointint","":"quatint","":"intlarhk","":"pluscir","":"plusacir","":"simplus","":"plusdu","":"plussim","":"plustwo","":"mcomma","":"minusdu","":"loplus","":"roplus","":"Cross","":"timesd","":"timesbar","":"smashp","":"lotimes","":"rotimes","":"otimesas","":"Otimes","":"odiv","":"triplus","":"triminus","":"tritime","":"iprod","":"amalg","":"capdot","":"ncup","":"ncap","":"capand","":"cupor","":"cupcap","":"capcup","":"cupbrcap","":"capbrcup","":"cupcup","":"capcap","":"ccups","":"ccaps","":"ccupssm","":"And","":"Or","":"andand","":"oror","":"orslope","":"andslope","":"andv","":"orv","":"andd","":"ord","":"wedbar","":"sdote","":"simdot","":"congdot","":"ncongdot","":"easter","":"apacir","":"apE","":"napE","":"eplus","":"pluse","":"Esim","":"eDDot","":"equivDD","":"ltcir","":"gtcir","":"ltquest","":"gtquest","":"les","":"nles","":"ges","":"nges","":"lesdot","":"gesdot","":"lesdoto","":"gesdoto","":"lesdotor","":"gesdotol","":"lap","":"gap","":"lne","":"gne","":"lnap","":"gnap","":"lEg","":"gEl","":"lsime","":"gsime","":"lsimg","":"gsiml","":"lgE","":"glE","":"lesges","":"gesles","":"els","":"egs","":"elsdot","":"egsdot","":"el","":"eg","":"siml","":"simg","":"simlE","":"simgE","":"LessLess","":"NotNestedLessLess","":"GreaterGreater","":"NotNestedGreaterGreater","":"glj","":"gla","":"ltcc","":"gtcc","":"lescc","":"gescc","":"smt","":"lat","":"smte","":"smtes","":"late","":"lates","":"bumpE","":"pre","":"npre","":"sce","":"nsce","":"prE","":"scE","":"prnE","":"scnE","":"prap","":"scap","":"prnap","":"scnap","":"Pr","":"Sc","":"subdot","":"supdot","":"subplus","":"supplus","":"submult","":"supmult","":"subedot","":"supedot","":"subE","":"nsubE","":"supE","":"nsupE","":"subsim","":"supsim","":"vsubnE","":"subnE","":"vsupnE","":"supnE","":"csub","":"csup","":"csube","":"csupe","":"subsup","":"supsub","":"subsub","":"supsup","":"suphsub","":"supdsub","":"forkv","":"topfork","":"mlcp","":"Dashv","":"Vdashl","":"Barv","":"vBar","":"vBarv","":"Vbar","":"Not","":"bNot","":"rnmid","":"cirmid","":"midcir","":"topcir","":"nhpar","":"parsim","":"parsl","":"nparsl","":"flat","":"natur","":"sharp","":"curren","":"cent",$:"dollar","":"pound","":"yen","":"euro","":"sup1","":"half","":"frac13","":"frac14","":"frac15","":"frac16","":"frac18","":"sup2","":"frac23","":"frac25","":"sup3","":"frac34","":"frac35","":"frac38","":"frac45","":"frac56","":"frac58","":"frac78","":"ascr","":"aopf","":"afr","":"Aopf","":"Afr","":"Ascr",:"ordf",:"aacute",:"Aacute",:"agrave",:"Agrave",:"abreve",:"Abreve",:"acirc",:"Acirc",:"aring",:"angst",:"auml",:"Auml",:"atilde",:"Atilde",:"aogon",:"Aogon",:"amacr",:"Amacr",:"aelig",:"AElig","":"bscr","":"bopf","":"bfr","":"Bopf",:"Bscr","":"Bfr","":"cfr","":"cscr","":"copf",:"Cfr","":"Cscr",:"Copf",:"cacute",:"Cacute",:"ccirc",:"Ccirc",:"ccaron",:"Ccaron",:"cdot",:"Cdot",:"ccedil",:"Ccedil","":"incare","":"dfr","":"dd","":"dopf","":"dscr","":"Dscr","":"Dfr","":"DD","":"Dopf",:"dcaron",:"Dcaron",:"dstrok",:"Dstrok",:"eth",:"ETH","":"ee",:"escr","":"efr","":"eopf",:"Escr","":"Efr","":"Eopf",:"eacute",:"Eacute",:"egrave",:"Egrave",:"ecirc",:"Ecirc",:"ecaron",:"Ecaron",:"euml",:"Euml",:"edot",:"Edot",:"eogon",:"Eogon",:"emacr",:"Emacr","":"ffr","":"fopf","":"fscr","":"Ffr","":"Fopf",:"Fscr",:"fflig",:"ffilig",:"ffllig",:"filig",fj:"fjlig",:"fllig",:"fnof",:"gscr","":"gopf","":"gfr","":"Gscr","":"Gopf","":"Gfr",:"gacute",:"gbreve",:"Gbreve",:"gcirc",:"Gcirc",:"gdot",:"Gdot",:"Gcedil","":"hfr",:"planckh","":"hscr","":"hopf",:"Hscr",:"Hfr",:"Hopf",:"hcirc",:"Hcirc",:"hbar",:"hstrok",:"Hstrok","":"iopf","":"ifr","":"iscr","":"ii","":"Iopf",:"Iscr",:"Im",:"iacute",:"Iacute",:"igrave",:"Igrave",:"icirc",:"Icirc",:"iuml",:"Iuml",:"itilde",:"Itilde",:"Idot",:"iogon",:"Iogon",:"imacr",:"Imacr",:"ijlig",:"IJlig",:"imath","":"jscr","":"jopf","":"jfr","":"Jscr","":"Jfr","":"Jopf",:"jcirc",:"Jcirc","":"jmath","":"kopf","":"kscr","":"kfr","":"Kscr","":"Kopf","":"Kfr",:"kcedil",:"Kcedil","":"lfr","":"lscr",:"ell","":"lopf",:"Lscr","":"Lfr","":"Lopf",:"lacute",:"Lacute",:"lcaron",:"Lcaron",:"lcedil",:"Lcedil",:"lstrok",:"Lstrok",:"lmidot",:"Lmidot","":"mfr","":"mopf","":"mscr","":"Mfr","":"Mopf",:"Mscr","":"nfr","":"nopf","":"nscr",:"Nopf","":"Nscr","":"Nfr",:"nacute",:"Nacute",:"ncaron",:"Ncaron",:"ntilde",:"Ntilde",:"ncedil",:"Ncedil","":"numero",:"eng",:"ENG","":"oopf","":"ofr",:"oscr","":"Oscr","":"Ofr","":"Oopf",:"ordm",:"oacute",:"Oacute",:"ograve",:"Ograve",:"ocirc",:"Ocirc",:"ouml",:"Ouml",:"odblac",:"Odblac",:"otilde",:"Otilde",:"oslash",:"Oslash",:"omacr",:"Omacr",:"oelig",:"OElig","":"pfr","":"pscr","":"popf",:"Popf","":"Pfr","":"Pscr","":"qopf","":"qfr","":"qscr","":"Qscr","":"Qfr",:"Qopf",:"kgreen","":"rfr","":"ropf","":"rscr",:"Rscr",:"Re",:"Ropf",:"racute",:"Racute",:"rcaron",:"Rcaron",:"rcedil",:"Rcedil","":"sopf","":"sscr","":"sfr","":"Sopf","":"Sfr","":"Sscr","":"oS",:"sacute",:"Sacute",:"scirc",:"Scirc",:"scaron",:"Scaron",:"scedil",:"Scedil",:"szlig","":"tfr","":"tscr","":"topf","":"Tscr","":"Tfr","":"Topf",:"tcaron",:"Tcaron",:"tcedil",:"Tcedil","":"trade",:"tstrok",:"Tstrok","":"uscr","":"uopf","":"ufr","":"Uopf","":"Ufr","":"Uscr",:"uacute",:"Uacute",:"ugrave",:"Ugrave",:"ubreve",:"Ubreve",:"ucirc",:"Ucirc",:"uring",:"Uring",:"uuml",:"Uuml",:"udblac",:"Udblac",:"utilde",:"Utilde",:"uogon",:"Uogon",:"umacr",:"Umacr","":"vfr","":"vopf","":"vscr","":"Vfr","":"Vopf","":"Vscr","":"wopf","":"wscr","":"wfr","":"Wscr","":"Wopf","":"Wfr",:"wcirc",:"Wcirc","":"xfr","":"xscr","":"xopf","":"Xopf","":"Xfr","":"Xscr","":"yfr","":"yscr","":"yopf","":"Yscr","":"Yfr","":"Yopf",:"yacute",:"Yacute",:"ycirc",:"Ycirc",:"yuml",:"Yuml","":"zscr","":"zfr","":"zopf",:"Zfr",:"Zopf","":"Zscr",:"zacute",:"Zacute",:"zcaron",:"Zcaron",:"zdot",:"Zdot",:"imped",:"thorn",:"THORN",:"napos",:"alpha",:"Alpha",:"beta",:"Beta",:"gamma",:"Gamma",:"delta",:"Delta",:"epsi","":"epsiv",:"Epsilon",:"gammad",:"Gammad",:"zeta",:"Zeta",:"eta",:"Eta",:"theta",:"thetav",:"Theta",:"iota",:"Iota",:"kappa",:"kappav",:"Kappa",:"lambda",:"Lambda",:"mu",:"micro",:"Mu",:"nu",:"Nu",:"xi",:"Xi",:"omicron",:"Omicron",:"pi",:"piv",:"Pi",:"rho",:"rhov",:"Rho",:"sigma",:"Sigma",:"sigmaf",:"tau",:"Tau",:"upsi",:"Upsilon",:"Upsi",:"phi",:"phiv",:"Phi",:"chi",:"Chi",:"psi",:"Psi",:"omega",:"ohm",:"acy",:"Acy",:"bcy",:"Bcy",:"vcy",:"Vcy",:"gcy",:"Gcy",:"gjcy",:"GJcy",:"dcy",:"Dcy",:"djcy",:"DJcy",:"iecy",:"IEcy",:"iocy",:"IOcy",:"jukcy",:"Jukcy",:"zhcy",:"ZHcy",:"zcy",:"Zcy",:"dscy",:"DScy",:"icy",:"Icy",:"iukcy",:"Iukcy",:"yicy",:"YIcy",:"jcy",:"Jcy",:"jsercy",:"Jsercy",:"kcy",:"Kcy",:"kjcy",:"KJcy",:"lcy",:"Lcy",:"ljcy",:"LJcy",:"mcy",:"Mcy",:"ncy",:"Ncy",:"njcy",:"NJcy",:"ocy",:"Ocy",:"pcy",:"Pcy",:"rcy",:"Rcy",:"scy",:"Scy",:"tcy",:"Tcy",:"tshcy",:"TSHcy",:"ucy",:"Ucy",:"ubrcy",:"Ubrcy",:"fcy",:"Fcy",:"khcy",:"KHcy",:"tscy",:"TScy",:"chcy",:"CHcy",:"dzcy",:"DZcy",:"shcy",:"SHcy",:"shchcy",:"SHCHcy",:"hardcy",:"HARDcy",:"ycy",:"Ycy",:"softcy",:"SOFTcy",:"ecy",:"Ecy",:"yucy",:"YUcy",:"yacy",:"YAcy",:"aleph",:"beth",:"gimel",:"daleth"},j=/["&'<>`]/g,W={'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;"},G=/&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/,J=/[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,R=/&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+);|&(Aacute|Agrave|Atilde|Ccedil|Eacute|Egrave|Iacute|Igrave|Ntilde|Oacute|Ograve|Oslash|Otilde|Uacute|Ugrave|Yacute|aacute|agrave|atilde|brvbar|ccedil|curren|divide|eacute|egrave|frac12|frac14|frac34|iacute|igrave|iquest|middot|ntilde|oacute|ograve|oslash|otilde|plusmn|uacute|ugrave|yacute|AElig|Acirc|Aring|Ecirc|Icirc|Ocirc|THORN|Ucirc|acirc|acute|aelig|aring|cedil|ecirc|icirc|iexcl|laquo|micro|ocirc|pound|raquo|szlig|thorn|times|ucirc|Auml|COPY|Euml|Iuml|Ouml|QUOT|Uuml|auml|cent|copy|euml|iuml|macr|nbsp|ordf|ordm|ouml|para|quot|sect|sup1|sup2|sup3|uuml|yuml|AMP|ETH|REG|amp|deg|eth|not|reg|shy|uml|yen|GT|LT|gt|lt)([=a-zA-Z0-9])?/g,gt={aacute:"",Aacute:"",abreve:"",Abreve:"",ac:"",acd:"",acE:"",acirc:"",Acirc:"",acute:"",acy:"",Acy:"",aelig:"",AElig:"",af:"",afr:"",Afr:"",agrave:"",Agrave:"",alefsym:"",aleph:"",alpha:"",Alpha:"",amacr:"",Amacr:"",amalg:"",amp:"&",AMP:"&",and:"",And:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",aogon:"",Aogon:"",aopf:"",Aopf:"",ap:"",apacir:"",ape:"",apE:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",aring:"",Aring:"",ascr:"",Ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",atilde:"",Atilde:"",auml:"",Auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",barwed:"",Barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",bcy:"",Bcy:"",bdquo:"",becaus:"",because:"",Because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",beta:"",Beta:"",beth:"",between:"",bfr:"",Bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bnot:"",bNot:"",bopf:"",Bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxdl:"",boxdL:"",boxDl:"",boxDL:"",boxdr:"",boxdR:"",boxDr:"",boxDR:"",boxh:"",boxH:"",boxhd:"",boxhD:"",boxHd:"",boxHD:"",boxhu:"",boxhU:"",boxHu:"",boxHU:"",boxminus:"",boxplus:"",boxtimes:"",boxul:"",boxuL:"",boxUl:"",boxUL:"",boxur:"",boxuR:"",boxUr:"",boxUR:"",boxv:"",boxV:"",boxvh:"",boxvH:"",boxVh:"",boxVH:"",boxvl:"",boxvL:"",boxVl:"",boxVL:"",boxvr:"",boxvR:"",boxVr:"",boxVR:"",bprime:"",breve:"",Breve:"",brvbar:"",bscr:"",Bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpe:"",bumpE:"",bumpeq:"",Bumpeq:"",cacute:"",Cacute:"",cap:"",Cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",ccaron:"",Ccaron:"",ccedil:"",Ccedil:"",ccirc:"",Ccirc:"",Cconint:"",ccups:"",ccupssm:"",cdot:"",Cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",centerdot:"",CenterDot:"",cfr:"",Cfr:"",chcy:"",CHcy:"",check:"",checkmark:"",chi:"",Chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cire:"",cirE:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",colon:":",Colon:"",colone:"",Colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",conint:"",Conint:"",ContourIntegral:"",copf:"",Copf:"",coprod:"",Coproduct:"",copy:"",COPY:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",cross:"",Cross:"",cscr:"",Cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",cup:"",Cup:"",cupbrcap:"",cupcap:"",CupCap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",dagger:"",Dagger:"",daleth:"",darr:"",dArr:"",Darr:"",dash:"",dashv:"",Dashv:"",dbkarow:"",dblac:"",dcaron:"",Dcaron:"",dcy:"",Dcy:"",dd:"",DD:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",delta:"",Delta:"",demptyv:"",dfisht:"",dfr:"",Dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",diamond:"",Diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",djcy:"",DJcy:"",dlcorn:"",dlcrop:"",dollar:"$",dopf:"",Dopf:"",dot:"",Dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",downarrow:"",Downarrow:"",DownArrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",dscr:"",Dscr:"",dscy:"",DScy:"",dsol:"",dstrok:"",Dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",dzcy:"",DZcy:"",dzigrarr:"",eacute:"",Eacute:"",easter:"",ecaron:"",Ecaron:"",ecir:"",ecirc:"",Ecirc:"",ecolon:"",ecy:"",Ecy:"",eDDot:"",edot:"",eDot:"",Edot:"",ee:"",efDot:"",efr:"",Efr:"",eg:"",egrave:"",Egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",emacr:"",Emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",eng:"",ENG:"",ensp:"",eogon:"",Eogon:"",eopf:"",Eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",epsilon:"",Epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",escr:"",Escr:"",esdot:"",esim:"",Esim:"",eta:"",Eta:"",eth:"",ETH:"",euml:"",Euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",exponentiale:"",ExponentialE:"",fallingdotseq:"",fcy:"",Fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",ffr:"",Ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",fopf:"",Fopf:"",forall:"",ForAll:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",fscr:"",Fscr:"",gacute:"",gamma:"",Gamma:"",gammad:"",Gammad:"",gap:"",gbreve:"",Gbreve:"",Gcedil:"",gcirc:"",Gcirc:"",gcy:"",Gcy:"",gdot:"",Gdot:"",ge:"",gE:"",gel:"",gEl:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",gfr:"",Gfr:"",gg:"",Gg:"",ggg:"",gimel:"",gjcy:"",GJcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gne:"",gnE:"",gneq:"",gneqq:"",gnsim:"",gopf:"",Gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",gscr:"",Gscr:"",gsim:"",gsime:"",gsiml:"",gt:">",Gt:"",GT:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",hardcy:"",HARDcy:"",harr:"",hArr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",hcirc:"",Hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",hfr:"",Hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",hopf:"",Hopf:"",horbar:"",HorizontalLine:"",hscr:"",Hscr:"",hslash:"",hstrok:"",Hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",iacute:"",Iacute:"",ic:"",icirc:"",Icirc:"",icy:"",Icy:"",Idot:"",iecy:"",IEcy:"",iexcl:"",iff:"",ifr:"",Ifr:"",igrave:"",Igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",ijlig:"",IJlig:"",Im:"",imacr:"",Imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",int:"",Int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",iocy:"",IOcy:"",iogon:"",Iogon:"",iopf:"",Iopf:"",iota:"",Iota:"",iprod:"",iquest:"",iscr:"",Iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",itilde:"",Itilde:"",iukcy:"",Iukcy:"",iuml:"",Iuml:"",jcirc:"",Jcirc:"",jcy:"",Jcy:"",jfr:"",Jfr:"",jmath:"",jopf:"",Jopf:"",jscr:"",Jscr:"",jsercy:"",Jsercy:"",jukcy:"",Jukcy:"",kappa:"",Kappa:"",kappav:"",kcedil:"",Kcedil:"",kcy:"",Kcy:"",kfr:"",Kfr:"",kgreen:"",khcy:"",KHcy:"",kjcy:"",KJcy:"",kopf:"",Kopf:"",kscr:"",Kscr:"",lAarr:"",lacute:"",Lacute:"",laemptyv:"",lagran:"",lambda:"",Lambda:"",lang:"",Lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",larr:"",lArr:"",Larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",latail:"",lAtail:"",late:"",lates:"",lbarr:"",lBarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",lcaron:"",Lcaron:"",lcedil:"",Lcedil:"",lceil:"",lcub:"{",lcy:"",Lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",le:"",lE:"",LeftAngleBracket:"",leftarrow:"",Leftarrow:"",LeftArrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",leftrightarrow:"",Leftrightarrow:"",LeftRightArrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",leg:"",lEg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",lfr:"",Lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",ljcy:"",LJcy:"",ll:"",Ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",lmidot:"",Lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lne:"",lnE:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",longleftarrow:"",Longleftarrow:"",LongLeftArrow:"",longleftrightarrow:"",Longleftrightarrow:"",LongLeftRightArrow:"",longmapsto:"",longrightarrow:"",Longrightarrow:"",LongRightArrow:"",looparrowleft:"",looparrowright:"",lopar:"",lopf:"",Lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",lscr:"",Lscr:"",lsh:"",Lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",lstrok:"",Lstrok:"",lt:"<",Lt:"",LT:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",map:"",Map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",mcy:"",Mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",mfr:"",Mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",mopf:"",Mopf:"",mp:"",mscr:"",Mscr:"",mstpos:"",mu:"",Mu:"",multimap:"",mumap:"",nabla:"",nacute:"",Nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",ncaron:"",Ncaron:"",ncedil:"",Ncedil:"",ncong:"",ncongdot:"",ncup:"",ncy:"",Ncy:"",ndash:"",ne:"",nearhk:"",nearr:"",neArr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",nfr:"",Nfr:"",nge:"",ngE:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",ngt:"",nGt:"",ngtr:"",nGtv:"",nharr:"",nhArr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",njcy:"",NJcy:"",nlarr:"",nlArr:"",nldr:"",nle:"",nlE:"",nleftarrow:"",nLeftarrow:"",nleftrightarrow:"",nLeftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nlt:"",nLt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",nopf:"",Nopf:"",not:"",Not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrarr:"",nrArr:"",nrarrc:"",nrarrw:"",nrightarrow:"",nRightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",nscr:"",Nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsube:"",nsubE:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupe:"",nsupE:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",ntilde:"",Ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",nu:"",Nu:"",num:"#",numero:"",numsp:"",nvap:"",nvdash:"",nvDash:"",nVdash:"",nVDash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwarr:"",nwArr:"",nwarrow:"",nwnear:"",oacute:"",Oacute:"",oast:"",ocir:"",ocirc:"",Ocirc:"",ocy:"",Ocy:"",odash:"",odblac:"",Odblac:"",odiv:"",odot:"",odsold:"",oelig:"",OElig:"",ofcir:"",ofr:"",Ofr:"",ogon:"",ograve:"",Ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",omacr:"",Omacr:"",omega:"",Omega:"",omicron:"",Omicron:"",omid:"",ominus:"",oopf:"",Oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",or:"",Or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",oscr:"",Oscr:"",oslash:"",Oslash:"",osol:"",otilde:"",Otilde:"",otimes:"",Otimes:"",otimesas:"",ouml:"",Ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",pcy:"",Pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",pfr:"",Pfr:"",phi:"",Phi:"",phiv:"",phmmat:"",phone:"",pi:"",Pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",popf:"",Popf:"",pound:"",pr:"",Pr:"",prap:"",prcue:"",pre:"",prE:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",prime:"",Prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",pscr:"",Pscr:"",psi:"",Psi:"",puncsp:"",qfr:"",Qfr:"",qint:"",qopf:"",Qopf:"",qprime:"",qscr:"",Qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",quot:'"',QUOT:'"',rAarr:"",race:"",racute:"",Racute:"",radic:"",raemptyv:"",rang:"",Rang:"",rangd:"",range:"",rangle:"",raquo:"",rarr:"",rArr:"",Rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",rarrtl:"",Rarrtl:"",rarrw:"",ratail:"",rAtail:"",ratio:"",rationals:"",rbarr:"",rBarr:"",RBarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",rcaron:"",Rcaron:"",rcedil:"",Rcedil:"",rceil:"",rcub:"}",rcy:"",Rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",reg:"",REG:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",rfr:"",Rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",rho:"",Rho:"",rhov:"",RightAngleBracket:"",rightarrow:"",Rightarrow:"",RightArrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",ropf:"",Ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",rscr:"",Rscr:"",rsh:"",Rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",sacute:"",Sacute:"",sbquo:"",sc:"",Sc:"",scap:"",scaron:"",Scaron:"",sccue:"",sce:"",scE:"",scedil:"",Scedil:"",scirc:"",Scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",scy:"",Scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",searr:"",seArr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",sfr:"",Sfr:"",sfrown:"",sharp:"",shchcy:"",SHCHcy:"",shcy:"",SHcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",sigma:"",Sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",softcy:"",SOFTcy:"",sol:"/",solb:"",solbar:"",sopf:"",Sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",square:"",Square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",sscr:"",Sscr:"",ssetmn:"",ssmile:"",sstarf:"",star:"",Star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",sub:"",Sub:"",subdot:"",sube:"",subE:"",subedot:"",submult:"",subne:"",subnE:"",subplus:"",subrarr:"",subset:"",Subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",sum:"",Sum:"",sung:"",sup:"",Sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supe:"",supE:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supne:"",supnE:"",supplus:"",supset:"",Supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swarr:"",swArr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",tau:"",Tau:"",tbrk:"",tcaron:"",Tcaron:"",tcedil:"",Tcedil:"",tcy:"",Tcy:"",tdot:"",telrec:"",tfr:"",Tfr:"",there4:"",therefore:"",Therefore:"",theta:"",Theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",thorn:"",THORN:"",tilde:"",Tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",topf:"",Topf:"",topfork:"",tosa:"",tprime:"",trade:"",TRADE:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",tscr:"",Tscr:"",tscy:"",TScy:"",tshcy:"",TSHcy:"",tstrok:"",Tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",uacute:"",Uacute:"",uarr:"",uArr:"",Uarr:"",Uarrocir:"",ubrcy:"",Ubrcy:"",ubreve:"",Ubreve:"",ucirc:"",Ucirc:"",ucy:"",Ucy:"",udarr:"",udblac:"",Udblac:"",udhar:"",ufisht:"",ufr:"",Ufr:"",ugrave:"",Ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",umacr:"",Umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",uogon:"",Uogon:"",uopf:"",Uopf:"",uparrow:"",Uparrow:"",UpArrow:"",UpArrowBar:"",UpArrowDownArrow:"",updownarrow:"",Updownarrow:"",UpDownArrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",upsi:"",Upsi:"",upsih:"",upsilon:"",Upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",uring:"",Uring:"",urtri:"",uscr:"",Uscr:"",utdot:"",utilde:"",Utilde:"",utri:"",utrif:"",uuarr:"",uuml:"",Uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",varr:"",vArr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",vBar:"",Vbar:"",vBarv:"",vcy:"",Vcy:"",vdash:"",vDash:"",Vdash:"",VDash:"",Vdashl:"",vee:"",Vee:"",veebar:"",veeeq:"",vellip:"",verbar:"|",Verbar:"",vert:"|",Vert:"",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",vfr:"",Vfr:"",vltri:"",vnsub:"",vnsup:"",vopf:"",Vopf:"",vprop:"",vrtri:"",vscr:"",Vscr:"",vsubne:"",vsubnE:"",vsupne:"",vsupnE:"",Vvdash:"",vzigzag:"",wcirc:"",Wcirc:"",wedbar:"",wedge:"",Wedge:"",wedgeq:"",weierp:"",wfr:"",Wfr:"",wopf:"",Wopf:"",wp:"",wr:"",wreath:"",wscr:"",Wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",xfr:"",Xfr:"",xharr:"",xhArr:"",xi:"",Xi:"",xlarr:"",xlArr:"",xmap:"",xnis:"",xodot:"",xopf:"",Xopf:"",xoplus:"",xotime:"",xrarr:"",xrArr:"",xscr:"",Xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",yacute:"",Yacute:"",yacy:"",YAcy:"",ycirc:"",Ycirc:"",ycy:"",Ycy:"",yen:"",yfr:"",Yfr:"",yicy:"",YIcy:"",yopf:"",Yopf:"",yscr:"",Yscr:"",yucy:"",YUcy:"",yuml:"",Yuml:"",zacute:"",Zacute:"",zcaron:"",Zcaron:"",zcy:"",Zcy:"",zdot:"",Zdot:"",zeetrf:"",ZeroWidthSpace:"",zeta:"",Zeta:"",zfr:"",Zfr:"",zhcy:"",ZHcy:"",zigrarr:"",zopf:"",Zopf:"",zscr:"",Zscr:"",zwj:"",zwnj:""},m={aacute:"",Aacute:"",acirc:"",Acirc:"",acute:"",aelig:"",AElig:"",agrave:"",Agrave:"",amp:"&",AMP:"&",aring:"",Aring:"",atilde:"",Atilde:"",auml:"",Auml:"",brvbar:"",ccedil:"",Ccedil:"",cedil:"",cent:"",copy:"",COPY:"",curren:"",deg:"",divide:"",eacute:"",Eacute:"",ecirc:"",Ecirc:"",egrave:"",Egrave:"",eth:"",ETH:"",euml:"",Euml:"",frac12:"",frac14:"",frac34:"",gt:">",GT:">",iacute:"",Iacute:"",icirc:"",Icirc:"",iexcl:"",igrave:"",Igrave:"",iquest:"",iuml:"",Iuml:"",laquo:"",lt:"<",LT:"<",macr:"",micro:"",middot:"",nbsp:"",not:"",ntilde:"",Ntilde:"",oacute:"",Oacute:"",ocirc:"",Ocirc:"",ograve:"",Ograve:"",ordf:"",ordm:"",oslash:"",Oslash:"",otilde:"",Otilde:"",ouml:"",Ouml:"",para:"",plusmn:"",pound:"",quot:'"',QUOT:'"',raquo:"",reg:"",REG:"",sect:"",shy:"",sup1:"",sup2:"",sup3:"",szlig:"",thorn:"",THORN:"",times:"",uacute:"",Uacute:"",ucirc:"",Ucirc:"",ugrave:"",Ugrave:"",uml:"",uuml:"",Uuml:"",yacute:"",Yacute:"",yen:"",yuml:""},it={0:"",128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},et=[1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111],nt=String.fromCharCode,Et={},ot=Et.hasOwnProperty,ct=function(Dt,re){return ot.call(Dt,re)},xt=function(Dt,re){for(var ve=-1,$t=Dt.length;++ve<$t;)if(Dt[ve]==re)return!0;return!1},zt=function(Dt,re){if(!Dt)return re;var ve={},$t;for($t in re)ve[$t]=ct(Dt,$t)?Dt[$t]:re[$t];return ve},Mt=function(Dt,re){var ve="";return Dt>=55296&&Dt<=57343||Dt>1114111?(re&&Rt("character reference outside the permissible Unicode range"),""):ct(it,Dt)?(re&&Rt("disallowed character reference"),it[Dt]):(re&&xt(et,Dt)&&Rt("disallowed character reference"),Dt>65535&&(Dt-=65536,ve+=nt(Dt>>>10&1023|55296),Dt=56320|Dt&1023),ve+=nt(Dt),ve)},T=function(Dt){return"&#x"+Dt.toString(16).toUpperCase()+";"},F=function(Dt){return"&#"+Dt+";"},Rt=function(Dt){throw Error("Parse error: "+Dt)},se=function(Dt,re){re=zt(re,se.options);var ve=re.strict;ve&&J.test(Dt)&&Rt("forbidden code point");var $t=re.encodeEverything,ee=re.useNamedReferences,pe=re.allowUnsafeSymbols,oe=re.decimal?F:T,Ce=function(Se){return oe(Se.charCodeAt(0))};return $t?(Dt=Dt.replace(r,function(Se){return ee&&ct(B,Se)?"&"+B[Se]+";":Ce(Se)}),ee&&(Dt=Dt.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;").replace(/&#x66;&#x6A;/g,"&fjlig;")),ee&&(Dt=Dt.replace(S,function(Se){return"&"+B[Se]+";"}))):ee?(pe||(Dt=Dt.replace(j,function(Se){return"&"+B[Se]+";"})),Dt=Dt.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;"),Dt=Dt.replace(S,function(Se){return"&"+B[Se]+";"})):pe||(Dt=Dt.replace(j,Ce)),Dt.replace(l,function(Se){var fe=Se.charCodeAt(0),xi=Se.charCodeAt(1),Ei=(fe-55296)*1024+xi-56320+65536;return oe(Ei)}).replace(g,Ce)};se.options={allowUnsafeSymbols:!1,encodeEverything:!1,strict:!1,useNamedReferences:!1,decimal:!1};var tt=function(Dt,re){re=zt(re,tt.options);var ve=re.strict;return ve&&G.test(Dt)&&Rt("malformed character reference"),Dt.replace(R,function($t,ee,pe,oe,Ce,Se,fe,xi){var Ei,ci,Ge,Je,Te,Gi;return ee?(Ge=ee,ci=pe,ve&&!ci&&Rt("character reference was not terminated by a semicolon"),Ei=parseInt(Ge,10),Mt(Ei,ve)):oe?(Je=oe,ci=Ce,ve&&!ci&&Rt("character reference was not terminated by a semicolon"),Ei=parseInt(Je,16),Mt(Ei,ve)):Se?(Te=Se,ct(gt,Te)?gt[Te]:(ve&&Rt("named character reference was not terminated by a semicolon"),$t)):(Te=fe,Gi=xi,Gi&&re.isAttributeValue?(ve&&Gi=="="&&Rt("`&` did not start a character reference"),$t):(ve&&Rt("named character reference was not terminated by a semicolon"),m[Te]+(Gi||"")))})};tt.options={isAttributeValue:!1,strict:!1};var Zt=function(Dt){return Dt.replace(j,function(re){return W[re]})},Ee={version:"1.1.1",encode:se,decode:tt,escape:Zt,unescape:tt};i.he=Ee})(window)})();(function(){window.byteLength=S,window.toByteArray=B,window.fromByteArray=G;for(var A=[],t=[],i=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,r=a.length;l<r;++l)A[l]=a[l],t[a.charCodeAt(l)]=l;t[45]=62,t[95]=63;function g(J){var R=J.length;if(R%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return J[R-2]==="="?2:J[R-1]==="="?1:0}function S(J){return J.length*3/4-g(J)}function B(J){var R,gt,m,it,et,nt,Et=J.length;et=g(J),nt=new i(Et*3/4-et),m=et>0?Et-4:Et;var ot=0;for(R=0,gt=0;R<m;R+=4,gt+=3)it=t[J.charCodeAt(R)]<<18|t[J.charCodeAt(R+1)]<<12|t[J.charCodeAt(R+2)]<<6|t[J.charCodeAt(R+3)],nt[ot++]=it>>16&255,nt[ot++]=it>>8&255,nt[ot++]=it&255;return et===2?(it=t[J.charCodeAt(R)]<<2|t[J.charCodeAt(R+1)]>>4,nt[ot++]=it&255):et===1&&(it=t[J.charCodeAt(R)]<<10|t[J.charCodeAt(R+1)]<<4|t[J.charCodeAt(R+2)]>>2,nt[ot++]=it>>8&255,nt[ot++]=it&255),nt}function j(J){return A[J>>18&63]+A[J>>12&63]+A[J>>6&63]+A[J&63]}function W(J,R,gt){for(var m,it=[],et=R;et<gt;et+=3)m=(J[et]<<16)+(J[et+1]<<8)+J[et+2],it.push(j(m));return it.join("")}function G(J){for(var R,gt=J.length,m=gt%3,it="",et=[],nt=16383,Et=0,ot=gt-m;Et<ot;Et+=nt)et.push(W(J,Et,Et+nt>ot?ot:Et+nt));return m===1?(R=J[gt-1],it+=A[R>>2],it+=A[R<<4&63],it+="=="):m===2&&(R=(J[gt-2]<<8)+J[gt-1],it+=A[R>>10],it+=A[R>>4&63],it+=A[R<<2&63],it+="="),et.push(it),et.join("")}})();var n1={exports:{}};(function(A){(function(t,i){typeof window.define=="function"&&window.define.amd?window.define([],i):A.exports?window.QueryStringMachine=i():t.QueryStringMachine=i()})(window,()=>{const t=",",i=()=>{try{return localStorage.getItem("phetTeamMember")==="true"}catch{return!1}},a=l=>l.length===0||l.indexOf("?")===0;return function(){const l=(ot,ct,xt,zt,Mt)=>{if(!ot)if(zt.public)if(r.addWarning(ct,xt,Mt),zt.hasOwnProperty("defaultValue"))xt=zt.defaultValue;else{const T=Et[zt.type];nt(T.hasOwnProperty("defaultValue"),"Type must have a default value if the provided schema does not have one."),xt=T.defaultValue}else nt(ot,Mt);return xt},r={warnings:[],get:function(ot,ct){return this.getForString(ot,ct,window.location.search)},getAll:function(ot){return this.getAllForString(ot,window.location.search)},getForString:function(ot,ct,xt){if(!a(xt))throw new Error(`Query strings should be either the empty string or start with a "?": ${xt}`);const zt=ct.private&&!i()?[]:g(ot,xt);S(ot,ct);let Mt=W(ot,ct,zt);ct.hasOwnProperty("validValues")?Mt=l(et(Mt,ct.validValues),ot,Mt,ct,`Invalid value supplied for key "${ot}": ${Mt} is not a member of valid values: ${ct.validValues.join(", ")}`):ct.hasOwnProperty("isValidValue")&&(Mt=l(ct.isValidValue(Mt),ot,Mt,ct,`Invalid value supplied for key "${ot}": ${Mt}`));let T=Et[ct.type].isValidValue(Mt);if(ct.type==="array"&&Array.isArray(Mt)){let F=!0;for(let Rt=0;Rt<Mt.length;Rt++){const se=Mt[Rt];if(!Et[ct.elementSchema.type].isValidValue(se)){F=!1;break}if(ct.elementSchema.hasOwnProperty("isValidValue")&&!ct.elementSchema.isValidValue(se)){F=!1;break}if(ct.elementSchema.hasOwnProperty("validValues")&&!et(se,ct.elementSchema.validValues)){F=!1;break}}T=T&&F}return Mt=l(T,ot,Mt,ct,`Invalid value for type, key: ${ot}`),Mt},getAllForString:function(ot,ct){const xt={};for(const zt in ot)ot.hasOwnProperty(zt)&&(xt[zt]=this.getForString(zt,ot[zt],ct));return xt},containsKey:function(ot){return this.containsKeyForString(ot,window.location.search)},containsKeyForString:function(ot,ct){if(!a(ct))throw new Error(`Query strings should be either the empty string or start with a "?": ${ct}`);return g(ot,ct).length>0},deepEquals:function(ot,ct){if(typeof ot!=typeof ct)return!1;if(typeof ot=="string"||typeof ot=="number"||typeof ot=="boolean")return ot===ct;if(ot===null&&ct===null||ot===void 0&&ct===void 0)return!0;if(ot===null&&ct===void 0||ot===void 0&&ct===null)return!1;const xt=Object.keys(ot),zt=Object.keys(ct);if(xt.length!==zt.length)return!1;if(xt.length===0)return ot===ct;for(let Mt=0;Mt<xt.length;Mt++){if(xt[Mt]!==zt[Mt])return!1;const T=ot[xt[Mt]],F=ct[xt[Mt]];if(!r.deepEquals(T,F))return!1}return!0},removeKeyValuePair:function(ot,ct){if(assert&&assert(typeof ot=="string",`url should be string, but it was: ${typeof ot}`),assert&&assert(typeof ct=="string",`url should be string, but it was: ${typeof ct}`),assert&&assert(a(ot),"queryString should be length 0 or begin with ?"),assert&&assert(ct.length>0,"url should be a string with length > 0"),ot.indexOf("?")===0){const xt=[],Mt=ot.substring(1).split("&");for(let T=0;T<Mt.length;T++){const F=Mt[T],Rt=F.split("=");decodeURIComponent(Rt[0])!==ct&&xt.push(F)}return xt.length>0?`?${xt.join("&")}`:""}else return ot},removeKeyValuePairs:function(ot,ct){for(let xt=0;xt<ct.length;xt++)ot=this.removeKeyValuePair(ot,ct[xt]);return ot},appendQueryString:function(ot,ct){if((ct.indexOf("?")===0||ct.indexOf("&")===0)&&(ct=ct.substring(1)),ct.length===0)return ot;const xt=ot.indexOf("?")>=0?"&":"?";return ot+xt+ct},appendQueryStringArray:function(ot,ct){for(let xt=0;xt<ct.length;xt++)ot=this.appendQueryString(ot,ct[xt]);return ot},getQueryString:function(ot){const ct=ot.indexOf("?");return ct>=0?ot.substring(ct):"?"},addWarning:function(ot,ct,xt){console.warn(xt),this.warnings.push({key:ot,value:ct,message:xt})},hasWarning:function(ot){let ct=!1;for(let xt=0;xt<this.warnings.length&&!ct;xt++)ct=this.warnings[xt].key===ot;return ct},getQueryParametersFromString:function(ot){return ot.indexOf("?")===0?ot.substring(1).split("&"):[]},getSingleQueryParameterString:function(ot,ct){const xt=this.getQueryString(ct),zt=this.getQueryParametersFromString(xt);for(let Mt=0;Mt<zt.length;Mt++){const T=zt[Mt],F=T.split("=");if(decodeURIComponent(F[0])===ot)return T}return null}},g=function(ot,ct){const xt=[],zt=ct.slice(1).split("&");for(let Mt=0;Mt<zt.length;Mt++){const T=zt[Mt].split("="),F=T[0],Rt=T.slice(1).join("=");F===ot&&(Rt?xt.push(decodeURIComponent(Rt)):xt.push(null))}return xt},S=function(ot,ct){nt(ct.hasOwnProperty("type"),`type field is required for key: ${ot}`),nt(Et.hasOwnProperty(ct.type),`invalid type: ${ct.type} for key: ${ot}`),ct.hasOwnProperty("parse")&&nt(typeof ct.parse=="function",`parse must be a function for key: ${ot}`),nt(!(ct.hasOwnProperty("validValues")&&ct.hasOwnProperty("isValidValue")),ct),ct.hasOwnProperty("validValues")&&nt(Array.isArray(ct.validValues),`isValidValue must be an array for key: ${ot}`),ct.hasOwnProperty("isValidValue")&&nt(typeof ct.isValidValue=="function",`isValidValue must be a function for key: ${ot}`),ct.hasOwnProperty("defaultValue")&&nt(Et[ct.type].isValidValue(ct.defaultValue),`defaultValue incorrect type: ${ot}`),ct.hasOwnProperty("validValues")&&ct.validValues.forEach(xt=>nt(Et[ct.type].isValidValue(xt),`validValue incorrect type for key: ${ot}`)),ct.hasOwnProperty("defaultValue")&&ct.hasOwnProperty("validValues")&&nt(et(ct.defaultValue,ct.validValues),ct),ct.hasOwnProperty("public")&&ct.public&&ct.type!=="flag"&&nt(ct.hasOwnProperty("defaultValue"),`defaultValue is required when public: true for key: ${ot}`),j(ot,ct,Et[ct.type].required,Et[ct.type].optional),Et[ct.type].validateSchema&&Et[ct.type].validateSchema(ot,ct)},B=function(ot,ct){ct.hasOwnProperty("separator")&&nt(typeof ct.separator=="string"&&ct.separator.length===1,`invalid separator: ${ct.separator}, for key: ${ot}`),nt(!ct.elementSchema.hasOwnProperty("public"),"Array elements should not declare public; it comes from the array schema itself."),S(`${ot}.element`,ct.elementSchema)},j=function(ot,ct,xt,zt){const Mt=Object.getOwnPropertyNames(ct);xt.forEach(F=>{nt(Mt.indexOf(F)!==-1,`missing required property: ${F} for key: ${ot}`)});const T=xt.concat(zt);Mt.forEach(F=>{nt(F==="type"||T.indexOf(F)!==-1,`unsupported property: ${F} for key: ${ot}`)})},W=function(ot,ct,xt){let zt;return nt(xt.length<=1,`query parameter cannot occur multiple times: ${ot}`),ct.type==="flag"?zt=Et[ct.type].parse(ot,ct,xt[0]):(nt(xt[0]!==void 0||ct.hasOwnProperty("defaultValue"),`missing required query parameter: ${ot}`),xt[0]===void 0?zt=ct.defaultValue:zt=Et[ct.type].parse(ot,ct,xt[0])),zt},G=function(ot,ct,xt){return xt===null?!0:xt===void 0?!1:xt},J=function(ot,ct,xt){return xt==="true"?!0:xt==="false"?!1:xt},R=function(ot,ct,xt){const zt=Number(xt);return xt===null||isNaN(zt)?xt:zt},gt=function(ot,ct,xt){return xt},m=function(ot,ct,xt){let zt;return xt===null?zt=[]:zt=xt.split(ct.separator||t).map(Mt=>W(ot,ct.elementSchema,[Mt])),zt},it=function(ot,ct,xt){return ct.parse(xt)},et=function(ot,ct){let xt=!1;for(let zt=0;zt<ct.length&&!xt;zt++)xt=r.deepEquals(ct[zt],ot);return xt},nt=function(ot,ct){if(!ot)throw console&&console.log&&console.log(ct),new Error(`Query String Machine Assertion failed: ${ct}`)},Et={flag:{required:[],optional:["private","public"],validateSchema:null,parse:G,isValidValue:ot=>ot===!0||ot===!1,defaultValue:!0},boolean:{required:[],optional:["defaultValue","private","public"],validateSchema:null,parse:J,isValidValue:ot=>ot===!0||ot===!1},number:{required:[],optional:["defaultValue","validValues","isValidValue","private","public"],validateSchema:null,parse:R,isValidValue:ot=>typeof ot=="number"&&!isNaN(ot)},string:{required:[],optional:["defaultValue","validValues","isValidValue","private","public"],validateSchema:null,parse:gt,isValidValue:ot=>ot===null||typeof ot=="string"},array:{required:["elementSchema"],optional:["defaultValue","validValues","isValidValue","separator","validValues","private","public"],validateSchema:B,parse:m,isValidValue:ot=>Array.isArray(ot)||ot===null},custom:{required:["parse"],optional:["defaultValue","validValues","isValidValue","private","public"],validateSchema:null,parse:it,isValidValue:ot=>!0}};return r}()})})(n1);function co(A){throw new Error('Could not dynamically require "'+A+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}(function(A,t){(function(i){window.himalaya=i()})(function(){return function(){function i(a,l,r){function g(j,W){if(!l[j]){if(!a[j]){var G=typeof co=="function"&&co;if(!W&&G)return G(j,!0);if(S)return S(j,!0);var J=new Error("Cannot find module '"+j+"'");throw J.code="MODULE_NOT_FOUND",J}var R=l[j]={exports:{}};a[j][0].call(R.exports,function(gt){var m=a[j][1][gt];return g(m||gt)},R,R.exports,i,a,l,r)}return l[j].exports}for(var S=typeof co=="function"&&co,B=0;B<r.length;B++)g(r[B]);return g}return i}()({1:[function(i,a,l){var r=function(){var G="/Users/chrisandrejewski/Desktop/Work/github-repos/himalaya/src/compat.js",J="cde94accf38c67a096269c512dfb0f1bca69a38a",R=(function(){}).constructor,gt=new R("return this")(),m="__coverage__",it={path:"/Users/chrisandrejewski/Desktop/Work/github-repos/himalaya/src/compat.js",statementMap:{0:{start:{line:10,column:2},end:{line:10,column:72}},1:{start:{line:14,column:16},end:{line:14,column:62}},2:{start:{line:15,column:20},end:{line:15,column:56}},3:{start:{line:16,column:2},end:{line:16,column:48}},4:{start:{line:20,column:2},end:{line:20,column:56}},5:{start:{line:24,column:2},end:{line:24,column:42}},6:{start:{line:28,column:14},end:{line:28,column:26}},7:{start:{line:29,column:2},end:{line:29,column:29}},8:{start:{line:29,column:17},end:{line:29,column:29}},9:{start:{line:31,column:22},end:{line:31,column:34}},10:{start:{line:32,column:23},end:{line:32,column:47}},11:{start:{line:33,column:20},end:{line:33,column:70}},12:{start:{line:34,column:2},end:{line:38,column:3}},13:{start:{line:35,column:20},end:{line:35,column:40}},14:{start:{line:36,column:4},end:{line:36,column:46}},15:{start:{line:36,column:35},end:{line:36,column:46}},16:{start:{line:37,column:4},end:{line:37,column:55}},17:{start:{line:37,column:44},end:{line:37,column:55}},18:{start:{line:40,column:2},end:{line:40,column:14}}},fnMap:{0:{name:"startsWith",decl:{start:{line:9,column:16},end:{line:9,column:26}},loc:{start:{line:9,column:57},end:{line:11,column:1}},line:9},1:{name:"endsWith",decl:{start:{line:13,column:16},end:{line:13,column:24}},loc:{start:{line:13,column:55},end:{line:17,column:1}},line:13},2:{name:"stringIncludes",decl:{start:{line:19,column:16},end:{line:19,column:30}},loc:{start:{line:19,column:61},end:{line:21,column:1}},line:19},3:{name:"isRealNaN",decl:{start:{line:23,column:16},end:{line:23,column:25}},loc:{start:{line:23,column:30},end:{line:25,column:1}},line:23},4:{name:"arrayIncludes",decl:{start:{line:27,column:16},end:{line:27,column:29}},loc:{start:{line:27,column:63},end:{line:41,column:1}},line:27}},branchMap:{0:{loc:{start:{line:10,column:20},end:{line:10,column:33}},type:"binary-expr",locations:[{start:{line:10,column:20},end:{line:10,column:28}},{start:{line:10,column:32},end:{line:10,column:33}}],line:10},1:{loc:{start:{line:14,column:17},end:{line:14,column:39}},type:"binary-expr",locations:[{start:{line:14,column:17},end:{line:14,column:25}},{start:{line:14,column:29},end:{line:14,column:39}}],line:14},2:{loc:{start:{line:16,column:9},end:{line:16,column:48}},type:"binary-expr",locations:[{start:{line:16,column:9},end:{line:16,column:25}},{start:{line:16,column:29},end:{line:16,column:48}}],line:16},3:{loc:{start:{line:20,column:35},end:{line:20,column:48}},type:"binary-expr",locations:[{start:{line:20,column:35},end:{line:20,column:43}},{start:{line:20,column:47},end:{line:20,column:48}}],line:20},4:{loc:{start:{line:24,column:9},end:{line:24,column:42}},type:"binary-expr",locations:[{start:{line:24,column:9},end:{line:24,column:30}},{start:{line:24,column:34},end:{line:24,column:42}}],line:24},5:{loc:{start:{line:29,column:2},end:{line:29,column:29}},type:"if",locations:[{start:{line:29,column:2},end:{line:29,column:29}},{start:{line:29,column:2},end:{line:29,column:29}}],line:29},6:{loc:{start:{line:33,column:20},end:{line:33,column:70}},type:"cond-expr",locations:[{start:{line:33,column:39},end:{line:33,column:50}},{start:{line:33,column:53},end:{line:33,column:70}}],line:33},7:{loc:{start:{line:36,column:4},end:{line:36,column:46}},type:"if",locations:[{start:{line:36,column:4},end:{line:36,column:46}},{start:{line:36,column:4},end:{line:36,column:46}}],line:36},8:{loc:{start:{line:37,column:4},end:{line:37,column:55}},type:"if",locations:[{start:{line:37,column:4},end:{line:37,column:55}},{start:{line:37,column:4},end:{line:37,column:55}}],line:37},9:{loc:{start:{line:37,column:8},end:{line:37,column:42}},type:"binary-expr",locations:[{start:{line:37,column:8},end:{line:37,column:20}},{start:{line:37,column:24},end:{line:37,column:42}}],line:37}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},et=gt[m]||(gt[m]={});return et[G]&&et[G].hash===J?et[G]:(it.hash=J,et[G]=it)}();Object.defineProperty(l,"__esModule",{value:!0}),l.startsWith=g,l.endsWith=S,l.stringIncludes=B,l.isRealNaN=j,l.arrayIncludes=W;function g(G,J,R){return r.f[0]++,r.s[0]++,G.substr((r.b[0][0]++,R||(r.b[0][1]++,0)),J.length)===J}function S(G,J,R){r.f[1]++;var gt=(r.s[1]++,r.b[1][0]++,(R||(r.b[1][1]++,G.length))-J.length),m=(r.s[2]++,G.lastIndexOf(J,gt));return r.s[3]++,r.b[2][0]++,m!==-1&&(r.b[2][1]++,m===gt)}function B(G,J,R){return r.f[2]++,r.s[4]++,G.indexOf(J,(r.b[3][0]++,R||(r.b[3][1]++,0)))!==-1}function j(G){return r.f[3]++,r.s[5]++,r.b[4][0]++,typeof G=="number"&&(r.b[4][1]++,isNaN(G))}function W(G,J,R){r.f[4]++;var gt=(r.s[6]++,G.length);if(r.s[7]++,gt===0)return r.b[5][0]++,r.s[8]++,!1;r.b[5][1]++;var m=(r.s[9]++,R|0),it=(r.s[10]++,j(J)),et=(r.s[11]++,m>=0?(r.b[6][0]++,m):(r.b[6][1]++,gt+m));for(r.s[12]++;et<gt;){var nt=(r.s[13]++,G[et++]);if(r.s[14]++,nt===J)return r.b[7][0]++,r.s[15]++,!0;if(r.b[7][1]++,r.s[16]++,r.b[9][0]++,it&&(r.b[9][1]++,j(nt)))return r.b[8][0]++,r.s[17]++,!0;r.b[8][1]++}return r.s[18]++,!1}},{}],2:[function(i,a,l){var r=function(){var W="/Users/chrisandrejewski/Desktop/Work/github-repos/himalaya/src/format.js",G="ef8c4d14fa58c2bce23a58bf5d7c370846a07329",J=(function(){}).constructor,R=new J("return this")(),gt="__coverage__",m={path:"/Users/chrisandrejewski/Desktop/Work/github-repos/himalaya/src/format.js",statementMap:{0:{start:{line:2,column:14},end:{line:2,column:30}},1:{start:{line:3,column:2},end:{line:3,column:30}},2:{start:{line:3,column:18},end:{line:3,column:30}},3:{start:{line:4,column:2},end:{line:4,column:57}},4:{start:{line:8,column:14},end:{line:8,column:27}},5:{start:{line:9,column:14},end:{line:9,column:28}},6:{start:{line:10,column:23},end:{line:10,column:49}},7:{start:{line:11,column:2},end:{line:13,column:3}},8:{start:{line:12,column:4},end:{line:12,column:28}},9:{start:{line:14,column:2},end:{line:14,column:12}},10:{start:{line:18,column:2},end:{line:32,column:4}},11:{start:{line:19,column:17},end:{line:19,column:26}},12:{start:{line:20,column:23},end:{line:27,column:39}},13:{start:{line:28,column:4},end:{line:30,column:5}},14:{start:{line:29,column:6},end:{line:29,column:41}},15:{start:{line:31,column:4},end:{line:31,column:21}},16:{start:{line:36,column:2},end:{line:43,column:4}},17:{start:{line:37,column:18},end:{line:37,column:50}},18:{start:{line:38,column:16},end:{line:38,column:24}},19:{start:{line:39,column:18},end:{line:41,column:12}},20:{start:{line:42,column:4},end:{line:42,column:23}}},fnMap:{0:{name:"splitHead",decl:{start:{line:1,column:16},end:{line:1,column:25}},loc:{start:{line:1,column:37},end:{line:5,column:1}},line:1},1:{name:"unquote",decl:{start:{line:7,column:16},end:{line:7,column:23}},loc:{start:{line:7,column:30},end:{line:15,column:1}},line:7},2:{name:"format",decl:{start:{line:17,column:16},end:{line:17,column:22}},loc:{start:{line:17,column:40},end:{line:33,column:1}},line:17},3:{name:"(anonymous_3)",decl:{start:{line:18,column:19},end:{line:18,column:20}},loc:{start:{line:18,column:27},end:{line:32,column:3}},line:18},4:{name:"formatAttributes",decl:{start:{line:35,column:16},end:{line:35,column:32}},loc:{start:{line:35,column:46},end:{line:44,column:1}},line:35},5:{name:"(anonymous_5)",decl:{start:{line:36,column:24},end:{line:36,column:25}},loc:{start:{line:36,column:37},end:{line:43,column:3}},line:36}},branchMap:{0:{loc:{start:{line:3,column:2},end:{line:3,column:30}},type:"if",locations:[{start:{line:3,column:2},end:{line:3,column:30}},{start:{line:3,column:2},end:{line:3,column:30}}],line:3},1:{loc:{start:{line:10,column:23},end:{line:10,column:49}},type:"binary-expr",locations:[{start:{line:10,column:23},end:{line:10,column:34}},{start:{line:10,column:38},end:{line:10,column:49}}],line:10},2:{loc:{start:{line:11,column:2},end:{line:13,column:3}},type:"if",locations:[{start:{line:11,column:2},end:{line:13,column:3}},{start:{line:11,column:2},end:{line:13,column:3}}],line:11},3:{loc:{start:{line:11,column:6},end:{line:11,column:45}},type:"binary-expr",locations:[{start:{line:11,column:6},end:{line:11,column:18}},{start:{line:11,column:22},end:{line:11,column:45}}],line:11},4:{loc:{start:{line:20,column:23},end:{line:27,column:39}},type:"cond-expr",locations:[{start:{line:21,column:8},end:{line:26,column:7}},{start:{line:27,column:8},end:{line:27,column:39}}],line:20},5:{loc:{start:{line:28,column:4},end:{line:30,column:5}},type:"if",locations:[{start:{line:28,column:4},end:{line:30,column:5}},{start:{line:28,column:4},end:{line:30,column:5}}],line:28},6:{loc:{start:{line:39,column:18},end:{line:41,column:12}},type:"cond-expr",locations:[{start:{line:40,column:8},end:{line:40,column:25}},{start:{line:41,column:8},end:{line:41,column:12}}],line:39}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},it=R[gt]||(R[gt]={});return it[W]&&it[W].hash===G?it[W]:(m.hash=G,it[W]=m)}();Object.defineProperty(l,"__esModule",{value:!0}),l.splitHead=g,l.unquote=S,l.format=B,l.formatAttributes=j;function g(W,G){r.f[0]++;var J=(r.s[0]++,W.indexOf(G));return r.s[1]++,J===-1?(r.b[0][0]++,r.s[2]++,[W]):(r.b[0][1]++,r.s[3]++,[W.slice(0,J),W.slice(J+G.length)])}function S(W){r.f[1]++;var G=(r.s[4]++,W.charAt(0)),J=(r.s[5]++,W.length-1),R=(r.s[6]++,r.b[1][0]++,G==='"'||(r.b[1][1]++,G==="'"));return r.s[7]++,r.b[3][0]++,R&&(r.b[3][1]++,G===W.charAt(J))?(r.b[2][0]++,r.s[8]++,W.slice(1,J)):(r.b[2][1]++,r.s[9]++,W)}function B(W,G){return r.f[2]++,r.s[10]++,W.map(function(J){r.f[3]++;var R=(r.s[11]++,J.type),gt=(r.s[12]++,R==="element"?(r.b[4][0]++,{type:R,tagName:J.tagName.toLowerCase(),attributes:j(J.attributes),children:B(J.children,G)}):(r.b[4][1]++,{type:R,content:J.content}));return r.s[13]++,G.includePositions?(r.b[5][0]++,r.s[14]++,gt.position=J.position):r.b[5][1]++,r.s[15]++,gt})}function j(W){return r.f[4]++,r.s[16]++,W.map(function(G){r.f[5]++;var J=(r.s[17]++,g(G.trim(),"=")),R=(r.s[18]++,J[0]),gt=(r.s[19]++,typeof J[1]=="string"?(r.b[6][0]++,S(J[1])):(r.b[6][1]++,null));return r.s[20]++,{key:R,value:gt}})}},{}],3:[function(i,a,l){var r=function(){var et="/Users/chrisandrejewski/Desktop/Work/github-repos/himalaya/src/index.js",nt="a91ca68b6320b199fa63e4cbd37dce6857e0c43d",Et=(function(){}).constructor,ot=new Et("return this")(),ct="__coverage__",xt={path:"/Users/chrisandrejewski/Desktop/Work/github-repos/himalaya/src/index.js",statementMap:{0:{start:{line:12,column:29},end:{line:18,column:1}},1:{start:{line:21,column:17},end:{line:21,column:36}},2:{start:{line:22,column:16},end:{line:22,column:39}},3:{start:{line:23,column:2},end:{line:23,column:31}},4:{start:{line:27,column:2},end:{line:27,column:29}}},fnMap:{0:{name:"parse",decl:{start:{line:20,column:16},end:{line:20,column:21}},loc:{start:{line:20,column:53},end:{line:24,column:1}},line:20},1:{name:"stringify",decl:{start:{line:26,column:16},end:{line:26,column:25}},loc:{start:{line:26,column:57},end:{line:28,column:1}},line:26}},branchMap:{0:{loc:{start:{line:20,column:28},end:{line:20,column:51}},type:"default-arg",locations:[{start:{line:20,column:38},end:{line:20,column:51}}],line:20},1:{loc:{start:{line:26,column:32},end:{line:26,column:55}},type:"default-arg",locations:[{start:{line:26,column:42},end:{line:26,column:55}}],line:26}},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0,1:0},b:{0:[0],1:[0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},zt=ot[ct]||(ot[ct]={});return zt[et]&&zt[et].hash===nt?zt[et]:(xt.hash=nt,zt[et]=xt)}();Object.defineProperty(l,"__esModule",{value:!0}),l.parseDefaults=void 0,l.parse=m,l.stringify=it;var g=i("./lexer"),S=R(g),B=i("./parser"),j=R(B),W=i("./format"),G=i("./stringify"),J=i("./tags");function R(et){return et&&et.__esModule?et:{default:et}}var gt=l.parseDefaults=(r.s[0]++,{voidTags:J.voidTags,closingTags:J.closingTags,childlessTags:J.childlessTags,closingTagAncestorBreakers:J.closingTagAncestorBreakers,includePositions:!1});function m(et){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(r.b[0][0]++,gt);r.f[0]++;var Et=(r.s[1]++,(0,S.default)(et,nt)),ot=(r.s[2]++,(0,j.default)(Et,nt));return r.s[3]++,(0,W.format)(ot,nt)}function it(et){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(r.b[1][0]++,gt);return r.f[1]++,r.s[4]++,(0,G.toHTML)(et,nt)}},{"./format":2,"./lexer":4,"./parser":5,"./stringify":6,"./tags":7}],4:[function(i,a,l){var r=function(){var Mt="/Users/chrisandrejewski/Desktop/Work/github-repos/himalaya/src/lexer.js",T="99f1269b85a36e02e6fcfa2eb5c9423a8a428848",F=(function(){}).constructor,Rt=new F("return this")(),se="__coverage__",tt={path:"/Users/chrisandrejewski/Desktop/Work/github-repos/himalaya/src/lexer.js",statementMap:{0:{start:{line:9,column:16},end:{line:9,column:30}},1:{start:{line:10,column:14},end:{line:10,column:42}},2:{start:{line:11,column:2},end:{line:19,column:3}},3:{start:{line:12,column:17},end:{line:12,column:30}},4:{start:{line:13,column:4},end:{line:18,column:5}},5:{start:{line:14,column:6},end:{line:14,column:21}},6:{start:{line:15,column:6},end:{line:15,column:25}},7:{start:{line:17,column:6},end:{line:17,column:23}},8:{start:{line:23,column:14},end:{line:23,column:34}},9:{start:{line:24,column:2},end:{line:24,column:41}},10:{start:{line:28,column:2},end:{line:32,column:3}},11:{start:{line:36,column:2},end:{line:40,column:3}},12:{start:{line:44,column:16},end:{line:49,column:3}},13:{start:{line:50,column:2},end:{line:50,column:12}},14:{start:{line:51,column:2},end:{line:51,column:21}},15:{start:{line:55,column:42},end:{line:55,column:47}},16:{start:{line:56,column:14},end:{line:56,column:24}},17:{start:{line:57,column:2},end:{line:72,column:3}},18:{start:{line:58,column:18},end:{line:58,column:38}},19:{start:{line:59,column:4},end:{line:59,column:18}},20:{start:{line:60,column:4},end:{line:71,column:5}},21:{start:{line:61,column:24},end:{line:61,column:57}},22:{start:{line:62,column:6},end:{line:70,column:7}},23:{start:{line:63,column:8},end:{line:63,column:25}},24:{start:{line:65,column:24},end:{line:65,column:37}},25:{start:{line:66,column:24},end:{line:66,column:45}},26:{start:{line:67,column:8},end:{line:69,column:9}},27:{start:{line:68,column:10},end:{line:68,column:36}},28:{start:{line:75,column:21},end:{line:75,column:34}},29:{start:{line:77,column:2},end:{line:87,column:3}},30:{start:{line:78,column:20},end:{line:78,column:43}},31:{start:{line:79,column:4},end:{line:81,column:5}},32:{start:{line:80,column:6},end:{line:80,column:20}},33:{start:{line:82,column:17},end:{line:82,column:40}},34:{start:{line:83,column:4},end:{line:85,column:5}},35:{start:{line:84,column:6},end:{line:84,column:20}},36:{start:{line:86,column:4},end:{line:86,column:23}},37:{start:{line:91,column:15},end:{line:91,column:21}},38:{start:{line:92,column:26},end:{line:92,column:31}},39:{start:{line:93,column:16},end:{line:93,column:48}},40:{start:{line:94,column:2},end:{line:94,column:40}},41:{start:{line:94,column:34},end:{line:94,column:40}},42:{start:{line:95,column:2},end:{line:97,column:3}},43:{start:{line:96,column:4},end:{line:96,column:24}},44:{start:{line:99,column:16},end:{line:99,column:38}},45:{start:{line:100,column:18},end:{line:100,column:52}},46:{start:{line:101,column:2},end:{line:101,column:38}},47:{start:{line:102,column:14},end:{line:102,column:36}},48:{start:{line:103,column:2},end:{line:103,column:60}},49:{start:{line:107,column:26},end:{line:107,column:31}},50:{start:{line:108,column:16},end:{line:108,column:38}},51:{start:{line:109,column:2},end:{line:109,column:32}},52:{start:{line:110,column:19},end:{line:110,column:53}},53:{start:{line:111,column:19},end:{line:111,column:33}},54:{start:{line:112,column:2},end:{line:114,column:3}},55:{start:{line:113,column:4},end:{line:113,column:40}},56:{start:{line:116,column:18},end:{line:116,column:55}},57:{start:{line:117,column:2},end:{line:117,column:41}},58:{start:{line:118,column:2},end:{line:125,column:4}},59:{start:{line:129,column:26},end:{line:129,column:31}},60:{start:{line:131,column:23},end:{line:131,column:53}},61:{start:{line:132,column:18},end:{line:132,column:36}},62:{start:{line:133,column:18},end:{line:133,column:40}},63:{start:{line:134,column:4},end:{line:134,column:46}},64:{start:{line:135,column:4},end:{line:135,column:68}},65:{start:{line:137,column:18},end:{line:137,column:35}},66:{start:{line:138,column:2},end:{line:138,column:25}},67:{start:{line:140,column:22},end:{line:140,column:48}},68:{start:{line:141,column:18},end:{line:141,column:35}},69:{start:{line:142,column:4},end:{line:142,column:46}},70:{start:{line:143,column:16},end:{line:143,column:38}},71:{start:{line:144,column:4},end:{line:144,column:64}},72:{start:{line:146,column:2},end:{line:146,column:16}},73:{start:{line:150,column:19},end:{line:150,column:23}},74:{start:{line:152,column:2},end:{line:152,column:30}},75:{start:{line:156,column:26},end:{line:156,column:31}},76:{start:{line:157,column:14},end:{line:157,column:24}},77:{start:{line:158,column:14},end:{line:158,column:28}},78:{start:{line:159,column:2},end:{line:164,column:3}},79:{start:{line:160,column:17},end:{line:160,column:34}},80:{start:{line:161,column:22},end:{line:161,column:79}},81:{start:{line:162,column:4},end:{line:162,column:24}},82:{start:{line:162,column:19},end:{line:162,column:24}},83:{start:{line:163,column:4},end:{line:163,column:11}},84:{start:{line:166,column:12},end:{line:166,column:21}},85:{start:{line:167,column:2},end:{line:172,column:3}},86:{start:{line:168,column:17},end:{line:168,column:32}},87:{start:{line:169,column:22},end:{line:169,column:79}},88:{start:{line:170,column:4},end:{line:170,column:25}},89:{start:{line:170,column:20},end:{line:170,column:25}},90:{start:{line:171,column:4},end:{line:171,column:9}},91:{start:{line:174,column:2},end:{line:174,column:34}},92:{start:{line:175,column:18},end:{line:175,column:39}},93:{start:{line:176,column:2},end:{line:179,column:4}},94:{start:{line:180,column:2},end:{line:180,column:16}},95:{start:{line:184,column:34},end:{line:184,column:39}},96:{start:{line:185,column:15},end:{line:185,column:29}},97:{start:{line:186,column:14},end:{line:186,column:18}},98:{start:{line:187,column:18},end:{line:187,column:24}},99:{start:{line:188,column:16},end:{line:188,column:18}},100:{start:{line:189,column:14},end:{line:189,column:24}},101:{start:{line:190,column:2},end:{line:227,column:3}},102:{start:{line:191,column:17},end:{line:191,column:35}},103:{start:{line:192,column:4},end:{line:199,column:5}},104:{start:{line:193,column:25},end:{line:193,column:39}},105:{start:{line:194,column:6},end:{line:196,column:7}},106:{start:{line:195,column:8},end:{line:195,column:20}},107:{start:{line:197,column:6},end:{line:197,column:14}},108:{start:{line:198,column:6},end:{line:198,column:14}},109:{start:{line:201,column:21},end:{line:201,column:49}},110:{start:{line:202,column:4},end:{line:207,column:5}},111:{start:{line:203,column:6},end:{line:205,column:7}},112:{start:{line:204,column:8},end:{line:204,column:48}},113:{start:{line:206,column:6},end:{line:206,column:11}},114:{start:{line:209,column:22},end:{line:209,column:44}},115:{start:{line:210,column:4},end:{line:217,column:5}},116:{start:{line:211,column:6},end:{line:213,column:7}},117:{start:{line:212,column:8},end:{line:212,column:48}},118:{start:{line:214,column:6},end:{line:214,column:28}},119:{start:{line:215,column:6},end:{line:215,column:14}},120:{start:{line:216,column:6},end:{line:216,column:14}},121:{start:{line:219,column:25},end:{line:219,column:54}},122:{start:{line:220,column:4},end:{line:224,column:5}},123:{start:{line:221,column:6},end:{line:221,column:18}},124:{start:{line:222,column:6},end:{line:222,column:14}},125:{start:{line:223,column:6},end:{line:223,column:14}},126:{start:{line:226,column:4},end:{line:226,column:12}},127:{start:{line:228,column:2},end:{line:228,column:37}},128:{start:{line:230,column:15},end:{line:230,column:27}},129:{start:{line:231,column:15},end:{line:231,column:26}},130:{start:{line:232,column:2},end:{line:269,column:3}},131:{start:{line:233,column:17},end:{line:233,column:25}},132:{start:{line:234,column:22},end:{line:234,column:46}},133:{start:{line:235,column:4},end:{line:253,column:5}},134:{start:{line:236,column:25},end:{line:236,column:37}},135:{start:{line:237,column:6},end:{line:252,column:7}},136:{start:{line:238,column:8},end:{line:243,column:9}},137:{start:{line:239,column:26},end:{line:239,column:43}},138:{start:{line:240,column:10},end:{line:240,column:47}},139:{start:{line:241,column:10},end:{line:241,column:16}},140:{start:{line:242,column:10},end:{line:242,column:18}},141:{start:{line:244,column:26},end:{line:244,column:38}},142:{start:{line:245,column:8},end:{line:245,column:14}},143:{start:{line:246,column:8},end:{line:251,column:9}},144:{start:{line:247,column:26},end:{line:247,column:48}},145:{start:{line:248,column:10},end:{line:248,column:47}},146:{start:{line:249,column:10},end:{line:249,column:16}},147:{start:{line:250,column:10},end:{line:250,column:18}},148:{start:{line:254,column:4},end:{line:266,column:5}},149:{start:{line:255,column:25},end:{line:255,column:37}},150:{start:{line:256,column:6},end:{line:261,column:7}},151:{start:{line:257,column:24},end:{line:257,column:41}},152:{start:{line:258,column:8},end:{line:258,column:45}},153:{start:{line:259,column:8},end:{line:259,column:14}},154:{start:{line:260,column:8},end:{line:260,column:16}},155:{start:{line:263,column:22},end:{line:263,column:39}},156:{start:{line:264,column:6},end:{line:264,column:43}},157:{start:{line:265,column:6},end:{line:265,column:14}},158:{start:{line:268,column:4},end:{line:268,column:38}},159:{start:{line:272,column:13},end:{line:272,column:20}},160:{start:{line:275,column:34},end:{line:275,column:39}},161:{start:{line:276,column:22},end:{line:276,column:43}},162:{start:{line:277,column:14},end:{line:277,column:24}},163:{start:{line:278,column:14},end:{line:278,column:28}},164:{start:{line:279,column:2},end:{line:311,column:3}},165:{start:{line:280,column:20},end:{line:280,column:44}},166:{start:{line:281,column:4},end:{line:284,column:5}},167:{start:{line:282,column:6},end:{line:282,column:20}},168:{start:{line:283,column:6},end:{line:283,column:11}},169:{start:{line:286,column:29},end:{line:286,column:51}},170:{start:{line:287,column:4},end:{line:287,column:48}},171:{start:{line:288,column:21},end:{line:288,column:66}},172:{start:{line:289,column:17},end:{line:289,column:33}},173:{start:{line:290,column:4},end:{line:293,column:5}},174:{start:{line:291,column:6},end:{line:291,column:37}},175:{start:{line:292,column:6},end:{line:292,column:14}},176:{start:{line:295,column:4},end:{line:306,column:5}},177:{start:{line:296,column:24},end:{line:296,column:46}},178:{start:{line:297,column:6},end:{line:297,column:42}},179:{start:{line:298,column:6},end:{line:305,column:8}},180:{start:{line:308,column:4},end:{line:308,column:39}},181:{start:{line:309,column:4},end:{line:309,column:56}},182:{start:{line:310,column:4},end:{line:310,column:9}}},fnMap:{0:{name:"feedPosition",decl:{start:{line:8,column:16},end:{line:8,column:28}},loc:{start:{line:8,column:50},end:{line:20,column:1}},line:8},1:{name:"jumpPosition",decl:{start:{line:22,column:16},end:{line:22,column:28}},loc:{start:{line:22,column:50},end:{line:25,column:1}},line:22},2:{name:"makeInitialPosition",decl:{start:{line:27,column:16},end:{line:27,column:35}},loc:{start:{line:27,column:39},end:{line:33,column:1}},line:27},3:{name:"copyPosition",decl:{start:{line:35,column:16},end:{line:35,column:28}},loc:{start:{line:35,column:40},end:{line:41,column:1}},line:35},4:{name:"lexer",decl:{start:{line:43,column:24},end:{line:43,column:29}},loc:{start:{line:43,column:45},end:{line:52,column:1}},line:43},5:{name:"lex",decl:{start:{line:54,column:16},end:{line:54,column:19}},loc:{start:{line:54,column:28},end:{line:73,column:1}},line:54},6:{name:"findTextEnd",decl:{start:{line:76,column:16},end:{line:76,column:27}},loc:{start:{line:76,column:41},end:{line:88,column:1}},line:76},7:{name:"lexText",decl:{start:{line:90,column:16},end:{line:90,column:23}},loc:{start:{line:90,column:32},end:{line:104,column:1}},line:90},8:{name:"lexComment",decl:{start:{line:106,column:16},end:{line:106,column:26}},loc:{start:{line:106,column:35},end:{line:126,column:1}},line:106},9:{name:"lexTag",decl:{start:{line:128,column:16},end:{line:128,column:22}},loc:{start:{line:128,column:31},end:{line:147,column:1}},line:128},10:{name:"isWhitespaceChar",decl:{start:{line:151,column:16},end:{line:151,column:32}},loc:{start:{line:151,column:40},end:{line:153,column:1}},line:151},11:{name:"lexTagName",decl:{start:{line:155,column:16},end:{line:155,column:26}},loc:{start:{line:155,column:35},end:{line:181,column:1}},line:155},12:{name:"lexTagAttributes",decl:{start:{line:183,column:16},end:{line:183,column:32}},loc:{start:{line:183,column:41},end:{line:270,column:1}},line:183},13:{name:"lexSkipTag",decl:{start:{line:274,column:16},end:{line:274,column:26}},loc:{start:{line:274,column:44},end:{line:312,column:1}},line:274}},branchMap:{0:{loc:{start:{line:13,column:4},end:{line:18,column:5}},type:"if",locations:[{start:{line:13,column:4},end:{line:18,column:5}},{start:{line:13,column:4},end:{line:18,column:5}}],line:13},1:{loc:{start:{line:60,column:4},end:{line:71,column:5}},type:"if",locations:[{start:{line:60,column:4},end:{line:71,column:5}},{start:{line:60,column:4},end:{line:71,column:5}}],line:60},2:{loc:{start:{line:62,column:6},end:{line:70,column:7}},type:"if",locations:[{start:{line:62,column:6},end:{line:70,column:7}},{start:{line:62,column:6},end:{line:70,column:7}}],line:62},3:{loc:{start:{line:67,column:8},end:{line:69,column:9}},type:"if",locations:[{start:{line:67,column:8},end:{line:69,column:9}},{start:{line:67,column:8},end:{line:69,column:9}}],line:67},4:{loc:{start:{line:79,column:4},end:{line:81,column:5}},type:"if",locations:[{start:{line:79,column:4},end:{line:81,column:5}},{start:{line:79,column:4},end:{line:81,column:5}}],line:79},5:{loc:{start:{line:83,column:4},end:{line:85,column:5}},type:"if",locations:[{start:{line:83,column:4},end:{line:85,column:5}},{start:{line:83,column:4},end:{line:85,column:5}}],line:83},6:{loc:{start:{line:83,column:8},end:{line:83,column:63}},type:"binary-expr",locations:[{start:{line:83,column:8},end:{line:83,column:20}},{start:{line:83,column:24},end:{line:83,column:36}},{start:{line:83,column:40},end:{line:83,column:63}}],line:83},7:{loc:{start:{line:94,column:2},end:{line:94,column:40}},type:"if",locations:[{start:{line:94,column:2},end:{line:94,column:40}},{start:{line:94,column:2},end:{line:94,column:40}}],line:94},8:{loc:{start:{line:95,column:2},end:{line:97,column:3}},type:"if",locations:[{start:{line:95,column:2},end:{line:97,column:3}},{start:{line:95,column:2},end:{line:97,column:3}}],line:95},9:{loc:{start:{line:112,column:2},end:{line:114,column:3}},type:"if",locations:[{start:{line:112,column:2},end:{line:114,column:3}},{start:{line:112,column:2},end:{line:114,column:3}}],line:112},10:{loc:{start:{line:134,column:32},end:{line:134,column:45}},type:"cond-expr",locations:[{start:{line:134,column:40},end:{line:134,column:41}},{start:{line:134,column:44},end:{line:134,column:45}}],line:134},11:{loc:{start:{line:142,column:32},end:{line:142,column:45}},type:"cond-expr",locations:[{start:{line:142,column:40},end:{line:142,column:41}},{start:{line:142,column:44},end:{line:142,column:45}}],line:142},12:{loc:{start:{line:161,column:24},end:{line:161,column:78}},type:"binary-expr",locations:[{start:{line:161,column:24},end:{line:161,column:46}},{start:{line:161,column:50},end:{line:161,column:62}},{start:{line:161,column:66},end:{line:161,column:78}}],line:161},13:{loc:{start:{line:162,column:4},end:{line:162,column:24}},type:"if",locations:[{start:{line:162,column:4},end:{line:162,column:24}},{start:{line:162,column:4},end:{line:162,column:24}}],line:162},14:{loc:{start:{line:169,column:24},end:{line:169,column:78}},type:"binary-expr",locations:[{start:{line:169,column:24},end:{line:169,column:46}},{start:{line:169,column:50},end:{line:169,column:62}},{start:{line:169,column:66},end:{line:169,column:78}}],line:169},15:{loc:{start:{line:170,column:4},end:{line:170,column:25}},type:"if",locations:[{start:{line:170,column:4},end:{line:170,column:25}},{start:{line:170,column:4},end:{line:170,column:25}}],line:170},16:{loc:{start:{line:192,column:4},end:{line:199,column:5}},type:"if",locations:[{start:{line:192,column:4},end:{line:199,column:5}},{start:{line:192,column:4},end:{line:199,column:5}}],line:192},17:{loc:{start:{line:194,column:6},end:{line:196,column:7}},type:"if",locations:[{start:{line:194,column:6},end:{line:196,column:7}},{start:{line:194,column:6},end:{line:196,column:7}}],line:194},18:{loc:{start:{line:201,column:21},end:{line:201,column:49}},type:"binary-expr",locations:[{start:{line:201,column:21},end:{line:201,column:33}},{start:{line:201,column:37},end:{line:201,column:49}}],line:201},19:{loc:{start:{line:202,column:4},end:{line:207,column:5}},type:"if",locations:[{start:{line:202,column:4},end:{line:207,column:5}},{start:{line:202,column:4},end:{line:207,column:5}}],line:202},20:{loc:{start:{line:203,column:6},end:{line:205,column:7}},type:"if",locations:[{start:{line:203,column:6},end:{line:205,column:7}},{start:{line:203,column:6},end:{line:205,column:7}}],line:203},21:{loc:{start:{line:210,column:4},end:{line:217,column:5}},type:"if",locations:[{start:{line:210,column:4},end:{line:217,column:5}},{start:{line:210,column:4},end:{line:217,column:5}}],line:210},22:{loc:{start:{line:211,column:6},end:{line:213,column:7}},type:"if",locations:[{start:{line:211,column:6},end:{line:213,column:7}},{start:{line:211,column:6},end:{line:213,column:7}}],line:211},23:{loc:{start:{line:219,column:25},end:{line:219,column:54}},type:"binary-expr",locations:[{start:{line:219,column:25},end:{line:219,column:38}},{start:{line:219,column:42},end:{line:219,column:54}}],line:219},24:{loc:{start:{line:220,column:4},end:{line:224,column:5}},type:"if",locations:[{start:{line:220,column:4},end:{line:224,column:5}},{start:{line:220,column:4},end:{line:224,column:5}}],line:220},25:{loc:{start:{line:235,column:4},end:{line:253,column:5}},type:"if",locations:[{start:{line:235,column:4},end:{line:253,column:5}},{start:{line:235,column:4},end:{line:253,column:5}}],line:235},26:{loc:{start:{line:237,column:6},end:{line:252,column:7}},type:"if",locations:[{start:{line:237,column:6},end:{line:252,column:7}},{start:{line:237,column:6},end:{line:252,column:7}}],line:237},27:{loc:{start:{line:237,column:10},end:{line:237,column:51}},type:"binary-expr",locations:[{start:{line:237,column:10},end:{line:237,column:20}},{start:{line:237,column:24},end:{line:237,column:51}}],line:237},28:{loc:{start:{line:238,column:8},end:{line:243,column:9}},type:"if",locations:[{start:{line:238,column:8},end:{line:243,column:9}},{start:{line:238,column:8},end:{line:243,column:9}}],line:238},29:{loc:{start:{line:246,column:8},end:{line:251,column:9}},type:"if",locations:[{start:{line:246,column:8},end:{line:251,column:9}},{start:{line:246,column:8},end:{line:251,column:9}}],line:246},30:{loc:{start:{line:254,column:4},end:{line:266,column:5}},type:"if",locations:[{start:{line:254,column:4},end:{line:266,column:5}},{start:{line:254,column:4},end:{line:266,column:5}}],line:254},31:{loc:{start:{line:256,column:6},end:{line:261,column:7}},type:"if",locations:[{start:{line:256,column:6},end:{line:261,column:7}},{start:{line:256,column:6},end:{line:261,column:7}}],line:256},32:{loc:{start:{line:256,column:10},end:{line:256,column:56}},type:"binary-expr",locations:[{start:{line:256,column:10},end:{line:256,column:20}},{start:{line:256,column:24},end:{line:256,column:56}}],line:256},33:{loc:{start:{line:281,column:4},end:{line:284,column:5}},type:"if",locations:[{start:{line:281,column:4},end:{line:284,column:5}},{start:{line:281,column:4},end:{line:284,column:5}}],line:281},34:{loc:{start:{line:290,column:4},end:{line:293,column:5}},type:"if",locations:[{start:{line:290,column:4},end:{line:293,column:5}},{start:{line:290,column:4},end:{line:293,column:5}}],line:290},35:{loc:{start:{line:295,column:4},end:{line:306,column:5}},type:"if",locations:[{start:{line:295,column:4},end:{line:306,column:5}},{start:{line:295,column:4},end:{line:306,column:5}}],line:295}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0,164:0,165:0,166:0,167:0,168:0,169:0,170:0,171:0,172:0,173:0,174:0,175:0,176:0,177:0,178:0,179:0,180:0,181:0,182:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0,0],13:[0,0],14:[0,0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0,0],34:[0,0],35:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},Zt=Rt[se]||(Rt[se]={});return Zt[Mt]&&Zt[Mt].hash===T?Zt[Mt]:(tt.hash=T,Zt[Mt]=tt)}();Object.defineProperty(l,"__esModule",{value:!0}),l.feedPosition=S,l.jumpPosition=B,l.makeInitialPosition=j,l.copyPosition=W,l.default=G,l.lex=J,l.findTextEnd=gt,l.lexText=m,l.lexComment=it,l.lexTag=et,l.isWhitespaceChar=Et,l.lexTagName=ot,l.lexTagAttributes=ct,l.lexSkipTag=zt;var g=i("./compat");function S(Mt,T,F){r.f[0]++;var Rt=(r.s[0]++,Mt.index),se=(r.s[1]++,Mt.index=Rt+F);r.s[2]++;for(var tt=Rt;tt<se;tt++){var Zt=(r.s[3]++,T.charAt(tt));r.s[4]++,Zt===`
`?(r.b[0][0]++,r.s[5]++,Mt.line++,r.s[6]++,Mt.column=0):(r.b[0][1]++,r.s[7]++,Mt.column++)}}function B(Mt,T,F){r.f[1]++;var Rt=(r.s[8]++,F-Mt.index);return r.s[9]++,S(Mt,T,Rt)}function j(){return r.f[2]++,r.s[10]++,{index:0,column:0,line:0}}function W(Mt){return r.f[3]++,r.s[11]++,{index:Mt.index,line:Mt.line,column:Mt.column}}function G(Mt,T){r.f[4]++;var F=(r.s[12]++,{str:Mt,options:T,position:j(),tokens:[]});return r.s[13]++,J(F),r.s[14]++,F.tokens}function J(Mt){r.f[5]++;var T=(r.s[15]++,Mt),F=T.str,Rt=T.options.childlessTags,se=(r.s[16]++,F.length);for(r.s[17]++;Mt.position.index<se;){var tt=(r.s[18]++,Mt.position.index);if(r.s[19]++,m(Mt),r.s[20]++,Mt.position.index===tt){r.b[1][0]++;var Zt=(r.s[21]++,(0,g.startsWith)(F,"!--",tt+1));if(r.s[22]++,Zt)r.b[2][0]++,r.s[23]++,it(Mt);else{r.b[2][1]++;var Ee=(r.s[24]++,et(Mt)),Dt=(r.s[25]++,Ee.toLowerCase());r.s[26]++,(0,g.arrayIncludes)(Rt,Dt)?(r.b[3][0]++,r.s[27]++,zt(Ee,Mt)):r.b[3][1]++}}else r.b[1][1]++}}var R=(r.s[28]++,/[A-Za-z0-9]/);function gt(Mt,T){for(r.f[6]++,r.s[29]++;;){var F=(r.s[30]++,Mt.indexOf("<",T));if(r.s[31]++,F===-1)return r.b[4][0]++,r.s[32]++,F;r.b[4][1]++;var Rt=(r.s[33]++,Mt.charAt(F+1));if(r.s[34]++,r.b[6][0]++,Rt==="/"||(r.b[6][1]++,Rt==="!")||(r.b[6][2]++,R.test(Rt)))return r.b[5][0]++,r.s[35]++,F;r.b[5][1]++,r.s[36]++,T=F+1}}function m(Mt){r.f[7]++;var T=(r.s[37]++,"text"),F=(r.s[38]++,Mt),Rt=F.str,se=F.position,tt=(r.s[39]++,gt(Rt,se.index));if(r.s[40]++,tt===se.index){r.b[7][0]++,r.s[41]++;return}else r.b[7][1]++;r.s[42]++,tt===-1?(r.b[8][0]++,r.s[43]++,tt=Rt.length):r.b[8][1]++;var Zt=(r.s[44]++,W(se)),Ee=(r.s[45]++,Rt.slice(se.index,tt));r.s[46]++,B(se,Rt,tt);var Dt=(r.s[47]++,W(se));r.s[48]++,Mt.tokens.push({type:T,content:Ee,position:{start:Zt,end:Dt}})}function it(Mt){r.f[8]++;var T=(r.s[49]++,Mt),F=T.str,Rt=T.position,se=(r.s[50]++,W(Rt));r.s[51]++,S(Rt,F,4);var tt=(r.s[52]++,F.indexOf("-->",Rt.index)),Zt=(r.s[53]++,tt+3);r.s[54]++,tt===-1?(r.b[9][0]++,r.s[55]++,tt=Zt=F.length):r.b[9][1]++;var Ee=(r.s[56]++,F.slice(Rt.index,tt));r.s[57]++,B(Rt,F,Zt),r.s[58]++,Mt.tokens.push({type:"comment",content:Ee,position:{start:se,end:W(Rt)}})}function et(Mt){r.f[9]++;var T=(r.s[59]++,Mt),F=T.str,Rt=T.position;{var se=(r.s[60]++,F.charAt(Rt.index+1)),tt=(r.s[61]++,se==="/"),Zt=(r.s[62]++,W(Rt));r.s[63]++,S(Rt,F,tt?(r.b[10][0]++,2):(r.b[10][1]++,1)),r.s[64]++,Mt.tokens.push({type:"tag-start",close:tt,position:{start:Zt}})}var Ee=(r.s[65]++,ot(Mt));r.s[66]++,ct(Mt);{var Dt=(r.s[67]++,F.charAt(Rt.index)),re=(r.s[68]++,Dt==="/");r.s[69]++,S(Rt,F,re?(r.b[11][0]++,2):(r.b[11][1]++,1));var ve=(r.s[70]++,W(Rt));r.s[71]++,Mt.tokens.push({type:"tag-end",close:re,position:{end:ve}})}return r.s[72]++,Ee}var nt=(r.s[73]++,/\s/);function Et(Mt){return r.f[10]++,r.s[74]++,nt.test(Mt)}function ot(Mt){r.f[11]++;var T=(r.s[75]++,Mt),F=T.str,Rt=T.position,se=(r.s[76]++,F.length),tt=(r.s[77]++,Rt.index);for(r.s[78]++;tt<se;){var Zt=(r.s[79]++,F.charAt(tt)),Ee=(r.s[80]++,r.b[12][0]++,!(Et(Zt)||(r.b[12][1]++,Zt==="/")||(r.b[12][2]++,Zt===">")));if(r.s[81]++,Ee){r.b[13][0]++,r.s[82]++;break}else r.b[13][1]++;r.s[83]++,tt++}var Dt=(r.s[84]++,tt+1);for(r.s[85]++;Dt<se;){var re=(r.s[86]++,F.charAt(Dt)),ve=(r.s[87]++,r.b[14][0]++,!(Et(re)||(r.b[14][1]++,re==="/")||(r.b[14][2]++,re===">")));if(r.s[88]++,ve)r.b[15][1]++;else{r.b[15][0]++,r.s[89]++;break}r.s[90]++,Dt++}r.s[91]++,B(Rt,F,Dt);var $t=(r.s[92]++,F.slice(tt,Dt));return r.s[93]++,Mt.tokens.push({type:"tag",content:$t}),r.s[94]++,$t}function ct(Mt){r.f[12]++;var T=(r.s[95]++,Mt),F=T.str,Rt=T.position,se=T.tokens,tt=(r.s[96]++,Rt.index),Zt=(r.s[97]++,null),Ee=(r.s[98]++,tt),Dt=(r.s[99]++,[]),re=(r.s[100]++,F.length);for(r.s[101]++;tt<re;){var ve=(r.s[102]++,F.charAt(tt));if(r.s[103]++,Zt){r.b[16][0]++;var $t=(r.s[104]++,ve===Zt);r.s[105]++,$t?(r.b[17][0]++,r.s[106]++,Zt=null):r.b[17][1]++,r.s[107]++,tt++,r.s[108]++;continue}else r.b[16][1]++;var ee=(r.s[109]++,r.b[18][0]++,ve==="/"||(r.b[18][1]++,ve===">"));if(r.s[110]++,ee){r.b[19][0]++,r.s[111]++,tt!==Ee?(r.b[20][0]++,r.s[112]++,Dt.push(F.slice(Ee,tt))):r.b[20][1]++,r.s[113]++;break}else r.b[19][1]++;var pe=(r.s[114]++,Et(ve));if(r.s[115]++,pe){r.b[21][0]++,r.s[116]++,tt!==Ee?(r.b[22][0]++,r.s[117]++,Dt.push(F.slice(Ee,tt))):r.b[22][1]++,r.s[118]++,Ee=tt+1,r.s[119]++,tt++,r.s[120]++;continue}else r.b[21][1]++;var oe=(r.s[121]++,r.b[23][0]++,ve==="'"||(r.b[23][1]++,ve==='"'));if(r.s[122]++,oe){r.b[24][0]++,r.s[123]++,Zt=ve,r.s[124]++,tt++,r.s[125]++;continue}else r.b[24][1]++;r.s[126]++,tt++}r.s[127]++,B(Rt,F,tt);var Ce=(r.s[128]++,Dt.length),Se=(r.s[129]++,"attribute");r.s[130]++;for(var fe=0;fe<Ce;fe++){var xi=(r.s[131]++,Dt[fe]),Ei=(r.s[132]++,xi.indexOf("=")===-1);if(r.s[133]++,Ei){r.b[25][0]++;var ci=(r.s[134]++,Dt[fe+1]);if(r.s[135]++,r.b[27][0]++,ci&&(r.b[27][1]++,(0,g.startsWith)(ci,"="))){if(r.b[26][0]++,r.s[136]++,ci.length>1){r.b[28][0]++;var Ge=(r.s[137]++,xi+ci);r.s[138]++,se.push({type:Se,content:Ge}),r.s[139]++,fe+=1,r.s[140]++;continue}else r.b[28][1]++;var Je=(r.s[141]++,Dt[fe+2]);if(r.s[142]++,fe+=1,r.s[143]++,Je){r.b[29][0]++;var Te=(r.s[144]++,xi+"="+Je);r.s[145]++,se.push({type:Se,content:Te}),r.s[146]++,fe+=1,r.s[147]++;continue}else r.b[29][1]++}else r.b[26][1]++}else r.b[25][1]++;if(r.s[148]++,(0,g.endsWith)(xi,"=")){r.b[30][0]++;var Gi=(r.s[149]++,Dt[fe+1]);if(r.s[150]++,r.b[32][0]++,Gi&&(r.b[32][1]++,!(0,g.stringIncludes)(Gi,"="))){r.b[31][0]++;var Fi=(r.s[151]++,xi+Gi);r.s[152]++,se.push({type:Se,content:Fi}),r.s[153]++,fe+=1,r.s[154]++;continue}else r.b[31][1]++;var dn=(r.s[155]++,xi.slice(0,-1));r.s[156]++,se.push({type:Se,content:dn}),r.s[157]++;continue}else r.b[30][1]++;r.s[158]++,se.push({type:Se,content:xi})}}var xt=(r.s[159]++,[].push);function zt(Mt,T){r.f[13]++;var F=(r.s[160]++,T),Rt=F.str,se=F.position,tt=F.tokens,Zt=(r.s[161]++,Mt.toLowerCase()),Ee=(r.s[162]++,Rt.length),Dt=(r.s[163]++,se.index);for(r.s[164]++;Dt<Ee;){var re=(r.s[165]++,Rt.indexOf("</",Dt));if(r.s[166]++,re===-1){r.b[33][0]++,r.s[167]++,m(T),r.s[168]++;break}else r.b[33][1]++;var ve=(r.s[169]++,W(se));r.s[170]++,B(ve,Rt,re);var $t=(r.s[171]++,{str:Rt,position:ve,tokens:[]}),ee=(r.s[172]++,et($t));if(r.s[173]++,Zt!==ee.toLowerCase()){r.b[34][0]++,r.s[174]++,Dt=$t.position.index,r.s[175]++;continue}else r.b[34][1]++;if(r.s[176]++,re!==se.index){r.b[35][0]++;var pe=(r.s[177]++,W(se));r.s[178]++,B(se,Rt,re),r.s[179]++,tt.push({type:"text",content:Rt.slice(pe.index,re),position:{start:pe,end:W(se)}})}else r.b[35][1]++;r.s[180]++,xt.apply(tt,$t.tokens),r.s[181]++,B(se,Rt,$t.position.index),r.s[182]++;break}}},{"./compat":1}],5:[function(i,a,l){var r=function(){var G="/Users/chrisandrejewski/Desktop/Work/github-repos/himalaya/src/parser.js",J="10fb0478bb046c7059c47c8225586b7e30f48474",R=(function(){}).constructor,gt=new R("return this")(),m="__coverage__",it={path:"/Users/chrisandrejewski/Desktop/Work/github-repos/himalaya/src/parser.js",statementMap:{0:{start:{line:4,column:15},end:{line:4,column:44}},1:{start:{line:5,column:16},end:{line:5,column:59}},2:{start:{line:6,column:2},end:{line:6,column:14}},3:{start:{line:7,column:2},end:{line:7,column:22}},4:{start:{line:11,column:21},end:{line:11,column:39}},5:{start:{line:12,column:2},end:{line:24,column:3}},6:{start:{line:13,column:23},end:{line:13,column:39}},7:{start:{line:14,column:4},end:{line:23,column:5}},8:{start:{line:15,column:28},end:{line:15,column:55}},9:{start:{line:16,column:6},end:{line:18,column:7}},10:{start:{line:17,column:8},end:{line:17,column:13}},11:{start:{line:19,column:6},end:{line:21,column:7}},12:{start:{line:20,column:8},end:{line:20,column:19}},13:{start:{line:22,column:6},end:{line:22,column:20}},14:{start:{line:25,column:2},end:{line:25,column:14}},15:{start:{line:29,column:2},end:{line:29,column:45}},16:{start:{line:30,column:2},end:{line:32,column:3}},17:{start:{line:31,column:4},end:{line:31,column:47}},18:{start:{line:33,column:2},end:{line:33,column:25}},19:{start:{line:37,column:28},end:{line:37,column:33}},20:{start:{line:38,column:16},end:{line:38,column:21}},21:{start:{line:39,column:14},end:{line:39,column:46}},22:{start:{line:40,column:14},end:{line:40,column:27}},23:{start:{line:41,column:17},end:{line:41,column:22}},24:{start:{line:42,column:2},end:{line:132,column:3}},25:{start:{line:43,column:18},end:{line:43,column:32}},26:{start:{line:44,column:4},end:{line:48,column:5}},27:{start:{line:45,column:6},end:{line:45,column:23}},28:{start:{line:46,column:6},end:{line:46,column:14}},29:{start:{line:47,column:6},end:{line:47,column:14}},30:{start:{line:50,column:21},end:{line:50,column:37}},31:{start:{line:51,column:4},end:{line:51,column:12}},32:{start:{line:52,column:20},end:{line:52,column:50}},33:{start:{line:53,column:4},end:{line:73,column:5}},34:{start:{line:54,column:18},end:{line:54,column:30}},35:{start:{line:55,column:25},end:{line:55,column:30}},36:{start:{line:56,column:6},end:{line:61,column:7}},37:{start:{line:57,column:8},end:{line:60,column:9}},38:{start:{line:58,column:10},end:{line:58,column:29}},39:{start:{line:59,column:10},end:{line:59,column:15}},40:{start:{line:62,column:6},end:{line:66,column:7}},41:{start:{line:63,column:25},end:{line:63,column:39}},42:{start:{line:64,column:8},end:{line:64,column:46}},43:{start:{line:64,column:41},end:{line:64,column:46}},44:{start:{line:65,column:8},end:{line:65,column:16}},45:{start:{line:67,column:6},end:{line:72,column:7}},46:{start:{line:68,column:8},end:{line:68,column:88}},47:{start:{line:69,column:8},end:{line:69,column:13}},48:{start:{line:71,column:8},end:{line:71,column:16}},49:{start:{line:75,column:25},end:{line:75,column:68}},50:{start:{line:76,column:34},end:{line:76,column:46}},51:{start:{line:77,column:4},end:{line:80,column:5}},52:{start:{line:78,column:56},end:{line:78,column:63}},53:{start:{line:79,column:6},end:{line:79,column:77}},54:{start:{line:82,column:4},end:{line:95,column:5}},55:{start:{line:85,column:25},end:{line:85,column:41}},56:{start:{line:86,column:6},end:{line:94,column:7}},57:{start:{line:87,column:8},end:{line:92,column:9}},58:{start:{line:88,column:10},end:{line:88,column:86}},59:{start:{line:89,column:32},end:{line:89,column:48}},60:{start:{line:90,column:10},end:{line:90,column:47}},61:{start:{line:91,column:10},end:{line:91,column:15}},62:{start:{line:93,column:8},end:{line:93,column:39}},63:{start:{line:97,column:21},end:{line:97,column:23}},64:{start:{line:99,column:4},end:{line:104,column:5}},65:{start:{line:100,column:6},end:{line:100,column:32}},66:{start:{line:101,column:6},end:{line:101,column:45}},67:{start:{line:101,column:40},end:{line:101,column:45}},68:{start:{line:102,column:6},end:{line:102,column:40}},69:{start:{line:103,column:6},end:{line:103,column:14}},70:{start:{line:106,column:4},end:{line:106,column:12}},71:{start:{line:107,column:21},end:{line:107,column:23}},72:{start:{line:108,column:21},end:{line:111,column:5}},73:{start:{line:112,column:24},end:{line:118,column:5}},74:{start:{line:119,column:4},end:{line:119,column:27}},75:{start:{line:121,column:24},end:{line:121,column:86}},76:{start:{line:122,column:4},end:{line:131,column:5}},77:{start:{line:123,column:19},end:{line:123,column:60}},78:{start:{line:124,column:25},end:{line:124,column:57}},79:{start:{line:125,column:6},end:{line:125,column:23}},80:{start:{line:126,column:6},end:{line:126,column:32}},81:{start:{line:127,column:31},end:{line:127,column:52}},82:{start:{line:128,column:6},end:{line:130,column:7}},83:{start:{line:129,column:8},end:{line:129,column:66}},84:{start:{line:133,column:2},end:{line:133,column:23}}},fnMap:{0:{name:"parser",decl:{start:{line:3,column:24},end:{line:3,column:30}},loc:{start:{line:3,column:49},end:{line:8,column:1}},line:3},1:{name:"hasTerminalParent",decl:{start:{line:10,column:16},end:{line:10,column:33}},loc:{start:{line:10,column:62},end:{line:26,column:1}},line:10},2:{name:"rewindStack",decl:{start:{line:28,column:16},end:{line:28,column:27}},loc:{start:{line:28,column:81},end:{line:34,column:1}},line:28},3:{name:"parse",decl:{start:{line:36,column:16},end:{line:36,column:21}},loc:{start:{line:36,column:30},end:{line:134,column:1}},line:36}},branchMap:{0:{loc:{start:{line:12,column:2},end:{line:24,column:3}},type:"if",locations:[{start:{line:12,column:2},end:{line:24,column:3}},{start:{line:12,column:2},end:{line:24,column:3}}],line:12},1:{loc:{start:{line:16,column:6},end:{line:18,column:7}},type:"if",locations:[{start:{line:16,column:6},end:{line:18,column:7}},{start:{line:16,column:6},end:{line:18,column:7}}],line:16},2:{loc:{start:{line:19,column:6},end:{line:21,column:7}},type:"if",locations:[{start:{line:19,column:6},end:{line:21,column:7}},{start:{line:19,column:6},end:{line:21,column:7}}],line:19},3:{loc:{start:{line:44,column:4},end:{line:48,column:5}},type:"if",locations:[{start:{line:44,column:4},end:{line:48,column:5}},{start:{line:44,column:4},end:{line:48,column:5}}],line:44},4:{loc:{start:{line:53,column:4},end:{line:73,column:5}},type:"if",locations:[{start:{line:53,column:4},end:{line:73,column:5}},{start:{line:53,column:4},end:{line:73,column:5}}],line:53},5:{loc:{start:{line:57,column:8},end:{line:60,column:9}},type:"if",locations:[{start:{line:57,column:8},end:{line:60,column:9}},{start:{line:57,column:8},end:{line:60,column:9}}],line:57},6:{loc:{start:{line:64,column:8},end:{line:64,column:46}},type:"if",locations:[{start:{line:64,column:8},end:{line:64,column:46}},{start:{line:64,column:8},end:{line:64,column:46}}],line:64},7:{loc:{start:{line:67,column:6},end:{line:72,column:7}},type:"if",locations:[{start:{line:67,column:6},end:{line:72,column:7}},{start:{line:67,column:6},end:{line:72,column:7}}],line:67},8:{loc:{start:{line:77,column:4},end:{line:80,column:5}},type:"if",locations:[{start:{line:77,column:4},end:{line:80,column:5}},{start:{line:77,column:4},end:{line:80,column:5}}],line:77},9:{loc:{start:{line:82,column:4},end:{line:95,column:5}},type:"if",locations:[{start:{line:82,column:4},end:{line:95,column:5}},{start:{line:82,column:4},end:{line:95,column:5}}],line:82},10:{loc:{start:{line:87,column:8},end:{line:92,column:9}},type:"if",locations:[{start:{line:87,column:8},end:{line:92,column:9}},{start:{line:87,column:8},end:{line:92,column:9}}],line:87},11:{loc:{start:{line:101,column:6},end:{line:101,column:45}},type:"if",locations:[{start:{line:101,column:6},end:{line:101,column:45}},{start:{line:101,column:6},end:{line:101,column:45}}],line:101},12:{loc:{start:{line:121,column:26},end:{line:121,column:85}},type:"binary-expr",locations:[{start:{line:121,column:26},end:{line:121,column:41}},{start:{line:121,column:45},end:{line:121,column:85}}],line:121},13:{loc:{start:{line:122,column:4},end:{line:131,column:5}},type:"if",locations:[{start:{line:122,column:4},end:{line:131,column:5}},{start:{line:122,column:4},end:{line:131,column:5}}],line:122},14:{loc:{start:{line:128,column:6},end:{line:130,column:7}},type:"if",locations:[{start:{line:128,column:6},end:{line:130,column:7}},{start:{line:128,column:6},end:{line:130,column:7}}],line:128}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},et=gt[m]||(gt[m]={});return et[G]&&et[G].hash===J?et[G]:(it.hash=J,et[G]=it)}();Object.defineProperty(l,"__esModule",{value:!0}),l.default=S,l.hasTerminalParent=B,l.rewindStack=j,l.parse=W;var g=i("./compat");function S(G,J){r.f[0]++;var R=(r.s[0]++,{tagName:null,children:[]}),gt=(r.s[1]++,{tokens:G,options:J,cursor:0,stack:[R]});return r.s[2]++,W(gt),r.s[3]++,R.children}function B(G,J,R){r.f[1]++;var gt=(r.s[4]++,R[G]);if(r.s[5]++,gt){r.b[0][0]++;var m=(r.s[6]++,J.length-1);for(r.s[7]++;m>=0;){var it=(r.s[8]++,J[m].tagName);if(r.s[9]++,it===G){r.b[1][0]++,r.s[10]++;break}else r.b[1][1]++;if(r.s[11]++,(0,g.arrayIncludes)(gt,it))return r.b[2][0]++,r.s[12]++,!0;r.b[2][1]++,r.s[13]++,m--}}else r.b[0][1]++;return r.s[14]++,!1}function j(G,J,R,gt){r.f[2]++,r.s[15]++,G[J].position.end=gt,r.s[16]++;for(var m=J+1,it=G.length;m<it;m++)r.s[17]++,G[m].position.end=R;r.s[18]++,G.splice(J)}function W(G){r.f[3]++;var J=(r.s[19]++,G),R=J.tokens,gt=J.options,m=(r.s[20]++,G),it=m.stack,et=(r.s[21]++,it[it.length-1].children),nt=(r.s[22]++,R.length),Et=(r.s[23]++,G),ot=Et.cursor;for(r.s[24]++;ot<nt;){var ct=(r.s[25]++,R[ot]);if(r.s[26]++,ct.type!=="tag-start"){r.b[3][0]++,r.s[27]++,et.push(ct),r.s[28]++,ot++,r.s[29]++;continue}else r.b[3][1]++;var xt=(r.s[30]++,R[++ot]);r.s[31]++,ot++;var zt=(r.s[32]++,xt.content.toLowerCase());if(r.s[33]++,ct.close){r.b[4][0]++;var Mt=(r.s[34]++,it.length),T=(r.s[35]++,!1);for(r.s[36]++;--Mt>-1;)if(r.s[37]++,it[Mt].tagName===zt){r.b[5][0]++,r.s[38]++,T=!0,r.s[39]++;break}else r.b[5][1]++;for(r.s[40]++;ot<nt;){var F=(r.s[41]++,R[ot]);if(r.s[42]++,F.type!=="tag-end"){r.b[6][0]++,r.s[43]++;break}else r.b[6][1]++;r.s[44]++,ot++}if(r.s[45]++,T){r.b[7][0]++,r.s[46]++,j(it,Mt,ct.position.start,R[ot-1].position.end),r.s[47]++;break}else{r.b[7][1]++,r.s[48]++;continue}}else r.b[4][1]++;var Rt=(r.s[49]++,(0,g.arrayIncludes)(gt.closingTags,zt)),se=(r.s[50]++,Rt);if(r.s[51]++,se){r.b[8][0]++;var tt=(r.s[52]++,gt),Zt=tt.closingTagAncestorBreakers;r.s[53]++,se=!B(zt,it,Zt)}else r.b[8][1]++;if(r.s[54]++,se){r.b[9][0]++;var Ee=(r.s[55]++,it.length-1);for(r.s[56]++;Ee>0;){if(r.s[57]++,zt===it[Ee].tagName){r.b[10][0]++,r.s[58]++,j(it,Ee,ct.position.start,ct.position.start);var Dt=(r.s[59]++,Ee-1);r.s[60]++,et=it[Dt].children,r.s[61]++;break}else r.b[10][1]++;r.s[62]++,Ee=Ee-1}}else r.b[9][1]++;var re=(r.s[63]++,[]),ve=void 0;for(r.s[64]++;ot<nt;){if(r.s[65]++,ve=R[ot],r.s[66]++,ve.type==="tag-end"){r.b[11][0]++,r.s[67]++;break}else r.b[11][1]++;r.s[68]++,re.push(ve.content),r.s[69]++,ot++}r.s[70]++,ot++;var $t=(r.s[71]++,[]),ee=(r.s[72]++,{start:ct.position.start,end:ve.position.end}),pe=(r.s[73]++,{type:"element",tagName:xt.content,attributes:re,children:$t,position:ee});r.s[74]++,et.push(pe);var oe=(r.s[75]++,r.b[12][0]++,!(ve.close||(r.b[12][1]++,(0,g.arrayIncludes)(gt.voidTags,zt))));if(r.s[76]++,oe){r.b[13][0]++;var Ce=(r.s[77]++,it.push({tagName:zt,children:$t,position:ee})),Se=(r.s[78]++,{tokens:R,options:gt,cursor:ot,stack:it});r.s[79]++,W(Se),r.s[80]++,ot=Se.cursor;var fe=(r.s[81]++,it.length===Ce);r.s[82]++,fe?(r.b[14][0]++,r.s[83]++,pe.position.end=R[ot-1].position.end):r.b[14][1]++}else r.b[13][1]++}r.s[84]++,G.cursor=ot}},{"./compat":1}],6:[function(i,a,l){var r=function(){var j="/Users/chrisandrejewski/Desktop/Work/github-repos/himalaya/src/stringify.js",W="4a6a4628f3d12bd91f868fee07f716c74df89307",G=(function(){}).constructor,J=new G("return this")(),R="__coverage__",gt={path:"/Users/chrisandrejewski/Desktop/Work/github-repos/himalaya/src/stringify.js",statementMap:{0:{start:{line:4,column:2},end:{line:12,column:8}},1:{start:{line:5,column:25},end:{line:5,column:34}},2:{start:{line:6,column:4},end:{line:8,column:5}},3:{start:{line:7,column:6},end:{line:7,column:30}},4:{start:{line:9,column:24},end:{line:9,column:50}},5:{start:{line:10,column:18},end:{line:10,column:42}},6:{start:{line:11,column:4},end:{line:11,column:53}},7:{start:{line:16,column:2},end:{line:28,column:13}},8:{start:{line:17,column:4},end:{line:19,column:5}},9:{start:{line:18,column:6},end:{line:18,column:25}},10:{start:{line:20,column:4},end:{line:22,column:5}},11:{start:{line:21,column:6},end:{line:21,column:37}},12:{start:{line:23,column:44},end:{line:23,column:48}},13:{start:{line:24,column:26},end:{line:24,column:80}},14:{start:{line:25,column:4},end:{line:27,column:94}}},fnMap:{0:{name:"formatAttributes",decl:{start:{line:3,column:16},end:{line:3,column:32}},loc:{start:{line:3,column:46},end:{line:13,column:1}},line:3},1:{name:"(anonymous_1)",decl:{start:{line:4,column:27},end:{line:4,column:28}},loc:{start:{line:4,column:49},end:{line:12,column:3}},line:4},2:{name:"toHTML",decl:{start:{line:15,column:16},end:{line:15,column:22}},loc:{start:{line:15,column:39},end:{line:29,column:1}},line:15},3:{name:"(anonymous_3)",decl:{start:{line:16,column:18},end:{line:16,column:19}},loc:{start:{line:16,column:26},end:{line:28,column:3}},line:16}},branchMap:{0:{loc:{start:{line:6,column:4},end:{line:8,column:5}},type:"if",locations:[{start:{line:6,column:4},end:{line:8,column:5}},{start:{line:6,column:4},end:{line:8,column:5}}],line:6},1:{loc:{start:{line:10,column:18},end:{line:10,column:42}},type:"cond-expr",locations:[{start:{line:10,column:32},end:{line:10,column:35}},{start:{line:10,column:38},end:{line:10,column:42}}],line:10},2:{loc:{start:{line:17,column:4},end:{line:19,column:5}},type:"if",locations:[{start:{line:17,column:4},end:{line:19,column:5}},{start:{line:17,column:4},end:{line:19,column:5}}],line:17},3:{loc:{start:{line:20,column:4},end:{line:22,column:5}},type:"if",locations:[{start:{line:20,column:4},end:{line:22,column:5}},{start:{line:20,column:4},end:{line:22,column:5}}],line:20},4:{loc:{start:{line:25,column:11},end:{line:27,column:94}},type:"cond-expr",locations:[{start:{line:26,column:8},end:{line:26,column:53}},{start:{line:27,column:8},end:{line:27,column:94}}],line:25}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},m=J[R]||(J[R]={});return m[j]&&m[j].hash===W?m[j]:(gt.hash=W,m[j]=gt)}();Object.defineProperty(l,"__esModule",{value:!0}),l.formatAttributes=S,l.toHTML=B;var g=i("./compat");function S(j){return r.f[0]++,r.s[0]++,j.reduce(function(W,G){r.f[1]++;var J=(r.s[1]++,G),R=J.key,gt=J.value;if(r.s[2]++,gt===null)return r.b[0][0]++,r.s[3]++,W+" "+R;r.b[0][1]++;var m=(r.s[4]++,gt.indexOf("'")!==-1),it=(r.s[5]++,m?(r.b[1][0]++,'"'):(r.b[1][1]++,"'"));return r.s[6]++,W+" "+R+"="+it+gt+it},"")}function B(j,W){return r.f[2]++,r.s[7]++,j.map(function(G){if(r.f[3]++,r.s[8]++,G.type==="text")return r.b[2][0]++,r.s[9]++,G.content;if(r.b[2][1]++,r.s[10]++,G.type==="comment")return r.b[3][0]++,r.s[11]++,"<!--"+G.content+"-->";r.b[3][1]++;var J=(r.s[12]++,G),R=J.tagName,gt=J.attributes,m=J.children,it=(r.s[13]++,(0,g.arrayIncludes)(W.voidTags,R.toLowerCase()));return r.s[14]++,it?(r.b[4][0]++,"<"+R+S(gt)+">"):(r.b[4][1]++,"<"+R+S(gt)+">"+B(m,W)+"</"+R+">")}).join("")}l.default={toHTML:B}},{"./compat":1}],7:[function(i,a,l){var r=function(){var g="/Users/chrisandrejewski/Desktop/Work/github-repos/himalaya/src/tags.js",S="6039b9f65d15797c952509955976acf6930e65a4",B=(function(){}).constructor,j=new B("return this")(),W="__coverage__",G={path:"/Users/chrisandrejewski/Desktop/Work/github-repos/himalaya/src/tags.js",statementMap:{0:{start:{line:5,column:29},end:{line:5,column:60}},1:{start:{line:11,column:27},end:{line:14,column:1}},2:{start:{line:23,column:42},end:{line:32,column:1}},3:{start:{line:38,column:24},end:{line:42,column:1}}},fnMap:{},branchMap:{},s:{0:0,1:0,2:0,3:0},f:{},b:{},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},J=j[W]||(j[W]={});return J[g]&&J[g].hash===S?J[g]:(G.hash=S,J[g]=G)}();Object.defineProperty(l,"__esModule",{value:!0}),l.childlessTags=(r.s[0]++,["style","script","template"]),l.closingTags=(r.s[1]++,["html","head","body","p","dt","dd","li","option","thead","th","tbody","tr","td","tfoot","colgroup"]),l.closingTagAncestorBreakers=(r.s[2]++,{li:["ul","ol","menu"],dt:["dl"],dd:["dl"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table"],td:["table"]}),l.voidTags=(r.s[3]++,["!doctype","area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"])},{}]},{},[3])(3)})})();(function(){window.assertions=window.assertions||{},window.assertions.assertFunction=window.assertions.assertFunction||function(A,...t){if(!A){t=t.filter(a=>!!t),window.navigator&&window.navigator.appName==="Microsoft Internet Explorer"&&t.push(`stack=
${new Error().stack}`);const i=t.length>0?"Assertion failed: ":"Assertion failed";if(console&&console.error&&console.error(i,...t),window.QueryStringMachine&&QueryStringMachine.containsKey("debugger"))debugger;throw new Error(i+t.join(`
 `))}},window.assert=window.assert||null,window.assertSlow=window.assertSlow||null,window.assertions.enableAssert=function(){window.assert=window.assertions.assertFunction,window.console&&window.console.log&&window.console.log("enabling assert")},window.assertions.disableAssert=function(){window.assert=null,window.console&&window.console.log&&window.console.log("disabling assert")},window.assertions.enableAssertSlow=function(){window.assertSlow=window.assertions.assertFunction,window.console&&window.console.log&&window.console.log("enabling assertSlow")},window.assertions.disableAssertSlow=function(){window.assertSlow=null,window.console&&window.console.log&&window.console.log("disabling assertSlow")}})();window.phet=window.phet||{};window.phet.chipper=window.phet.chipper||{};window.phet.chipper.packageObject={name:"scenery-lab-demo"};window.phet.chipper.stringRepos=[{repo:"joist",requirejsNamespace:"JOIST"},{repo:"scenery-phet",requirejsNamespace:"SCENERY_PHET"},{repo:"sun",requirejsNamespace:"SUN"},{repo:"tambo",requirejsNamespace:"TAMBO"},{repo:"vegas",requirejsNamespace:"VEGAS"}];window.phet.chipper.strings={en:{a11y:{numberSpinnerRoleDescription:{value:"number spinner"},close:{value:"Close"},closed:{value:"Closed"},titleClosePattern:{value:"{{title}}, Close."}}}};let Rl;try{Rl=module&&module.hot}catch{Rl=!1}const Sl=Rl;class gu{constructor(t){if(this.name=t,window.phet){if(t==="chipper")return window.phet.chipper.name="chipper",window.phet.chipper.register=this.register.bind(window.phet.chipper),window.phet.chipper;{const i=!_.hasIn(window,"phet.chipper.brand");assert&&!i&&assert(!window.phet[t],`namespace ${t} already exists`),window.phet[t]=this}}}register(t,i){if(t.includes("."))Sl||assert&&assert(!this[t],`${t} is already registered for namespace ${this.name}`),this[t]=i;else{const a=t.split(".");let l=this;for(let g=0;g<a.length-1;g++)Sl||assert&&assert(!!l[a[g]],`${[this.name].concat(a.slice(0,g+1)).join(".")} needs to be defined to register ${t}`),l=l[a[g]];const r=a[a.length-1];Sl||assert&&assert(!l[r],`${t} is already registered for namespace ${this.name}`),l[r]=i}return i}}const Bn=new gu("phetCore");Bn.register("Namespace",gu);function Is(A,t){assert&&assert(Array.isArray(A),"arrayRemove takes an Array");const i=_.indexOf(A,t);assert&&assert(i>=0,"item not found in Array"),A.splice(i,1)}Bn.register("arrayRemove",Is);function vf(A){const t=[A];let i=A.prototype;for(;i&&(i=Object.getPrototypeOf(i));)i.constructor&&t.push(i.constructor);return t}Bn.register("inheritance",vf);const Kl=function(A,...t){if(assert&&A){const i=t.map(a=>Object.keys(_.pick(A,...a)));i.filter(a=>a.length>0).length>1&&assert&&assert(!1,`Cannot simultaneously specify ${i.join(" and ")}`)}};Bn.register("assertMutuallyExclusiveOptions",Kl);const Uc={},yf=(A,t=window.phet&&window.phet.chipper&&window.phet.chipper.queryParameters&&phet.chipper.queryParameters.deprecationWarnings)=>{t&&!Uc.hasOwnProperty(A)&&(Uc[A]=!0,console.warn(`Deprecation warning: ${A}`))};Bn.register("deprecationWarning",yf);const Ao=class Ao{toString(){return this.name}isEnumerationValue(){return!0}constructor(){const t=this.constructor;assert&&assert(!Ao.sealedCache.has(t),"cannot create instanceof of a sealed constructor"),this._name=null,this._enumeration=null}set name(t){assert&&assert(!this._name,"name cannot be changed once defined."),this._name=t}get name(){return assert&&assert(this._name,"name cannot be retrieved until it has been filled in by Enumeration."),this._name}set enumeration(t){assert&&assert(!this._enumeration,"enumeration cannot be changed once defined."),this._enumeration=t}get enumeration(){return assert&&assert(this._enumeration,"enumeration cannot be retrieved until it has been filled in by Enumeration."),this._enumeration}};Ao.sealedCache=new Set;let Xs=Ao;Bn.register("EnumerationValue",Xs);const jc="Options";function tn(A,...t){return assert&&Zc(A),assert&&assert(A!==null,"target should not be null"),assert&&assert(t.length>0,"at least one source expected"),_.each(t,i=>{if(i){assert&&Zc(i);for(const a in i)if(i.hasOwnProperty(a)&&i[a]!==void 0){const l=i[a];_.endsWith(a,jc)&&a!==jc?(assert&&assert(l!==void 0,"nested *Options should not be undefined"),A[a]=tn(A[a]||{},l)):A[a]=l}}}),A}function Zc(A){assert&&assert(A===null||A&&typeof A=="object"&&Object.getPrototypeOf(A)===Object.prototype,"object is not compatible with merge"),A!==null&&Object.keys(A).forEach(t=>{const i=Object.getOwnPropertyDescriptor(A,t);assert&&assert(!i.hasOwnProperty("set"),"cannot use merge with an object that has a setter"),assert&&assert(!i.hasOwnProperty("get"),"cannot use merge with an object that has a getter")})}Bn.register("merge",tn);const Ql=(A,t,i,a)=>tn(A,t,i,a);function wn(){return Ql}function av(){return Ql}function s1(A,...t){return Ql(A,...t)}Bn.register("optionize",wn);class Wr{constructor(t,i){const a=wn()({phetioDocumentation:"",instanceType:t},i);this.phetioDocumentation=a.phetioDocumentation;const l=a.instanceType,r=_.reverse(vf(t));assert&&assert(r.includes(l),"the specified type should be in its own hierarchy"),this.keys=[],this.values=[],r.forEach(g=>{Object.keys(g).forEach(S=>{const B=g[S];B instanceof l&&(assert&&assert(S===S.toUpperCase(),"keys should be upper case by convention"),this.keys.push(S),this.values.push(B),B instanceof t&&(B.name=S,B.enumeration=this))})}),assert&&assert(this.keys.length>0,"no keys found"),assert&&assert(this.values.length>0,"no values found"),this.Enumeration=t,Xs.sealedCache.add(t)}getKey(t){return t.name}getValue(t){return this.Enumeration[t]}includes(t){return this.values.includes(t)}}Bn.register("Enumeration",Wr);class Sa{constructor(t){yf("EnumerationDeprecated should be exchanged for classes that extend EnumerationValue, see WilderEnumerationPatterns for examples."),assert&&assert(t,"config must be provided");const i=!!t.keys,a=!!t.map;assert&&assert(i!==a,"must provide one or the other but not both of keys/map");const l=t.keys||Object.keys(t.map),r=t.map||{};t=tn({phetioDocumentation:null,beforeFreeze:null},t),assert&&assert(Array.isArray(l),"Values should be an array"),assert&&assert(_.uniq(l).length===l.length,"There should be no duplicated values provided"),assert&&l.forEach(g=>assert(typeof g=="string","Each value should be a string")),assert&&l.forEach(g=>assert(/^[A-Z][A-Z0-9_]*$/g.test(g),"EnumerationDeprecated values should be uppercase alphanumeric with underscores and begin with a letter")),assert&&assert(!_.includes(l,"VALUES"),"This is the name of a built-in provided value, so it cannot be included as an enumeration value"),assert&&assert(!_.includes(l,"KEYS"),"This is the name of a built-in provided value, so it cannot be included as an enumeration value"),assert&&assert(!_.includes(l,"includes"),"This is the name of a built-in provided value, so it cannot be included as an enumeration value"),this.phetioDocumentation=t.phetioDocumentation,this.KEYS=l,this.VALUES=[],l.forEach(g=>{const S=r[g]||{};assert&&assert(S.name===void 0,'"rich" enumeration values cannot provide their own name attribute'),assert&&assert(S.toString===Object.prototype.toString,'"rich" enumeration values cannot provide their own toString'),S.name=g,S.toString=()=>g,this[g]=S,this.VALUES.push(S)}),t.beforeFreeze&&t.beforeFreeze(this),assert&&Object.freeze(this),assert&&Object.freeze(this.VALUES),assert&&Object.freeze(this.KEYS),assert&&l.forEach(g=>assert&&Object.freeze(r[g]))}toString(){return this.KEYS.join(", ")}includes(t){return _.includes(this.VALUES,t)}getValue(t){return this[t]}getKey(t){return t.name}get values(){return this.VALUES}get keys(){return this.KEYS}get enumeration(){return this}static byKeys(t,i){return assert&&assert(Array.isArray(t),"keys must be an array"),assert&&assert(!i||i.keys===void 0),new Sa(tn({keys:t},i))}static byMap(t,i){if(assert&&assert(!i||i.map===void 0),assert){const a=_.values(t);assert&&assert(a.length>=1,"must have at least 2 entries in an enumeration"),assert&&assert(_.every(a,l=>l.constructor===a[0].constructor),"Values must have same constructor")}return new Sa(tn({map:t},i))}}Bn.register("EnumerationDeprecated",Sa);function kl(A,...t){return _.each(t,i=>{if(i)for(const a in i)Object.defineProperty(A,a,Object.getOwnPropertyDescriptor(i,a))}),A}Bn.register("extend",kl);function _f(A){return Object.prototype.toString.call(A)==="[object Array]"}Bn.register("isArray",_f);const qs=class qs extends Xs{static fromLayoutOrientation(t){return t==="horizontal"?qs.HORIZONTAL:qs.VERTICAL}constructor(t,i,a,l,r,g,S,B,j,W,G,J,R,gt,m,it,et,nt,Et){super(),this.coordinate=t,this.centerCoordinate=i,this.minCoordinate=a,this.maxCoordinate=l,this.minSide=r,this.maxSide=g,this.minSize=S,this.maxSize=B,this.rectCoordinate=j,this.rectSize=W,this.flowBoxOrientation=G,this.size=J,this.line=R,this.preferredSize=gt,this.localPreferredSize=m,this.sizable=it,this.ariaOrientation=G,this.modelToView=et,this.viewToModel=nt,this.toVector=Et}};qs.HORIZONTAL=new qs("x","centerX","minX","maxX","left","right","minWidth","maxWidth","rectX","rectWidth","horizontal","width","column","preferredWidth","localPreferredWidth","widthSizable",(t,i)=>t.modelToViewX(i),(t,i)=>t.viewToModelX(i),(t,i,a)=>new a(t,i,0,0)),qs.VERTICAL=new qs("y","centerY","minY","maxY","top","bottom","minHeight","maxHeight","rectY","rectHeight","vertical","height","row","preferredHeight","localPreferredHeight","heightSizable",(t,i)=>t.modelToViewY(i),(t,i)=>t.viewToModelY(i),(t,i,a)=>new a(i,t,0,0)),qs.enumeration=new Wr(qs,{phetioDocumentation:"Horizontal or vertical orientation"});let xr=qs;xr.HORIZONTAL.opposite=xr.VERTICAL;xr.VERTICAL.opposite=xr.HORIZONTAL;Bn.register("Orientation",xr);class Gr{constructor(t,...i){this.objects=[];const a=wn()({defaultArguments:[],initialize:t.prototype.initialize,maxSize:100,initialSize:0,useDefaultConstruction:!1},i[0]);for(assert&&assert(a.maxSize>=0),assert&&assert(a.initialSize>=0),this._maxPoolSize=a.maxSize,this.partialConstructor=Function.prototype.bind.bind(t,t),this.DefaultConstructor=this.partialConstructor(...a.defaultArguments),this.initialize=a.initialize,assert&&assert(this.initialize,"Either pass in an initialize option, or provide a method named initialize on the type with the proper signature"),this.useDefaultConstruction=a.useDefaultConstruction;this.objects.length<a.initialSize;)this.objects.push(this.createDefaultObject())}createDefaultObject(){return new this.DefaultConstructor}fetch(){return this.objects.length?this.objects.pop():this.createDefaultObject()}create(...t){let i;return this.objects.length?(i=this.objects.pop(),this.initialize.apply(i,t)):this.useDefaultConstruction?(i=this.createDefaultObject(),this.initialize.apply(i,t)):i=new(this.partialConstructor(...t)),i}get poolSize(){return this.objects.length}set maxPoolSize(t){assert&&assert(t===Number.POSITIVE_INFINITY||Number.isInteger(t)&&t>=0,"maxPoolSize should be a non-negative integer or infinity"),this._maxPoolSize=t}get maxPoolSize(){return this._maxPoolSize}freeToPool(t){this.objects.length<this.maxPoolSize&&this.objects.push(t)}forEach(t){this.objects.forEach(t)}}Bn.register("Pool",Gr);const Jl={mixInto(A,t){const i=wn()({defaultArguments:[],initialize:A.prototype.initialize,maxSize:100,initialSize:0,useDefaultConstruction:!1},t);assert&&assert(i.maxSize>=0),assert&&assert(i.initialSize>=0);const a=[];let l=i.maxSize;const r=Function.prototype.bind.bind(A,A),g=r(...i.defaultArguments),S=i.initialize,B=i.useDefaultConstruction,j=A.prototype;for(kl(A,{pool:a,dirtyFromPool(){return a.length?a.pop():new g},createFromPool(...W){let G;return a.length?(G=a.pop(),S.apply(G,W)):B?(G=new g,S.apply(G,W)):G=new(r(...W)),G},get poolSize(){return a.length},set maxPoolSize(W){assert&&assert(W===Number.POSITIVE_INFINITY||Number.isInteger(W)&&W>=0,"maxPoolSize should be a non-negative integer or infinity"),l=W},get maxPoolSize(){return l}}),kl(j,{freeToPool(){a.length<l&&a.push(this)}});a.length<i.initialSize;)a.push(new g);return A}};Bn.register("Poolable",Jl);const as=new gu("axon"),r1=["string","number","boolean","function"],fo=["valueType","validValues","valueComparisonStrategy","isValidValue","phetioType","validators"],rn=class rn{static getValidatorValidationError(t){if(!(t instanceof Object))return"validator must be an Object";if(!(t.hasOwnProperty("isValidValue")||t.hasOwnProperty("valueType")||t.hasOwnProperty("validValues")||t.hasOwnProperty("valueComparisonStrategy")||t.hasOwnProperty("phetioType")||t.hasOwnProperty("validators")))return this.combineErrorMessages(`validator must have at least one of: ${fo.join(",")}`,t.validationMessage);if(t.hasOwnProperty("valueType")){const i=rn.getValueOrElementTypeValidationError(t.valueType);if(i)return this.combineErrorMessages(`Invalid valueType: ${t.valueType}, error: ${i}`,t.validationMessage)}if(t.hasOwnProperty("isValidValue")&&!(typeof t.isValidValue=="function"||t.isValidValue===null||t.isValidValue===void 0))return this.combineErrorMessages(`isValidValue must be a function: ${t.isValidValue}`,t.validationMessage);if(t.hasOwnProperty("valueComparisonStrategy")&&!(t.valueComparisonStrategy==="reference"||t.valueComparisonStrategy==="lodashDeep"||t.valueComparisonStrategy==="equalsFunction"||typeof t.valueComparisonStrategy=="function"))return this.combineErrorMessages(`valueComparisonStrategy must be "reference", "lodashDeep", 
        "equalsFunction", or a comparison function: ${t.valueComparisonStrategy}`,t.validationMessage);if(t.validValues!==void 0&&t.validValues!==null){if(!Array.isArray(t.validValues))return this.combineErrorMessages(`validValues must be an array: ${t.validValues}`,t.validationMessage);const i=_.omit(t,"validValues");if(rn.containsValidatorKey(i))for(let a=0;a<t.validValues.length;a++){const l=t.validValues[a],r=rn.getValidationError(l,i);if(r)return this.combineErrorMessages(`Item not valid in validValues: ${l}, error: ${r}`,t.validationMessage)}}if(t.hasOwnProperty("phetioType")){if(!t.phetioType)return this.combineErrorMessages("falsey phetioType provided",t.validationMessage);if(!t.phetioType.validator)return this.combineErrorMessages(`validator needed for phetioType: ${t.phetioType.typeName}`,t.validationMessage);const i=rn.getValidatorValidationError(t.phetioType.validator);if(i)return this.combineErrorMessages(i,t.validationMessage)}if(t.hasOwnProperty("validators")){const i=t.validators;for(let a=0;a<i.length;a++){const l=i[a],r=rn.getValidatorValidationError(l);if(r)return this.combineErrorMessages(`validators[${a}] invalid: ${r}`,t.validationMessage)}}return null}static getValueTypeValidatorValidationError(t){return typeof t=="function"||typeof t=="string"||t instanceof Sa||t===null||t===void 0?typeof t=="string"&&!_.includes(r1,t)?`valueType not a supported primitive types: ${t}`:null:`valueType must be {function|string|EnumerationDeprecated|null|undefined}, valueType=${t}`}static validateValidator(t){if(assert){const i=rn.getValidatorValidationError(t);i&&assert(!1,i)}}static containsValidatorKey(t){if(!(t instanceof Object))return!1;for(let i=0;i<fo.length;i++)if(t.hasOwnProperty(fo[i]))return!0;return!1}static combineErrorMessages(t,i){return i&&(t=`${typeof i=="function"?i():i}: ${t}`),t}static isValueValid(t,i,a){return this.getValidationError(t,i,a)===null}static getValidationError(t,i,a){const l=wn()({validateValidator:!0},a);if(l.validateValidator){const r=rn.getValidatorValidationError(i);if(r)return r}if(i.hasOwnProperty("valueType")){const r=i.valueType;if(Array.isArray(r)){if(!_.some(r.map(g=>!rn.getValueTypeValidationError(t,g,i.validationMessage))))return this.combineErrorMessages(`value not valid for any valueType in ${r.toString().substring(0,100)}, value: ${t}`,i.validationMessage)}else if(r){const g=rn.getValueTypeValidationError(t,r,i.validationMessage);if(g)return g}}if(i.validValues){const r=i.valueComparisonStrategy||"reference";if(!i.validValues.some(S=>rn.equalsForValidationStrategy(S,t,r)))return this.combineErrorMessages(`value not in validValues: ${t}`,i.validationMessage)}if(i.hasOwnProperty("isValidValue")&&!i.isValidValue(t))return this.combineErrorMessages(`value failed isValidValue: ${t}`,i.validationMessage);if(i.hasOwnProperty("phetioType")){const r=rn.getValidationError(t,i.phetioType.validator,l);if(r)return this.combineErrorMessages(`value failed phetioType validator: ${t}, error: ${r}`,i.validationMessage)}if(i.hasOwnProperty("validators")){const r=i.validators;for(let g=0;g<r.length;g++){const S=r[g],B=rn.getValidationError(t,S,l);if(B)return this.combineErrorMessages(`Failed validation for validators[${g}]: ${B}`,i.validationMessage)}}return null}static getValueTypeValidationError(t,i,a){return typeof i=="string"&&typeof t!==i?this.combineErrorMessages(`value should have typeof ${i}, value=${t}`,a):i===Array&&!Array.isArray(t)?this.combineErrorMessages(`value should have been an array, value=${t}`,a):i instanceof Sa&&!i.includes(t)?this.combineErrorMessages(`value is not a member of EnumerationDeprecated ${i}`,a):typeof i=="function"&&!(t instanceof i)?this.combineErrorMessages(`value should be instanceof ${i.name}, value=${t}`,a):i===null&&t!==null?this.combineErrorMessages(`value should be null, value=${t}`,a):null}static getValueOrElementTypeValidationError(t){if(Array.isArray(t))for(let i=0;i<t.length;i++){const a=t[i],l=rn.getValueTypeValidatorValidationError(a);if(l)return`Array value invalid: ${l}`}else if(t){const i=rn.getValueTypeValidatorValidationError(t);if(i)return`Value type invalid: ${i}`}return null}static equalsForValidationStrategy(t,i,a="reference"){if(a==="reference")return t===i;if(a==="equalsFunction"){if(t!=null&&i!=null){const l=t,r=i;assert&&assert(!!l.equals,"no equals function for 1st arg"),assert&&assert(!!r.equals,"no equals function for 2nd arg"),assert&&assert(l.equals(r)===r.equals(l),"incompatible equality checks");const g=l.equals(r);return t.constructor===i.constructor?g:g&&r.equals(t)}return t===i}return a==="lodashDeep"?_.isEqual(t,i):a(t,i)}};rn.VALIDATOR_KEYS=fo,rn.STRING_WITHOUT_TEMPLATE_VARS_VALIDATOR={valueType:"string",isValidValue:t=>!/\{\{\w*\}\}/.test(t)};let Nn=rn;as.register("Validation",Nn);const fn=(A,t,i)=>{if(assert){const a=Nn.getValidationError(A,t,i);if(a){const l=_.pick(t,Nn.VALIDATOR_KEYS);l.phetioType&&(l.phetioType=_.pick(t.phetioType,["validator","typeName"]));const r=JSON.stringify(l,null,2);assert&&assert(!1,"validation failed for value:",A,a,"prunedValidator:",r)}}};as.register("validate",fn);const Ri=new gu("tandem"),bo={IO_TYPE_SUFFIX:"IO"};Ri.register("PhetioConstants",bo);const wf="ObjectIO",bf="MODEL",a1={phetioTypeName:wf,phetioDocumentation:"",phetioState:!0,phetioReadOnly:!1,phetioEventType:bf,phetioHighFrequency:!1,phetioPlayback:!1,phetioDynamicElement:!1,phetioIsArchetype:!1,phetioFeatured:!1,phetioDesigned:!1,phetioArchetypePhetioID:null},xf="a-zA-Z0-9[\\],",Af=`${xf}_`,u1=`${Af}\\-`,Pn={OBJECT_IO_TYPE_NAME:wf,EVENT_TYPE_MODEL:bf,PHET_IO_OBJECT_METADATA_DEFAULTS:a1,METADATA_KEY_NAME:"_metadata",DATA_KEY_NAME:"_data",BASE_TANDEM_CHARACTER_CLASS:xf,BASE_DYNAMIC_TANDEM_CHARACTER_CLASS:Af,BASE_DERIVED_TANDEM_CHARACTER_CLASS:u1};Ri.register("TandemConstants",Pn);class ys{constructor(t){assert&&Kl(t,["compositeSchema"],["displayString","validator"]);const i=wn()({displayString:"",validator:null,compositeSchema:null},t);this.displayString=i.displayString,this.validator=i.validator,this.compositeSchema=i.compositeSchema}defaultApplyState(t,i){assert&&assert(this.isComposite(),"defaultApplyState from stateSchema only applies to composite stateSchemas");for(const a in this.compositeSchema)if(this.compositeSchema.hasOwnProperty(a)){assert&&assert(i.hasOwnProperty(a),`stateObject does not have expected schema key: ${a}`);const l=this.compositeSchema[a],r=this.getCoreObjectAccessorName(a,t);l.defaultDeserializationMethod==="fromStateObject"?t[r]=this.compositeSchema[a].fromStateObject(i[a]):(assert&&assert(l.defaultDeserializationMethod==="applyState","unexpected deserialization method"),this.compositeSchema[a].applyState(t[r],i[a]))}}defaultToStateObject(t){assert&&assert(this.isComposite(),"defaultToStateObject from stateSchema only applies to composite stateSchemas");const i={};for(const a in this.compositeSchema)if(this.compositeSchema.hasOwnProperty(a)){const l=this.getCoreObjectAccessorName(a,t);if(assert){const r=Object.getOwnPropertyDescriptor(t,l);let g=!1;if(t.constructor.prototype){const B=Object.getOwnPropertyDescriptor(t.constructor.prototype,l);g=!!B&&!!B.get}const S=!!r&&r.hasOwnProperty("value")&&r.writable;assert&&assert(S||g,`cannot get state because coreObject does not have expected schema key: ${l}`)}i[a]=this.compositeSchema[a].toStateObject(t[l])}return i}getCoreObjectAccessorName(t,i){assert&&assert(!t.startsWith("__"),"State keys should not start with too many underscores: "+t+". When serializing ",i);const a=t.startsWith("_")?t.substring(1):t,l=`_${a}`;let r;return i.hasOwnProperty(l)?r=l:r=a,r}isComposite(){return!!this.compositeSchema}checkStateObjectValid(t,i,a){if(this.isComposite()){const l=t,r=this.compositeSchema;let g=null;return l?(Object.keys(r).forEach(B=>{typeof B=="string"?(l.hasOwnProperty(B)?r[B].isStateObjectValid(l[B],!1)||(assert&&i&&assert(!1,`stateObject is not valid for ${B}. stateObject=`,l[B],"schema=",r[B]),g=!1):(assert&&i&&assert(!1,`${B} in state schema but not in the state object`),g=!1),a.push(B)):(console.error("key should be a string",B),assert&&assert(!1,"key should be a string"))}),g):(assert&&i&&assert(!1,"There was no stateObject, but there was a state schema saying there should be",r),g=!1,g)}else{assert&&assert(this.validator,"validator must be present if not composite");const l=t;if(assert&&i){const r=Nn.getValidationError(l,this.validator);assert(r===null,"valueStateObject failed validation",l,r)}return Nn.isValueValid(l,this.validator)}}getRelatedTypes(){const t=[];return this.compositeSchema&&Object.keys(this.compositeSchema).forEach(a=>{this.compositeSchema[a]instanceof yi&&t.push(this.compositeSchema[a])}),t}getStateSchemaAPI(){return this.isComposite()?_.mapValues(this.compositeSchema,t=>t.typeName):this.displayString}static asValue(t,i){return assert&&assert(i,"validator required"),new ys({validator:i,displayString:t})}}Ri.register("StateSchema",ys);const Wc={validateValidator:!1},o1=A=>{const t=A.indexOf(bo.IO_TYPE_SUFFIX);return assert&&assert(t>=0,"IO should be in the type name"),A.substring(0,t)};class yi{constructor(t,i){this.typeName=t;const a=i.supertype||yi.ObjectIO,l=!!i.toStateObject,r=!!i.applyState,g=!!i.stateSchema,S=wn()({supertype:yi.ObjectIO,methods:{},events:[],metadataDefaults:{},dataDefaults:{},methodOrder:[],parameterTypes:[],documentation:`PhET-iO Type for ${o1(t)}`,isFunctionType:!1,toStateObject:a&&a.toStateObject,fromStateObject:a&&a.fromStateObject,stateObjectToCreateElementArguments:a&&a.stateObjectToCreateElementArguments,applyState:a&&a.applyState,stateSchema:null,defaultDeserializationMethod:"fromStateObject",addChildElement:a&&a.addChildElement},i);if(assert&&a&&Object.keys(S.metadataDefaults).forEach(B=>{assert&&a.getAllMetadataDefaults().hasOwnProperty(B)&&assert(a.getAllMetadataDefaults()[B]!==S.metadataDefaults[B],`${B} should not have the same default value as the ancestor metadata default.`)}),this.supertype=a,this.documentation=S.documentation,this.methods=S.methods,this.events=S.events,this.metadataDefaults=S.metadataDefaults,this.dataDefaults=S.dataDefaults,this.methodOrder=S.methodOrder,this.parameterTypes=S.parameterTypes,this.validator=_.pick(S,Nn.VALIDATOR_KEYS),this.validator.validationMessage=this.validator.validationMessage||`Validation failed IOType Validator: ${this.typeName}`,this.defaultDeserializationMethod=S.defaultDeserializationMethod,S.stateSchema===null||S.stateSchema instanceof ys)this.stateSchema=S.stateSchema;else{const B=typeof S.stateSchema=="function"?S.stateSchema(this):S.stateSchema;this.stateSchema=new ys({compositeSchema:B})}if(assert&&assert(!this.stateSchema||l||this.stateSchema.isComposite(),"toStateObject method must be provided for value StateSchemas"),this.toStateObject=B=>{fn(B,this.validator,Wc);let j;return!l&&g&&this.stateSchema&&this.stateSchema.isComposite()?j=this.defaultToStateObject(B):j=S.toStateObject(B),(l||g)&&assert&&this.validateStateObject(j),j},this.fromStateObject=S.fromStateObject,this.stateObjectToCreateElementArguments=S.stateObjectToCreateElementArguments,this.applyState=(B,j)=>{fn(B,this.validator,Wc),(r||g)&&assert&&B.phetioType&&B.phetioType.validateStateObject(j),!r&&g&&this.stateSchema&&this.stateSchema.isComposite()?this.defaultApplyState(B,j):S.applyState(B,j)},this.isFunctionType=S.isFunctionType,this.addChildElement=S.addChildElement,assert)if(assert&&assert(a||this.typeName==="ObjectIO","supertype is required"),assert&&assert(!this.typeName.includes("."),"Dots should not appear in type names"),assert&&assert(this.typeName.split(/[<(]/)[0].endsWith(bo.IO_TYPE_SUFFIX),`IOType name must end with ${bo.IO_TYPE_SUFFIX}`),assert&&assert(this.hasOwnProperty("typeName"),"this.typeName is required"),this.methods&&Object.values(this.methods).forEach(B=>{typeof B=="object"&&assert&&B.invocableForReadOnlyElements&&assert(typeof B.invocableForReadOnlyElements=="boolean",`invocableForReadOnlyElements must be of type boolean: ${B.invocableForReadOnlyElements}`)}),assert&&assert(this.documentation.length>0,"documentation must be provided"),this.methods&&this.hasOwnProperty("methodOrder")&&this.methodOrder.forEach(B=>{assert&&assert(this.methods[B],`methodName not in public methods: ${B}`)}),a){const B=a.getTypeHierarchy();assert&&this.events&&this.events.forEach(j=>{assert&&assert(!_.some(B,W=>W.events.includes(j)),`IOType should not declare event that parent also has: ${j}`)})}else assert&&assert(typeof S.toStateObject=="function","toStateObject must be defined"),assert&&assert(typeof S.fromStateObject=="function","fromStateObject must be defined"),assert&&assert(typeof S.stateObjectToCreateElementArguments=="function","stateObjectToCreateElementArguments must be defined"),assert&&assert(typeof S.applyState=="function","applyState must be defined")}defaultToStateObject(t){let i={};return this.supertype&&(i=this.supertype.defaultToStateObject(t)),this.stateSchema&&this.stateSchema.isComposite()?_.merge(i,this.stateSchema.defaultToStateObject(t)):i}defaultApplyState(t,i){this.supertype&&this.supertype.defaultApplyState(t,i),this.stateSchema&&this.stateSchema.isComposite()&&this.stateSchema.defaultApplyState(t,i)}getTypeHierarchy(){const t=[];let i=this;for(;i;)t.push(i),i=i.supertype;return t}extends(t){return this.getTypeHierarchy().includes(t)}getAllMetadataDefaults(){return _.merge({},this.supertype?this.supertype.getAllMetadataDefaults():{},this.metadataDefaults)}getAllDataDefaults(){return _.merge({},this.supertype?this.supertype.getAllDataDefaults():{},this.dataDefaults)}isStateObjectValid(t,i=!1,a=[]){let l=!0;if(this.stateSchema){const r=this.stateSchema.checkStateObjectValid(t,i,a);if(r!==null)return r}return this.supertype?l&&this.supertype.isStateObjectValid(t,i,a):!this.supertype&&t&&typeof t!="string"&&!Array.isArray(t)?(Object.keys(t).forEach(r=>{const g=a.includes(r);g||(l=!1),assert&&i&&assert(g,`stateObject provided a key that is not in the schema: ${r}`)}),l):!0}validateStateObject(t){this.isStateObjectValid(t,!0)}toString(){return this.typeName}}const Gc=null;yi.ObjectIO=new yi(Pn.OBJECT_IO_TYPE_NAME,{isValidValue:()=>!0,supertype:null,documentation:"The root of the PhET-iO Type hierarchy",toStateObject:A=>(phet&&phet.tandem&&phet.tandem.Tandem.VALIDATION&&(assert&&assert(A.tandem,"coreObject must be PhET-iO object"),assert&&assert(!A.phetioState,`fell back to root serialization state for ${A.tandem.phetioID}. Potential solutions:
         * mark the type as phetioState: false
         * create a custom toStateObject method in your IOType
         * perhaps you have everything right, but forgot to pass in the IOType via phetioType in the constructor`)),Gc),fromStateObject:()=>{throw new Error("ObjectIO.fromStateObject should not be called")},stateObjectToCreateElementArguments:()=>[],applyState:_.noop,metadataDefaults:Pn.PHET_IO_OBJECT_METADATA_DEFAULTS,dataDefaults:{initialState:Gc},stateSchema:null});Ri.register("IOType",yi);const Hi=new yi("InfiniteNumberIO",{valueType:"number",documentation:"PhET-iO Type for Javascript's number primitive type",toStateObject:A=>A===Number.POSITIVE_INFINITY?"POSITIVE_INFINITY":A===Number.NEGATIVE_INFINITY?"NEGATIVE_INFINITY":A,fromStateObject:A=>A==="POSITIVE_INFINITY"?Number.POSITIVE_INFINITY:A==="NEGATIVE_INFINITY"?Number.NEGATIVE_INFINITY:A,stateSchema:ys.asValue("'POSITIVE_INFINITY'|'NEGATIVE_INFINITY'|number",{isValidValue:A=>A==="POSITIVE_INFINITY"||A==="NEGATIVE_INFINITY"||typeof A=="number"&&!isNaN(A)})});Ri.register("InfiniteNumberIO",Hi);const rs=new yi("NumberIO",{valueType:"number",documentation:"PhET-iO Type for Javascript's number primitive type",toStateObject:_.identity,fromStateObject:A=>A,stateSchema:ys.asValue("number",{isValidValue:A=>typeof A=="number"&&!isNaN(A)&&A!==Number.POSITIVE_INFINITY&&A!==Number.NEGATIVE_INFINITY})});Ri.register("NumberIO",rs);const le=new gu("dot");le.register("FastArray",window.Float64Array?window.Float64Array:window.Array);var l1=20,h1=1,Zr=1e6,$c=1e6,c1=-7,f1=21,d1=!1,vu="[big.js] ",$r=vu+"Invalid ",Do=$r+"decimal places",m1=$r+"rounding mode",Df=vu+"Division by zero",bi={},Ys=void 0,p1=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function Ef(){function A(t){var i=this;if(!(i instanceof A))return t===Ys?Ef():new A(t);if(t instanceof A)i.s=t.s,i.e=t.e,i.c=t.c.slice();else{if(typeof t!="string"){if(A.strict===!0&&typeof t!="bigint")throw TypeError($r+"value");t=t===0&&1/t<0?"-0":String(t)}g1(i,t)}i.constructor=A}return A.prototype=bi,A.DP=l1,A.RM=h1,A.NE=c1,A.PE=f1,A.strict=d1,A.roundDown=0,A.roundHalfUp=1,A.roundHalfEven=2,A.roundUp=3,A}function g1(A,t){var i,a,l;if(!p1.test(t))throw Error($r+"number");for(A.s=t.charAt(0)=="-"?(t=t.slice(1),-1):1,(i=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(i<0&&(i=a),i+=+t.slice(a+1),t=t.substring(0,a)):i<0&&(i=t.length),l=t.length,a=0;a<l&&t.charAt(a)=="0";)++a;if(a==l)A.c=[A.e=0];else{for(;l>0&&t.charAt(--l)=="0";);for(A.e=i-a-1,A.c=[],i=0;a<=l;)A.c[i++]=+t.charAt(a++)}return A}function Kr(A,t,i,a){var l=A.c;if(i===Ys&&(i=A.constructor.RM),i!==0&&i!==1&&i!==2&&i!==3)throw Error(m1);if(t<1)a=i===3&&(a||!!l[0])||t===0&&(i===1&&l[0]>=5||i===2&&(l[0]>5||l[0]===5&&(a||l[1]!==Ys))),l.length=1,a?(A.e=A.e-t+1,l[0]=1):l[0]=A.e=0;else if(t<l.length){if(a=i===1&&l[t]>=5||i===2&&(l[t]>5||l[t]===5&&(a||l[t+1]!==Ys||l[t-1]&1))||i===3&&(a||!!l[0]),l.length=t,a){for(;++l[--t]>9;)if(l[t]=0,t===0){++A.e,l.unshift(1);break}}for(t=l.length;!l[--t];)l.pop()}return A}function Ma(A,t,i){var a=A.e,l=A.c.join(""),r=l.length;if(t)l=l.charAt(0)+(r>1?"."+l.slice(1):"")+(a<0?"e":"e+")+a;else if(a<0){for(;++a;)l="0"+l;l="0."+l}else if(a>0)if(++a>r)for(a-=r;a--;)l+="0";else a<r&&(l=l.slice(0,a)+"."+l.slice(a));else r>1&&(l=l.charAt(0)+"."+l.slice(1));return A.s<0&&i?"-"+l:l}bi.abs=function(){var A=new this.constructor(this);return A.s=1,A};bi.cmp=function(A){var t,i=this,a=i.c,l=(A=new i.constructor(A)).c,r=i.s,g=A.s,S=i.e,B=A.e;if(!a[0]||!l[0])return a[0]?r:l[0]?-g:0;if(r!=g)return r;if(t=r<0,S!=B)return S>B^t?1:-1;for(g=(S=a.length)<(B=l.length)?S:B,r=-1;++r<g;)if(a[r]!=l[r])return a[r]>l[r]^t?1:-1;return S==B?0:S>B^t?1:-1};bi.div=function(A){var t=this,i=t.constructor,a=t.c,l=(A=new i(A)).c,r=t.s==A.s?1:-1,g=i.DP;if(g!==~~g||g<0||g>Zr)throw Error(Do);if(!l[0])throw Error(Df);if(!a[0])return A.s=r,A.c=[A.e=0],A;var S,B,j,W,G,J=l.slice(),R=S=l.length,gt=a.length,m=a.slice(0,S),it=m.length,et=A,nt=et.c=[],Et=0,ot=g+(et.e=t.e-A.e)+1;for(et.s=r,r=ot<0?0:ot,J.unshift(0);it++<S;)m.push(0);do{for(j=0;j<10;j++){if(S!=(it=m.length))W=S>it?1:-1;else for(G=-1,W=0;++G<S;)if(l[G]!=m[G]){W=l[G]>m[G]?1:-1;break}if(W<0){for(B=it==S?l:J;it;){if(m[--it]<B[it]){for(G=it;G&&!m[--G];)m[G]=9;--m[G],m[it]+=10}m[it]-=B[it]}for(;!m[0];)m.shift()}else break}nt[Et++]=W?j:++j,m[0]&&W?m[it]=a[R]||0:m=[a[R]]}while((R++<gt||m[0]!==Ys)&&r--);return!nt[0]&&Et!=1&&(nt.shift(),et.e--,ot--),Et>ot&&Kr(et,ot,i.RM,m[0]!==Ys),et};bi.eq=function(A){return this.cmp(A)===0};bi.gt=function(A){return this.cmp(A)>0};bi.gte=function(A){return this.cmp(A)>-1};bi.lt=function(A){return this.cmp(A)<0};bi.lte=function(A){return this.cmp(A)<1};bi.minus=bi.sub=function(A){var t,i,a,l,r=this,g=r.constructor,S=r.s,B=(A=new g(A)).s;if(S!=B)return A.s=-B,r.plus(A);var j=r.c.slice(),W=r.e,G=A.c,J=A.e;if(!j[0]||!G[0])return G[0]?A.s=-B:j[0]?A=new g(r):A.s=1,A;if(S=W-J){for((l=S<0)?(S=-S,a=j):(J=W,a=G),a.reverse(),B=S;B--;)a.push(0);a.reverse()}else for(i=((l=j.length<G.length)?j:G).length,S=B=0;B<i;B++)if(j[B]!=G[B]){l=j[B]<G[B];break}if(l&&(a=j,j=G,G=a,A.s=-A.s),(B=(i=G.length)-(t=j.length))>0)for(;B--;)j[t++]=0;for(B=t;i>S;){if(j[--i]<G[i]){for(t=i;t&&!j[--t];)j[t]=9;--j[t],j[i]+=10}j[i]-=G[i]}for(;j[--B]===0;)j.pop();for(;j[0]===0;)j.shift(),--J;return j[0]||(A.s=1,j=[J=0]),A.c=j,A.e=J,A};bi.mod=function(A){var t,i=this,a=i.constructor,l=i.s,r=(A=new a(A)).s;if(!A.c[0])throw Error(Df);return i.s=A.s=1,t=A.cmp(i)==1,i.s=l,A.s=r,t?new a(i):(l=a.DP,r=a.RM,a.DP=a.RM=0,i=i.div(A),a.DP=l,a.RM=r,this.minus(i.times(A)))};bi.neg=function(){var A=new this.constructor(this);return A.s=-A.s,A};bi.plus=bi.add=function(A){var t,i,a,l=this,r=l.constructor;if(A=new r(A),l.s!=A.s)return A.s=-A.s,l.minus(A);var g=l.e,S=l.c,B=A.e,j=A.c;if(!S[0]||!j[0])return j[0]||(S[0]?A=new r(l):A.s=l.s),A;if(S=S.slice(),t=g-B){for(t>0?(B=g,a=j):(t=-t,a=S),a.reverse();t--;)a.push(0);a.reverse()}for(S.length-j.length<0&&(a=j,j=S,S=a),t=j.length,i=0;t;S[t]%=10)i=(S[--t]=S[t]+j[t]+i)/10|0;for(i&&(S.unshift(i),++B),t=S.length;S[--t]===0;)S.pop();return A.c=S,A.e=B,A};bi.pow=function(A){var t=this,i=new t.constructor("1"),a=i,l=A<0;if(A!==~~A||A<-$c||A>$c)throw Error($r+"exponent");for(l&&(A=-A);A&1&&(a=a.times(t)),A>>=1,!!A;)t=t.times(t);return l?i.div(a):a};bi.prec=function(A,t){if(A!==~~A||A<1||A>Zr)throw Error($r+"precision");return Kr(new this.constructor(this),A,t)};bi.round=function(A,t){if(A===Ys)A=0;else if(A!==~~A||A<-Zr||A>Zr)throw Error(Do);return Kr(new this.constructor(this),A+this.e+1,t)};bi.sqrt=function(){var A,t,i,a=this,l=a.constructor,r=a.s,g=a.e,S=new l("0.5");if(!a.c[0])return new l(a);if(r<0)throw Error(vu+"No square root");r=Math.sqrt(a+""),r===0||r===1/0?(t=a.c.join(""),t.length+g&1||(t+="0"),r=Math.sqrt(t),g=((g+1)/2|0)-(g<0||g&1),A=new l((r==1/0?"5e":(r=r.toExponential()).slice(0,r.indexOf("e")+1))+g)):A=new l(r+""),g=A.e+(l.DP+=4);do i=A,A=S.times(i.plus(a.div(i)));while(i.c.slice(0,g).join("")!==A.c.slice(0,g).join(""));return Kr(A,(l.DP-=4)+A.e+1,l.RM)};bi.times=bi.mul=function(A){var t,i=this,a=i.constructor,l=i.c,r=(A=new a(A)).c,g=l.length,S=r.length,B=i.e,j=A.e;if(A.s=i.s==A.s?1:-1,!l[0]||!r[0])return A.c=[A.e=0],A;for(A.e=B+j,g<S&&(t=l,l=r,r=t,j=g,g=S,S=j),t=new Array(j=g+S);j--;)t[j]=0;for(B=S;B--;){for(S=0,j=g+B;j>B;)S=t[j]+r[B]*l[j-B-1]+S,t[j--]=S%10,S=S/10|0;t[j]=S}for(S?++A.e:t.shift(),B=t.length;!t[--B];)t.pop();return A.c=t,A};bi.toExponential=function(A,t){var i=this,a=i.c[0];if(A!==Ys){if(A!==~~A||A<0||A>Zr)throw Error(Do);for(i=Kr(new i.constructor(i),++A,t);i.c.length<A;)i.c.push(0)}return Ma(i,!0,!!a)};bi.toFixed=function(A,t){var i=this,a=i.c[0];if(A!==Ys){if(A!==~~A||A<0||A>Zr)throw Error(Do);for(i=Kr(new i.constructor(i),A+i.e+1,t),A=A+i.e+1;i.c.length<A;)i.c.push(0)}return Ma(i,!1,!!a)};bi[Symbol.for("nodejs.util.inspect.custom")]=bi.toJSON=bi.toString=function(){var A=this,t=A.constructor;return Ma(A,A.e<=t.NE||A.e>=t.PE,!!A.c[0])};bi.toNumber=function(){var A=Number(Ma(this,!0,!0));if(this.constructor.strict===!0&&!this.eq(A.toString()))throw Error(vu+"Imprecise conversion");return A};bi.toPrecision=function(A,t){var i=this,a=i.constructor,l=i.c[0];if(A!==Ys){if(A!==~~A||A<1||A>Zr)throw Error($r+"precision");for(i=Kr(new a(i),A,t);i.c.length<A;)i.c.push(0)}return Ma(i,A<=i.e||i.e<=a.NE||i.e>=a.PE,!!l)};bi.valueOf=function(){var A=this,t=A.constructor;if(t.strict===!0)throw Error(vu+"valueOf disallowed");return Ma(A,A.e<=t.NE||A.e>=t.PE,!0)};var v1=Ef();const ba=class ba{constructor(t,i,a,l){this.x=t,this.y=i,this.z=a,this.w=l}getMagnitude(){return Math.sqrt(this.magnitudeSquared)}get magnitude(){return this.getMagnitude()}getMagnitudeSquared(){return this.dot(this)}get magnitudeSquared(){return this.getMagnitudeSquared()}distance(t){return this.minus(t).magnitude}distanceXYZW(t,i,a,l){const r=this.x-t,g=this.y-i,S=this.z-a,B=this.w-l;return Math.sqrt(r*r+g*g+S*S+B*B)}distanceSquared(t){return this.minus(t).magnitudeSquared}distanceSquaredXYZW(t,i,a,l){const r=this.x-t,g=this.y-i,S=this.z-a,B=this.w-l;return r*r+g*g+S*S+B*B}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}dotXYZW(t,i,a,l){return this.x*t+this.y*i+this.z*a+this.w*l}angleBetween(t){return Math.acos(le.clamp(this.normalized().dot(t.normalized()),-1,1))}equals(t){return this.x===t.x&&this.y===t.y&&this.z===t.z&&this.w===t.w}equalsEpsilon(t,i){return i||(i=0),Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)+Math.abs(this.w-t.w)<=i}isFinite(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.z)&&isFinite(this.w)}copy(t){return t?t.set(this):Zn(this.x,this.y,this.z,this.w)}normalized(){const t=this.magnitude;return assert&&assert(t!==0,"Cannot normalize a zero-magnitude vector"),this.dividedScalar(t)}roundedSymmetric(){return this.copy().roundSymmetric()}withMagnitude(t){return this.copy().setMagnitude(t)}timesScalar(t){return Zn(this.x*t,this.y*t,this.z*t,this.w*t)}times(t){return this.timesScalar(t)}componentTimes(t){return Zn(this.x*t.x,this.y*t.y,this.z*t.z,this.w*t.w)}plus(t){return Zn(this.x+t.x,this.y+t.y,this.z+t.z,this.w+t.w)}plusXYZW(t,i,a,l){return Zn(this.x+t,this.y+i,this.z+a,this.w+l)}plusScalar(t){return Zn(this.x+t,this.y+t,this.z+t,this.w+t)}minus(t){return Zn(this.x-t.x,this.y-t.y,this.z-t.z,this.w-t.w)}minusXYZW(t,i,a,l){return Zn(this.x-t,this.y-i,this.z-a,this.w-l)}minusScalar(t){return Zn(this.x-t,this.y-t,this.z-t,this.w-t)}dividedScalar(t){return Zn(this.x/t,this.y/t,this.z/t,this.w/t)}negated(){return Zn(-this.x,-this.y,-this.z,-this.w)}blend(t,i){return this.plus(t.minus(this).times(i))}average(t){return this.blend(t,.5)}toString(){return`Vector4(${this.x}, ${this.y}, ${this.z}, ${this.w})`}toVector3(){return new ke(this.x,this.y,this.z)}setXYZW(t,i,a,l){return this.x=t,this.y=i,this.z=a,this.w=l,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}set(t){return this.setXYZW(t.x,t.y,t.z,t.w)}setMagnitude(t){const i=t/this.magnitude;return this.multiplyScalar(i)}add(t){return this.setXYZW(this.x+t.x,this.y+t.y,this.z+t.z,this.w+t.w)}addXYZW(t,i,a,l){return this.setXYZW(this.x+t,this.y+i,this.z+a,this.w+l)}addScalar(t){return this.setXYZW(this.x+t,this.y+t,this.z+t,this.w+t)}subtract(t){return this.setXYZW(this.x-t.x,this.y-t.y,this.z-t.z,this.w-t.w)}subtractXYZW(t,i,a,l){return this.setXYZW(this.x-t,this.y-i,this.z-a,this.w-l)}subtractScalar(t){return this.setXYZW(this.x-t,this.y-t,this.z-t,this.w-t)}multiplyScalar(t){return this.setXYZW(this.x*t,this.y*t,this.z*t,this.w*t)}multiply(t){return this.multiplyScalar(t)}componentMultiply(t){return this.setXYZW(this.x*t.x,this.y*t.y,this.z*t.z,this.w*t.w)}divideScalar(t){return this.setXYZW(this.x/t,this.y/t,this.z/t,this.w/t)}negate(){return this.setXYZW(-this.x,-this.y,-this.z,-this.w)}normalize(){const t=this.magnitude;if(t===0)throw new Error("Cannot normalize a zero-magnitude vector");return this.divideScalar(t)}roundSymmetric(){return this.setXYZW(ri.roundSymmetric(this.x),ri.roundSymmetric(this.y),ri.roundSymmetric(this.z),ri.roundSymmetric(this.w))}freeToPool(){ba.pool.freeToPool(this)}};ba.pool=new Gr(ba,{maxSize:1e3,initialize:ba.prototype.setXYZW,defaultArguments:[0,0,0,0]});let ji=ba;ji.prototype.isVector4=!0;ji.prototype.dimension=4;le.register("Vector4",ji);const Zn=ji.pool.create.bind(ji.pool);le.register("v4",Zn);class _s extends ji{static mutableOverrideHelper(t){_s.prototype[t]=()=>{throw new Error(`Cannot call mutable method '${t}' on immutable Vector3`)}}}_s.mutableOverrideHelper("setXYZW");_s.mutableOverrideHelper("setX");_s.mutableOverrideHelper("setY");_s.mutableOverrideHelper("setZ");_s.mutableOverrideHelper("setW");ji.ZERO=assert?new _s(0,0,0,0):new ji(0,0,0,0);ji.X_UNIT=assert?new _s(1,0,0,0):new ji(1,0,0,0);ji.Y_UNIT=assert?new _s(0,1,0,0):new ji(0,1,0,0);ji.Z_UNIT=assert?new _s(0,0,1,0):new ji(0,0,1,0);ji.W_UNIT=assert?new _s(0,0,0,1):new ji(0,0,0,1);const y1=(A,t)=>A.add(t),Xr=class Xr{constructor(t,i,a){this.x=t,this.y=i,this.z=a}getMagnitude(){return Math.sqrt(this.magnitudeSquared)}get magnitude(){return this.getMagnitude()}getMagnitudeSquared(){return this.dot(this)}get magnitudeSquared(){return this.getMagnitudeSquared()}distance(t){return Math.sqrt(this.distanceSquared(t))}distanceXYZ(t,i,a){const l=this.x-t,r=this.y-i,g=this.z-a;return Math.sqrt(l*l+r*r+g*g)}distanceSquared(t){const i=this.x-t.x,a=this.y-t.y,l=this.z-t.z;return i*i+a*a+l*l}distanceSquaredXYZ(t,i,a){const l=this.x-t,r=this.y-i,g=this.z-a;return l*l+r*r+g*g}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}dotXYZ(t,i,a){return this.x*t+this.y*i+this.z*a}angleBetween(t){return Math.acos(ri.clamp(this.normalized().dot(t.normalized()),-1,1))}equals(t){return this.x===t.x&&this.y===t.y&&this.z===t.z}equalsEpsilon(t,i){return i||(i=0),Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)<=i}isFinite(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.z)}copy(t){return t?t.set(this):Mn(this.x,this.y,this.z)}cross(t){return Mn(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)}normalized(){const t=this.magnitude;if(t===0)throw new Error("Cannot normalize a zero-magnitude vector");return Mn(this.x/t,this.y/t,this.z/t)}roundedSymmetric(){return this.copy().roundSymmetric()}withMagnitude(t){return this.copy().setMagnitude(t)}timesScalar(t){return Mn(this.x*t,this.y*t,this.z*t)}times(t){return this.timesScalar(t)}componentTimes(t){return Mn(this.x*t.x,this.y*t.y,this.z*t.z)}plus(t){return Mn(this.x+t.x,this.y+t.y,this.z+t.z)}plusXYZ(t,i,a){return Mn(this.x+t,this.y+i,this.z+a)}plusScalar(t){return Mn(this.x+t,this.y+t,this.z+t)}minus(t){return Mn(this.x-t.x,this.y-t.y,this.z-t.z)}minusXYZ(t,i,a){return Mn(this.x-t,this.y-i,this.z-a)}minusScalar(t){return Mn(this.x-t,this.y-t,this.z-t)}dividedScalar(t){return Mn(this.x/t,this.y/t,this.z/t)}negated(){return Mn(-this.x,-this.y,-this.z)}blend(t,i){return this.plus(t.minus(this).times(i))}average(t){return this.blend(t,.5)}static average(t){return _.reduce(t,y1,new Xr(0,0,0)).divideScalar(t.length)}toString(){return`Vector3(${this.x}, ${this.y}, ${this.z})`}toVector2(){return Qi(this.x,this.y)}toVector4(){return Zn(this.x,this.y,this.z,1)}toVector4Zero(){return Zn(this.x,this.y,this.z,0)}setXYZ(t,i,a){return this.x=t,this.y=i,this.z=a,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}set(t){return this.setXYZ(t.x,t.y,t.z)}setMagnitude(t){const i=t/this.magnitude;return this.multiplyScalar(i)}add(t){return this.setXYZ(this.x+t.x,this.y+t.y,this.z+t.z)}addXYZ(t,i,a){return this.setXYZ(this.x+t,this.y+i,this.z+a)}addScalar(t){return this.setXYZ(this.x+t,this.y+t,this.z+t)}subtract(t){return this.setXYZ(this.x-t.x,this.y-t.y,this.z-t.z)}subtractXYZ(t,i,a){return this.setXYZ(this.x-t,this.y-i,this.z-a)}subtractScalar(t){return this.setXYZ(this.x-t,this.y-t,this.z-t)}multiplyScalar(t){return this.setXYZ(this.x*t,this.y*t,this.z*t)}multiply(t){return this.multiplyScalar(t)}componentMultiply(t){return this.setXYZ(this.x*t.x,this.y*t.y,this.z*t.z)}divideScalar(t){return this.setXYZ(this.x/t,this.y/t,this.z/t)}negate(){return this.setXYZ(-this.x,-this.y,-this.z)}setCross(t){return this.setXYZ(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)}normalize(){const t=this.magnitude;if(t===0)throw new Error("Cannot normalize a zero-magnitude vector");return this.divideScalar(t)}roundSymmetric(){return this.setXYZ(ri.roundSymmetric(this.x),ri.roundSymmetric(this.y),ri.roundSymmetric(this.z))}toStateObject(){return{x:this.x,y:this.y,z:this.z}}freeToPool(){Xr.pool.freeToPool(this)}static slerp(t,i,a){return le.Quaternion.slerp(new le.Quaternion,le.Quaternion.getRotationQuaternion(t,i),a).timesVector3(t)}static fromStateObject(t){return Mn(t.x,t.y,t.z)}};Xr.pool=new Gr(Xr,{maxSize:1e3,initialize:Xr.prototype.setXYZ,defaultArguments:[0,0,0]});let ke=Xr;ke.prototype.isVector3=!0;ke.prototype.dimension=3;le.register("Vector3",ke);const Mn=ke.pool.create.bind(ke.pool);le.register("v3",Mn);class Us extends ke{static mutableOverrideHelper(t){Us.prototype[t]=()=>{throw new Error(`Cannot call mutable method '${t}' on immutable Vector3`)}}}Us.mutableOverrideHelper("setXYZ");Us.mutableOverrideHelper("setX");Us.mutableOverrideHelper("setY");Us.mutableOverrideHelper("setZ");ke.ZERO=assert?new Us(0,0,0):new ke(0,0,0);ke.X_UNIT=assert?new Us(1,0,0):new ke(1,0,0);ke.Y_UNIT=assert?new Us(0,1,0):new ke(0,1,0);ke.Z_UNIT=assert?new Us(0,0,1):new ke(0,0,1);ke.Vector3IO=new yi("Vector3IO",{valueType:ke,documentation:"Basic 3-dimensional vector, represented as (x,y,z)",toStateObject:A=>A.toStateObject(),fromStateObject:ke.fromStateObject,stateSchema:{x:rs,y:rs,z:rs}});const _1=Number.MIN_VALUE,Kc=2*Math.PI;let Tl,Qc,Jc;const Qe={clamp(A,t,i){return A<t?t:A>i?i:A},moduloBetweenDown(A,t,i){assert&&assert(i>t,"max > min required for moduloBetween");const a=i-t;let l=(A-t)%a;return l<0&&(l+=a),l+t},moduloBetweenUp(A,t,i){return-Qe.moduloBetweenDown(-A,-i,-t)},rangeInclusive(A,t){if(t<A)return[];const i=new Array(t-A+1);for(let a=A;a<=t;a++)i[a-A]=a;return i},rangeExclusive(A,t){return Qe.rangeInclusive(A+1,t-1)},toRadians(A){return Math.PI*A/180},toDegrees(A){return 180*A/Math.PI},mod(A,t){return A/t%1===0?0:A%t},gcd(A,t){return Math.abs(t===0?A:this.gcd(t,Qe.mod(A,t)))},lcm(A,t){return Qe.roundSymmetric(Math.abs(A*t)/Qe.gcd(A,t))},lineLineIntersection(A,t,i,a){if(A.equals(t)||i.equals(a))return null;const r=A.x-t.x,g=i.x-a.x,S=A.y-t.y,B=i.y-a.y,j=r*B-S*g;if(Math.abs(j)<1e-10)return null;const W=A.x*t.y-A.y*t.x,G=i.x*a.y-i.y*a.x;return new ce((W*g-r*G)/j,(W*B-S*G)/j)},circleCenterFromPoints(A,t,i){const a=new ce((A.x+t.x)/2,(A.y+t.y)/2),l=new ce((t.x+i.x)/2,(t.y+i.y)/2),r=new ce(a.x+(t.y-A.y),a.y-(t.x-A.x)),g=new ce(l.x+(i.y-t.y),l.y-(i.x-t.x));return Qe.lineLineIntersection(a,r,l,g)},pointInCircleFromPoints(A,t,i,a){assert&&assert(Qe.triangleAreaSigned(A,t,i)>0,"Defined points should be in a counterclockwise order");const l=A.x-a.x,r=A.y-a.y,g=(A.x-a.x)*(A.x-a.x)+(A.y-a.y)*(A.y-a.y),S=t.x-a.x,B=t.y-a.y,j=(t.x-a.x)*(t.x-a.x)+(t.y-a.y)*(t.y-a.y),W=i.x-a.x,G=i.y-a.y,J=(i.x-a.x)*(i.x-a.x)+(i.y-a.y)*(i.y-a.y);return l*B*J+r*j*W+g*S*G-g*B*W-r*S*J-l*j*G>0},sphereRayIntersection(A,t,i){i=i===void 0?1e-5:i;const a=new ke(0,0,0),l=t.direction,r=t.position,g=r.minus(a),S=l.dot(g),B=g.magnitudeSquared,j=4*S*S-4*(B-A*A);if(j<i)return null;const W=l.dot(a)-l.dot(r),G=Math.sqrt(j)/2,J=W-G,R=W+G;if(R<i)return null;const gt=t.pointAtDistance(R),m=gt.minus(a).normalized();if(J<i)return{distance:R,hitPoint:gt,normal:m.negated(),fromOutside:!1};{const it=t.pointAtDistance(J),et=it.minus(a).normalized();return{distance:J,hitPoint:it,normal:et,fromOutside:!0}}},solveLinearRootsReal(A,t){return A===0?t===0?null:[]:[-t/A]},solveQuadraticRootsReal(A,t,i){if(A===0||Math.abs(t/A)>1e7||Math.abs(i/A)>1e7)return Qe.solveLinearRootsReal(t,i);const l=t*t-4*A*i;if(l<0)return[];const r=Math.sqrt(l);return[(-t-r)/(2*A),(-t+r)/(2*A)]},solveCubicRootsReal(A,t,i,a,l=1e-7){let r;if(A===0)r=Qe.solveQuadraticRootsReal(t,i,a);else if(A===0||Math.abs(t/A)>1e7||Math.abs(i/A)>1e7||Math.abs(a/A)>1e7)r=Qe.solveQuadraticRootsReal(t,i,a);else if(a===0||Math.abs(A/a)>1e7||Math.abs(t/a)>1e7||Math.abs(i/a)>1e7)r=[0].concat(Qe.solveQuadraticRootsReal(A,t,i));else{t/=A,i/=A,a/=A;const S=(3*i-t*t)/9,B=(-(27*a)+t*(9*i-2*(t*t)))/54,j=S*S*S+B*B,W=t/3;if(j>l){const G=Math.sqrt(j);r=[Qe.cubeRoot(B+G)+Qe.cubeRoot(B-G)-W]}else if(j>-l){const G=Qe.cubeRoot(B),J=-W-G;r=[-W+2*G,J,J]}else{let G=-S*S*S;G=Math.acos(B/Math.sqrt(G));const J=2*Math.sqrt(-S);r=[-W+J*Math.cos(G/3),-W+J*Math.cos((G+2*Math.PI)/3),-W+J*Math.cos((G+4*Math.PI)/3)]}}return assert&&r&&r.forEach(g=>assert(isFinite(g),"All returned solveCubicRootsReal roots should be finite")),r},cubeRoot(A){return A>=0?Math.pow(A,1/3):-Math.pow(-A,1/3)},linear(A,t,i,a,l){return assert&&assert(typeof l=="number","linear requires a number to evaluate"),(a-i)/(t-A)*(l-A)+i},roundSymmetric(A){return(A<0?-1:1)*Math.round(Math.abs(A))},toFixed(A,t){if(assert&&assert(typeof A=="number"),assert&&assert(Number.isInteger(t),`decimal places must be an integer: ${t}`),isNaN(A))return"NaN";if(A===Number.POSITIVE_INFINITY)return"Infinity";if(A===Number.NEGATIVE_INFINITY)return"-Infinity";const i=new v1(A).toFixed(t);return i.startsWith("-0.")&&Number.parseFloat(i)===0?"0"+i.slice(2):i},toFixedNumber(A,t){return parseFloat(Qe.toFixed(A,t))},equalsEpsilon(A,t,i){return Math.abs(A-t)<=i},lineSegmentIntersection(A,t,i,a,l,r,g,S){const B=(J,R,gt,m,it,et)=>(et-R)*(gt-J)-(m-R)*(it-J);if(B(A,t,l,r,g,S)*B(i,a,l,r,g,S)>0||B(l,r,A,t,i,a)*B(g,S,A,t,i,a)>0)return null;const j=(A-i)*(r-S)-(t-a)*(l-g);if(Math.abs(j)<1e-10)return null;if(A===l&&t===r||A===g&&t===S)return new ce(A,t);if(i===l&&a===r||i===g&&a===S)return new ce(i,a);const W=((A*a-t*i)*(l-g)-(A-i)*(l*S-r*g))/j,G=((A*a-t*i)*(r-S)-(t-a)*(l*S-r*g))/j;return new ce(W,G)},distToSegmentSquared(A,t,i){const a=t.distanceSquared(i);if(a===0)return A.distanceSquared(t);const l=((A.x-t.x)*(i.x-t.x)+(A.y-t.y)*(i.y-t.y))/a;let r;return l<0?r=A.distanceSquared(t):l>1?r=A.distanceSquared(i):r=A.distanceSquared(new ce(t.x+l*(i.x-t.x),t.y+l*(i.y-t.y))),r},distToSegment(A,t,i){return Math.sqrt(this.distToSegmentSquared(A,t,i))},arePointsCollinear(A,t,i,a){return a===void 0&&(a=0),Qe.triangleArea(A,t,i)<=a},triangleArea(A,t,i){return Math.abs(Qe.triangleAreaSigned(A,t,i))},triangleAreaSigned(A,t,i){return A.x*(t.y-i.y)+t.x*(i.y-A.y)+i.x*(A.y-t.y)},centroidOfPolygon(A){const t=new ce(0,0);let i=0;return A.forEach((a,l)=>{const r=A[(l+1)%A.length],g=a.x*r.y-r.x*a.y;i+=g/2,t.addXY((a.x+r.x)*g,(a.y+r.y)*g)}),t.divideScalar(6*i),t},cosh(A){return(Math.exp(A)+Math.exp(-A))/2},sinh(A){return(Math.exp(A)-Math.exp(-A))/2},log10(A){return Math.log(A)/Math.LN10},boxMullerTransform(A,t,i){if(Tl=!Tl,!Tl)return Jc*t+A;let a,l;do a=i.nextDouble(),l=i.nextDouble();while(a<=_1);return Qc=Math.sqrt(-2*Math.log(a))*Math.cos(Kc*l),Jc=Math.sqrt(-2*Math.log(a))*Math.sin(Kc*l),Qc*t+A},numberOfDecimalPlaces(A){if(assert&&assert(typeof A=="number"&&isFinite(A),`value must be a finite number ${A}`),Math.floor(A)===A)return 0;{const t=A.toString();if(t.includes("e")){const i=t.split("e"),a=i[0],l=Number(i[1]),r=a.includes(".")?a.split(".")[1].length:0;return Math.max(r-l,0)}else return t.split(".")[1].length}},roundToInterval(A,t){return Qe.toFixedNumber(Qe.roundSymmetric(A/t)*t,Qe.numberOfDecimalPlaces(t))}};le.register("Utils",Qe);le.clamp=Qe.clamp;le.moduloBetweenDown=Qe.moduloBetweenDown;le.moduloBetweenUp=Qe.moduloBetweenUp;le.rangeInclusive=Qe.rangeInclusive;le.rangeExclusive=Qe.rangeExclusive;le.toRadians=Qe.toRadians;le.toDegrees=Qe.toDegrees;le.lineLineIntersection=Qe.lineLineIntersection;le.lineSegmentIntersection=Qe.lineSegmentIntersection;le.sphereRayIntersection=Qe.sphereRayIntersection;le.solveQuadraticRootsReal=Qe.solveQuadraticRootsReal;le.solveCubicRootsReal=Qe.solveCubicRootsReal;le.cubeRoot=Qe.cubeRoot;le.linear=Qe.linear;le.boxMullerTransform=Qe.boxMullerTransform;const ri=Qe,w1=(A,t)=>A.add(t),_r=class _r{constructor(t,i){this.x=t,this.y=i}getMagnitude(){return Math.sqrt(this.magnitudeSquared)}get magnitude(){return this.getMagnitude()}getMagnitudeSquared(){return this.x*this.x+this.y*this.y}get magnitudeSquared(){return this.getMagnitudeSquared()}distance(t){return Math.sqrt(this.distanceSquared(t))}distanceXY(t,i){const a=this.x-t,l=this.y-i;return Math.sqrt(a*a+l*l)}distanceSquared(t){const i=this.x-t.x,a=this.y-t.y;return i*i+a*a}distanceSquaredXY(t,i){const a=this.x-t,l=this.y-i;return a*a+l*l}dot(t){return this.x*t.x+this.y*t.y}dotXY(t,i){return this.x*t+this.y*i}getAngle(){return Math.atan2(this.y,this.x)}get angle(){return this.getAngle()}angleBetween(t){const i=this.magnitude,a=t.magnitude;return Math.acos(le.clamp((this.x*t.x+this.y*t.y)/(i*a),-1,1))}equals(t){return this.x===t.x&&this.y===t.y}equalsEpsilon(t,i){return i||(i=0),Math.max(Math.abs(this.x-t.x),Math.abs(this.y-t.y))<=i}isFinite(){return isFinite(this.x)&&isFinite(this.y)}copy(t){return t?t.set(this):Qi(this.x,this.y)}crossScalar(t){return this.x*t.y-this.y*t.x}normalized(){const t=this.magnitude;if(t===0)throw new Error("Cannot normalize a zero-magnitude vector");return Qi(this.x/t,this.y/t)}roundedSymmetric(){return this.copy().roundSymmetric()}withMagnitude(t){return this.copy().setMagnitude(t)}timesScalar(t){return Qi(this.x*t,this.y*t)}times(t){return this.timesScalar(t)}componentTimes(t){return Qi(this.x*t.x,this.y*t.y)}plus(t){return Qi(this.x+t.x,this.y+t.y)}plusXY(t,i){return Qi(this.x+t,this.y+i)}plusScalar(t){return Qi(this.x+t,this.y+t)}minus(t){return Qi(this.x-t.x,this.y-t.y)}minusXY(t,i){return Qi(this.x-t,this.y-i)}minusScalar(t){return Qi(this.x-t,this.y-t)}dividedScalar(t){return Qi(this.x/t,this.y/t)}negated(){return Qi(-this.x,-this.y)}getPerpendicular(){return Qi(this.y,-this.x)}get perpendicular(){return this.getPerpendicular()}rotated(t){const i=this.angle+t,a=this.magnitude;return Qi(a*Math.cos(i),a*Math.sin(i))}rotateAboutXY(t,i,a){const l=this.x-t,r=this.y-i,g=Math.cos(a),S=Math.sin(a);return this.x=t+l*g-r*S,this.y=i+l*S+r*g,this}rotateAboutPoint(t,i){return this.rotateAboutXY(t.x,t.y,i)}rotatedAboutXY(t,i,a){return Qi(this.x,this.y).rotateAboutXY(t,i,a)}rotatedAboutPoint(t,i){return this.rotatedAboutXY(t.x,t.y,i)}blend(t,i){return Qi(this.x+(t.x-this.x)*i,this.y+(t.y-this.y)*i)}average(t){return this.blend(t,.5)}static average(t){return _.reduce(t,w1,new _r(0,0)).divideScalar(t.length)}toString(){return`Vector2(${this.x}, ${this.y})`}toVector3(){return new ke(this.x,this.y,0)}setXY(t,i){return this.x=t,this.y=i,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}set(t){return this.setXY(t.x,t.y)}setMagnitude(t){const i=t/this.magnitude;return this.multiplyScalar(i)}add(t){return this.setXY(this.x+t.x,this.y+t.y)}addXY(t,i){return this.setXY(this.x+t,this.y+i)}addScalar(t){return this.setXY(this.x+t,this.y+t)}subtract(t){return this.setXY(this.x-t.x,this.y-t.y)}subtractXY(t,i){return this.setXY(this.x-t,this.y-i)}subtractScalar(t){return this.setXY(this.x-t,this.y-t)}multiplyScalar(t){return this.setXY(this.x*t,this.y*t)}multiply(t){return this.multiplyScalar(t)}componentMultiply(t){return this.setXY(this.x*t.x,this.y*t.y)}divideScalar(t){return this.setXY(this.x/t,this.y/t)}negate(){return this.setXY(-this.x,-this.y)}normalize(){const t=this.magnitude;if(t===0)throw new Error("Cannot normalize a zero-magnitude vector");return this.divideScalar(t)}roundSymmetric(){return this.setXY(ri.roundSymmetric(this.x),ri.roundSymmetric(this.y))}rotate(t){const i=this.angle+t,a=this.magnitude;return this.setXY(a*Math.cos(i),a*Math.sin(i))}setPolar(t,i){return this.setXY(t*Math.cos(i),t*Math.sin(i))}toStateObject(){return{x:this.x,y:this.y}}freeToPool(){_r.pool.freeToPool(this)}static createPolar(t,i){return new _r(0,0).setPolar(t,i)}static fromStateObject(t){return Qi(t.x,t.y)}static getAngleBetweenVectors(t,i){const a=i.x-t.x,l=i.y-t.y;return Math.atan2(l,a)}static getDistanceBetweenVectors(t,i){const a=i.x-t.x,l=i.y-t.y;return Math.sqrt(a*a+l*l)}};_r.pool=new Gr(_r,{maxSize:1e3,initialize:_r.prototype.setXY,defaultArguments:[0,0]});let ce=_r;ce.prototype.isVector2=!0;ce.prototype.dimension=2;le.register("Vector2",ce);const Qi=ce.pool.create.bind(ce.pool);le.register("v2",Qi);class Cr extends ce{static mutableOverrideHelper(t){Cr.prototype[t]=()=>{throw new Error(`Cannot call mutable method '${t}' on immutable Vector2`)}}}Cr.mutableOverrideHelper("setXY");Cr.mutableOverrideHelper("setX");Cr.mutableOverrideHelper("setY");ce.ZERO=assert?new Cr(0,0):new ce(0,0);ce.X_UNIT=assert?new Cr(1,0):new ce(1,0);ce.Y_UNIT=assert?new Cr(0,1):new ce(0,1);const b1={x:rs,y:rs};ce.Vector2IO=new yi("Vector2IO",{valueType:ce,stateSchema:b1,toStateObject:A=>A.toStateObject(),fromStateObject:A=>ce.fromStateObject(A),documentation:"A numerical object with x and y properties, like {x:3,y:4}"});const x1={min:Hi,max:Hi},On=class On{constructor(t,i){this._min=t,this._max=i}getMin(){return this._min}get min(){return this.getMin()}set min(t){this.setMin(t)}setMin(t){assert&&assert(t<=this._max,`min must be <= max: ${t}`),this._min=t}getMax(){return this._max}get max(){return this.getMax()}set max(t){this.setMax(t)}setMax(t){assert&&assert(this._min<=t,`max must be >= to min: ${t}`),this._max=t}setMinMax(t,i){return assert&&assert(t<=i,`max must be >= to min. min: ${t}, max: ${i}`),this._min=t,this._max=i,this}set(t){return this.setMinMax(t.min,t.max),this}addValue(t){this._min=Math.min(this._min,t),this._max=Math.max(this._max,t)}withValue(t){return new On(Math.min(this._min,t),Math.max(this._max,t))}copy(){return new On(this._min,this._max)}getLength(){return this._max-this._min}getCenter(){return(this._max+this._min)/2}contains(t){return t>=this._min&&t<=this._max}containsRange(t){return this._min<=t.min&&this._max>=t.max}intersects(t){return this._max>=t.min&&t.max>=this._min}intersectsExclusive(t){return this._max>t.min&&t.max>this._min}union(t){return new On(Math.min(this.min,t.min),Math.max(this.max,t.max))}intersection(t){return new On(Math.max(this.min,t.min),Math.min(this.max,t.max))}includeRange(t){return this.setMinMax(Math.min(this.min,t.min),Math.max(this.max,t.max))}constrainRange(t){return this.setMinMax(Math.max(this.min,t.min),Math.min(this.max,t.max))}shifted(t){return new On(this.min+t,this.max+t)}toString(){return`[Range (min:${this._min} max:${this._max})]`}constrainValue(t){return Math.min(Math.max(t,this._min),this._max)}equals(t){return this.constructor===t.constructor&&this._min===t.min&&this._max===t.max}equalsEpsilon(t,i){return this.constructor===t.constructor&&Math.abs(this._min-t.min)<=i&&Math.abs(this._max-t.max)<=i}getNormalizedValue(t){return assert&&assert(this.getLength()!==0,"cannot get normalized value without a range length"),(t-this.min)/this.getLength()}expandNormalizedValue(t){return assert&&assert(this.getLength()!==0,"cannot get expand normalized value without a range length"),t*this.getLength()+this.min}get defaultValue(){throw new Error("defaultValue is undefined, did you mean to use RangeWithValue?")}toStateObject(){return{min:Hi.toStateObject(this.min),max:Hi.toStateObject(this.max)}}clampDelta(t,i){return assert&&assert(this.contains(t)),t+i<this.min?this.min-t:t+i>this.max?this.max-t:i}static fromStateObject(t){return new On(Hi.fromStateObject(t.min),Hi.fromStateObject(t.max))}};On.RangeIO=new yi("RangeIO",{valueType:On,documentation:'A range with "min" and "max" members.',stateSchema:x1,toStateObject:t=>t.toStateObject(),fromStateObject:t=>On.fromStateObject(t)}),On.EVERYTHING=new On(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY),On.NOTHING=new On(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY);let Hs=On;le.register("Range",Hs);const mo=new ce(0,0),vn=class vn{constructor(t,i,a,l){assert&&assert(l!==void 0,"Bounds2 requires 4 parameters"),this.minX=t,this.minY=i,this.maxX=a,this.maxY=l}getWidth(){return this.maxX-this.minX}get width(){return this.getWidth()}getHeight(){return this.maxY-this.minY}get height(){return this.getHeight()}getX(){return this.minX}get x(){return this.getX()}getY(){return this.minY}get y(){return this.getY()}getMinX(){return this.minX}getMinY(){return this.minY}getMaxX(){return this.maxX}getMaxY(){return this.maxY}getLeft(){return this.minX}get left(){return this.minX}getTop(){return this.minY}get top(){return this.minY}getRight(){return this.maxX}get right(){return this.maxX}getBottom(){return this.maxY}get bottom(){return this.maxY}getCenterX(){return(this.maxX+this.minX)/2}get centerX(){return this.getCenterX()}getCenterY(){return(this.maxY+this.minY)/2}get centerY(){return this.getCenterY()}getLeftTop(){return new ce(this.minX,this.minY)}get leftTop(){return this.getLeftTop()}getCenterTop(){return new ce(this.getCenterX(),this.minY)}get centerTop(){return this.getCenterTop()}getRightTop(){return new ce(this.maxX,this.minY)}get rightTop(){return this.getRightTop()}getLeftCenter(){return new ce(this.minX,this.getCenterY())}get leftCenter(){return this.getLeftCenter()}getCenter(){return new ce(this.getCenterX(),this.getCenterY())}get center(){return this.getCenter()}getRightCenter(){return new ce(this.maxX,this.getCenterY())}get rightCenter(){return this.getRightCenter()}getLeftBottom(){return new ce(this.minX,this.maxY)}get leftBottom(){return this.getLeftBottom()}getCenterBottom(){return new ce(this.getCenterX(),this.maxY)}get centerBottom(){return this.getCenterBottom()}getRightBottom(){return new ce(this.maxX,this.maxY)}get rightBottom(){return this.getRightBottom()}isEmpty(){return this.getWidth()<0||this.getHeight()<0}isFinite(){return isFinite(this.minX)&&isFinite(this.minY)&&isFinite(this.maxX)&&isFinite(this.maxY)}hasNonzeroArea(){return this.getWidth()>0&&this.getHeight()>0}isValid(){return!this.isEmpty()&&this.isFinite()}closestPointTo(t){return this.containsCoordinates(t.x,t.y)?t:this.getConstrainedPoint(t)}closestBoundaryPointTo(t){if(this.containsCoordinates(t.x,t.y)){const i=t.x<this.centerX?this.minX:this.maxX,a=t.y<this.centerY?this.minY:this.maxY;return Math.abs(i-t.x)<Math.abs(a-t.y)?new ce(i,t.y):new ce(t.x,a)}else return this.getConstrainedPoint(t)}getConstrainedPoint(t){const i=Math.max(Math.min(t.x,this.maxX),this.x),a=Math.max(Math.min(t.y,this.maxY),this.y);return new ce(i,a)}containsCoordinates(t,i){return this.minX<=t&&t<=this.maxX&&this.minY<=i&&i<=this.maxY}containsPoint(t){return this.containsCoordinates(t.x,t.y)}containsBounds(t){return this.minX<=t.minX&&this.maxX>=t.maxX&&this.minY<=t.minY&&this.maxY>=t.maxY}intersectsBounds(t){const i=Math.max(this.minX,t.minX),a=Math.max(this.minY,t.minY),l=Math.min(this.maxX,t.maxX),r=Math.min(this.maxY,t.maxY);return l-i>=0&&r-a>=0}minimumDistanceToPointSquared(t){const i=t.x<this.minX?this.minX:t.x>this.maxX?this.maxX:null,a=t.y<this.minY?this.minY:t.y>this.maxY?this.maxY:null;let l;if(i===null&&a===null)return 0;if(i===null)return l=a-t.y,l*l;if(a===null)return l=i-t.x,l*l;{const r=i-t.x,g=a-t.y;return r*r+g*g}}maximumDistanceToPointSquared(t){let i=t.x>this.getCenterX()?this.minX:this.maxX,a=t.y>this.getCenterY()?this.minY:this.maxY;return i-=t.x,a-=t.y,i*i+a*a}toString(){return`[x:(${this.minX},${this.maxX}),y:(${this.minY},${this.maxY})]`}equals(t){return this.minX===t.minX&&this.minY===t.minY&&this.maxX===t.maxX&&this.maxY===t.maxY}equalsEpsilon(t,i){i=i!==void 0?i:0;const a=this.isFinite(),l=t.isFinite();return a&&l?Math.abs(this.minX-t.minX)<i&&Math.abs(this.minY-t.minY)<i&&Math.abs(this.maxX-t.maxX)<i&&Math.abs(this.maxY-t.maxY)<i:a!==l?!1:this===t?!0:(isFinite(this.minX+t.minX)?Math.abs(this.minX-t.minX)<i:this.minX===t.minX)&&(isFinite(this.minY+t.minY)?Math.abs(this.minY-t.minY)<i:this.minY===t.minY)&&(isFinite(this.maxX+t.maxX)?Math.abs(this.maxX-t.maxX)<i:this.maxX===t.maxX)&&(isFinite(this.maxY+t.maxY)?Math.abs(this.maxY-t.maxY)<i:this.maxY===t.maxY)}copy(t){return t?t.set(this):Ni(this.minX,this.minY,this.maxX,this.maxY)}static create(t){return Ni(t.minX,t.minY,t.maxX,t.maxY)}union(t){return Ni(Math.min(this.minX,t.minX),Math.min(this.minY,t.minY),Math.max(this.maxX,t.maxX),Math.max(this.maxY,t.maxY))}intersection(t){return Ni(Math.max(this.minX,t.minX),Math.max(this.minY,t.minY),Math.min(this.maxX,t.maxX),Math.min(this.maxY,t.maxY))}withCoordinates(t,i){return Ni(Math.min(this.minX,t),Math.min(this.minY,i),Math.max(this.maxX,t),Math.max(this.maxY,i))}withPoint(t){return this.withCoordinates(t.x,t.y)}withX(t){return this.copy().addX(t)}withY(t){return this.copy().addY(t)}withMinX(t){return Ni(t,this.minY,this.maxX,this.maxY)}withMinY(t){return Ni(this.minX,t,this.maxX,this.maxY)}withMaxX(t){return Ni(this.minX,this.minY,t,this.maxY)}withMaxY(t){return Ni(this.minX,this.minY,this.maxX,t)}roundedOut(){return Ni(Math.floor(this.minX),Math.floor(this.minY),Math.ceil(this.maxX),Math.ceil(this.maxY))}roundedIn(){return Ni(Math.ceil(this.minX),Math.ceil(this.minY),Math.floor(this.maxX),Math.floor(this.maxY))}transformed(t){return this.copy().transform(t)}dilated(t){return this.dilatedXY(t,t)}dilatedX(t){return Ni(this.minX-t,this.minY,this.maxX+t,this.maxY)}dilatedY(t){return Ni(this.minX,this.minY-t,this.maxX,this.maxY+t)}dilatedXY(t,i){return Ni(this.minX-t,this.minY-i,this.maxX+t,this.maxY+i)}eroded(t){return this.dilated(-t)}erodedX(t){return this.dilatedX(-t)}erodedY(t){return this.dilatedY(-t)}erodedXY(t,i){return this.dilatedXY(-t,-i)}withOffsets(t,i,a,l){return Ni(this.minX-t,this.minY-i,this.maxX+a,this.maxY+l)}shiftedX(t){return Ni(this.minX+t,this.minY,this.maxX+t,this.maxY)}shiftedY(t){return Ni(this.minX,this.minY+t,this.maxX,this.maxY+t)}shiftedXY(t,i){return Ni(this.minX+t,this.minY+i,this.maxX+t,this.maxY+i)}shifted(t){return this.shiftedXY(t.x,t.y)}blend(t,i){const a=1-i;return Ni(a*this.minX+i*t.minX,a*this.minY+i*t.minY,a*this.maxX+i*t.maxX,a*this.maxY+i*t.maxY)}setMinMax(t,i,a,l){return this.minX=t,this.minY=i,this.maxX=a,this.maxY=l,this}setMinX(t){return this.minX=t,this}setMinY(t){return this.minY=t,this}setMaxX(t){return this.maxX=t,this}setMaxY(t){return this.maxY=t,this}set(t){return this.setMinMax(t.minX,t.minY,t.maxX,t.maxY)}includeBounds(t){return this.setMinMax(Math.min(this.minX,t.minX),Math.min(this.minY,t.minY),Math.max(this.maxX,t.maxX),Math.max(this.maxY,t.maxY))}constrainBounds(t){return this.setMinMax(Math.max(this.minX,t.minX),Math.max(this.minY,t.minY),Math.min(this.maxX,t.maxX),Math.min(this.maxY,t.maxY))}addCoordinates(t,i){return this.setMinMax(Math.min(this.minX,t),Math.min(this.minY,i),Math.max(this.maxX,t),Math.max(this.maxY,i))}addPoint(t){return this.addCoordinates(t.x,t.y)}addX(t){return this.minX=Math.min(t,this.minX),this.maxX=Math.max(t,this.maxX),this}addY(t){return this.minY=Math.min(t,this.minY),this.maxY=Math.max(t,this.maxY),this}roundOut(){return this.setMinMax(Math.floor(this.minX),Math.floor(this.minY),Math.ceil(this.maxX),Math.ceil(this.maxY))}roundIn(){return this.setMinMax(Math.ceil(this.minX),Math.ceil(this.minY),Math.floor(this.maxX),Math.floor(this.maxY))}transform(t){if(this.isEmpty())return this;if(t.isIdentity())return this;const i=this.minX,a=this.minY,l=this.maxX,r=this.maxY;return this.set(vn.NOTHING),this.addPoint(t.multiplyVector2(mo.setXY(i,a))),this.addPoint(t.multiplyVector2(mo.setXY(i,r))),this.addPoint(t.multiplyVector2(mo.setXY(l,a))),this.addPoint(t.multiplyVector2(mo.setXY(l,r))),this}dilate(t){return this.dilateXY(t,t)}dilateX(t){return this.setMinMax(this.minX-t,this.minY,this.maxX+t,this.maxY)}dilateY(t){return this.setMinMax(this.minX,this.minY-t,this.maxX,this.maxY+t)}dilateXY(t,i){return this.setMinMax(this.minX-t,this.minY-i,this.maxX+t,this.maxY+i)}erode(t){return this.dilate(-t)}erodeX(t){return this.dilateX(-t)}erodeY(t){return this.dilateY(-t)}erodeXY(t,i){return this.dilateXY(-t,-i)}offset(t,i,a,l){return Ni(this.minX-t,this.minY-i,this.maxX+a,this.maxY+l)}shiftX(t){return this.setMinMax(this.minX+t,this.minY,this.maxX+t,this.maxY)}shiftY(t){return this.setMinMax(this.minX,this.minY+t,this.maxX,this.maxY+t)}shiftXY(t,i){return this.setMinMax(this.minX+t,this.minY+i,this.maxX+t,this.maxY+i)}shift(t){return this.shiftXY(t.x,t.y)}getXRange(){return new Hs(this.minX,this.maxX)}setXRange(t){return this.setMinMax(t.min,this.minY,t.max,this.maxY)}get xRange(){return this.getXRange()}set xRange(t){this.setXRange(t)}getYRange(){return new Hs(this.minY,this.maxY)}setYRange(t){return this.setMinMax(this.minX,t.min,this.maxX,t.max)}get yRange(){return this.getYRange()}set yRange(t){this.setYRange(t)}getClosestPoint(t,i,a){return a?a.setXY(t,i):a=new ce(t,i),a.x<this.minX&&(a.x=this.minX),a.x>this.maxX&&(a.x=this.maxX),a.y<this.minY&&(a.y=this.minY),a.y>this.maxY&&(a.y=this.maxY),a}freeToPool(){vn.pool.freeToPool(this)}static rect(t,i,a,l){return Ni(t,i,t+a,i+l)}static oriented(t,i,a,l,r){return t===xr.HORIZONTAL?new vn(i,a,l,r):new vn(a,i,r,l)}static point(t,i){if(t instanceof ce){const a=t;return Ni(a.x,a.y,a.x,a.y)}else return Ni(t,i,t,i)}};vn.pool=new Gr(vn,{maxSize:1e3,initialize:vn.prototype.setMinMax,defaultArguments:[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY]}),vn.NOTHING=new vn(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),vn.EVERYTHING=new vn(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),vn.Bounds2IO=new yi("Bounds2IO",{valueType:vn,documentation:"a 2-dimensional bounds rectangle",toStateObject:t=>({minX:t.minX,minY:t.minY,maxX:t.maxX,maxY:t.maxY}),fromStateObject:t=>new vn(Hi.fromStateObject(t.minX),Hi.fromStateObject(t.minY),Hi.fromStateObject(t.maxX),Hi.fromStateObject(t.maxY)),stateSchema:{minX:Hi,maxX:Hi,minY:Hi,maxY:Hi}});let Fn=vn;le.register("Bounds2",Fn);const Ni=Fn.pool.create.bind(Fn.pool);le.register("b2",Ni);Fn.prototype.isBounds=!0;Fn.prototype.dimension=2;function tf(A){A.setMinMax=()=>{throw new Error('Attempt to set "setMinMax" of an immutable Bounds2 object')},A.set=()=>{throw new Error('Attempt to set "set" of an immutable Bounds2 object')},A.includeBounds=()=>{throw new Error('Attempt to set "includeBounds" of an immutable Bounds2 object')},A.constrainBounds=()=>{throw new Error('Attempt to set "constrainBounds" of an immutable Bounds2 object')},A.addCoordinates=()=>{throw new Error('Attempt to set "addCoordinates" of an immutable Bounds2 object')},A.transform=()=>{throw new Error('Attempt to set "transform" of an immutable Bounds2 object')}}assert&&(tf(Fn.EVERYTHING),tf(Fn.NOTHING));class Cf{constructor(t){this.rootBin=new Aa(t,null)}allocate(t,i){const a=this.rootBin.findAvailableBin(t,i);if(a){const l=a.split(t,i);return l.use(),l}else return null}deallocate(t){t.unuse()}toString(){let t="",i="";function a(l){t+=`${i+l.toString()}
`,i=`${i}  `,_.each(l.children,a),i=i.substring(2)}return a(this.rootBin),t}}le.register("BinPacker",Cf);class Aa{constructor(t,i){this.bounds=t,this.parent=i,this.isSplit=!1,this.isUsed=!1,this.children=[]}findAvailableBin(t,i){if(assert&&assert(t>0&&i>0,"Empty bin requested?"),this.isUsed)return null;if(this.bounds.width<t||this.bounds.height<i)return null;if(this.isSplit){for(let a=0;a<this.children.length;a++){const l=this.children[a].findAvailableBin(t,i);if(l)return l}return null}else return this}split(t,i){if(assert&&assert(this.bounds.width>=t&&this.bounds.height>=i,"Bin does not have space"),assert&&assert(!this.isSplit,"Bin should not be re-split"),assert&&assert(!this.isUsed,"Bin should not be split when used"),assert&&assert(t>0&&i>0,"Empty bin requested?"),t===this.bounds.width&&i===this.bounds.height)return this;this.isSplit=!0;const a=this.bounds.minX+t,l=this.bounds.minY+i,r=new Fn(this.bounds.minX,this.bounds.minY,a,l),g=new Fn(a,this.bounds.minY,this.bounds.maxX,l),S=new Fn(this.bounds.minX,l,this.bounds.maxX,this.bounds.maxY),B=new Aa(r,this);return this.children.push(B),g.hasNonzeroArea()&&this.children.push(new Aa(g,this)),S.hasNonzeroArea()&&this.children.push(new Aa(S,this)),B}use(){assert&&assert(!this.isSplit,"Should not mark a split bin as used"),assert&&assert(!this.isUsed,"Should not mark a used bin as used"),this.isUsed=!0}unuse(){assert&&assert(this.isUsed,"Can only unuse a used instance"),this.isUsed=!1,this.parent&&this.parent.attemptToCollapse()}attemptToCollapse(){assert&&assert(this.isSplit,"Should only attempt to collapse split bins");for(let t=0;t<this.children.length;t++){const i=this.children[t];if(i.isSplit||i.isUsed)return}this.children=[],this.isSplit=!1,this.parent&&this.parent.attemptToCollapse()}toString(){return this.bounds.toString()+(this.isUsed?" used":"")}}Cf.Bin=Aa;const fi=class fi{constructor(t,i,a,l,r,g){this.minX=t,this.minY=i,this.minZ=a,this.maxX=l,this.maxY=r,this.maxZ=g,this.isBounds=!0,this.dimension=3,assert&&assert(r!==void 0,"Bounds3 requires 4 parameters")}getWidth(){return this.maxX-this.minX}get width(){return this.getWidth()}getHeight(){return this.maxY-this.minY}get height(){return this.getHeight()}getDepth(){return this.maxZ-this.minZ}get depth(){return this.getDepth()}getX(){return this.minX}get x(){return this.getX()}getY(){return this.minY}get y(){return this.getY()}getZ(){return this.minZ}get z(){return this.getZ()}getMinX(){return this.minX}getMinY(){return this.minY}getMinZ(){return this.minZ}getMaxX(){return this.maxX}getMaxY(){return this.maxY}getMaxZ(){return this.maxZ}getLeft(){return this.minX}get left(){return this.minX}getTop(){return this.minY}get top(){return this.minY}getBack(){return this.minZ}get back(){return this.minZ}getRight(){return this.maxX}get right(){return this.maxX}getBottom(){return this.maxY}get bottom(){return this.maxY}getFront(){return this.maxZ}get front(){return this.maxZ}getCenterX(){return(this.maxX+this.minX)/2}get centerX(){return this.getCenterX()}getCenterY(){return(this.maxY+this.minY)/2}get centerY(){return this.getCenterY()}getCenterZ(){return(this.maxZ+this.minZ)/2}get centerZ(){return this.getCenterZ()}getCenter(){return new ke(this.getCenterX(),this.getCenterY(),this.getCenterZ())}get center(){return this.getCenter()}isEmpty(){return this.getWidth()<0||this.getHeight()<0||this.getDepth()<0}isFinite(){return isFinite(this.minX)&&isFinite(this.minY)&&isFinite(this.minZ)&&isFinite(this.maxX)&&isFinite(this.maxY)&&isFinite(this.maxZ)}hasNonzeroArea(){return this.getWidth()>0&&this.getHeight()>0&&this.getDepth()>0}isValid(){return!this.isEmpty()&&this.isFinite()}containsCoordinates(t,i,a){return this.minX<=t&&t<=this.maxX&&this.minY<=i&&i<=this.maxY&&this.minZ<=a&&a<=this.maxZ}containsPoint(t){return this.containsCoordinates(t.x,t.y,t.z)}containsBounds(t){return this.minX<=t.minX&&this.maxX>=t.maxX&&this.minY<=t.minY&&this.maxY>=t.maxY&&this.minZ<=t.minZ&&this.maxZ>=t.maxZ}intersectsBounds(t){return!this.intersection(t).isEmpty()}toString(){return`[x:(${this.minX},${this.maxX}),y:(${this.minY},${this.maxY}),z:(${this.minZ},${this.maxZ})]`}equals(t){return this.minX===t.minX&&this.minY===t.minY&&this.minZ===t.minZ&&this.maxX===t.maxX&&this.maxY===t.maxY&&this.maxZ===t.maxZ}equalsEpsilon(t,i){i=i!==void 0?i:0;const a=this.isFinite(),l=t.isFinite();return a&&l?Math.abs(this.minX-t.minX)<i&&Math.abs(this.minY-t.minY)<i&&Math.abs(this.minZ-t.minZ)<i&&Math.abs(this.maxX-t.maxX)<i&&Math.abs(this.maxY-t.maxY)<i&&Math.abs(this.maxZ-t.maxZ)<i:a!==l?!1:this===t?!0:(isFinite(this.minX+t.minX)?Math.abs(this.minX-t.minX)<i:this.minX===t.minX)&&(isFinite(this.minY+t.minY)?Math.abs(this.minY-t.minY)<i:this.minY===t.minY)&&(isFinite(this.minZ+t.minZ)?Math.abs(this.minZ-t.minZ)<i:this.minZ===t.minZ)&&(isFinite(this.maxX+t.maxX)?Math.abs(this.maxX-t.maxX)<i:this.maxX===t.maxX)&&(isFinite(this.maxY+t.maxY)?Math.abs(this.maxY-t.maxY)<i:this.maxY===t.maxY)&&(isFinite(this.maxZ+t.maxZ)?Math.abs(this.maxZ-t.maxZ)<i:this.maxZ===t.maxZ)}copy(t){return t?t.set(this):new fi(this.minX,this.minY,this.minZ,this.maxX,this.maxY,this.maxZ)}union(t){return new fi(Math.min(this.minX,t.minX),Math.min(this.minY,t.minY),Math.min(this.minZ,t.minZ),Math.max(this.maxX,t.maxX),Math.max(this.maxY,t.maxY),Math.max(this.maxZ,t.maxZ))}intersection(t){return new fi(Math.max(this.minX,t.minX),Math.max(this.minY,t.minY),Math.max(this.minZ,t.minZ),Math.min(this.maxX,t.maxX),Math.min(this.maxY,t.maxY),Math.min(this.maxZ,t.maxZ))}withCoordinates(t,i,a){return new fi(Math.min(this.minX,t),Math.min(this.minY,i),Math.min(this.minZ,a),Math.max(this.maxX,t),Math.max(this.maxY,i),Math.max(this.maxZ,a))}withPoint(t){return this.withCoordinates(t.x,t.y,t.z)}withMinX(t){return new fi(t,this.minY,this.minZ,this.maxX,this.maxY,this.maxZ)}withMinY(t){return new fi(this.minX,t,this.minZ,this.maxX,this.maxY,this.maxZ)}withMinZ(t){return new fi(this.minX,this.minY,t,this.maxX,this.maxY,this.maxZ)}withMaxX(t){return new fi(this.minX,this.minY,this.minZ,t,this.maxY,this.maxZ)}withMaxY(t){return new fi(this.minX,this.minY,this.minZ,this.maxX,t,this.maxZ)}withMaxZ(t){return new fi(this.minX,this.minY,this.minZ,this.maxX,this.maxY,t)}roundedOut(){return new fi(Math.floor(this.minX),Math.floor(this.minY),Math.floor(this.minZ),Math.ceil(this.maxX),Math.ceil(this.maxY),Math.ceil(this.maxZ))}roundedIn(){return new fi(Math.ceil(this.minX),Math.ceil(this.minY),Math.ceil(this.minZ),Math.floor(this.maxX),Math.floor(this.maxY),Math.floor(this.maxZ))}transformed(t){return this.copy().transform(t)}dilated(t){return this.dilatedXYZ(t,t,t)}dilatedX(t){return new fi(this.minX-t,this.minY,this.minZ,this.maxX+t,this.maxY,this.maxZ)}dilatedY(t){return new fi(this.minX,this.minY-t,this.minZ,this.maxX,this.maxY+t,this.maxZ)}dilatedZ(t){return new fi(this.minX,this.minY,this.minZ-t,this.maxX,this.maxY,this.maxZ+t)}dilatedXYZ(t,i,a){return new fi(this.minX-t,this.minY-i,this.minZ-a,this.maxX+t,this.maxY+i,this.maxZ+a)}eroded(t){return this.dilated(-t)}erodedX(t){return this.dilatedX(-t)}erodedY(t){return this.dilatedY(-t)}erodedZ(t){return this.dilatedZ(-t)}erodedXYZ(t,i,a){return this.dilatedXYZ(-t,-i,-a)}shiftedX(t){return new fi(this.minX+t,this.minY,this.minZ,this.maxX+t,this.maxY,this.maxZ)}shiftedY(t){return new fi(this.minX,this.minY+t,this.minZ,this.maxX,this.maxY+t,this.maxZ)}shiftedZ(t){return new fi(this.minX,this.minY,this.minZ+t,this.maxX,this.maxY,this.maxZ+t)}shiftedXYZ(t,i,a){return new fi(this.minX+t,this.minY+i,this.minZ+a,this.maxX+t,this.maxY+i,this.maxZ+a)}shifted(t){return this.shiftedXYZ(t.x,t.y,t.z)}setMinMax(t,i,a,l,r,g){return this.minX=t,this.minY=i,this.minZ=a,this.maxX=l,this.maxY=r,this.maxZ=g,this}setMinX(t){return this.minX=t,this}setMinY(t){return this.minY=t,this}setMinZ(t){return this.minZ=t,this}setMaxX(t){return this.maxX=t,this}setMaxY(t){return this.maxY=t,this}setMaxZ(t){return this.maxZ=t,this}set(t){return this.setMinMax(t.minX,t.minY,t.minZ,t.maxX,t.maxY,t.maxZ)}includeBounds(t){return this.setMinMax(Math.min(this.minX,t.minX),Math.min(this.minY,t.minY),Math.min(this.minZ,t.minZ),Math.max(this.maxX,t.maxX),Math.max(this.maxY,t.maxY),Math.max(this.maxZ,t.maxZ))}constrainBounds(t){return this.setMinMax(Math.max(this.minX,t.minX),Math.max(this.minY,t.minY),Math.max(this.minZ,t.minZ),Math.min(this.maxX,t.maxX),Math.min(this.maxY,t.maxY),Math.min(this.maxZ,t.maxZ))}addCoordinates(t,i,a){return this.setMinMax(Math.min(this.minX,t),Math.min(this.minY,i),Math.min(this.minZ,a),Math.max(this.maxX,t),Math.max(this.maxY,i),Math.max(this.maxZ,a))}addPoint(t){return this.addCoordinates(t.x,t.y,t.z)}roundOut(){return this.setMinMax(Math.floor(this.minX),Math.floor(this.minY),Math.floor(this.minZ),Math.ceil(this.maxX),Math.ceil(this.maxY),Math.ceil(this.maxZ))}roundIn(){return this.setMinMax(Math.ceil(this.minX),Math.ceil(this.minY),Math.ceil(this.minZ),Math.floor(this.maxX),Math.floor(this.maxY),Math.floor(this.maxZ))}transform(t){if(this.isEmpty())return this;if(t.isIdentity())return this;let i=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY,l=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,g=Number.NEGATIVE_INFINITY,S=Number.NEGATIVE_INFINITY;const B=new ke(0,0,0);function j(W){i=Math.min(i,W.x),a=Math.min(a,W.y),l=Math.min(l,W.z),r=Math.max(r,W.x),g=Math.max(g,W.y),S=Math.max(S,W.z)}return j(t.multiplyVector3(B.setXYZ(this.minX,this.minY,this.minZ))),j(t.multiplyVector3(B.setXYZ(this.minX,this.maxY,this.minZ))),j(t.multiplyVector3(B.setXYZ(this.maxX,this.minY,this.minZ))),j(t.multiplyVector3(B.setXYZ(this.maxX,this.maxY,this.minZ))),j(t.multiplyVector3(B.setXYZ(this.minX,this.minY,this.maxZ))),j(t.multiplyVector3(B.setXYZ(this.minX,this.maxY,this.maxZ))),j(t.multiplyVector3(B.setXYZ(this.maxX,this.minY,this.maxZ))),j(t.multiplyVector3(B.setXYZ(this.maxX,this.maxY,this.maxZ))),this.setMinMax(i,a,l,r,g,S)}dilate(t){return this.dilateXYZ(t,t,t)}dilateX(t){return this.setMinMax(this.minX-t,this.minY,this.minZ,this.maxX+t,this.maxY,this.maxZ)}dilateY(t){return this.setMinMax(this.minX,this.minY-t,this.minZ,this.maxX,this.maxY+t,this.maxZ)}dilateZ(t){return this.setMinMax(this.minX,this.minY,this.minZ-t,this.maxX,this.maxY,this.maxZ+t)}dilateXYZ(t,i,a){return this.setMinMax(this.minX-t,this.minY-i,this.minZ-a,this.maxX+t,this.maxY+i,this.maxZ+a)}erode(t){return this.dilate(-t)}erodeX(t){return this.dilateX(-t)}erodeY(t){return this.dilateY(-t)}erodeZ(t){return this.dilateZ(-t)}erodeXYZ(t,i,a){return this.dilateXYZ(-t,-i,-a)}shiftX(t){return this.setMinMax(this.minX+t,this.minY,this.minZ,this.maxX+t,this.maxY,this.maxZ)}shiftY(t){return this.setMinMax(this.minX,this.minY+t,this.minZ,this.maxX,this.maxY+t,this.maxZ)}shiftZ(t){return this.setMinMax(this.minX,this.minY,this.minZ+t,this.maxX,this.maxY,this.maxZ+t)}shiftXYZ(t,i,a){return this.setMinMax(this.minX+t,this.minY+i,this.minZ+a,this.maxX+t,this.maxY+i,this.maxZ+a)}shift(t){return this.shiftXYZ(t.x,t.y,t.z)}static cuboid(t,i,a,l,r,g){return new fi(t,i,a,t+l,i+r,a+g)}static point(t,i,a){return new fi(t,i,a,t,i,a)}};fi.NOTHING=new fi(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),fi.EVERYTHING=new fi(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),fi.Bounds3IO=new yi("Bounds3IO",{valueType:fi,documentation:"a 3-dimensional bounds (bounding box)",stateSchema:{minX:rs,minY:rs,minZ:rs,maxX:rs,maxY:rs,maxZ:rs},toStateObject:t=>({minX:t.minX,minY:t.minY,minZ:t.minZ,maxX:t.maxX,maxY:t.maxY,maxZ:t.maxZ}),fromStateObject:t=>new fi(t.minX,t.minY,t.minZ,t.maxX,t.maxY,t.maxZ)});let cu=fi;le.register("Bounds3",cu);Jl.mixInto(cu,{initialize:cu.prototype.setMinMax});class Yr{constructor(t){this.inclusions=t}size(){return this.inclusions.length}includes(t){return this.inclusions[t]}apply(t){return t.filter((i,a)=>this.inclusions[a])}inverted(){return new Yr(this.inclusions.map(t=>!t))}getIncludedIndices(){return _.range(0,this.size()).filter(t=>this.inclusions[t])}toString(){return`C[${this.inclusions.map(t=>t?"1":"0").join("")}]`}equals(t){return this.inclusions.length===t.inclusions.length&&_.isEqual(this.inclusions,t.inclusions)}static empty(t){return new Yr(_.range(0,t).map(()=>!1))}static full(t){return new Yr(_.range(0,t).map(()=>!0))}static combinations(t){const i=[],a=[];return function l(r){r===t?i.push(new Yr(a.slice())):(a.push(!1),l(r+1),a.pop(),a.push(!0),l(r+1),a.pop())}(0),i}static forEachCombination(t,i){const a=[];(function l(r){r===t.length?i(a):(l(r+1),a.push(t[r]),l(r+1),a.pop())})(0)}static combinationsOf(t){const i=[];return Yr.forEachCombination(t,a=>{i.push(a.slice())}),i}}le.register("Combination",Yr);class sr{constructor(t){assert&&assert(t.length>0),assert&&t.forEach((i,a)=>{a<t.length-1&&assert&&assert(i.x<t[a+1].x,"Points should be strictly increasing in x value (ordered by their x value)")}),this.points=t.slice();for(let i=0;i<this.points.length-2;i++){const a=this.points[i],l=this.points[i+1],r=this.points[i+2];ri.arePointsCollinear(a,l,r)&&(this.points.splice(i+1,1),i--)}}findMatchingPair(t){assert&&assert(this.points.length>1);let i=0;for(;i<this.points.length-2&&this.points[i+1].x<t;)i++;return[this.points[i],this.points[i+1]]}evaluate(t){if(this.points.length===1)return this.points[0].y;{const[i,a]=this.findMatchingPair(t);return i.x===t?i.y:a.x===t?a.y:ri.linear(i.x,a.x,i.y,a.y,t)}}getCombinedXValues(t){return sr.sortedUniqueEpsilon(this.points.map(i=>i.x).concat(t.points.map(i=>i.x)))}getIntersectedXValues(t){const i=this.getCombinedXValues(t),a=[];for(let r=0;r<i.length-1;r++){const g=i[r],S=i[r+1],B=ri.lineLineIntersection(new ce(g,this.evaluate(g)),new ce(S,this.evaluate(S)),new ce(g,t.evaluate(g)),new ce(S,t.evaluate(S)));B&&(r===0||B.x>g)&&(r===i.length-2||B.x<S)&&a.push(B.x)}const l=sr.sortedUniqueEpsilon([...i,...a]);return[l[0]-1,...l,l[l.length-1]+1]}binaryXOperation(t,i,a){return new sr(a.map(l=>new ce(l,i(this.evaluate(l),t.evaluate(l)))))}binaryPointwiseOperation(t,i){return this.binaryXOperation(t,i,this.getCombinedXValues(t))}binaryIntersectingOperation(t,i){return this.binaryXOperation(t,i,this.getIntersectedXValues(t))}plus(t){return this.binaryPointwiseOperation(t,(i,a)=>i+a)}minus(t){return this.binaryPointwiseOperation(t,(i,a)=>i-a)}min(t){return this.binaryIntersectingOperation(t,Math.min)}max(t){return this.binaryIntersectingOperation(t,Math.max)}withXValues(t){return new sr(t.map(i=>new ce(i,this.evaluate(i))))}inverted(){const t=this.points.map(i=>new ce(i.y,i.x));return t.length>1&&t[0].x>t[1].x&&t.reverse(),new sr(t)}static sum(...t){return t.reduce((i,a)=>i.plus(a))}static min(...t){return t.reduce((i,a)=>i.min(a))}static max(...t){return t.reduce((i,a)=>i.max(a))}static constant(t){return new sr([new ce(0,t)])}static linear(t,i){return new sr([new ce(0,i),new ce(1,t+i)])}static sortedUniqueEpsilon(t,i=1e-10){t=_.sortBy(t);for(let a=0;a<t.length-1;a++)Math.abs(t[a]-t[a+1])<i&&(t.splice(a,1),a--);return t}}le.register("CompletePiecewiseLinearFunction",sr);const Pe=class Pe{constructor(t,i){this.real=t,this.imaginary=i}copy(t){return t?t.set(this):new Pe(this.real,this.imaginary)}phase(){return Math.atan2(this.imaginary,this.real)}getMagnitude(){return Math.sqrt(this.magnitudeSquared)}get magnitude(){return this.getMagnitude()}getMagnitudeSquared(){return this.real*this.real+this.imaginary*this.imaginary}get magnitudeSquared(){return this.getMagnitudeSquared()}getArgument(){return Math.atan2(this.imaginary,this.real)}get argument(){return this.getArgument()}equals(t){return this.real===t.real&&this.imaginary===t.imaginary}equalsEpsilon(t,i=0){return Math.max(Math.abs(this.real-t.real),Math.abs(this.imaginary-t.imaginary))<=i}plus(t){return new Pe(this.real+t.real,this.imaginary+t.imaginary)}minus(t){return new Pe(this.real-t.real,this.imaginary-t.imaginary)}times(t){return new Pe(this.real*t.real-this.imaginary*t.imaginary,this.real*t.imaginary+this.imaginary*t.real)}dividedBy(t){const i=t.magnitudeSquared;return new Pe((this.real*t.real+this.imaginary*t.imaginary)/i,(this.imaginary*t.real-this.real*t.imaginary)/i)}negated(){return new Pe(-this.real,-this.imaginary)}sqrtOf(){const t=this.magnitude;return new Pe(Math.sqrt((t+this.real)/2),(this.imaginary>=0?1:-1)*Math.sqrt((t-this.real)/2))}powerByReal(t){const i=Math.pow(this.magnitude,t),a=t*this.phase();return new Pe(i*Math.cos(a),i*Math.sin(a))}sinOf(){return new Pe(Math.sin(this.real)*ri.cosh(this.imaginary),Math.cos(this.real)*ri.sinh(this.imaginary))}cosOf(){return new Pe(Math.cos(this.real)*ri.cosh(this.imaginary),-Math.sin(this.real)*ri.sinh(this.imaginary))}squared(){return this.times(this)}conjugated(){return new Pe(this.real,-this.imaginary)}exponentiated(){return Pe.createPolar(Math.exp(this.real),this.imaginary)}setRealImaginary(t,i){return this.real=t,this.imaginary=i,this}setReal(t){return this.real=t,this}setImaginary(t){return this.imaginary=t,this}set(t){return this.setRealImaginary(t.real,t.imaginary)}setPolar(t,i){return this.setRealImaginary(t*Math.cos(i),t*Math.sin(i))}add(t){return this.setRealImaginary(this.real+t.real,this.imaginary+t.imaginary)}subtract(t){return this.setRealImaginary(this.real-t.real,this.imaginary-t.imaginary)}multiply(t){return this.setRealImaginary(this.real*t.real-this.imaginary*t.imaginary,this.real*t.imaginary+this.imaginary*t.real)}divide(t){const i=t.magnitudeSquared;return this.setRealImaginary((this.real*t.real+this.imaginary*t.imaginary)/i,(this.imaginary*t.real-this.real*t.imaginary)/i)}negate(){return this.setRealImaginary(-this.real,-this.imaginary)}exponentiate(){return this.setPolar(Math.exp(this.real),this.imaginary)}square(){return this.multiply(this)}sqrt(){const t=this.magnitude;return this.setRealImaginary(Math.sqrt((t+this.real)/2),(this.imaginary>=0?1:-1)*Math.sqrt((t-this.real)/2))}sin(){return this.setRealImaginary(Math.sin(this.real)*ri.cosh(this.imaginary),Math.cos(this.real)*ri.sinh(this.imaginary))}cos(){return this.setRealImaginary(Math.cos(this.real)*ri.cosh(this.imaginary),-Math.sin(this.real)*ri.sinh(this.imaginary))}conjugate(){return this.setRealImaginary(this.real,-this.imaginary)}getCubeRoots(){const t=this.argument/3,i=this.magnitude,a=Pe.real(Math.cbrt(i));return[a.times(Pe.imaginary(t).exponentiate()),a.times(Pe.imaginary(t+Math.PI*2/3).exponentiate()),a.times(Pe.imaginary(t-Math.PI*2/3).exponentiate())]}toString(){return`Complex(${this.real}, ${this.imaginary})`}static real(t){return new Pe(t,0)}static imaginary(t){return new Pe(0,t)}static createPolar(t,i){return new Pe(t*Math.cos(i),t*Math.sin(i))}static solveLinearRoots(t,i){return t.equals(Pe.ZERO)?i.equals(Pe.ZERO)?null:[]:[i.dividedBy(t).negate()]}static solveQuadraticRoots(t,i,a){if(t.equals(Pe.ZERO))return Pe.solveLinearRoots(i,a);const l=Pe.real(2).multiply(t),r=i.times(i),g=Pe.real(4).multiply(t).multiply(a),S=r.subtract(g).sqrt();return[S.minus(i).divide(l),S.negated().subtract(i).divide(l)]}static solveCubicRoots(t,i,a,l){if(t.equals(Pe.ZERO))return Pe.solveQuadraticRoots(i,a,l);const r=t.times(Pe.real(3)).negate(),g=t.times(t),S=i.times(i),B=S.times(i),j=a.times(a),W=j.times(a),G=t.times(i).times(a),J=S,R=t.times(a).times(Pe.real(3)),gt=B.times(Pe.real(2)).add(g.times(l).multiply(Pe.real(27))),m=G.times(Pe.real(9));if(J.equals(R)&&gt.equals(m)){const ct=i.divide(r);return[ct,ct,ct]}const it=J.minus(R),et=gt.minus(m),nt=G.times(l).multiply(Pe.real(18)).add(S.times(j)),Et=B.times(l).multiply(Pe.real(4)).add(W.times(t).multiply(Pe.real(4))).add(g.times(l).multiply(l).multiply(Pe.real(27)));if(nt.equals(Et)){const ct=G.times(Pe.real(4)).subtract(B.plus(g.times(l).multiply(Pe.real(9)))).divide(t.times(it)),xt=t.times(l).multiply(Pe.real(9)).subtract(i.times(a)).divide(it.times(Pe.real(2)));return[ct,xt,xt]}let ot;return J.equals(R)?ot=et:ot=et.plus(et.times(et).subtract(it.times(it).multiply(it).multiply(Pe.real(4))).sqrt()).divide(Pe.real(2)),ot.getCubeRoots().map(ct=>i.plus(ct).add(it.dividedBy(ct)).divide(r))}};Pe.ZERO=new Pe(0,0),Pe.ONE=new Pe(1,0),Pe.I=new Pe(0,1);let Ji=Pe;le.register("Complex",Ji);function A1(A,t,i){return t.minus(A).crossScalar(i.minus(A))}const D1={grahamScan:(A,t)=>{if(A.length<=2)return A;let i=Number.POSITIVE_INFINITY,a=null;_.each(A,r=>{r.y<=i&&(r.y===i&&a?r.x<a.x&&(a=r):(i=r.y,a=r))}),A=_.sortBy(A,r=>r.minus(a).angle),A.splice(_.indexOf(A,a),1);const l=[a];return _.each(A,r=>{if(a.x===r.x&&a.y===r.y)return;function g(){if(l.length<2)return!1;const S=A1(l[l.length-2],l[l.length-1],r);return t?S<0:S<=0}for(;g();)l.pop();l.push(r)}),l}};le.register("ConvexHull2",D1);const gs=class gs extends Xs{};gs.OVER_DAMPED=new gs,gs.UNDER_DAMPED=new gs,gs.CRITICALLY_DAMPED=new gs,gs.UNKNOWN=new gs,gs.enumeration=new Wr(gs);let ps=gs;class E1{constructor(t,i,a,l,r){assert&&assert(isFinite(t)&&t!==0),assert&&assert(isFinite(i)),assert&&assert(isFinite(a)&&a!==0),assert&&assert(isFinite(l)),assert&&assert(isFinite(r)),this.dampingConstant=i/t,this.angularFrequencySquared=a/t,assert&&assert(this.dampingConstant>=0,"a and b should share the same sign"),assert&&assert(this.angularFrequencySquared>0,"a and c should share the same sign"),this.discriminant=this.dampingConstant*this.dampingConstant-4*this.angularFrequencySquared,this.solutionType=ps.UNKNOWN,this.c1=0,this.c2=0,Math.abs(this.discriminant)<1e-5?(this.solutionType=ps.CRITICALLY_DAMPED,this.angularFrequency=Math.sqrt(this.angularFrequencySquared),this.c1=l,this.c2=r+this.angularFrequency*l):this.discriminant<0?(this.solutionType=ps.UNDER_DAMPED,this.frequency=.5*Math.sqrt(-this.discriminant),this.c1=l,this.c2=this.dampingConstant*l/(2*this.frequency)+r/this.frequency):(this.solutionType=ps.OVER_DAMPED,this.positiveRoot=.5*(-this.dampingConstant+Math.sqrt(this.discriminant)),this.negativeRoot=.5*(-this.dampingConstant-Math.sqrt(this.discriminant)),this.c2=(this.negativeRoot*l-r)/(this.negativeRoot-this.positiveRoot),this.c1=l-this.c2)}getValue(t){if(this.solutionType===ps.CRITICALLY_DAMPED)return assert&&assert(this.angularFrequency!==void 0),(this.c1+this.c2*t)*Math.exp(-this.angularFrequency*t);if(this.solutionType===ps.UNDER_DAMPED){assert&&assert(this.frequency!==void 0);const i=this.frequency*t;return Math.exp(-(this.dampingConstant/2)*t)*(this.c1*Math.cos(i)+this.c2*Math.sin(i))}else{if(this.solutionType===ps.OVER_DAMPED)return assert&&assert(this.positiveRoot!==void 0),assert&&assert(this.negativeRoot!==void 0),this.c1*Math.exp(this.negativeRoot*t)+this.c2*Math.exp(this.positiveRoot*t);throw new Error("Unknown solution type?")}}getDerivative(t){if(this.solutionType===ps.CRITICALLY_DAMPED)return assert&&assert(this.angularFrequency!==void 0),Math.exp(-this.angularFrequency*t)*(this.c2-this.angularFrequency*(this.c1+this.c2*t));if(this.solutionType===ps.UNDER_DAMPED){assert&&assert(this.frequency!==void 0);const i=this.frequency*t,a=Math.cos(i),l=Math.sin(i),r=this.frequency*(this.c2*a-this.c1*l),g=.5*this.dampingConstant*(this.c1*a+this.c2*l);return Math.exp(-.5*this.dampingConstant*t)*(r-g)}else{if(this.solutionType===ps.OVER_DAMPED)return assert&&assert(this.positiveRoot!==void 0),assert&&assert(this.negativeRoot!==void 0),this.c1*this.negativeRoot*Math.exp(this.negativeRoot*t)+this.c2*this.positiveRoot*Math.exp(this.positiveRoot*t);throw new Error("Unknown solution type?")}}}le.register("DampedHarmonic",E1);class _a{constructor(t,i,a){a=tn({},a);let l;if(this.points=t,this.constraints=i,this.triangles=[],this.edges=[],this.convexHull=[],t.length===0)return;for(this.vertices=t.map((S,B)=>(assert&&assert(S instanceof ce&&S.isFinite()),new un(S,B))),l=0;l<this.constraints.length;l++){const S=this.constraints[l],B=S[0],j=S[1];assert&&assert(typeof B=="number"&&isFinite(B)&&B%1===0&&B>=0&&B<t.length),assert&&assert(typeof j=="number"&&isFinite(j)&&j%1===0&&j>=0&&j<t.length),assert&&assert(B!==j),this.vertices[B].constrainedVertices.push(this.vertices[j])}for(this.vertices.sort(_a.vertexComparison),l=0;l<this.vertices.length;l++){const S=this.vertices[l];S.sortedIndex=l;for(let B=S.constrainedVertices.length-1;B>=0;B--){const j=S.constrainedVertices[B];j.sortedIndex===-1&&(j.constrainedVertices.push(S),S.constrainedVertices.splice(B,1))}}this.bottomVertex=this.vertices[0],this.remainingVertices=this.vertices.slice(1);const r=Fn.NOTHING.copy();for(l=t.length-1;l>=0;l--)r.addPoint(t[l]);const g=.4;this.artificialMinVertex=new un(new ce(r.minX-r.width*g,r.minY-r.height*g),-1),this.artificialMaxVertex=new un(new ce(r.maxX+r.width*g,r.minY-r.height*g),-2),this.edges.push(new Ti(this.artificialMinVertex,this.artificialMaxVertex)),this.edges.push(new Ti(this.artificialMaxVertex,this.bottomVertex)),this.edges.push(new Ti(this.bottomVertex,this.artificialMinVertex)),this.triangles.push(new Wn(this.artificialMinVertex,this.artificialMaxVertex,this.bottomVertex,this.edges[1],this.edges[2],this.edges[0])),this.firstFrontEdge=this.edges[1],this.edges[1].connectAfter(this.edges[2]),this.firstHullEdge=this.edges[0]}step(){const t=this.remainingVertices.shift(),i=t.point.x;let a=this.firstFrontEdge;for(;a;){if(i>a.endVertex.point.x){const l=new Ti(a.startVertex,t),r=new Ti(t,a.endVertex);l.connectAfter(r),this.edges.push(l),this.edges.push(r),this.triangles.push(new Wn(a.endVertex,a.startVertex,t,l,r,a)),this.reconnectFrontEdges(a,a,l,r),this.legalizeEdge(a),this.addHalfPiHeuristic(l,r),this.constrainEdges(t,l,r);break}else if(i===a.endVertex.point.x){const l=a.nextEdge,r=a;assert&&assert(l!==null);const g=a.endVertex,S=l.endVertex,B=r.startVertex,j=new Ti(t,S),W=new Ti(B,t),G=new Ti(g,t);W.connectAfter(j),this.edges.push(j),this.edges.push(W),this.edges.push(G),this.triangles.push(new Wn(S,g,t,G,j,l)),this.triangles.push(new Wn(g,B,t,W,G,r)),this.reconnectFrontEdges(r,l,W,j),this.legalizeEdge(l),this.legalizeEdge(r),this.legalizeEdge(G),this.addHalfPiHeuristic(W,j),this.constrainEdges(t,W,j);break}a=a.nextEdge}}fillBorderTriangle(t,i,a,l,r){assert&&assert(t instanceof Ti),assert&&assert(i instanceof Ti),assert&&assert(a instanceof un),assert&&assert(l instanceof un),assert&&assert(r instanceof un),assert&&assert(l===t.startVertex||l===t.endVertex,"middleVertex should be in firstEdge"),assert&&assert(l===i.startVertex||l===i.endVertex,"middleVertex should be in secondEdge"),assert&&assert(a===t.startVertex||a===t.endVertex,"firstSideVertex should be in firstEdge"),assert&&assert(r===i.startVertex||r===i.endVertex,"secondSideVertex should be in secondEdge");const g=new Ti(a,r);return this.edges.push(g),this.triangles.push(new Wn(r,l,a,t,g,i)),this.legalizeEdge(t),this.legalizeEdge(i),g}reconnectFrontEdges(t,i,a,l){const r=t.previousEdge,g=i.nextEdge;r?(r.disconnectAfter(),r.connectAfter(a)):this.firstFrontEdge=a,g&&(i.disconnectAfter(),l.connectAfter(g))}addHalfPiHeuristic(t,i){assert&&assert(t.endVertex===i.startVertex);const a=t.endVertex;for(;t.previousEdge&&ri.triangleAreaSigned(a.point,t.startVertex.point,t.previousEdge.startVertex.point)>0&&a.point.minus(t.startVertex.point).angleBetween(t.previousEdge.startVertex.point.minus(t.startVertex.point))<Math.PI/2;){const l=t.previousEdge,r=new Ti(l.startVertex,a);this.edges.push(r),this.triangles.push(new Wn(a,t.startVertex,l.startVertex,l,r,t)),this.reconnectFrontEdges(l,t,r,r),this.legalizeEdge(l),this.legalizeEdge(t),t=r}for(;i.nextEdge&&ri.triangleAreaSigned(a.point,i.nextEdge.endVertex.point,i.endVertex.point)>0&&a.point.minus(i.endVertex.point).angleBetween(i.nextEdge.endVertex.point.minus(i.endVertex.point))<Math.PI/2;){const l=i.nextEdge,r=new Ti(a,l.endVertex);this.edges.push(r),this.triangles.push(new Wn(a,i.nextEdge.endVertex,i.endVertex,l,i,r)),this.reconnectFrontEdges(i,l,r,r),this.legalizeEdge(l),this.legalizeEdge(i),i=r}}constrainEdges(t,i,a){assert&&assert(t instanceof un),assert&&assert(i instanceof Ti),assert&&assert(a instanceof Ti),assert&&assert(t===i.endVertex),assert&&assert(t===a.startVertex);for(let l=0;l<t.constrainedVertices.length;l++){const r=t.constrainedVertices[l];if(r===i.startVertex||r===a.endVertex)break;const g=[],S=[];let B=null,j=null;const W=[],G=[];let J=_a.vertexProduct(t,i.startVertex,r)>0,R=_a.vertexProduct(t,a.endVertex,r)<0;if(!J&&!R){assert&&assert(i.triangles.length===1),assert&&assert(a.triangles.length===1);let m=i.startVertex,it;for(B=i.triangles[0];_a.vertexProduct(t,it=B.getEdgeOppositeFromVertex(t).getOtherVertex(m),r)<0;)B=B.getEdgeOppositeFromVertex(m).getOtherTriangle(B),m=it;if(B.hasVertex(r))break;W.push(B),j=B.getEdgeOppositeFromVertex(t),G.push(j),g.push(B.getEdgeOppositeFromVertex(m)),S.push(B.getEdgeOppositeFromVertex(j.getOtherVertex(m))),assert&&assert(g[0].getOtherVertex(t).point.x<S[0].getOtherVertex(t).point.x)}for(;!J;){if(R)break;if(j.triangles.length>1){const m=j.getOtherTriangle(B);if(m.hasVertex(r)){W.push(m),g.push(m.getNextEdge(j)),S.push(m.getPreviousEdge(j));break}else{let it;m.aEdge!==j&&m.aEdge.intersectsConstrainedEdge(t,r)?it=m.aEdge:m.bEdge!==j&&m.bEdge.intersectsConstrainedEdge(t,r)?it=m.bEdge:m.cEdge!==j&&m.cEdge.intersectsConstrainedEdge(t,r)&&(it=m.cEdge),assert&&assert(it),m.getNextEdge(it)===j?g.push(m.getPreviousEdge(it)):S.push(m.getNextEdge(it)),j=it,G.push(j),B=m,W.push(B)}}else r.point.x<t.point.x?R=!0:J=!0}for(let m=0;m<W.length;m++){const it=W[m];Is(this.triangles,it),it.remove()}for(let m=0;m<G.length;m++)Is(this.edges,G[m]);const gt=new Ti(r,t);gt.isConstrained=!0,this.edges.push(gt),g.push(gt),S.push(gt),S.reverse(),window.triDebug&&window.triDebug(this),this.triangulatePolygon(g),this.triangulatePolygon(S)}}triangulatePolygon(t){for(;t.length>3;){for(let i=0;i<t.length;i++){const a=i<t.length-1?i+1:0;assert&&assert(t[i].getSharedVertex(t[a]))}for(let i=0;i<t.length;i++){const a=i<t.length-1?i+1:0,l=t[i],r=t[a],g=l.getSharedVertex(r),S=l.getOtherVertex(g),B=r.getOtherVertex(g);if(ri.triangleAreaSigned(S.point,g.point,B.point)<=0)continue;const j=B.point.minus(g.point),W=S.point.minus(g.point),G=j.dot(j),J=j.dot(W),R=W.dot(W),gt=G*R-J*J;let m=t[0].getSharedVertex(t[t.length-1]),it=!1;for(let et=0;et<t.length;et++){const nt=t[et].getOtherVertex(m);if(nt!==g&&nt!==S&&nt!==B){const Et=nt.point.minus(g.point),ot=j.dot(Et),ct=W.dot(Et),xt=(R*ot-J*ct)/gt,zt=(G*ct-J*ot)/gt;if(xt>=-1e-10&&zt>=-1e-10&&xt+zt<1+1e-10){it=!0;break}}m=nt}if(!it){const et=new Ti(S,B);this.edges.push(et),this.triangles.push(new Wn(S,g,B,r,et,l)),a>i?t.splice(i,2,et):(t.splice(i,1,et),t.splice(a,1)),window.triDebug&&window.triDebug(this)}}}t.length===3&&(this.triangles.push(new Wn(t[0].getSharedVertex(t[1]),t[1].getSharedVertex(t[2]),t[0].getSharedVertex(t[2]),t[2],t[0],t[1])),window.triDebug&&window.triDebug(this))}finalize(){const t=[];let i=this.firstFrontEdge.nextEdge;for(;i&&i.nextEdge;)t.push(i),i=i.nextEdge;const a=this.firstFrontEdge,l=i;assert&&assert(this.firstFrontEdge.triangles.length===1),assert&&assert(l.triangles.length===1);for(let B=0;B<t.length-1;B++){const j=t[B],W=t[B+1];if(ri.triangleAreaSigned(W.endVertex.point,j.endVertex.point,j.startVertex.point)>1e-10){const G=this.fillBorderTriangle(j,W,j.startVertex,j.endVertex,W.endVertex);t.splice(B,2,G),B=Math.max(B-2,-1),window.triDebug&&window.triDebug(this)}}this.firstFrontEdge=null;const r=[],g=[a];let S=a;for(;S!==l;){const B=S.triangles[0];B.remove(),Is(this.triangles,B);const j=B.getNonArtificialEdge();if(j){r.push(j);const W=j.getSharedVertex(S);S=B.getEdgeOppositeFromVertex(W)}else assert&&assert(S.startVertex===this.artificialMaxVertex),g.push(B.getEdgeOppositeFromVertex(S.endVertex)),S=B.getEdgeOppositeFromVertex(S.startVertex);g.push(S)}for(let B=0;B<g.length;B++)Is(this.edges,g[B]);window.triDebug&&window.triDebug(this);for(let B=0;B<r.length-1;B++){const j=r[B+1],W=r[B],G=j.getSharedVertex(W),J=j.getOtherVertex(G),R=W.getOtherVertex(G);if(ri.triangleAreaSigned(R.point,G.point,J.point)>1e-10){const gt=this.fillBorderTriangle(j,W,J,G,R);r.splice(B,2,gt),B=Math.max(B-2,-1),window.triDebug&&window.triDebug(this)}}for(let B=0;B<t.length;B++)this.convexHull.push(t[B].startVertex);this.convexHull.push(t[t.length-1].endVertex);for(let B=r.length-1;B>=1;B--)this.convexHull.push(r[B].getSharedVertex(r[B-1]))}legalizeEdge(t){if(!_.includes(this.edges,t)||t.triangles.length!==2||t.isConstrained)return;const i=t.triangles[0],a=t.triangles[1],l=i.getVertexOppositeFromEdge(t),r=a.getVertexOppositeFromEdge(t);if(ri.pointInCircleFromPoints(i.aVertex.point,i.bVertex.point,i.cVertex.point,r.point)||ri.pointInCircleFromPoints(a.aVertex.point,a.bVertex.point,a.cVertex.point,l.point)){i.remove(),a.remove(),Is(this.triangles,i),Is(this.triangles,a),Is(this.edges,t);const g=new Ti(l,r);this.edges.push(g);const S=a.getEdgeOppositeFromVertex(a.getVertexBefore(r)),B=i.getEdgeOppositeFromVertex(i.getVertexAfter(l)),j=i.getEdgeOppositeFromVertex(i.getVertexBefore(l)),W=a.getEdgeOppositeFromVertex(a.getVertexAfter(r));this.triangles.push(new Wn(l,r,i.getVertexBefore(l),S,B,g)),this.triangles.push(new Wn(r,l,a.getVertexBefore(r),j,W,g)),this.legalizeEdge(S),this.legalizeEdge(B),this.legalizeEdge(j),this.legalizeEdge(W)}}static vertexComparison(t,i){return assert&&assert(t instanceof un),assert&&assert(i instanceof un),t=t.point,i=i.point,t.y<i.y?-1:t.y>i.y?1:t.x<i.x?-1:t.x>i.x?1:0}static vertexProduct(t,i,a){const l=i.point.minus(t.point),r=a.point.minus(t.point);return l.crossScalar(r)}}le.register("DelaunayTriangulation",_a);class un{constructor(t,i){assert&&assert(t instanceof ce),assert&&assert(t.isFinite()),assert&&assert(typeof i=="number"),this.point=t,this.index=i,this.sortedIndex=-1,this.constrainedVertices=[]}isArtificial(){return this.index<0}}class Ti{constructor(t,i){assert&&assert(t instanceof un),assert&&assert(i instanceof un),assert&&assert(t!==i,"Should be different vertices"),this.startVertex=t,this.endVertex=i,this.triangles=[],this.nextEdge=null,this.previousEdge=null,this.isConstrained=!1}isArtificial(){return this.startVertex.isArtificial()||this.endVertex.isArtificial()}connectAfter(t){assert&&assert(t instanceof Ti),assert&&assert(this.endVertex===t.startVertex),this.nextEdge=t,t.previousEdge=this}disconnectAfter(){this.nextEdge.previousEdge=null,this.nextEdge=null}addTriangle(t){assert&&assert(t instanceof Wn),assert&&assert(this.triangles.length<=1),this.triangles.push(t)}removeTriangle(t){assert&&assert(t instanceof Wn),assert&&assert(_.includes(this.triangles,t)),Is(this.triangles,t)}getSharedTriangle(t){assert&&assert(t instanceof Ti);for(let i=0;i<this.triangles.length;i++){const a=this.triangles[i];for(let l=0;l<t.triangles.length;l++)if(t.triangles[l]===a)return a}throw new Error("No common triangle")}getSharedVertex(t){return assert&&assert(t instanceof Ti),this.startVertex===t.startVertex||this.startVertex===t.endVertex?this.startVertex:(assert&&assert(this.endVertex===t.startVertex||this.endVertex===t.endVertex),this.endVertex)}getOtherVertex(t){return assert&&assert(t instanceof un),assert&&assert(t===this.startVertex||t===this.endVertex),t===this.startVertex?this.endVertex:this.startVertex}getOtherTriangle(t){return assert&&assert(t instanceof Wn),assert&&assert(this.triangles.length===2),this.triangles[0]===t?this.triangles[1]:this.triangles[0]}intersectsConstrainedEdge(t,i){return ri.lineSegmentIntersection(t.point.x,t.point.y,i.point.x,i.point.y,this.startVertex.point.x,this.startVertex.point.y,this.endVertex.point.x,this.endVertex.point.y)}}class Wn{constructor(t,i,a,l,r,g){assert&&assert(t instanceof un),assert&&assert(i instanceof un),assert&&assert(a instanceof un),assert&&assert(l instanceof Ti),assert&&assert(r instanceof Ti),assert&&assert(g instanceof Ti),assert&&assert(t!==l.startVertex&&t!==l.endVertex,"Should be an opposite edge"),assert&&assert(i!==r.startVertex&&i!==r.endVertex,"Should be an opposite edge"),assert&&assert(a!==g.startVertex&&a!==g.endVertex,"Should be an opposite edge"),assert&&assert(t===r.startVertex||t===r.endVertex,"aVertex should be in bEdge"),assert&&assert(t===g.startVertex||t===g.endVertex,"aVertex should be in cEdge"),assert&&assert(i===l.startVertex||i===l.endVertex,"bVertex should be in aEdge"),assert&&assert(i===g.startVertex||i===g.endVertex,"bVertex should be in cEdge"),assert&&assert(a===l.startVertex||a===l.endVertex,"cVertex should be in aEdge"),assert&&assert(a===r.startVertex||a===r.endVertex,"cVertex should be in bEdge"),assert&&assert(ri.triangleAreaSigned(t.point,i.point,a.point)>0,"Should be counterclockwise"),this.aVertex=t,this.bVertex=i,this.cVertex=a,this.aEdge=l,this.bEdge=r,this.cEdge=g,this.aEdge.addTriangle(this),this.bEdge.addTriangle(this),this.cEdge.addTriangle(this)}hasVertex(t){return this.aVertex===t||this.bVertex===t||this.cVertex===t}getVertexOppositeFromEdge(t){return assert&&assert(t instanceof Ti),assert&&assert(t===this.aEdge||t===this.bEdge||t===this.cEdge,"Should be an edge that is part of this triangle"),t===this.aEdge?this.aVertex:t===this.bEdge?this.bVertex:this.cVertex}getEdgeOppositeFromVertex(t){return assert&&assert(t instanceof un),assert&&assert(t===this.aVertex||t===this.bVertex||t===this.cVertex,"Should be a vertex that is part of this triangle"),t===this.aVertex?this.aEdge:t===this.bVertex?this.bEdge:this.cEdge}getVertexBefore(t){return assert&&assert(t instanceof un),assert&&assert(t===this.aVertex||t===this.bVertex||t===this.cVertex),t===this.aVertex?this.cVertex:t===this.bVertex?this.aVertex:this.bVertex}getVertexAfter(t){return assert&&assert(t instanceof un),assert&&assert(t===this.aVertex||t===this.bVertex||t===this.cVertex),t===this.aVertex?this.bVertex:t===this.bVertex?this.cVertex:this.aVertex}getNonArtificialEdge(){return assert&&assert(this.aEdge.isArtificial()&&this.bEdge.isArtificial()&&!this.cEdge.isArtificial()||this.aEdge.isArtificial()&&!this.bEdge.isArtificial()&&this.cEdge.isArtificial()||!this.aEdge.isArtificial()&&this.bEdge.isArtificial()&&this.cEdge.isArtificial()||this.aEdge.isArtificial()&&this.bEdge.isArtificial()&&this.cEdge.isArtificial(),"At most one edge should be non-artificial"),this.aEdge.isArtificial()?this.bEdge.isArtificial()?this.cEdge.isArtificial()?null:this.cEdge:this.bEdge:this.aEdge}getNextEdge(t){if(assert&&assert(t===this.aEdge||t===this.bEdge||t===this.cEdge),this.aEdge===t)return this.bEdge;if(this.bEdge===t)return this.cEdge;if(this.cEdge===t)return this.aEdge;throw new Error("illegal edge")}getPreviousEdge(t){if(assert&&assert(t===this.aEdge||t===this.bEdge||t===this.cEdge),this.aEdge===t)return this.cEdge;if(this.bEdge===t)return this.aEdge;if(this.cEdge===t)return this.bEdge;throw new Error("illegal edge")}isArtificial(){return this.aVertex.isArtificial()||this.bVertex.isArtificial()||this.cVertex.isArtificial()}remove(){this.aEdge.removeTriangle(this),this.bEdge.removeTriangle(this),this.cEdge.removeTriangle(this)}}const C1={width:Hi,height:Hi},wr=class wr{constructor(t,i){this.width=t,this.height=i}toString(){return`[${this.width}w, ${this.height}h]`}set(t){return this.width=t.width,this.height=t.height,this}setWidth(t){return this.width=t,this}setHeight(t){return this.height=t,this}copy(t){return t?t.set(this):new wr(this.width,this.height)}swapped(){return new wr(this.height,this.width)}toBounds(t,i){return t=t!==void 0?t:0,i=i!==void 0?i:0,new Fn(t,i,this.width+t,this.height+i)}equals(t){return this.width===t.width&&this.height===t.height}toStateObject(){return{width:Hi.toStateObject(this.width),height:Hi.toStateObject(this.height)}}static fromStateObject(t){return new wr(Hi.fromStateObject(t.width),Hi.fromStateObject(t.height))}};wr.Dimension2IO=new yi("Dimension2IO",{valueType:wr,documentation:'A dimension with "width" and "height" members.',stateSchema:C1,toStateObject:t=>t.toStateObject(),fromStateObject:t=>wr.fromStateObject(t)});let zl=wr;le.register("Dimension2",zl);const lu=class lu{constructor(t){this.seed=null,this.seedrandom=null,this.numberOfCalls=0;const i=wn()({seed:null},t);this.setSeed(i.seed),lu.allRandomInstances.add(this)}dispose(){lu.allRandomInstances.delete(this)}getSeed(){return this.seed}nextBoolean(){return this.nextDouble()>=.5}nextInt(t){const i=this.nextDouble()*t;return Math.floor(i)}nextIntBetween(t,i){assert&&assert(Number.isInteger(t),`min must be an integer: ${t}`),assert&&assert(Number.isInteger(i),`max must be an integer: ${i}`);const a=i-t;return this.nextInt(a+1)+t}sample(t){assert&&assert(t.length>0,"Array should have at least 1 item.");const i=this.nextIntBetween(0,t.length-1);return t[i]}shuffle(t){let i=-1;const a=new Array(t.length);return _.forEach(t,l=>{const r=this.nextIntBetween(0,++i);a[i]=a[r],a[r]=l}),a}nextDouble(){return this.numberOfCalls++,this.seedrandom()}nextDoubleBetween(t,i){assert&&assert(t<i,"min must be < max");const a=t+this.nextDouble()*(i-t);return assert&&assert(a>=t&&a<i,`value out of range: ${a}`),a}nextGaussian(){return ri.boxMullerTransform(0,1,this)}nextDoubleInRange(t){return t.min<t.max?this.nextDoubleBetween(t.min,t.max):t.min}nextPointInBounds(t){return new ce(this.nextDoubleBetween(t.minX,t.maxX),this.nextDoubleBetween(t.minY,t.maxY))}setSeed(t){typeof t=="number"?assert&&assert(Math.seedrandom,"If a seed is specified, then we must also have Math.seedrandom to use the seed."):t=Math.random(),this.seed=t,this.seedrandom=Math.seedrandom?new Math.seedrandom(`${t}`):()=>Math.random()}sampleProbabilities(t){const a=_.sum(t)*this.nextDouble();let l=0;for(let r=0;r<t.length;r++)if(l+=t[r],l>=a)return r;return assert&&assert(t[t.length-1]!==0,"if last weight is zero, should have selected something beforehand"),t.length-1}};lu.allRandomInstances=new Set;let fu=lu;le.register("Random",fu);const Sf=new fu({seed:_.hasIn(window,"phet.chipper.queryParameters.randomSeed")?window.phet.chipper.queryParameters.randomSeed:null});le.register("dotRandom",Sf);const ef=window.Float64Array||Array;class ql{constructor(t){let i,a,l;this.matrix=t,this.LU=t.getArrayCopy();const r=this.LU;this.m=t.getRowDimension();const g=this.m;this.n=t.getColumnDimension();const S=this.n;for(this.piv=new Uint32Array(g),i=0;i<g;i++)this.piv[i]=i;this.pivsign=1;const B=new ef(g);for(a=0;a<S;a++){for(i=0;i<g;i++)B[i]=r[t.index(i,a)];for(i=0;i<g;i++){const W=Math.min(i,a);let G=0;for(l=0;l<W;l++){const J=t.index(i,l);G+=r[J]*B[l]}B[i]-=G,r[t.index(i,a)]=B[i]}let j=a;for(i=a+1;i<g;i++)Math.abs(B[i])>Math.abs(B[j])&&(j=i);if(j!==a){for(l=0;l<S;l++){const W=t.index(j,l),G=t.index(a,l),J=r[W];r[W]=r[G],r[G]=J}l=this.piv[j],this.piv[j]=this.piv[a],this.piv[a]=l,this.pivsign=-this.pivsign}if(a<g&&r[this.matrix.index(a,a)]!==0)for(i=a+1;i<g;i++)r[t.index(i,a)]/=r[t.index(a,a)]}}isNonsingular(){for(let t=0;t<this.n;t++){const i=this.matrix.index(t,t);if(this.LU[i]===0)return!1}return!0}getL(){const t=new _n(this.m,this.n);for(let i=0;i<this.m;i++)for(let a=0;a<this.n;a++)i>a?t.entries[t.index(i,a)]=this.LU[this.matrix.index(i,a)]:i===a?t.entries[t.index(i,a)]=1:t.entries[t.index(i,a)]=0;return t}getU(){const t=new _n(this.n,this.n);for(let i=0;i<this.n;i++)for(let a=0;a<this.n;a++)i<=a?t.entries[t.index(i,a)]=this.LU[this.matrix.index(i,a)]:t.entries[t.index(i,a)]=0;return t}getPivot(){const t=new Uint32Array(this.m);for(let i=0;i<this.m;i++)t[i]=this.piv[i];return t}getDoublePivot(){const t=new ef(this.m);for(let i=0;i<this.m;i++)t[i]=this.piv[i];return t}det(){if(this.m!==this.n)throw new Error("Matrix must be square.");let t=this.pivsign;for(let i=0;i<this.n;i++)t*=this.LU[this.matrix.index(i,i)];return t}solve(t){let i,a,l;if(t.getRowDimension()!==this.m)throw new Error("Matrix row dimensions must agree.");if(!this.isNonsingular())throw new Error("Matrix is singular.");const r=t.getColumnDimension(),g=t.getArrayRowMatrix(this.piv,0,r-1);for(l=0;l<this.n;l++)for(i=l+1;i<this.n;i++)for(a=0;a<r;a++)g.entries[g.index(i,a)]-=g.entries[g.index(l,a)]*this.LU[this.matrix.index(i,l)];for(l=this.n-1;l>=0;l--){for(a=0;a<r;a++)g.entries[g.index(l,a)]/=this.LU[this.matrix.index(l,l)];for(i=0;i<l;i++)for(a=0;a<r;a++)g.entries[g.index(i,a)]-=g.entries[g.index(l,a)]*this.LU[this.matrix.index(i,l)]}return g}}le.register("LUDecomposition",ql);const S1=window.Float64Array||Array;class th{constructor(t){this.matrix=t,this.QR=t.getArrayCopy();const i=this.QR;this.m=t.getRowDimension();const a=this.m;this.n=t.getColumnDimension();const l=this.n;this.Rdiag=new S1(l);let r,g,S;for(S=0;S<l;S++){let B=0;for(r=S;r<a;r++)B=_n.hypot(B,i[this.matrix.index(r,S)]);if(B!==0){for(i[this.matrix.index(S,S)]<0&&(B=-B),r=S;r<a;r++)i[this.matrix.index(r,S)]/=B;for(i[this.matrix.index(S,S)]+=1,g=S+1;g<l;g++){let j=0;for(r=S;r<a;r++)j+=i[this.matrix.index(r,S)]*i[this.matrix.index(r,g)];for(j=-j/i[this.matrix.index(S,S)],r=S;r<a;r++)i[this.matrix.index(r,g)]+=j*i[this.matrix.index(r,S)]}}this.Rdiag[S]=-B}}isFullRank(){for(let t=0;t<this.n;t++)if(this.Rdiag[t]===0)return!1;return!0}getH(){const t=new _n(this.m,this.n);for(let i=0;i<this.m;i++)for(let a=0;a<this.n;a++)i>=a?t.entries[t.index(i,a)]=this.QR[this.matrix.index(i,a)]:t.entries[t.index(i,a)]=0;return t}getR(){const t=new _n(this.n,this.n);for(let i=0;i<this.n;i++)for(let a=0;a<this.n;a++)i<a?t.entries[t.index(i,a)]=this.QR[this.matrix.index(i,a)]:i===a?t.entries[t.index(i,a)]=this.Rdiag[i]:t.entries[t.index(i,a)]=0;return t}getQ(){let t,i,a;const l=new _n(this.m,this.n);for(a=this.n-1;a>=0;a--){for(t=0;t<this.m;t++)l.entries[l.index(t,a)]=0;for(l.entries[l.index(a,a)]=1,i=a;i<this.n;i++)if(this.QR[this.matrix.index(a,a)]!==0){let r=0;for(t=a;t<this.m;t++)r+=this.QR[this.matrix.index(t,a)]*l.entries[l.index(t,i)];for(r=-r/this.QR[this.matrix.index(a,a)],t=a;t<this.m;t++)l.entries[l.index(t,i)]+=r*this.QR[this.matrix.index(t,a)]}}return l}solve(t){if(t.getRowDimension()!==this.m)throw new Error("Matrix row dimensions must agree.");if(!this.isFullRank())throw new Error("Matrix is rank deficient.");let i,a,l;const r=t.getColumnDimension(),g=t.getArrayCopy();for(l=0;l<this.n;l++)for(a=0;a<r;a++){let S=0;for(i=l;i<this.m;i++)S+=this.QR[this.matrix.index(i,l)]*g[t.index(i,a)];for(S=-S/this.QR[this.matrix.index(l,l)],i=l;i<this.m;i++)g[t.index(i,a)]+=S*this.QR[this.matrix.index(i,l)]}for(l=this.n-1;l>=0;l--){for(a=0;a<r;a++)g[t.index(l,a)]/=this.Rdiag[l];for(i=0;i<l;i++)for(a=0;a<r;a++)g[t.index(i,a)]-=g[t.index(l,a)]*this.QR[this.matrix.index(i,l)]}return new _n(this.n,r,g,!0).getMatrix(0,this.n-1,0,r-1)}}le.register("QRDecomposition",th);const su=window.Float64Array||Array;class Da{constructor(t){this.matrix=t;const i=t,a=i.getArrayCopy();this.m=i.getRowDimension(),this.n=i.getColumnDimension();const l=this.m,r=this.n,g=Math.min,S=Math.max,B=Math.pow,j=Math.abs,W=g(l,r);this.s=new su(g(l+1,r));const G=this.s;this.U=new su(l*W);const J=this.U;this.V=new su(r*r);const R=this.V,gt=new su(r),m=new su(l);let it,et,nt,Et,ot,ct,xt;const zt=_n.hypot,Mt=g(l-1,r),T=S(0,g(r-2,l));for(nt=0;nt<S(Mt,T);nt++){if(nt<Mt){for(G[nt]=0,it=nt;it<l;it++)G[nt]=zt(G[nt],a[it*r+nt]);if(G[nt]!==0){for(a[nt*r+nt]<0&&(G[nt]=-G[nt]),it=nt;it<l;it++)a[it*r+nt]/=G[nt];a[nt*r+nt]+=1}G[nt]=-G[nt]}for(et=nt+1;et<r;et++){if(nt<Mt&&G[nt]!==0){for(Et=0,it=nt;it<l;it++)Et+=a[it*r+nt]*a[it*r+et];for(Et=-Et/a[nt*r+nt],it=nt;it<l;it++)a[it*r+et]+=Et*a[it*r+nt]}gt[et]=a[nt*r+et]}if(nt<Mt)for(it=nt;it<l;it++)J[it*W+nt]=a[it*r+nt];if(nt<T){for(gt[nt]=0,it=nt+1;it<r;it++)gt[nt]=zt(gt[nt],gt[it]);if(gt[nt]!==0){for(gt[nt+1]<0&&(gt[nt]=-gt[nt]),it=nt+1;it<r;it++)gt[it]/=gt[nt];gt[nt+1]+=1}if(gt[nt]=-gt[nt],nt+1<l&&gt[nt]!==0){for(it=nt+1;it<l;it++)m[it]=0;for(et=nt+1;et<r;et++)for(it=nt+1;it<l;it++)m[it]+=gt[et]*a[it*r+et];for(et=nt+1;et<r;et++)for(Et=-gt[et]/gt[nt+1],it=nt+1;it<l;it++)a[it*r+et]+=Et*m[it]}for(it=nt+1;it<r;it++)R[it*r+nt]=gt[it]}}let F=g(r,l+1);Mt<r&&(G[Mt]=a[Mt*r+Mt]),l<F&&(G[F-1]=0),T+1<F&&(gt[T]=a[T*r+F-1]),gt[F-1]=0;{for(et=Mt;et<W;et++){for(it=0;it<l;it++)J[it*W+et]=0;J[et*W+et]=1}for(nt=Mt-1;nt>=0;nt--)if(G[nt]!==0){for(et=nt+1;et<W;et++){for(Et=0,it=nt;it<l;it++)Et+=J[it*W+nt]*J[it*W+et];for(Et=-Et/J[nt*W+nt],it=nt;it<l;it++)J[it*W+et]+=Et*J[it*W+nt]}for(it=nt;it<l;it++)J[it*W+nt]=-J[it*W+nt];for(J[nt*W+nt]=1+J[nt*W+nt],it=0;it<nt-1;it++)J[it*W+nt]=0}else{for(it=0;it<l;it++)J[it*W+nt]=0;J[nt*W+nt]=1}}for(nt=r-1;nt>=0;nt--){if(nt<T&&gt[nt]!==0)for(et=nt+1;et<W;et++){for(Et=0,it=nt+1;it<r;it++)Et+=R[it*r+nt]*R[it*r+et];for(Et=-Et/R[(nt+1)*r+nt],it=nt+1;it<r;it++)R[it*r+et]+=Et*R[it*r+nt]}for(it=0;it<r;it++)R[it*r+nt]=0;R[nt*r+nt]=1}const Rt=F-1;let se=0;const tt=B(2,-52),Zt=B(2,-966);for(;F>0;){let Ee;if(se>500)break;for(nt=F-2;nt>=-1&&nt!==-1;nt--)if(j(gt[nt])<=Zt+tt*(j(G[nt])+j(G[nt+1]))){gt[nt]=0;break}if(nt===F-2)Ee=4;else{let Dt;for(Dt=F-1;Dt>=nt&&Dt!==nt;Dt--)if(Et=(Dt!==F?j(gt[Dt]):0)+(Dt!==nt+1?j(gt[Dt-1]):0),j(G[Dt])<=Zt+tt*Et){G[Dt]=0;break}Dt===nt?Ee=3:Dt===F-1?Ee=1:(Ee=2,nt=Dt)}switch(nt++,Ee){case 1:for(ot=gt[F-2],gt[F-2]=0,et=F-2;et>=nt;et--)for(Et=zt(G[et],ot),ct=G[et]/Et,xt=ot/Et,G[et]=Et,et!==nt&&(ot=-xt*gt[et-1],gt[et-1]=ct*gt[et-1]),it=0;it<r;it++)Et=ct*R[it*r+et]+xt*R[it*r+F-1],R[it*r+F-1]=-xt*R[it*r+et]+ct*R[it*r+F-1],R[it*r+et]=Et;break;case 2:for(ot=gt[nt-1],gt[nt-1]=0,et=nt;et<F;et++)for(Et=zt(G[et],ot),ct=G[et]/Et,xt=ot/Et,G[et]=Et,ot=-xt*gt[et],gt[et]=ct*gt[et],it=0;it<l;it++)Et=ct*J[it*W+et]+xt*J[it*W+nt-1],J[it*W+nt-1]=-xt*J[it*W+et]+ct*J[it*W+nt-1],J[it*W+et]=Et;break;case 3:{const Dt=S(S(S(S(j(G[F-1]),j(G[F-2])),j(gt[F-2])),j(G[nt])),j(gt[nt])),re=G[F-1]/Dt,ve=G[F-2]/Dt,$t=gt[F-2]/Dt,ee=G[nt]/Dt,pe=gt[nt]/Dt,oe=((ve+re)*(ve-re)+$t*$t)/2,Ce=re*$t*(re*$t);let Se=0;(oe!==0||Ce!==0)&&(Se=Math.sqrt(oe*oe+Ce),oe<0&&(Se=-Se),Se=Ce/(oe+Se)),ot=(ee+re)*(ee-re)+Se;let fe=ee*pe;for(et=nt;et<F-1;et++){for(Et=zt(ot,fe),ct=ot/Et,xt=fe/Et,et!==nt&&(gt[et-1]=Et),ot=ct*G[et]+xt*gt[et],gt[et]=ct*gt[et]-xt*G[et],fe=xt*G[et+1],G[et+1]=ct*G[et+1],it=0;it<r;it++)Et=ct*R[it*r+et]+xt*R[it*r+et+1],R[it*r+et+1]=-xt*R[it*r+et]+ct*R[it*r+et+1],R[it*r+et]=Et;if(Et=zt(ot,fe),ct=ot/Et,xt=fe/Et,G[et]=Et,ot=ct*gt[et]+xt*G[et+1],G[et+1]=-xt*gt[et]+ct*G[et+1],fe=xt*gt[et+1],gt[et+1]=ct*gt[et+1],et<l-1)for(it=0;it<l;it++)Et=ct*J[it*W+et]+xt*J[it*W+et+1],J[it*W+et+1]=-xt*J[it*W+et]+ct*J[it*W+et+1],J[it*W+et]=Et}gt[F-2]=ot,se=se+1}break;case 4:{if(G[nt]<=0)for(G[nt]=G[nt]<0?-G[nt]:0,it=0;it<=Rt;it++)R[it*r+nt]=-R[it*r+nt];for(;nt<Rt&&!(G[nt]>=G[nt+1]);){if(Et=G[nt],G[nt]=G[nt+1],G[nt+1]=Et,nt<r-1)for(it=0;it<r;it++)Et=R[it*r+nt+1],R[it*r+nt+1]=R[it*r+nt],R[it*r+nt]=Et;if(nt<l-1)for(it=0;it<l;it++)Et=J[it*W+nt+1],J[it*W+nt+1]=J[it*W+nt],J[it*W+nt]=Et;nt++}se=0,F--}break;default:throw new Error(`invalid kase: ${Ee}`)}}}getU(){return new _n(this.m,Math.min(this.m+1,this.n),this.U,!0)}getV(){return new _n(this.n,this.n,this.V,!0)}getSingularValues(){return this.s}getS(){const t=new _n(this.n,this.n);for(let i=0;i<this.n;i++){for(let a=0;a<this.n;a++)t.entries[t.index(i,a)]=0;t.entries[t.index(i,i)]=this.s[i]}return t}norm2(){return this.s[0]}cond(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}rank(){const t=Math.pow(2,-23),i=Math.max(this.m,this.n)*this.s[0]*t;let a=0;for(let l=0;l<this.s.length;l++)this.s[l]>i&&a++;return a}static pseudoinverse(t){const i=new Da(t),a=_n.diagonalMatrix(i.getSingularValues().map(l=>Math.abs(l)<1e-300?0:1/l));return i.getV().times(a).times(i.getU().transpose())}}le.register("SingularValueDecomposition",Da);const va=window.Float64Array||Array;class ni{constructor(t,i,a,l){this.m=t,this.n=i;const r=t*i;this.size=r;let g;if(l)this.entries=a;else if(a||(a=0),this.entries=new va(r),_f(a))for(assert&&assert(a.length===r),g=0;g<r;g++)this.entries[g]=a[g];else for(g=0;g<r;g++)this.entries[g]=a}copy(){const t=new ni(this.m,this.n);for(let i=0;i<this.size;i++)t.entries[i]=this.entries[i];return t}getArray(){return this.entries}getArrayCopy(){return new va(this.entries)}getRowDimension(){return this.m}getColumnDimension(){return this.n}index(t,i){return t*this.n+i}get(t,i){return this.entries[this.index(t,i)]}set(t,i,a){this.entries[this.index(t,i)]=a}getMatrix(t,i,a,l){const r=new ni(i-t+1,l-a+1);for(let g=t;g<=i;g++)for(let S=a;S<=l;S++)r.entries[r.index(g-t,S-a)]=this.entries[this.index(g,S)];return r}getArrayRowMatrix(t,i,a){const l=new ni(t.length,a-i+1);for(let r=0;r<t.length;r++)for(let g=i;g<=a;g++)l.entries[l.index(r,g-i)]=this.entries[this.index(t[r],g)];return l}transpose(t){t=t||new ni(this.n,this.m),assert&&assert(t.m===this.n),assert&&assert(t.n===this.m);for(let i=0;i<this.m;i++)for(let a=0;a<this.n;a++)t.entries[t.index(a,i)]=this.entries[this.index(i,a)];return t}norm1(){let t=0;for(let i=0;i<this.n;i++){let a=0;for(let l=0;l<this.m;l++)a+=Math.abs(this.entries[this.index(l,i)]);t=Math.max(t,a)}return t}norm2(){return new Da(this).norm2()}normInf(){let t=0;for(let i=0;i<this.m;i++){let a=0;for(let l=0;l<this.n;l++)a+=Math.abs(this.entries[this.index(i,l)]);t=Math.max(t,a)}return t}normF(){let t=0;for(let i=0;i<this.m;i++)for(let a=0;a<this.n;a++)t=ni.hypot(t,this.entries[this.index(i,a)]);return t}uminus(){const t=new ni(this.m,this.n);for(let i=0;i<this.m;i++)for(let a=0;a<this.n;a++)t.entries[t.index(i,a)]=-this.entries[this.index(i,a)];return t}plus(t){this.checkMatrixDimensions(t);const i=new ni(this.m,this.n);for(let a=0;a<this.m;a++)for(let l=0;l<this.n;l++){const r=i.index(a,l);i.entries[r]=this.entries[r]+t.entries[r]}return i}plusEquals(t){this.checkMatrixDimensions(t);for(let i=0;i<this.m;i++)for(let a=0;a<this.n;a++){const l=this.index(i,a);this.entries[l]=this.entries[l]+t.entries[l]}return this}blendEquals(t,i){this.checkMatrixDimensions(t);for(let a=0;a<this.m;a++)for(let l=0;l<this.n;l++){const r=this.index(a,l),g=this.entries[r],S=t.entries[r];this.entries[r]=g+(S-g)*i}return this}minus(t){this.checkMatrixDimensions(t);const i=new ni(this.m,this.n);for(let a=0;a<this.m;a++)for(let l=0;l<this.n;l++){const r=this.index(a,l);i.entries[r]=this.entries[r]-t.entries[r]}return i}minusEquals(t){this.checkMatrixDimensions(t);for(let i=0;i<this.m;i++)for(let a=0;a<this.n;a++){const l=this.index(i,a);this.entries[l]=this.entries[l]-t.entries[l]}return this}arrayTimes(t){this.checkMatrixDimensions(t);const i=new ni(this.m,this.n);for(let a=0;a<this.m;a++)for(let l=0;l<this.n;l++){const r=i.index(a,l);i.entries[r]=this.entries[r]*t.entries[r]}return i}arrayTimesEquals(t){this.checkMatrixDimensions(t);for(let i=0;i<this.m;i++)for(let a=0;a<this.n;a++){const l=this.index(i,a);this.entries[l]=this.entries[l]*t.entries[l]}return this}arrayRightDivide(t){this.checkMatrixDimensions(t);const i=new ni(this.m,this.n);for(let a=0;a<this.m;a++)for(let l=0;l<this.n;l++){const r=this.index(a,l);i.entries[r]=this.entries[r]/t.entries[r]}return i}arrayRightDivideEquals(t){this.checkMatrixDimensions(t);for(let i=0;i<this.m;i++)for(let a=0;a<this.n;a++){const l=this.index(i,a);this.entries[l]=this.entries[l]/t.entries[l]}return this}arrayLeftDivide(t){this.checkMatrixDimensions(t);const i=new ni(this.m,this.n);for(let a=0;a<this.m;a++)for(let l=0;l<this.n;l++){const r=this.index(a,l);i.entries[r]=t.entries[r]/this.entries[r]}return i}arrayLeftDivideEquals(t){this.checkMatrixDimensions(t);for(let i=0;i<this.m;i++)for(let a=0;a<this.n;a++){const l=this.index(i,a);this.entries[l]=t.entries[l]/this.entries[l]}return this}times(t){let i,a,l,r,g,S;if(t.isMatrix){if(S=t,S.m!==this.n)throw new Error("Matrix inner dimensions must agree.");i=new ni(this.m,S.n);const B=new va(this.n);for(l=0;l<S.n;l++){for(r=0;r<this.n;r++)B[r]=S.entries[S.index(r,l)];for(a=0;a<this.m;a++){for(g=0,r=0;r<this.n;r++)g+=this.entries[this.index(a,r)]*B[r];i.entries[i.index(a,l)]=g}}return i}else{for(g=t,i=new ni(this.m,this.n),a=0;a<this.m;a++)for(l=0;l<this.n;l++)i.entries[i.index(a,l)]=g*this.entries[this.index(a,l)];return i}}timesEquals(t){for(let i=0;i<this.m;i++)for(let a=0;a<this.n;a++){const l=this.index(i,a);this.entries[l]=t*this.entries[l]}return this}solve(t){return this.m===this.n?new ql(this).solve(t):new th(this).solve(t)}solveTranspose(t){return this.transpose().solve(t.transpose())}inverse(){return this.solve(ni.identity(this.m,this.m))}det(){return new ql(this).det()}rank(){return new Da(this).rank()}cond(){return new Da(this).cond()}trace(){let t=0;for(let i=0;i<Math.min(this.m,this.n);i++)t+=this.entries[this.index(i,i)];return t}checkMatrixDimensions(t){if(t.m!==this.m||t.n!==this.n)throw new Error("Matrix dimensions must agree.")}toString(){let t="";t+=`dim: ${this.getRowDimension()}x${this.getColumnDimension()}
`;for(let i=0;i<this.getRowDimension();i++){for(let a=0;a<this.getColumnDimension();a++)t+=`${this.get(i,a)} `;t+=`
`}return t}extractVector2(t){return assert&&assert(this.m===2),new ce(this.get(0,t),this.get(1,t))}extractVector3(t){return assert&&assert(this.m===3),new ke(this.get(0,t),this.get(1,t),this.get(2,t))}extractVector4(t){return assert&&assert(this.m===4),new ji(this.get(0,t),this.get(1,t),this.get(2,t),this.get(3,t))}setVectors3(t){const a=t.length;assert&&assert(this.m===3),assert&&assert(this.n===a);for(let l=0;l<a;l++){const r=t[l];this.entries[l]=r.x,this.entries[l+a]=r.y,this.entries[l+2*a]=r.z}return this}static hypot(t,i){let a;return Math.abs(t)>Math.abs(i)?(a=i/t,a=Math.abs(t)*Math.sqrt(1+a*a)):i!==0?(a=t/i,a=Math.abs(i)*Math.sqrt(1+a*a)):a=0,a}static identity(t,i){const a=new ni(t,i);for(let l=0;l<t;l++)for(let r=0;r<i;r++)a.entries[a.index(l,r)]=l===r?1:0;return a}static diagonalMatrix(t){const i=t.length,a=new ni(i,i);for(let l=0;l<i;l++)a.entries[a.index(l,l)]=t[l];return a}static rowVector2(t){return new ni(1,2,[t.x,t.y])}static rowVector3(t){return new ni(1,3,[t.x,t.y,t.z])}static rowVector4(t){return new ni(1,4,[t.x,t.y,t.z,t.w])}static rowVector(t){if(t.isVector2)return ni.rowVector2(t);if(t.isVector3)return ni.rowVector3(t);if(t.isVector4)return ni.rowVector4(t);throw new Error(`undetected type of vector: ${t.toString()}`)}static columnVector2(t){return new ni(2,1,[t.x,t.y])}static columnVector3(t){return new ni(3,1,[t.x,t.y,t.z])}static columnVector4(t){return new ni(4,1,[t.x,t.y,t.z,t.w])}static columnVector(t){if(t.isVector2)return ni.columnVector2(t);if(t.isVector3)return ni.columnVector3(t);if(t.isVector4)return ni.columnVector4(t);throw new Error(`undetected type of vector: ${t.toString()}`)}static fromVectors2(t){const a=t.length,l=new va(2*a);for(let r=0;r<a;r++){const g=t[r];l[r]=g.x,l[r+a]=g.y}return new ni(2,a,l,!0)}static fromVectors3(t){const a=t.length,l=new va(3*a);for(let r=0;r<a;r++){const g=t[r];l[r]=g.x,l[r+a]=g.y,l[r+2*a]=g.z}return new ni(3,a,l,!0)}static fromVectors4(t){const a=t.length,l=new va(4*a);for(let r=0;r<a;r++){const g=t[r];l[r]=g.x,l[r+a]=g.y,l[r+2*a]=g.z,l[r+3*a]=g.w}return new ni(4,a,l,!0)}}ni.prototype.isMatrix=!0;le.register("Matrix",ni);const _n=ni,ru=window.Float64Array||Array;class Tf{constructor(t){let i,a;const l=t.entries;this.n=t.getColumnDimension();const r=this.n;for(this.V=new ru(r*r),this.d=new ru(r),this.e=new ru(r),this.issymmetric=!0,a=0;a<r&&this.issymmetric;a++)for(i=0;i<r&&this.issymmetric;i++)this.issymmetric=l[i*this.n+a]===l[a*this.n+i];if(this.issymmetric){for(i=0;i<r;i++)for(a=0;a<r;a++)this.V[i*this.n+a]=l[i*this.n+a];this.tred2(),this.tql2()}else{for(this.H=new ru(r*r),this.ort=new ru(r),a=0;a<r;a++)for(i=0;i<r;i++)this.H[i*this.n+a]=l[i*this.n+a];this.orthes(),this.hqr2()}}getV(){return this.V.copy()}getRealEigenvalues(){return this.d}getImagEigenvalues(){return this.e}getD(){const t=this.n,i=this.d,a=this.e,l=new _n(t,t),r=l.entries;for(let g=0;g<t;g++){for(let S=0;S<t;S++)r[g*this.n+S]=0;r[g*this.n+g]=i[g],a[g]>0?r[g*this.n+g+1]=a[g]:a[g]<0&&(r[g*this.n+g-1]=a[g])}return l}tred2(){const t=this.n,i=this.V,a=this.d,l=this.e;let r,g,S,B,j,W;for(g=0;g<t;g++)a[g]=i[(t-1)*t+g];for(r=t-1;r>0;r--){let G=0;for(W=0,S=0;S<r;S++)G=G+Math.abs(a[S]);if(G===0)for(l[r]=a[r-1],g=0;g<r;g++)a[g]=i[(r-1)*t+g],i[r*this.n+g]=0,i[g*this.n+r]=0;else{for(S=0;S<r;S++)a[S]/=G,W+=a[S]*a[S];for(B=a[r-1],j=Math.sqrt(W),B>0&&(j=-j),l[r]=G*j,W=W-B*j,a[r-1]=B-j,g=0;g<r;g++)l[g]=0;for(g=0;g<r;g++){for(B=a[g],i[g*this.n+r]=B,j=l[g]+i[g*t+g]*B,S=g+1;S<=r-1;S++)j+=i[S*t+g]*a[S],l[S]+=i[S*t+g]*B;l[g]=j}for(B=0,g=0;g<r;g++)l[g]/=W,B+=l[g]*a[g];const J=B/(W+W);for(g=0;g<r;g++)l[g]-=J*a[g];for(g=0;g<r;g++){for(B=a[g],j=l[g],S=g;S<=r-1;S++)i[S*t+g]-=B*l[S]+j*a[S];a[g]=i[(r-1)*t+g],i[r*this.n+g]=0}}a[r]=W}for(r=0;r<t-1;r++){if(i[(t-1)*t+r]=i[r*t+r],i[r*t+r]=1,W=a[r+1],W!==0){for(S=0;S<=r;S++)a[S]=i[S*t+(r+1)]/W;for(g=0;g<=r;g++){for(j=0,S=0;S<=r;S++)j+=i[S*t+(r+1)]*i[S*t+g];for(S=0;S<=r;S++)i[S*t+g]-=j*a[S]}}for(S=0;S<=r;S++)i[S*t+(r+1)]=0}for(g=0;g<t;g++)a[g]=i[(t-1)*t+g],i[(t-1)*t+g]=0;i[(t-1)*t+(t-1)]=1,l[0]=0}tql2(){const t=this.n,i=this.V,a=this.d,l=this.e;let r,g,S,B,j,W;for(r=1;r<t;r++)l[r-1]=l[r];l[t-1]=0;let G=0,J=0;const R=Math.pow(2,-52);for(B=0;B<t;B++){J=Math.max(J,Math.abs(a[B])+Math.abs(l[B]));let gt=B;for(;gt<t&&!(Math.abs(l[gt])<=R*J);)gt++;if(gt>B)do{j=a[B],W=(a[B+1]-j)/(2*l[B]);let m=_n.hypot(W,1);W<0&&(m=-m),a[B]=l[B]/(W+m),a[B+1]=l[B]*(W+m);const it=a[B+1];let et=j-a[B];for(r=B+2;r<t;r++)a[r]-=et;G=G+et,W=a[gt];let nt=1,Et=nt,ot=nt;const ct=l[B+1];let xt=0,zt=0;for(r=gt-1;r>=B;r--)for(ot=Et,Et=nt,zt=xt,j=nt*l[r],et=nt*W,m=_n.hypot(W,l[r]),l[r+1]=xt*m,xt=l[r]/m,nt=W/m,W=nt*a[r]-xt*j,a[r+1]=et+xt*(nt*j+xt*a[r]),S=0;S<t;S++)et=i[S*t+(r+1)],i[S*t+(r+1)]=xt*i[S*t+r]+nt*et,i[S*t+r]=nt*i[S*t+r]-xt*et;W=-xt*zt*ot*ct*l[B]/it,l[B]=xt*W,a[B]=nt*W}while(Math.abs(l[B])>R*J);a[B]=a[B]+G,l[B]=0}for(r=0;r<t-1;r++){for(S=r,W=a[r],g=r+1;g<t;g++)a[g]<W&&(S=g,W=a[g]);if(S!==r)for(a[S]=a[r],a[r]=W,g=0;g<t;g++)W=i[g*this.n+r],i[g*this.n+r]=i[g*t+S],i[g*t+S]=W}}orthes(){const t=this.n,i=this.V,a=this.H,l=this.ort;let r,g,S,B,j;const W=0,G=t-1;for(S=W+1;S<=G-1;S++){let J=0;for(r=S;r<=G;r++)J=J+Math.abs(a[r*t+(S-1)]);if(J!==0){let R=0;for(r=G;r>=S;r--)l[r]=a[r*t+(S-1)]/J,R+=l[r]*l[r];for(j=Math.sqrt(R),l[S]>0&&(j=-j),R=R-l[S]*j,l[S]=l[S]-j,g=S;g<t;g++){for(B=0,r=G;r>=S;r--)B+=l[r]*a[r*this.n+g];for(B=B/R,r=S;r<=G;r++)a[r*this.n+g]-=B*l[r]}for(r=0;r<=G;r++){for(B=0,g=G;g>=S;g--)B+=l[g]*a[r*this.n+g];for(B=B/R,g=S;g<=G;g++)a[r*this.n+g]-=B*l[g]}l[S]=J*l[S],a[S*t+(S-1)]=J*j}}for(r=0;r<t;r++)for(g=0;g<t;g++)i[r*this.n+g]=r===g?1:0;for(S=G-1;S>=W+1;S--)if(a[S*t+(S-1)]!==0){for(r=S+1;r<=G;r++)l[r]=a[r*t+(S-1)];for(g=S;g<=G;g++){for(j=0,r=S;r<=G;r++)j+=l[r]*i[r*this.n+g];for(j=j/l[S]/a[S*t+(S-1)],r=S;r<=G;r++)i[r*this.n+g]+=j*l[r]}}}cdiv(t,i,a,l){let r,g;Math.abs(a)>Math.abs(l)?(r=l/a,g=a+r*l,this.cdivr=(t+r*i)/g,this.cdivi=(i-r*t)/g):(r=a/l,g=l+r*a,this.cdivr=(r*t+i)/g,this.cdivi=(r*i-t)/g)}hqr2(){let t;const i=this.V,a=this.d,l=this.e,r=this.H;let g,S,B,j,W,G;const J=this.n;t=J-1;const R=0,gt=J-1,m=Math.pow(2,-52);let it=0,et=0,nt=0,Et=0,ot=0,ct=0,xt,zt,Mt,T,F=0;for(g=0;g<J;g++)for((g<R||g>gt)&&(a[g]=r[g*t+g],l[g]=0),S=Math.max(g-1,0);S<J;S++)F=F+Math.abs(r[g*this.n+S]);for(G=0;t>=R;){for(j=t;j>R&&(ot=Math.abs(r[(j-1)*t+(j-1)])+Math.abs(r[j*t+j]),ot===0&&(ot=F),!(Math.abs(r[j*t+(j-1)])<m*ot));)j--;if(j===t)r[t*t+t]=r[t*t+t]+it,a[t]=r[t*t+t],l[t]=0,t--,G=0;else if(j===t-1){if(zt=r[t*t+t-1]*r[(t-1)*t+t],et=(r[(t-1)*t+(t-1)]-r[t*t+t])/2,nt=et*et+zt,ct=Math.sqrt(Math.abs(nt)),r[t*t+t]=r[t*t+t]+it,r[(t-1)*t+(t-1)]=r[(t-1)*t+(t-1)]+it,Mt=r[t*t+t],nt>=0){for(et>=0?ct=et+ct:ct=et-ct,a[t-1]=Mt+ct,a[t]=a[t-1],ct!==0&&(a[t]=Mt-zt/ct),l[t-1]=0,l[t]=0,Mt=r[t*t+t-1],ot=Math.abs(Mt)+Math.abs(ct),et=Mt/ot,nt=ct/ot,Et=Math.sqrt(et*et+nt*nt),et=et/Et,nt=nt/Et,S=t-1;S<J;S++)ct=r[(t-1)*t+S],r[(t-1)*t+S]=nt*ct+et*r[t*t+S],r[t*t+S]=nt*r[t*t+S]-et*ct;for(g=0;g<=t;g++)ct=r[g*t+t-1],r[g*t+t-1]=nt*ct+et*r[g*t+t],r[g*t+t]=nt*r[g*t+t]-et*ct;for(g=R;g<=gt;g++)ct=i[g*t+t-1],i[g*t+t-1]=nt*ct+et*i[g*t+t],i[g*t+t]=nt*i[g*t+t]-et*ct}else a[t-1]=Mt+et,a[t]=Mt+et,l[t-1]=ct,l[t]=-ct;t=t-2,G=0}else{if(Mt=r[t*t+t],T=0,zt=0,j<t&&(T=r[(t-1)*t+(t-1)],zt=r[t*t+t-1]*r[(t-1)*t+t]),G===10){for(it+=Mt,g=R;g<=t;g++)r[g*t+g]-=Mt;ot=Math.abs(r[t*t+t-1])+Math.abs(r[(t-1)*t+t-2]),Mt=T=.75*ot,zt=-.4375*ot*ot}if(G===30&&(ot=(T-Mt)/2,ot=ot*ot+zt,ot>0)){for(ot=Math.sqrt(ot),T<Mt&&(ot=-ot),ot=Mt-zt/((T-Mt)/2+ot),g=R;g<=t;g++)r[g*t+g]-=ot;it+=ot,Mt=T=zt=.964}for(G=G+1,W=t-2;W>=j&&(ct=r[W*t+W],Et=Mt-ct,ot=T-ct,et=(Et*ot-zt)/r[(W+1)*t+W]+r[W*t+W+1],nt=r[(W+1)*t+W+1]-ct-Et-ot,Et=r[(W+2)*t+W+1],ot=Math.abs(et)+Math.abs(nt)+Math.abs(Et),et=et/ot,nt=nt/ot,Et=Et/ot,!(W===j||Math.abs(r[W*t+(W-1)])*(Math.abs(nt)+Math.abs(Et))<m*(Math.abs(et)*(Math.abs(r[(W-1)*t+W-1])+Math.abs(ct)+Math.abs(r[(W+1)*t+W+1])))));)W--;for(g=W+2;g<=t;g++)r[g*t+g-2]=0,g>W+2&&(r[g*t+g-3]=0);for(B=W;B<=t-1;B++){const Rt=B!==t-1;if(B!==W&&(et=r[B*t+B-1],nt=r[(B+1)*t+B-1],Et=Rt?r[(B+2)*t+B-1]:0,Mt=Math.abs(et)+Math.abs(nt)+Math.abs(Et),Mt!==0&&(et=et/Mt,nt=nt/Mt,Et=Et/Mt)),Mt===0)break;if(ot=Math.sqrt(et*et+nt*nt+Et*Et),et<0&&(ot=-ot),ot!==0){for(B!==W?r[B*t+B-1]=-ot*Mt:j!==W&&(r[B*t+B-1]=-r[B*t+B-1]),et=et+ot,Mt=et/ot,T=nt/ot,ct=Et/ot,nt=nt/et,Et=Et/et,S=B;S<J;S++)et=r[B*t+S]+nt*r[(B+1)*t+S],Rt&&(et=et+Et*r[(B+2)*t+S],r[(B+2)*t+S]=r[(B+2)*t+S]-et*ct),r[B*t+S]=r[B*t+S]-et*Mt,r[(B+1)*t+S]=r[(B+1)*t+S]-et*T;for(g=0;g<=Math.min(t,B+3);g++)et=Mt*r[g*t+B]+T*r[g*t+B+1],Rt&&(et=et+ct*r[g*t+B+2],r[g*t+B+2]=r[g*t+B+2]-et*Et),r[g*t+B]=r[g*t+B]-et,r[g*t+B+1]=r[g*t+B+1]-et*nt;for(g=R;g<=gt;g++)et=Mt*i[g*t+B]+T*i[g*t+B+1],Rt&&(et=et+ct*i[g*t+B+2],i[g*t+B+2]=i[g*t+B+2]-et*Et),i[g*t+B]=i[g*t+B]-et,i[g*t+B+1]=i[g*t+B+1]-et*nt}}}}if(F!==0){for(t=J-1;t>=0;t--)if(et=a[t],nt=l[t],nt===0)for(j=t,r[t*t+t]=1,g=t-1;g>=0;g--){for(zt=r[g*t+g]-et,Et=0,S=j;S<=t;S++)Et=Et+r[g*this.n+S]*r[S*t+t];if(l[g]<0)ct=zt,ot=Et;else if(j=g,l[g]===0?zt!==0?r[g*t+t]=-Et/zt:r[g*t+t]=-Et/(m*F):(Mt=r[g*t+g+1],T=r[(g+1)*t+g],nt=(a[g]-et)*(a[g]-et)+l[g]*l[g],xt=(Mt*ot-ct*Et)/nt,r[g*t+t]=xt,Math.abs(Mt)>Math.abs(ct)?r[(g+1)*t+t]=(-Et-zt*xt)/Mt:r[(g+1)*t+t]=(-ot-T*xt)/ct),xt=Math.abs(r[g*t+t]),m*xt*xt>1)for(S=g;S<=t;S++)r[S*t+t]=r[S*t+t]/xt}else if(nt<0)for(j=t-1,Math.abs(r[t*t+t-1])>Math.abs(r[(t-1)*t+t])?(r[(t-1)*t+(t-1)]=nt/r[t*t+t-1],r[(t-1)*t+t]=-(r[t*t+t]-et)/r[t*t+t-1]):(this.cdiv(0,-r[(t-1)*t+t],r[(t-1)*t+(t-1)]-et,nt),r[(t-1)*t+(t-1)]=this.cdivr,r[(t-1)*t+t]=this.cdivi),r[t*t+t-1]=0,r[t*t+t]=1,g=t-2;g>=0;g--){let Rt,se,tt,Zt;for(Rt=0,se=0,S=j;S<=t;S++)Rt=Rt+r[g*this.n+S]*r[S*t+t-1],se=se+r[g*this.n+S]*r[S*t+t];if(zt=r[g*t+g]-et,l[g]<0)ct=zt,Et=Rt,ot=se;else if(j=g,l[g]===0?(this.cdiv(-Rt,-se,zt,nt),r[g*t+t-1]=this.cdivr,r[g*t+t]=this.cdivi):(Mt=r[g*t+g+1],T=r[(g+1)*t+g],tt=(a[g]-et)*(a[g]-et)+l[g]*l[g]-nt*nt,Zt=(a[g]-et)*2*nt,tt===0&&Zt===0&&(tt=m*F*(Math.abs(zt)+Math.abs(nt)+Math.abs(Mt)+Math.abs(T)+Math.abs(ct))),this.cdiv(Mt*Et-ct*Rt+nt*se,Mt*ot-ct*se-nt*Rt,tt,Zt),r[g*t+t-1]=this.cdivr,r[g*t+t]=this.cdivi,Math.abs(Mt)>Math.abs(ct)+Math.abs(nt)?(r[(g+1)*t+t-1]=(-Rt-zt*r[g*t+t-1]+nt*r[g*t+t])/Mt,r[(g+1)*t+t]=(-se-zt*r[g*t+t]-nt*r[g*t+t-1])/Mt):(this.cdiv(-Et-T*r[g*t+t-1],-ot-T*r[g*t+t],ct,nt),r[(g+1)*t+t-1]=this.cdivr,r[(g+1)*t+t]=this.cdivi)),xt=Math.max(Math.abs(r[g*t+t-1]),Math.abs(r[g*t+t])),m*xt*xt>1)for(S=g;S<=t;S++)r[S*t+t-1]=r[S*t+t-1]/xt,r[S*t+t]=r[S*t+t]/xt}for(g=0;g<J;g++)if(g<R||g>gt)for(S=g;S<J;S++)i[g*this.n+S]=r[g*this.n+S];for(S=J-1;S>=R;S--)for(g=R;g<=gt;g++){for(ct=0,B=R;B<=Math.min(S,gt);B++)ct=ct+i[g*t+B]*r[B*t+S];i[g*this.n+S]=ct}}}}le.register("EigenvalueDecomposition",Tf);class T1{constructor(t,i,a,l,r=!1){this.a1=t,this.a2=i,this.b1=a,this.b2=l,this.clamp=r}evaluate(t){return nf(this.a1,this.a2,this.b1,this.b2,t,this.clamp)}inverse(t){return nf(this.b1,this.b2,this.a1,this.a2,t,this.clamp)}}const nf=(A,t,i,a,l,r)=>{let g=ri.linear(A,t,i,a,l);if(r){const S=Math.max(i,a),B=Math.min(i,a);g=ri.clamp(g,B,S)}return g};le.register("LinearFunction",T1);class I1{constructor(t,i){let a,l,r;this.matrix=t,this.LU=[],t.entries.forEach(W=>{this.LU.push(new i(W))});const g=this.LU;this.m=t.getRowDimension();const S=this.m;this.n=t.getColumnDimension();const B=this.n;for(this.piv=new Uint32Array(S),a=0;a<S;a++)this.piv[a]=a;this.pivsign=1;const j=new Array(S);for(l=0;l<B;l++){for(a=0;a<S;a++)j[a]=new i(g[t.index(a,l)]);for(a=0;a<S;a++){const G=Math.min(a,l);let J=new i(0);for(r=0;r<G;r++){const R=t.index(a,r),gt=new i(g[R]),m=j[r];J=J.plus(gt.times(m))}j[a]=j[a].minus(J),g[t.index(a,l)]=j[a]}let W=l;for(a=l+1;a<S;a++)j[a].abs()>j[W].abs()&&(W=a);if(W!==l){for(r=0;r<B;r++){const G=t.index(W,r),J=t.index(l,r),R=g[G];g[G]=g[J],g[J]=R}r=this.piv[W],this.piv[W]=this.piv[l],this.piv[l]=r,this.pivsign=-this.pivsign}if(l<S&&!g[this.matrix.index(l,l)].isZero())for(a=l+1;a<S;a++)g[t.index(a,l)]=g[t.index(a,l)].dividedBy(g[t.index(l,l)])}}isNonsingular(){for(let t=0;t<this.n;t++){const i=this.matrix.index(t,t);if(this.LU[i].isZero())return!1}return!0}solve(t,i){let a,l,r;if(t.getRowDimension()!==this.m)throw new Error("Matrix row dimensions must agree.");if(!this.isNonsingular())throw new Error("Matrix is singular.");const g=t.getColumnDimension(),S=t.getArrayRowMatrix(this.piv,0,g-1),B=[];for(S.entries.forEach(j=>B.push(new i(j))),r=0;r<this.n;r++)for(a=r+1;a<this.n;a++)for(l=0;l<g;l++)B[S.index(a,l)]=B[S.index(a,l)].minus(B[S.index(r,l)].times(this.LU[this.matrix.index(a,r)]));for(r=this.n-1;r>=0;r--){for(l=0;l<g;l++)B[S.index(r,l)]=B[S.index(r,l)].dividedBy(this.LU[this.matrix.index(r,r)]);for(a=0;a<r;a++)for(l=0;l<g;l++)B[S.index(a,l)]=B[S.index(a,l)].minus(B[S.index(r,l)].times(this.LU[this.matrix.index(a,r)]))}return S.entries=B.map(j=>j.toNumber()),S}}le.register("LUDecompositionDecimal",I1);const hu=class hu extends Map{constructor(t){super(t),hu.caches.push(this)}static clearAll(){hu.caches.forEach(t=>t.clear())}};hu.caches=[];let Ar=hu;Ri.register("IOTypeCache",Ar);const po=new Ar,sf=A=>A.join("|"),eh=A=>{const t=A.enumeration;if(!po.has(t)){const i=t.phetioDocumentation?` ${t.phetioDocumentation}`:"",a=t.keys,l=t.values,r=`EnumerationIO(${sf(a)})`;assert&&assert(!Array.from(po.values()).find(g=>g.typeName===r),"There was already another IOType with the same name: "+r),po.set(t,new yi(r,{validValues:l,documentation:`Possible values: ${a.join(", ")}.${i}`,toStateObject:g=>t.getKey(g),fromStateObject:g=>(assert&&assert(typeof g=="string","unsupported EnumerationIO value type, expected string"),assert&&assert(a.includes(g),`Unrecognized value: ${g}`),t.getValue(g)),stateSchema:ys.asValue(`${sf(a)}`,{isValidValue:g=>a.includes(g)})}))}return po.get(t)};Ri.register("EnumerationIO",eh);const Il=new Ar,xo=A=>(assert&&assert(!!A,"parameterType should be defined"),Il.has(A)||Il.set(A,new yi(`ArrayIO<${A.typeName}>`,{valueType:Array,isValidValue:t=>_.every(t,i=>Nn.isValueValid(i,A.validator)),parameterTypes:[A],toStateObject:t=>t.map(A.toStateObject),fromStateObject:t=>t.map(A.fromStateObject),documentation:"PhET-iO Type for the built-in JS array type, with the element type specified.",stateSchema:ys.asValue(`Array<${A.typeName}>`,{isValidValue:t=>_.every(t,i=>A.isStateObjectValid(i))})})),Il.get(A));Ri.register("ArrayIO",xo);const M1=window.Float32Array||Array;class si{constructor(t,i,a,l,r,g,S,B,j,W,G,J,R,gt,m,it,et){this.entries=new M1(16),this.type=vi.OTHER,this.rowMajor(t!==void 0?t:1,i!==void 0?i:0,a!==void 0?a:0,l!==void 0?l:0,r!==void 0?r:0,g!==void 0?g:1,S!==void 0?S:0,B!==void 0?B:0,j!==void 0?j:0,W!==void 0?W:0,G!==void 0?G:1,J!==void 0?J:0,R!==void 0?R:0,gt!==void 0?gt:0,m!==void 0?m:0,it!==void 0?it:1,et)}rowMajor(t,i,a,l,r,g,S,B,j,W,G,J,R,gt,m,it,et){return this.entries[0]=t,this.entries[1]=r,this.entries[2]=j,this.entries[3]=R,this.entries[4]=i,this.entries[5]=g,this.entries[6]=W,this.entries[7]=gt,this.entries[8]=a,this.entries[9]=S,this.entries[10]=G,this.entries[11]=m,this.entries[12]=l,this.entries[13]=B,this.entries[14]=J,this.entries[15]=it,this.type=et===void 0?R===0&&gt===0&&m===0&&it===1?vi.AFFINE:vi.OTHER:et,this}columnMajor(t,i,a,l,r,g,S,B,j,W,G,J,R,gt,m,it,et){return this.rowMajor(t,r,j,R,i,g,W,gt,a,S,G,m,l,B,J,it,et)}set(t){return this.rowMajor(t.m00(),t.m01(),t.m02(),t.m03(),t.m10(),t.m11(),t.m12(),t.m13(),t.m20(),t.m21(),t.m22(),t.m23(),t.m30(),t.m31(),t.m32(),t.m33(),t.type)}m00(){return this.entries[0]}m01(){return this.entries[4]}m02(){return this.entries[8]}m03(){return this.entries[12]}m10(){return this.entries[1]}m11(){return this.entries[5]}m12(){return this.entries[9]}m13(){return this.entries[13]}m20(){return this.entries[2]}m21(){return this.entries[6]}m22(){return this.entries[10]}m23(){return this.entries[14]}m30(){return this.entries[3]}m31(){return this.entries[7]}m32(){return this.entries[11]}m33(){return this.entries[15]}isFinite(){return isFinite(this.m00())&&isFinite(this.m01())&&isFinite(this.m02())&&isFinite(this.m03())&&isFinite(this.m10())&&isFinite(this.m11())&&isFinite(this.m12())&&isFinite(this.m13())&&isFinite(this.m20())&&isFinite(this.m21())&&isFinite(this.m22())&&isFinite(this.m23())&&isFinite(this.m30())&&isFinite(this.m31())&&isFinite(this.m32())&&isFinite(this.m33())}getTranslation(){return new ke(this.m03(),this.m13(),this.m23())}get translation(){return this.getTranslation()}getScaleVector(){const t=this.m00()+this.m03(),i=this.m10()+this.m13(),a=this.m20()+this.m23(),l=this.m30()+this.m33(),r=this.m01()+this.m03(),g=this.m11()+this.m13(),S=this.m21()+this.m23(),B=this.m31()+this.m33(),j=this.m02()+this.m03(),W=this.m12()+this.m13(),G=this.m22()+this.m23(),J=this.m32()+this.m33();return new ke(Math.sqrt(t*t+i*i+a*a+l*l),Math.sqrt(r*r+g*g+S*S+B*B),Math.sqrt(j*j+W*W+G*G+J*J))}get scaleVector(){return this.getScaleVector()}getCSSTransform(){return`matrix3d(${this.entries[0].toFixed(20)},${this.entries[1].toFixed(20)},${this.entries[2].toFixed(20)},${this.entries[3].toFixed(20)},${this.entries[4].toFixed(20)},${this.entries[5].toFixed(20)},${this.entries[6].toFixed(20)},${this.entries[7].toFixed(20)},${this.entries[8].toFixed(20)},${this.entries[9].toFixed(20)},${this.entries[10].toFixed(20)},${this.entries[11].toFixed(20)},${this.entries[12].toFixed(20)},${this.entries[13].toFixed(20)},${this.entries[14].toFixed(20)},${this.entries[15].toFixed(20)})`}get cssTransform(){return this.getCSSTransform()}equals(t){return this.m00()===t.m00()&&this.m01()===t.m01()&&this.m02()===t.m02()&&this.m03()===t.m03()&&this.m10()===t.m10()&&this.m11()===t.m11()&&this.m12()===t.m12()&&this.m13()===t.m13()&&this.m20()===t.m20()&&this.m21()===t.m21()&&this.m22()===t.m22()&&this.m23()===t.m23()&&this.m30()===t.m30()&&this.m31()===t.m31()&&this.m32()===t.m32()&&this.m33()===t.m33()}equalsEpsilon(t,i){return Math.abs(this.m00()-t.m00())<i&&Math.abs(this.m01()-t.m01())<i&&Math.abs(this.m02()-t.m02())<i&&Math.abs(this.m03()-t.m03())<i&&Math.abs(this.m10()-t.m10())<i&&Math.abs(this.m11()-t.m11())<i&&Math.abs(this.m12()-t.m12())<i&&Math.abs(this.m13()-t.m13())<i&&Math.abs(this.m20()-t.m20())<i&&Math.abs(this.m21()-t.m21())<i&&Math.abs(this.m22()-t.m22())<i&&Math.abs(this.m23()-t.m23())<i&&Math.abs(this.m30()-t.m30())<i&&Math.abs(this.m31()-t.m31())<i&&Math.abs(this.m32()-t.m32())<i&&Math.abs(this.m33()-t.m33())<i}copy(){return new si(this.m00(),this.m01(),this.m02(),this.m03(),this.m10(),this.m11(),this.m12(),this.m13(),this.m20(),this.m21(),this.m22(),this.m23(),this.m30(),this.m31(),this.m32(),this.m33(),this.type)}plus(t){return new si(this.m00()+t.m00(),this.m01()+t.m01(),this.m02()+t.m02(),this.m03()+t.m03(),this.m10()+t.m10(),this.m11()+t.m11(),this.m12()+t.m12(),this.m13()+t.m13(),this.m20()+t.m20(),this.m21()+t.m21(),this.m22()+t.m22(),this.m23()+t.m23(),this.m30()+t.m30(),this.m31()+t.m31(),this.m32()+t.m32(),this.m33()+t.m33())}minus(t){return new si(this.m00()-t.m00(),this.m01()-t.m01(),this.m02()-t.m02(),this.m03()-t.m03(),this.m10()-t.m10(),this.m11()-t.m11(),this.m12()-t.m12(),this.m13()-t.m13(),this.m20()-t.m20(),this.m21()-t.m21(),this.m22()-t.m22(),this.m23()-t.m23(),this.m30()-t.m30(),this.m31()-t.m31(),this.m32()-t.m32(),this.m33()-t.m33())}transposed(){return new si(this.m00(),this.m10(),this.m20(),this.m30(),this.m01(),this.m11(),this.m21(),this.m31(),this.m02(),this.m12(),this.m22(),this.m32(),this.m03(),this.m13(),this.m23(),this.m33())}negated(){return new si(-this.m00(),-this.m01(),-this.m02(),-this.m03(),-this.m10(),-this.m11(),-this.m12(),-this.m13(),-this.m20(),-this.m21(),-this.m22(),-this.m23(),-this.m30(),-this.m31(),-this.m32(),-this.m33())}inverted(){let t;switch(this.type){case vi.IDENTITY:return this;case vi.TRANSLATION_3D:return new si(1,0,0,-this.m03(),0,1,0,-this.m13(),0,0,1,-this.m23(),0,0,0,1,vi.TRANSLATION_3D);case vi.SCALING:return new si(1/this.m00(),0,0,0,0,1/this.m11(),0,0,0,0,1/this.m22(),0,0,0,0,1/this.m33(),vi.SCALING);case vi.AFFINE:case vi.OTHER:if(t=this.getDeterminant(),t!==0)return new si((-this.m31()*this.m22()*this.m13()+this.m21()*this.m32()*this.m13()+this.m31()*this.m12()*this.m23()-this.m11()*this.m32()*this.m23()-this.m21()*this.m12()*this.m33()+this.m11()*this.m22()*this.m33())/t,(this.m31()*this.m22()*this.m03()-this.m21()*this.m32()*this.m03()-this.m31()*this.m02()*this.m23()+this.m01()*this.m32()*this.m23()+this.m21()*this.m02()*this.m33()-this.m01()*this.m22()*this.m33())/t,(-this.m31()*this.m12()*this.m03()+this.m11()*this.m32()*this.m03()+this.m31()*this.m02()*this.m13()-this.m01()*this.m32()*this.m13()-this.m11()*this.m02()*this.m33()+this.m01()*this.m12()*this.m33())/t,(this.m21()*this.m12()*this.m03()-this.m11()*this.m22()*this.m03()-this.m21()*this.m02()*this.m13()+this.m01()*this.m22()*this.m13()+this.m11()*this.m02()*this.m23()-this.m01()*this.m12()*this.m23())/t,(this.m30()*this.m22()*this.m13()-this.m20()*this.m32()*this.m13()-this.m30()*this.m12()*this.m23()+this.m10()*this.m32()*this.m23()+this.m20()*this.m12()*this.m33()-this.m10()*this.m22()*this.m33())/t,(-this.m30()*this.m22()*this.m03()+this.m20()*this.m32()*this.m03()+this.m30()*this.m02()*this.m23()-this.m00()*this.m32()*this.m23()-this.m20()*this.m02()*this.m33()+this.m00()*this.m22()*this.m33())/t,(this.m30()*this.m12()*this.m03()-this.m10()*this.m32()*this.m03()-this.m30()*this.m02()*this.m13()+this.m00()*this.m32()*this.m13()+this.m10()*this.m02()*this.m33()-this.m00()*this.m12()*this.m33())/t,(-this.m20()*this.m12()*this.m03()+this.m10()*this.m22()*this.m03()+this.m20()*this.m02()*this.m13()-this.m00()*this.m22()*this.m13()-this.m10()*this.m02()*this.m23()+this.m00()*this.m12()*this.m23())/t,(-this.m30()*this.m21()*this.m13()+this.m20()*this.m31()*this.m13()+this.m30()*this.m11()*this.m23()-this.m10()*this.m31()*this.m23()-this.m20()*this.m11()*this.m33()+this.m10()*this.m21()*this.m33())/t,(this.m30()*this.m21()*this.m03()-this.m20()*this.m31()*this.m03()-this.m30()*this.m01()*this.m23()+this.m00()*this.m31()*this.m23()+this.m20()*this.m01()*this.m33()-this.m00()*this.m21()*this.m33())/t,(-this.m30()*this.m11()*this.m03()+this.m10()*this.m31()*this.m03()+this.m30()*this.m01()*this.m13()-this.m00()*this.m31()*this.m13()-this.m10()*this.m01()*this.m33()+this.m00()*this.m11()*this.m33())/t,(this.m20()*this.m11()*this.m03()-this.m10()*this.m21()*this.m03()-this.m20()*this.m01()*this.m13()+this.m00()*this.m21()*this.m13()+this.m10()*this.m01()*this.m23()-this.m00()*this.m11()*this.m23())/t,(this.m30()*this.m21()*this.m12()-this.m20()*this.m31()*this.m12()-this.m30()*this.m11()*this.m22()+this.m10()*this.m31()*this.m22()+this.m20()*this.m11()*this.m32()-this.m10()*this.m21()*this.m32())/t,(-this.m30()*this.m21()*this.m02()+this.m20()*this.m31()*this.m02()+this.m30()*this.m01()*this.m22()-this.m00()*this.m31()*this.m22()-this.m20()*this.m01()*this.m32()+this.m00()*this.m21()*this.m32())/t,(this.m30()*this.m11()*this.m02()-this.m10()*this.m31()*this.m02()-this.m30()*this.m01()*this.m12()+this.m00()*this.m31()*this.m12()+this.m10()*this.m01()*this.m32()-this.m00()*this.m11()*this.m32())/t,(-this.m20()*this.m11()*this.m02()+this.m10()*this.m21()*this.m02()+this.m20()*this.m01()*this.m12()-this.m00()*this.m21()*this.m12()-this.m10()*this.m01()*this.m22()+this.m00()*this.m11()*this.m22())/t);throw new Error("Matrix could not be inverted, determinant === 0");default:throw new Error(`Matrix4.inverted with unknown type: ${this.type}`)}}timesMatrix(t){if(this.type===vi.IDENTITY||t.type===vi.IDENTITY)return this.type===vi.IDENTITY?t:this;if(this.type===t.type){if(this.type===vi.TRANSLATION_3D)return new si(1,0,0,this.m03()+t.m02(),0,1,0,this.m13()+t.m12(),0,0,1,this.m23()+t.m23(),0,0,0,1,vi.TRANSLATION_3D);if(this.type===vi.SCALING)return new si(this.m00()*t.m00(),0,0,0,0,this.m11()*t.m11(),0,0,0,0,this.m22()*t.m22(),0,0,0,0,1,vi.SCALING)}return this.type!==vi.OTHER&&t.type!==vi.OTHER?new si(this.m00()*t.m00()+this.m01()*t.m10()+this.m02()*t.m20(),this.m00()*t.m01()+this.m01()*t.m11()+this.m02()*t.m21(),this.m00()*t.m02()+this.m01()*t.m12()+this.m02()*t.m22(),this.m00()*t.m03()+this.m01()*t.m13()+this.m02()*t.m23()+this.m03(),this.m10()*t.m00()+this.m11()*t.m10()+this.m12()*t.m20(),this.m10()*t.m01()+this.m11()*t.m11()+this.m12()*t.m21(),this.m10()*t.m02()+this.m11()*t.m12()+this.m12()*t.m22(),this.m10()*t.m03()+this.m11()*t.m13()+this.m12()*t.m23()+this.m13(),this.m20()*t.m00()+this.m21()*t.m10()+this.m22()*t.m20(),this.m20()*t.m01()+this.m21()*t.m11()+this.m22()*t.m21(),this.m20()*t.m02()+this.m21()*t.m12()+this.m22()*t.m22(),this.m20()*t.m03()+this.m21()*t.m13()+this.m22()*t.m23()+this.m23(),0,0,0,1,vi.AFFINE):new si(this.m00()*t.m00()+this.m01()*t.m10()+this.m02()*t.m20()+this.m03()*t.m30(),this.m00()*t.m01()+this.m01()*t.m11()+this.m02()*t.m21()+this.m03()*t.m31(),this.m00()*t.m02()+this.m01()*t.m12()+this.m02()*t.m22()+this.m03()*t.m32(),this.m00()*t.m03()+this.m01()*t.m13()+this.m02()*t.m23()+this.m03()*t.m33(),this.m10()*t.m00()+this.m11()*t.m10()+this.m12()*t.m20()+this.m13()*t.m30(),this.m10()*t.m01()+this.m11()*t.m11()+this.m12()*t.m21()+this.m13()*t.m31(),this.m10()*t.m02()+this.m11()*t.m12()+this.m12()*t.m22()+this.m13()*t.m32(),this.m10()*t.m03()+this.m11()*t.m13()+this.m12()*t.m23()+this.m13()*t.m33(),this.m20()*t.m00()+this.m21()*t.m10()+this.m22()*t.m20()+this.m23()*t.m30(),this.m20()*t.m01()+this.m21()*t.m11()+this.m22()*t.m21()+this.m23()*t.m31(),this.m20()*t.m02()+this.m21()*t.m12()+this.m22()*t.m22()+this.m23()*t.m32(),this.m20()*t.m03()+this.m21()*t.m13()+this.m22()*t.m23()+this.m23()*t.m33(),this.m30()*t.m00()+this.m31()*t.m10()+this.m32()*t.m20()+this.m33()*t.m30(),this.m30()*t.m01()+this.m31()*t.m11()+this.m32()*t.m21()+this.m33()*t.m31(),this.m30()*t.m02()+this.m31()*t.m12()+this.m32()*t.m22()+this.m33()*t.m32(),this.m30()*t.m03()+this.m31()*t.m13()+this.m32()*t.m23()+this.m33()*t.m33())}timesVector4(t){const i=this.m00()*t.x+this.m01()*t.y+this.m02()*t.z+this.m03()*t.w,a=this.m10()*t.x+this.m11()*t.y+this.m12()*t.z+this.m13()*t.w,l=this.m20()*t.x+this.m21()*t.y+this.m22()*t.z+this.m23()*t.w,r=this.m30()*t.x+this.m31()*t.y+this.m32()*t.z+this.m33()*t.w;return new ji(i,a,l,r)}timesVector3(t){return this.timesVector4(t.toVector4()).toVector3()}timesTransposeVector4(t){const i=this.m00()*t.x+this.m10()*t.y+this.m20()*t.z+this.m30()*t.w,a=this.m01()*t.x+this.m11()*t.y+this.m21()*t.z+this.m31()*t.w,l=this.m02()*t.x+this.m12()*t.y+this.m22()*t.z+this.m32()*t.w,r=this.m03()*t.x+this.m13()*t.y+this.m23()*t.z+this.m33()*t.w;return new ji(i,a,l,r)}timesTransposeVector3(t){return this.timesTransposeVector4(t.toVector4()).toVector3()}timesRelativeVector3(t){const i=this.m00()*t.x+this.m10()*t.y+this.m20()*t.z,a=this.m01()*t.y+this.m11()*t.y+this.m21()*t.z,l=this.m02()*t.z+this.m12()*t.y+this.m22()*t.z;return new ke(i,a,l)}getDeterminant(){return this.m03()*this.m12()*this.m21()*this.m30()-this.m02()*this.m13()*this.m21()*this.m30()-this.m03()*this.m11()*this.m22()*this.m30()+this.m01()*this.m13()*this.m22()*this.m30()+this.m02()*this.m11()*this.m23()*this.m30()-this.m01()*this.m12()*this.m23()*this.m30()-this.m03()*this.m12()*this.m20()*this.m31()+this.m02()*this.m13()*this.m20()*this.m31()+this.m03()*this.m10()*this.m22()*this.m31()-this.m00()*this.m13()*this.m22()*this.m31()-this.m02()*this.m10()*this.m23()*this.m31()+this.m00()*this.m12()*this.m23()*this.m31()+this.m03()*this.m11()*this.m20()*this.m32()-this.m01()*this.m13()*this.m20()*this.m32()-this.m03()*this.m10()*this.m21()*this.m32()+this.m00()*this.m13()*this.m21()*this.m32()+this.m01()*this.m10()*this.m23()*this.m32()-this.m00()*this.m11()*this.m23()*this.m32()-this.m02()*this.m11()*this.m20()*this.m33()+this.m01()*this.m12()*this.m20()*this.m33()+this.m02()*this.m10()*this.m21()*this.m33()-this.m00()*this.m12()*this.m21()*this.m33()-this.m01()*this.m10()*this.m22()*this.m33()+this.m00()*this.m11()*this.m22()*this.m33()}get determinant(){return this.getDeterminant()}toString(){return`${this.m00()} ${this.m01()} ${this.m02()} ${this.m03()}
${this.m10()} ${this.m11()} ${this.m12()} ${this.m13()}
${this.m20()} ${this.m21()} ${this.m22()} ${this.m23()}
${this.m30()} ${this.m31()} ${this.m32()} ${this.m33()}`}makeImmutable(){return assert&&(this.rowMajor=()=>{throw new Error("Cannot modify immutable matrix")}),this}copyToArray(t){return t[0]=this.m00(),t[1]=this.m10(),t[2]=this.m20(),t[3]=this.m30(),t[4]=this.m01(),t[5]=this.m11(),t[6]=this.m21(),t[7]=this.m31(),t[8]=this.m02(),t[9]=this.m12(),t[10]=this.m22(),t[11]=this.m32(),t[12]=this.m03(),t[13]=this.m13(),t[14]=this.m23(),t[15]=this.m33(),t}static identity(){return new si(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,vi.IDENTITY)}static translation(t,i,a){return new si(1,0,0,t,0,1,0,i,0,0,1,a,0,0,0,1,vi.TRANSLATION_3D)}static translationFromVector(t){return si.translation(t.x,t.y,t.z)}static scaling(t,i,a){return i=i===void 0?t:i,a=a===void 0?t:a,new si(t,0,0,0,0,i,0,0,0,0,a,0,0,0,0,1,vi.SCALING)}static rotationAxisAngle(t,i){const a=Math.cos(i),l=Math.sin(i),r=1-a;return new si(t.x*t.x*r+a,t.x*t.y*r-t.z*l,t.x*t.z*r+t.y*l,0,t.y*t.x*r+t.z*l,t.y*t.y*r+a,t.y*t.z*r-t.x*l,0,t.z*t.x*r-t.y*l,t.z*t.y*r+t.x*l,t.z*t.z*r+a,0,0,0,0,1,vi.AFFINE)}static rotationX(t){const i=Math.cos(t),a=Math.sin(t);return new si(1,0,0,0,0,i,-a,0,0,a,i,0,0,0,0,1,vi.AFFINE)}static rotationY(t){const i=Math.cos(t),a=Math.sin(t);return new si(i,0,a,0,0,1,0,0,-a,0,i,0,0,0,0,1,vi.AFFINE)}static rotationZ(t){const i=Math.cos(t),a=Math.sin(t);return new si(i,-a,0,0,a,i,0,0,0,0,1,0,0,0,0,1,vi.AFFINE)}static gluPerspective(t,i,a,l){const r=Math.cos(t)/Math.sin(t);return new si(r/i,0,0,0,0,r,0,0,0,0,(l+a)/(a-l),2*l*a/(a-l),0,0,-1,0)}}le.register("Matrix4",si);const Yn=class Yn extends Xs{};zr(Yn,"OTHER",new Yn),zr(Yn,"IDENTITY",new Yn),zr(Yn,"TRANSLATION_3D",new Yn),zr(Yn,"SCALING",new Yn),zr(Yn,"AFFINE",new Yn),zr(Yn,"enumeration",new Wr(Yn));let vi=Yn;si.Types=vi;si.IDENTITY=new si().makeImmutable();function Ts(A){return A.toFixed(20)}le.register("toSVGNumber",Ts);const Xn=class Xn extends Xs{};Xn.OTHER=new Xn,Xn.IDENTITY=new Xn,Xn.TRANSLATION_2D=new Xn,Xn.SCALING=new Xn,Xn.AFFINE=new Xn,Xn.enumeration=new Wr(Xn);let te=Xn;const Hn=class Hn{constructor(){assert&&assert(arguments.length===0,"Matrix3 constructor should not be called with any arguments.  Use m3()/Matrix3.identity()/etc."),this.entries=[1,0,0,0,1,0,0,0,1],this.type=te.IDENTITY}initialize(){return this}m00(){return this.entries[0]}m01(){return this.entries[3]}m02(){return this.entries[6]}m10(){return this.entries[1]}m11(){return this.entries[4]}m12(){return this.entries[7]}m20(){return this.entries[2]}m21(){return this.entries[5]}m22(){return this.entries[8]}isIdentity(){return this.type===te.IDENTITY||this.equals(Hn.IDENTITY)}isFastIdentity(){return this.type===te.IDENTITY}isTranslation(){return this.type===te.TRANSLATION_2D||this.m00()===1&&this.m11()===1&&this.m22()===1&&this.m01()===0&&this.m10()===0&&this.m20()===0&&this.m21()===0}isAffine(){return this.type===te.AFFINE||this.m20()===0&&this.m21()===0&&this.m22()===1}isAligned(){return this.isAffine()&&this.m01()===0&&this.m10()===0}isAxisAligned(){return this.isAffine()&&(this.m01()===0&&this.m10()===0||this.m00()===0&&this.m11()===0)}isFinite(){return isFinite(this.m00())&&isFinite(this.m01())&&isFinite(this.m02())&&isFinite(this.m10())&&isFinite(this.m11())&&isFinite(this.m12())&&isFinite(this.m20())&&isFinite(this.m21())&&isFinite(this.m22())}getDeterminant(){return this.m00()*this.m11()*this.m22()+this.m01()*this.m12()*this.m20()+this.m02()*this.m10()*this.m21()-this.m02()*this.m11()*this.m20()-this.m01()*this.m10()*this.m22()-this.m00()*this.m12()*this.m21()}get determinant(){return this.getDeterminant()}getTranslation(){return new ce(this.m02(),this.m12())}get translation(){return this.getTranslation()}getScaleVector(){return new ce(Math.sqrt(this.m00()*this.m00()+this.m10()*this.m10()),Math.sqrt(this.m01()*this.m01()+this.m11()*this.m11()))}get scaleVector(){return this.getScaleVector()}getSignedScale(){return this.m00()*this.m11()-this.m10()*this.m01()}getRotation(){return Math.atan2(this.m10(),this.m00())}get rotation(){return this.getRotation()}toMatrix4(){return new si(this.m00(),this.m01(),this.m02(),0,this.m10(),this.m11(),this.m12(),0,this.m20(),this.m21(),this.m22(),0,0,0,0,1)}toAffineMatrix4(){return new si(this.m00(),this.m01(),0,this.m02(),this.m10(),this.m11(),0,this.m12(),0,0,1,0,0,0,0,1)}toString(){return`${this.m00()} ${this.m01()} ${this.m02()}
${this.m10()} ${this.m11()} ${this.m12()}
${this.m20()} ${this.m21()} ${this.m22()}`}toSVGMatrix(){const t=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix();return t.a=this.m00(),t.b=this.m10(),t.c=this.m01(),t.d=this.m11(),t.e=this.m02(),t.f=this.m12(),t}getCSSTransform(){return`matrix(${this.entries[0].toFixed(20)},${this.entries[1].toFixed(20)},${this.entries[3].toFixed(20)},${this.entries[4].toFixed(20)},${this.entries[6].toFixed(20)},${this.entries[7].toFixed(20)})`}get cssTransform(){return this.getCSSTransform()}getSVGTransform(){switch(this.type){case te.IDENTITY:return"";case te.TRANSLATION_2D:return`translate(${Ts(this.entries[6])},${Ts(this.entries[7])})`;case te.SCALING:return`scale(${Ts(this.entries[0])}${this.entries[0]===this.entries[4]?"":`,${Ts(this.entries[4])}`})`;default:return`matrix(${Ts(this.entries[0])},${Ts(this.entries[1])},${Ts(this.entries[3])},${Ts(this.entries[4])},${Ts(this.entries[6])},${Ts(this.entries[7])})`}}get svgTransform(){return this.getSVGTransform()}getCSSTransformStyles(){const t=this.getCSSTransform();return{"-webkit-perspective":"1000","-webkit-backface-visibility":"hidden","-webkit-transform":`${t} translateZ(0)`,"-moz-transform":`${t} translateZ(0)`,"-ms-transform":t,"-o-transform":t,transform:t,"transform-origin":"top left","-ms-transform-origin":"top left"}}get cssTransformStyles(){return this.getCSSTransformStyles()}equals(t){return this.m00()===t.m00()&&this.m01()===t.m01()&&this.m02()===t.m02()&&this.m10()===t.m10()&&this.m11()===t.m11()&&this.m12()===t.m12()&&this.m20()===t.m20()&&this.m21()===t.m21()&&this.m22()===t.m22()}equalsEpsilon(t,i){return Math.abs(this.m00()-t.m00())<i&&Math.abs(this.m01()-t.m01())<i&&Math.abs(this.m02()-t.m02())<i&&Math.abs(this.m10()-t.m10())<i&&Math.abs(this.m11()-t.m11())<i&&Math.abs(this.m12()-t.m12())<i&&Math.abs(this.m20()-t.m20())<i&&Math.abs(this.m21()-t.m21())<i&&Math.abs(this.m22()-t.m22())<i}copy(){return an(this.m00(),this.m01(),this.m02(),this.m10(),this.m11(),this.m12(),this.m20(),this.m21(),this.m22(),this.type)}plus(t){return an(this.m00()+t.m00(),this.m01()+t.m01(),this.m02()+t.m02(),this.m10()+t.m10(),this.m11()+t.m11(),this.m12()+t.m12(),this.m20()+t.m20(),this.m21()+t.m21(),this.m22()+t.m22())}minus(t){return an(this.m00()-t.m00(),this.m01()-t.m01(),this.m02()-t.m02(),this.m10()-t.m10(),this.m11()-t.m11(),this.m12()-t.m12(),this.m20()-t.m20(),this.m21()-t.m21(),this.m22()-t.m22())}transposed(){return an(this.m00(),this.m10(),this.m20(),this.m01(),this.m11(),this.m21(),this.m02(),this.m12(),this.m22(),this.type===te.IDENTITY||this.type===te.SCALING?this.type:void 0)}negated(){return an(-this.m00(),-this.m01(),-this.m02(),-this.m10(),-this.m11(),-this.m12(),-this.m20(),-this.m21(),-this.m22())}inverted(){let t;switch(this.type){case te.IDENTITY:return this;case te.TRANSLATION_2D:return an(1,0,-this.m02(),0,1,-this.m12(),0,0,1,te.TRANSLATION_2D);case te.SCALING:return an(1/this.m00(),0,0,0,1/this.m11(),0,0,0,1/this.m22(),te.SCALING);case te.AFFINE:if(t=this.getDeterminant(),t!==0)return an((-this.m12()*this.m21()+this.m11()*this.m22())/t,(this.m02()*this.m21()-this.m01()*this.m22())/t,(-this.m02()*this.m11()+this.m01()*this.m12())/t,(this.m12()*this.m20()-this.m10()*this.m22())/t,(-this.m02()*this.m20()+this.m00()*this.m22())/t,(this.m02()*this.m10()-this.m00()*this.m12())/t,0,0,1,te.AFFINE);throw new Error("Matrix could not be inverted, determinant === 0");case te.OTHER:if(t=this.getDeterminant(),t!==0)return an((-this.m12()*this.m21()+this.m11()*this.m22())/t,(this.m02()*this.m21()-this.m01()*this.m22())/t,(-this.m02()*this.m11()+this.m01()*this.m12())/t,(this.m12()*this.m20()-this.m10()*this.m22())/t,(-this.m02()*this.m20()+this.m00()*this.m22())/t,(this.m02()*this.m10()-this.m00()*this.m12())/t,(-this.m11()*this.m20()+this.m10()*this.m21())/t,(this.m01()*this.m20()-this.m00()*this.m21())/t,(-this.m01()*this.m10()+this.m00()*this.m11())/t,te.OTHER);throw new Error("Matrix could not be inverted, determinant === 0");default:throw new Error(`Matrix3.inverted with unknown type: ${this.type}`)}}timesMatrix(t){if(this.type===te.IDENTITY||t.type===te.IDENTITY)return this.type===te.IDENTITY?t:this;if(this.type===t.type){if(this.type===te.TRANSLATION_2D)return an(1,0,this.m02()+t.m02(),0,1,this.m12()+t.m12(),0,0,1,te.TRANSLATION_2D);if(this.type===te.SCALING)return an(this.m00()*t.m00(),0,0,0,this.m11()*t.m11(),0,0,0,1,te.SCALING)}return this.type!==te.OTHER&&t.type!==te.OTHER?an(this.m00()*t.m00()+this.m01()*t.m10(),this.m00()*t.m01()+this.m01()*t.m11(),this.m00()*t.m02()+this.m01()*t.m12()+this.m02(),this.m10()*t.m00()+this.m11()*t.m10(),this.m10()*t.m01()+this.m11()*t.m11(),this.m10()*t.m02()+this.m11()*t.m12()+this.m12(),0,0,1,te.AFFINE):an(this.m00()*t.m00()+this.m01()*t.m10()+this.m02()*t.m20(),this.m00()*t.m01()+this.m01()*t.m11()+this.m02()*t.m21(),this.m00()*t.m02()+this.m01()*t.m12()+this.m02()*t.m22(),this.m10()*t.m00()+this.m11()*t.m10()+this.m12()*t.m20(),this.m10()*t.m01()+this.m11()*t.m11()+this.m12()*t.m21(),this.m10()*t.m02()+this.m11()*t.m12()+this.m12()*t.m22(),this.m20()*t.m00()+this.m21()*t.m10()+this.m22()*t.m20(),this.m20()*t.m01()+this.m21()*t.m11()+this.m22()*t.m21(),this.m20()*t.m02()+this.m21()*t.m12()+this.m22()*t.m22())}timesVector2(t){const i=this.m00()*t.x+this.m01()*t.y+this.m02(),a=this.m10()*t.x+this.m11()*t.y+this.m12();return new ce(i,a)}timesVector3(t){const i=this.m00()*t.x+this.m01()*t.y+this.m02()*t.z,a=this.m10()*t.x+this.m11()*t.y+this.m12()*t.z,l=this.m20()*t.x+this.m21()*t.y+this.m22()*t.z;return new ke(i,a,l)}timesTransposeVector2(t){const i=this.m00()*t.x+this.m10()*t.y,a=this.m01()*t.x+this.m11()*t.y;return new ce(i,a)}timesRelativeVector2(t){const i=this.m00()*t.x+this.m01()*t.y,a=this.m10()*t.y+this.m11()*t.y;return new ce(i,a)}rowMajor(t,i,a,l,r,g,S,B,j,W){return this.entries[0]=t,this.entries[1]=l,this.entries[2]=S,this.entries[3]=i,this.entries[4]=r,this.entries[5]=B,this.entries[6]=a,this.entries[7]=g,this.entries[8]=j,this.type=W===void 0?S===0&&B===0&&j===1?te.AFFINE:te.OTHER:W,this}set(t){return this.rowMajor(t.m00(),t.m01(),t.m02(),t.m10(),t.m11(),t.m12(),t.m20(),t.m21(),t.m22(),t.type)}setArray(t){return this.rowMajor(t[0],t[3],t[6],t[1],t[4],t[7],t[2],t[5],t[8])}set00(t){return this.entries[0]=t,this}set01(t){return this.entries[3]=t,this}set02(t){return this.entries[6]=t,this}set10(t){return this.entries[1]=t,this}set11(t){return this.entries[4]=t,this}set12(t){return this.entries[7]=t,this}set20(t){return this.entries[2]=t,this}set21(t){return this.entries[5]=t,this}set22(t){return this.entries[8]=t,this}makeImmutable(){return assert&&(this.rowMajor=()=>{throw new Error("Cannot modify immutable matrix")}),this}columnMajor(t,i,a,l,r,g,S,B,j,W){return this.rowMajor(t,l,S,i,r,B,a,g,j,W)}add(t){return this.rowMajor(this.m00()+t.m00(),this.m01()+t.m01(),this.m02()+t.m02(),this.m10()+t.m10(),this.m11()+t.m11(),this.m12()+t.m12(),this.m20()+t.m20(),this.m21()+t.m21(),this.m22()+t.m22())}subtract(t){return this.rowMajor(this.m00()-t.m00(),this.m01()-t.m01(),this.m02()-t.m02(),this.m10()-t.m10(),this.m11()-t.m11(),this.m12()-t.m12(),this.m20()-t.m20(),this.m21()-t.m21(),this.m22()-t.m22())}transpose(){return this.rowMajor(this.m00(),this.m10(),this.m20(),this.m01(),this.m11(),this.m21(),this.m02(),this.m12(),this.m22(),this.type===te.IDENTITY||this.type===te.SCALING?this.type:void 0)}negate(){return this.rowMajor(-this.m00(),-this.m01(),-this.m02(),-this.m10(),-this.m11(),-this.m12(),-this.m20(),-this.m21(),-this.m22())}invert(){let t;switch(this.type){case te.IDENTITY:return this;case te.TRANSLATION_2D:return this.rowMajor(1,0,-this.m02(),0,1,-this.m12(),0,0,1,te.TRANSLATION_2D);case te.SCALING:return this.rowMajor(1/this.m00(),0,0,0,1/this.m11(),0,0,0,1/this.m22(),te.SCALING);case te.AFFINE:if(t=this.getDeterminant(),t!==0)return this.rowMajor((-this.m12()*this.m21()+this.m11()*this.m22())/t,(this.m02()*this.m21()-this.m01()*this.m22())/t,(-this.m02()*this.m11()+this.m01()*this.m12())/t,(this.m12()*this.m20()-this.m10()*this.m22())/t,(-this.m02()*this.m20()+this.m00()*this.m22())/t,(this.m02()*this.m10()-this.m00()*this.m12())/t,0,0,1,te.AFFINE);throw new Error("Matrix could not be inverted, determinant === 0");case te.OTHER:if(t=this.getDeterminant(),t!==0)return this.rowMajor((-this.m12()*this.m21()+this.m11()*this.m22())/t,(this.m02()*this.m21()-this.m01()*this.m22())/t,(-this.m02()*this.m11()+this.m01()*this.m12())/t,(this.m12()*this.m20()-this.m10()*this.m22())/t,(-this.m02()*this.m20()+this.m00()*this.m22())/t,(this.m02()*this.m10()-this.m00()*this.m12())/t,(-this.m11()*this.m20()+this.m10()*this.m21())/t,(this.m01()*this.m20()-this.m00()*this.m21())/t,(-this.m01()*this.m10()+this.m00()*this.m11())/t,te.OTHER);throw new Error("Matrix could not be inverted, determinant === 0");default:throw new Error(`Matrix3.inverted with unknown type: ${this.type}`)}}multiplyMatrix(t){if(t.type===te.IDENTITY)return this;if(this.type===te.IDENTITY)return this.set(t);if(this.type===t.type){if(this.type===te.TRANSLATION_2D)return this.rowMajor(1,0,this.m02()+t.m02(),0,1,this.m12()+t.m12(),0,0,1,te.TRANSLATION_2D);if(this.type===te.SCALING)return this.rowMajor(this.m00()*t.m00(),0,0,0,this.m11()*t.m11(),0,0,0,1,te.SCALING)}return this.type!==te.OTHER&&t.type!==te.OTHER?this.rowMajor(this.m00()*t.m00()+this.m01()*t.m10(),this.m00()*t.m01()+this.m01()*t.m11(),this.m00()*t.m02()+this.m01()*t.m12()+this.m02(),this.m10()*t.m00()+this.m11()*t.m10(),this.m10()*t.m01()+this.m11()*t.m11(),this.m10()*t.m02()+this.m11()*t.m12()+this.m12(),0,0,1,te.AFFINE):this.rowMajor(this.m00()*t.m00()+this.m01()*t.m10()+this.m02()*t.m20(),this.m00()*t.m01()+this.m01()*t.m11()+this.m02()*t.m21(),this.m00()*t.m02()+this.m01()*t.m12()+this.m02()*t.m22(),this.m10()*t.m00()+this.m11()*t.m10()+this.m12()*t.m20(),this.m10()*t.m01()+this.m11()*t.m11()+this.m12()*t.m21(),this.m10()*t.m02()+this.m11()*t.m12()+this.m12()*t.m22(),this.m20()*t.m00()+this.m21()*t.m10()+this.m22()*t.m20(),this.m20()*t.m01()+this.m21()*t.m11()+this.m22()*t.m21(),this.m20()*t.m02()+this.m21()*t.m12()+this.m22()*t.m22())}prependTranslation(t,i){return this.set02(this.m02()+t),this.set12(this.m12()+i),this.type===te.IDENTITY||this.type===te.TRANSLATION_2D?this.type=te.TRANSLATION_2D:this.type===te.OTHER?this.type=te.OTHER:this.type=te.AFFINE,this}setToIdentity(){return this.rowMajor(1,0,0,0,1,0,0,0,1,te.IDENTITY)}setToTranslation(t,i){return this.rowMajor(1,0,t,0,1,i,0,0,1,te.TRANSLATION_2D)}setToScale(t,i){return i=i===void 0?t:i,this.rowMajor(t,0,0,0,i,0,0,0,1,te.SCALING)}setToAffine(t,i,a,l,r,g){return this.rowMajor(t,i,a,l,r,g,0,0,1,te.AFFINE)}setToRotationAxisAngle(t,i){let a=Math.cos(i),l=Math.sin(i);Math.abs(a)<1e-15&&(a=0),Math.abs(l)<1e-15&&(l=0);const r=1-a;return this.rowMajor(t.x*t.x*r+a,t.x*t.y*r-t.z*l,t.x*t.z*r+t.y*l,t.y*t.x*r+t.z*l,t.y*t.y*r+a,t.y*t.z*r-t.x*l,t.z*t.x*r-t.y*l,t.z*t.y*r+t.x*l,t.z*t.z*r+a,te.OTHER)}setToRotationX(t){let i=Math.cos(t),a=Math.sin(t);return Math.abs(i)<1e-15&&(i=0),Math.abs(a)<1e-15&&(a=0),this.rowMajor(1,0,0,0,i,-a,0,a,i,te.OTHER)}setToRotationY(t){let i=Math.cos(t),a=Math.sin(t);return Math.abs(i)<1e-15&&(i=0),Math.abs(a)<1e-15&&(a=0),this.rowMajor(i,0,a,0,1,0,-a,0,i,te.OTHER)}setToRotationZ(t){let i=Math.cos(t),a=Math.sin(t);return Math.abs(i)<1e-15&&(i=0),Math.abs(a)<1e-15&&(a=0),this.rowMajor(i,-a,0,a,i,0,0,0,1,te.AFFINE)}setToTranslationRotation(t,i,a){let l=Math.cos(a),r=Math.sin(a);return Math.abs(l)<1e-15&&(l=0),Math.abs(r)<1e-15&&(r=0),this.rowMajor(l,-r,t,r,l,i,0,0,1,te.AFFINE)}setToTranslationRotationPoint(t,i){return this.setToTranslationRotation(t.x,t.y,i)}setToScaleTranslationRotation(t,i,a,l){let r=Math.cos(l),g=Math.sin(l);return Math.abs(r)<1e-15&&(r=0),Math.abs(g)<1e-15&&(g=0),r*=t,g*=t,this.rowMajor(r,-g,i,g,r,a,0,0,1,te.AFFINE)}setToScaleTranslationRotationPoint(t,i,a){return this.setToScaleTranslationRotation(t,i.x,i.y,a)}setToSVGMatrix(t){return this.rowMajor(t.a,t.c,t.e,t.b,t.d,t.f,0,0,1,te.AFFINE)}setRotationAToB(t,i){const a=t,l=i,r=1e-4;let g=a.cross(l);const S=a.dot(l);if((S<0?-S:S)>1-r){let j=new ke(a.x>0?a.x:-a.x,a.y>0?a.y:-a.y,a.z>0?a.z:-a.z);j.x<j.y?j.x<j.z?j=ke.X_UNIT:j=ke.Z_UNIT:j.y<j.z?j=ke.Y_UNIT:j=ke.Z_UNIT;const W=j.minus(a);g=j.minus(l);const G=2/W.dot(W),J=2/g.dot(g),R=G*J*W.dot(g);return this.rowMajor(-G*W.x*W.x-J*g.x*g.x+R*g.x*W.x+1,-G*W.x*W.y-J*g.x*g.y+R*g.x*W.y,-G*W.x*W.z-J*g.x*g.z+R*g.x*W.z,-G*W.y*W.x-J*g.y*g.x+R*g.y*W.x,-G*W.y*W.y-J*g.y*g.y+R*g.y*W.y+1,-G*W.y*W.z-J*g.y*g.z+R*g.y*W.z,-G*W.z*W.x-J*g.z*g.x+R*g.z*W.x,-G*W.z*W.y-J*g.z*g.y+R*g.z*W.y,-G*W.z*W.z-J*g.z*g.z+R*g.z*W.z+1)}else{const j=1/(1+S),W=j*g.x,G=j*g.z,J=W*g.y,R=W*g.z,gt=G*g.y;return this.rowMajor(S+W*g.x,J-g.z,R+g.y,J+g.z,S+j*g.y*g.y,gt-g.x,R-g.y,gt+g.x,S+G*g.z)}}multiplyVector2(t){return t.setXY(this.m00()*t.x+this.m01()*t.y+this.m02(),this.m10()*t.x+this.m11()*t.y+this.m12())}multiplyVector3(t){return t.setXYZ(this.m00()*t.x+this.m01()*t.y+this.m02()*t.z,this.m10()*t.x+this.m11()*t.y+this.m12()*t.z,this.m20()*t.x+this.m21()*t.y+this.m22()*t.z)}multiplyTransposeVector2(t){return t.setXY(this.m00()*t.x+this.m10()*t.y,this.m01()*t.x+this.m11()*t.y)}multiplyRelativeVector2(t){return t.setXY(this.m00()*t.x+this.m01()*t.y,this.m10()*t.y+this.m11()*t.y)}canvasSetTransform(t){t.setTransform(this.entries[0],this.entries[1],this.entries[3],this.entries[4],this.entries[6],this.entries[7])}canvasAppendTransform(t){this.type!==te.IDENTITY&&t.transform(this.entries[0],this.entries[1],this.entries[3],this.entries[4],this.entries[6],this.entries[7])}copyToArray(t){return t[0]=this.m00(),t[1]=this.m10(),t[2]=this.m20(),t[3]=this.m01(),t[4]=this.m11(),t[5]=this.m21(),t[6]=this.m02(),t[7]=this.m12(),t[8]=this.m22(),t}freeToPool(){Hn.pool.freeToPool(this)}static identity(){return qn().setToIdentity()}static translation(t,i){return qn().setToTranslation(t,i)}static translationFromVector(t){return Hn.translation(t.x,t.y)}static scaling(t,i){return qn().setToScale(t,i)}static scale(t,i){return Hn.scaling(t,i)}static affine(t,i,a,l,r,g){return qn().setToAffine(t,i,a,l,r,g)}static rowMajor(t,i,a,l,r,g,S,B,j,W){return qn().rowMajor(t,i,a,l,r,g,S,B,j,W)}static rotationAxisAngle(t,i){return qn().setToRotationAxisAngle(t,i)}static rotationX(t){return qn().setToRotationX(t)}static rotationY(t){return qn().setToRotationY(t)}static rotationZ(t){return qn().setToRotationZ(t)}static translationRotation(t,i,a){return qn().setToTranslationRotation(t,i,a)}static rotation2(t){return qn().setToRotationZ(t)}static rotationAround(t,i,a){return Hn.translation(i,a).timesMatrix(Hn.rotation2(t)).timesMatrix(Hn.translation(-i,-a))}static rotationAroundPoint(t,i){return Hn.rotationAround(t,i.x,i.y)}static fromSVGMatrix(t){return qn().setToSVGMatrix(t)}static rotateAToB(t,i){return qn().setRotationAToB(t,i)}static translationTimesMatrix(t,i,a){let l;return a.type===te.IDENTITY||a.type===te.TRANSLATION_2D?an(1,0,a.m02()+t,0,1,a.m12()+i,0,0,1,te.TRANSLATION_2D):(a.type===te.OTHER?l=te.OTHER:l=te.AFFINE,an(a.m00(),a.m01(),a.m02()+t,a.m10(),a.m11(),a.m12()+i,a.m20(),a.m21(),a.m22(),l))}static toStateObject(t){return{entries:t.entries,type:t.type.name}}static fromStateObject(t){const i=Hn.identity();return i.entries=t.entries,i.type=te.enumeration.getValue(t.type),i}};Hn.pool=new Gr(Hn,{initialize:Hn.prototype.initialize,useDefaultConstruction:!0,maxSize:300});let Ui=Hn;le.register("Matrix3",Ui);const qn=Ui.pool.fetch.bind(Ui.pool),an=(A,t,i,a,l,r,g,S,B,j)=>qn().rowMajor(A,t,i,a,l,r,g,S,B,j);le.register("m3",an);Ui.IDENTITY=Ui.identity().makeImmutable();Ui.X_REFLECTION=an(-1,0,0,0,1,0,0,0,1,te.AFFINE).makeImmutable();Ui.Y_REFLECTION=an(1,0,0,0,-1,0,0,0,1,te.AFFINE).makeImmutable();Ui.Matrix3IO=new yi("Matrix3IO",{valueType:Ui,documentation:"A 3x3 matrix often used for holding transform data.",toStateObject:A=>Ui.toStateObject(A),fromStateObject:Ui.fromStateObject,stateSchema:{entries:xo(rs),type:eh(te)}});class O1 extends Hs{constructor(t,i,a){a=tn({openMin:!0,openMax:!0},a),super(t,i),this.openMin=a.openMin,this.openMax=a.openMax,assert&&assert(this.openMin||this.openMax,"use Range type if min and max are inclusive"),assert&&assert(t<i,"must instantiate OpenRange with min strictly less than max")}setMin(t){assert&&assert(t<this._max,"min must be strictly less than max for OpenRange"),super.setMin(t)}setMax(t){assert&&assert(t>this._min,"max must be strictly greater than min for OpenRange"),super.setMax(t)}setMinMax(t,i){assert&&assert(t<i,"min must be strictly less than max in OpenRange"),super.setMinMax(t,i)}contains(t){return(this.openMin?t>this.min:t>=this.min)&&(this.openMax?t<this.max:t<=this.max)}containsRange(t){return(this.openMin?this.min<t.min:this.min<=t.min)&&(this.openMax?this.max>t.max:this.max>=t.max)}intersects(t){return(this.openMax?this.max>t.min:this.max>=t.min)&&(this.openMin?t.max>this.min:t.max>=this.min)}toString(){const t=this.openMin?"(":"[",i=this.openMax?")":"]";return`[Range ${t}min:${this.min} max:${this.max}${i}]`}constrainValue(t){return Math.min(Math.max(t,this.min),this.max)}equals(t){return t instanceof Hs&&this.min===t.min&&this.max===t.max&&this.openMin===t.openMin&&this.openMax===t.openMax}}le.register("OpenRange",O1);class rr{constructor(t){this.indices=t}size(){return this.indices.length}apply(t){if(typeof t=="number")return this.indices[t];{if(t.length!==this.size())throw new Error(`Permutation length ${this.size()} not equal to list length ${t.length}`);const i=new Array(t.length);for(let a=0;a<t.length;a++)i[a]=t[this.indices[a]];return i}}inverted(){const t=new Array(this.size());for(let i=0;i<this.size();i++)t[this.indices[i]]=i;return new rr(t)}withIndicesPermuted(t){const i=[];return rr.forEachPermutation(t,a=>{const l=this.indices,r=l.slice(0);for(let g=0;g<t.length;g++)r[t[g]]=l[a[g]];i.push(new rr(r))}),i}toString(){return`P[${this.indices.join(", ")}]`}equals(t){return this.indices.length===t.indices.length&&_.isEqual(this.indices,t.indices)}static identity(t){assert&&assert(t>=0);const i=new Array(t);for(let a=0;a<t;a++)i[a]=a;return new rr(i)}static permutations(t){const i=[];return rr.forEachPermutation(ri.rangeInclusive(0,t-1),a=>{i.push(new rr(a.slice()))}),i}static forEachPermutation(t,i){If(t,[],i)}static permutationsOf(t){const i=[];return rr.forEachPermutation(t,a=>{i.push(a.slice())}),i}}le.register("Permutation",rr);function If(A,t,i){if(A.length===0)i(t);else for(let a=0;a<A.length;a++){const l=A[a],r=A.slice(0);r.splice(a,1);const g=t.slice(0);g.push(l),If(r,g,i)}}class ih{constructor(t){assert&&assert(t.length%2===0,"array length should be even"),assert&&assert(t.length>0,"array must have elements"),assert&&assert(Array.isArray(t),"array should be an array"),this.array=t}evaluate(t){return ih.evaluate(this.array,t)}static evaluate(t,i){let a=-1,l=Number.POSITIVE_INFINITY,r=-1,g=Number.POSITIVE_INFINITY;for(let G=0;G<t.length;G+=2){const J=t[G],R=i-J,gt=Math.abs(R);if(J===i)return t[G+1];J<=i&&gt<l&&(a=G,l=gt),J>=i&&gt<g&&(r=G,g=gt)}assert&&assert(a>=0,"lower bound not found"),assert&&assert(r>=0,"upper bound not found");const S=t[a],B=t[a+1],j=t[r],W=t[r+1];return ri.linear(S,j,B,W,i)}}le.register("PiecewiseLinearFunction",ih);class Ta{constructor(t,i){this.position=t,this.direction=i,assert&&assert(Math.abs(i.magnitude-1)<.01,"the direction must be a unit vector")}shifted(t){return new Ta(this.pointAtDistance(t),this.direction)}pointAtDistance(t){return this.position.plus(this.direction.timesScalar(t))}distanceToPlane(t){return(t.distance-this.position.dot(t.normal))/this.direction.dot(t.normal)}toString(){return`${this.position.toString()} => ${this.direction.toString()}`}}le.register("Ray3",Ta);const ar=class ar{constructor(t,i){this.normal=t,this.distance=i,assert&&assert(Math.abs(t.magnitude-1)<.01,"the normal vector must be a unit vector")}intersectWithRay(t){return t.pointAtDistance(t.distanceToPlane(this))}static fromTriangle(t,i,a){const l=a.minus(t).cross(i.minus(t));return l.magnitude===0?null:(l.normalize(),new ar(l,l.dot(t)))}getIntersection(t){const i=this.normal.dot(t.normal),a=1-i*i;if(a===0)return null;const l=(this.distance-t.distance*i)/a,r=(t.distance-this.distance*i)/a;return new Ta(this.normal.timesScalar(l).plus(t.normal.timesScalar(r)),this.normal.cross(t.normal).normalized())}};ar.XY=new ar(new ke(0,0,1),0),ar.XZ=new ar(new ke(0,1,0),0),ar.YZ=new ar(new ke(1,0,0),0);let Yl=ar;le.register("Plane3",Yl);class yn{constructor(t,i,a,l){this.setXYZW(t,i,a,l)}setXYZW(t,i,a,l){this.x=t!==void 0?t:0,this.y=i!==void 0?i:0,this.z=a!==void 0?a:0,this.w=l!==void 0?l:1}plus(t){return new yn(this.x+t.x,this.y+t.y,this.z+t.z,this.w+t.w)}timesScalar(t){return new yn(this.x*t,this.y*t,this.z*t,this.w*t)}timesQuaternion(t){return new yn(this.x*t.w-this.z*t.y+this.y*t.z+this.w*t.x,-this.x*t.z+this.y*t.w+this.z*t.x+this.w*t.y,this.x*t.y-this.y*t.x+this.z*t.w+this.w*t.z,-this.x*t.x-this.y*t.y-this.z*t.z+this.w*t.w)}timesVector3(t){return t.magnitude===0?new ke(0,0,0):new ke(this.w*this.w*t.x+2*this.y*this.w*t.z-2*this.z*this.w*t.y+this.x*this.x*t.x+2*this.y*this.x*t.y+2*this.z*this.x*t.z-this.z*this.z*t.x-this.y*this.y*t.x,2*this.x*this.y*t.x+this.y*this.y*t.y+2*this.z*this.y*t.z+2*this.w*this.z*t.x-this.z*this.z*t.y+this.w*this.w*t.y-2*this.x*this.w*t.z-this.x*this.x*t.y,2*this.x*this.z*t.x+2*this.y*this.z*t.y+this.z*this.z*t.z-2*this.w*this.y*t.x-this.y*this.y*t.z+2*this.w*this.x*t.y-this.x*this.x*t.z+this.w*this.w*t.z)}getMagnitude(){return Math.sqrt(this.magnitudeSquared)}get magnitude(){return this.getMagnitude()}getMagnitudeSquared(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}get magnitudeSquared(){return this.getMagnitudeSquared()}normalized(){const t=this.magnitude;return assert&&assert(t!==0,"Cannot normalize a zero-magnitude quaternion"),this.timesScalar(1/t)}negated(){return new yn(-this.x,-this.y,-this.z,-this.w)}toRotationMatrix(){const t=this.magnitudeSquared,i=t===1?2:t>0?2/t:0,a=this.x*this.x*i,l=this.x*this.y*i,r=this.x*this.z*i,g=this.w*this.x*i,S=this.y*this.y*i,B=this.y*this.z*i,j=this.w*this.y*i,W=this.z*this.z*i,G=this.w*this.z*i;return Ui.pool.fetch().columnMajor(1-(S+W),l+G,r-j,l-G,1-(a+W),B+g,r+j,B-g,1-(a+S))}static fromEulerAngles(t,i,a){const l=Math.sin(a*.5),r=Math.cos(a*.5),g=Math.sin(i*.5),S=Math.cos(i*.5),B=Math.sin(t*.5),j=Math.cos(t*.5),W=S*r,G=g*l,J=S*l,R=g*r;return new yn(W*B+G*j,R*j+J*B,J*j-R*B,W*j-G*B)}static fromRotationMatrix(t){const i=t.m00(),a=t.m01(),l=t.m02(),r=t.m10(),g=t.m11(),S=t.m12(),B=t.m20(),j=t.m21(),W=t.m22(),G=i+g+W;let J;return G>=0?(J=Math.sqrt(G+1),new yn((j-S)*.5/J,(l-B)*.5/J,(r-a)*.5/J,.5*J)):i>g&&i>W?(J=Math.sqrt(1+i-g-W),new yn(J*.5,(r+a)*.5/J,(l+B)*.5/J,(j-S)*.5/J)):g>W?(J=Math.sqrt(1+g-i-W),new yn((r+a)*.5/J,J*.5,(j+S)*.5/J,(l-B)*.5/J)):(J=Math.sqrt(1+W-i-g),new yn((l+B)*.5/J,(j+S)*.5/J,J*.5,(r-a)*.5/J))}static getRotationQuaternion(t,i){return yn.fromRotationMatrix(Ui.rotateAToB(t,i))}static slerp(t,i,a){if(t.x===i.x&&t.y===i.y&&t.z===i.z&&t.w===i.w)return t;let l=t.x*i.x+t.y*i.y+t.z*i.z+t.w*i.w;l<0&&(i=i.negated(),l=-l);let r=1-a,g=a;if(1-l>.1){const S=Math.acos(l),B=1/Math.sin(S);r=Math.sin((1-a)*S)*B,g=Math.sin(a*S)*B}return new yn(r*t.x+g*i.x,r*t.y+g*i.y,r*t.z+g*i.z,r*t.w+g*i.w)}}yn.prototype.isQuaternion=!0;le.register("Quaternion",yn);Jl.mixInto(yn,{initialize:yn.prototype.setXYZW});class P1 extends Hs{constructor(t,i,a){super(t,i),assert&&assert(a!==void 0,"default value is required"),assert&&assert(a>=t&&a<=i,`defaultValue is out of range: ${a}`),this._defaultValue=a}getDefaultValue(){return this._defaultValue}get defaultValue(){return this.getDefaultValue()}setMin(t){assert&&assert(this._defaultValue>=t,`min must be <= defaultValue: ${t}`),super.setMin(t)}setMax(t){assert&&assert(this._defaultValue<=t,`max must be >= defaultValue: ${t}`),super.setMax(t)}setMinMax(t,i){return assert&&assert(this._defaultValue>=t,`min must be <= defaultValue: ${t}`),assert&&assert(this._defaultValue<=i,`max must be >= defaultValue: ${i}`),super.setMinMax(t,i)}toString(){return`[RangeWithValue (min:${this.min} max:${this.max} defaultValue:${this._defaultValue})]`}equals(t){return this.constructor===t.constructor&&this._defaultValue===t.defaultValue&&super.equals(t)}}le.register("RangeWithValue",P1);class du{constructor(t,i){this.position=t,this.direction=i,assert&&assert(Math.abs(i.magnitude-1)<.01,"the direction must be a unit vector")}shifted(t){return new du(this.pointAtDistance(t),this.direction)}pointAtDistance(t){return this.position.plus(this.direction.timesScalar(t))}toString(){return`${this.position.toString()} => ${this.direction.toString()}`}}le.register("Ray2",du);class N1 extends Fn{constructor(t,i,a,l){assert&&assert(l!==void 0,"Rectangle requires 4 parameters"),super(t,i,t+a,i+l)}}le.register("Rectangle",N1);class F1{constructor(t){assert&&assert(t>0,"window size must be positive"),this.windowSize=t,this.samples=new Array(t),this.sampleIndex=0,this.total=0,this.numSamples=0,this.clear()}clear(){this.total=0,this.numSamples=0;for(let t=0;t<this.windowSize;t++)this.samples[t]=0}getRunningAverage(){return this.total/this.numSamples}isSaturated(){return this.numSamples>=this.windowSize}updateRunningAverage(t){return assert&&assert(typeof t=="number"&&isFinite(t)),this.numSamples=Math.min(this.windowSize,this.numSamples+1),this.total-=this.samples[this.sampleIndex],assert&&assert(isFinite(this.total)),this.total+=t,assert&&assert(isFinite(this.total)),this.samples[this.sampleIndex]=t,this.sampleIndex=(this.sampleIndex+1)%this.windowSize,this.getRunningAverage()}}le.register("RunningAverage",F1);class B1{constructor(t,i){this.center=t,this.radius=i,assert&&assert(i>=0,"the radius of a sphere should be positive")}intersect(t,i){const a=t.direction,l=t.position,r=l.minus(this.center),g=a.dot(r),S=r.magnitudeSquared,B=4*g*g-4*(S-this.radius*this.radius);if(B<i)return null;const j=a.dot(this.center)-a.dot(l),W=Math.sqrt(B)/2,G=j-W,J=j+W;if(J<i)return null;const R=t.pointAtDistance(J),gt=R.minus(this.center).normalized();if(G<i)return{distance:J,hitPoint:R,normal:gt.negated(),fromOutside:!1};{const m=t.pointAtDistance(G),it=m.minus(this.center).normalized();return{distance:G,hitPoint:m,normal:it,fromOutside:!0}}}intersections(t,i){const a=t.direction,l=t.position,r=l.minus(this.center),g=a.dot(r),S=r.magnitudeSquared,B=4*g*g-4*(S-this.radius*this.radius);if(B<i)return[];const j=a.dot(this.center)-a.dot(l),W=Math.sqrt(B)/2,G=j-W,J=j+W;if(J<i)return[];const R=t.pointAtDistance(J),gt=R.minus(this.center).normalized(),m=t.pointAtDistance(G),it=m.minus(this.center).normalized(),et={distance:J,hitPoint:R,normal:gt.negated(),fromOutside:!1},nt={distance:G,hitPoint:m,normal:it,fromOutside:!0};return G<i?[et,nt]:[nt,et]}}le.register("Sphere3",B1);const ya={getPercentile(A,t){if(assert&&assert(Array.isArray(A)),assert&&A.forEach(l=>assert&&assert(typeof l=="number")),A.length===0)return null;A.sort((l,r)=>l-r);const i=t/100*A.length;let a=null;return Math.floor(i)===i?a=(A[i-1]+A[i])/2:a=A[Math.floor(i)],a},median(A){return ya.getPercentile(A,50)},getBoxPlotValues(A){return assert&&assert(A.length>=4,"need at least 4 values to calculate quartiles"),{q1:ya.getPercentile(A,25),median:ya.getPercentile(A,50),q3:ya.getPercentile(A,75)}},getBoxPlotLimits(A){assert&&assert(Array.isArray(A)),assert&&assert(A.length>=4,"need at least 4 values to calculate data limits"),assert&&A.forEach(r=>assert&&assert(typeof r=="number"));const t=ya.getBoxPlotValues(A),i=t.q3-t.q1,a=t.q1-1.5*i,l=t.q3+1.5*i;return{lowerLimit:a,upperLimit:l}}};le.register("Stats",ya);const V1=1e-6,rf=(A,t)=>Math.abs(A-t)<=V1;class L1{constructor(t,i,a){a=tn({domain:new Hs(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY),range:new Hs(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY)},a),this.evaluationFunction=t,this.inverseFunction=i,this.domain=a.domain,this.range=a.range}evaluate(t){assert&&assert(this.domain.contains(t),"Value out of domain");const i=this.evaluationFunction(t);return assert&&assert(rf(this.inverseFunction(i),t)),i}inverse(t){assert&&assert(this.range.contains(t),"Value out of range");const i=this.inverseFunction(t);return assert&&assert(rf(this.evaluationFunction(i),t)),i}}le.register("Transform1",L1);const Ea=_.hasIn(window,"phet.chipper.queryParameters")&&phet.chipper.queryParameters.listenerOrder,go=_.hasIn(window,"phet.chipper.queryParameters")&&phet.chipper.queryParameters.listenerLimit,af=1e3;let Mf=null;if(Ea&&Ea.startsWith("random")){const A=Ea.match(/random(?:%28|\()(\d+)(?:%29|\))/),t=A?Number(A[1]):Sf.nextInt(1e6);Mf=new fu({seed:t}),console.log("listenerOrder random seed: "+t)}let au=0;class Dr{constructor(t,i,a){this.emitContexts=[],t&&(this.onBeforeNotify=t),i&&(this.hasListenerOrderDependencies=i),a&&(this.reentrantNotificationStrategy=a),this.listeners=new Set,assert&&(this.isDisposed=!1)}dispose(){this.removeAllListeners(),assert&&(this.isDisposed=!0)}emit(...t){var i,a;if(assert&&assert(!this.isDisposed,"TinyEmitter.emit() should not be called if disposed."),this.onBeforeNotify&&this.onBeforeNotify.apply(null,t),assert&&Ea&&Ea!=="default"&&!this.hasListenerOrderDependencies){const l=Array.from(this.listeners),r=Ea.startsWith("random")?Mf.shuffle(l):l.reverse();this.listeners=new Set(r)}if(this.listeners.size>0){const l=Xl.create(0,t);if(this.emitContexts.push(l),this.reentrantNotificationStrategy==="queue")if(this.emitContexts.length===1)for(;this.emitContexts.length;){const r=this.emitContexts[0],g=r.hasListenerArray?r.listenerArray:this.listeners;this.notifyLoop(r,g),(i=this.emitContexts.shift())==null||i.freeToPool()}else assert&&assert(this.emitContexts.length<=af,`emitting reentrant depth of ${af} seems like a infinite loop to me!`);else!this.reentrantNotificationStrategy||this.reentrantNotificationStrategy==="stack"?(this.notifyLoop(l,this.listeners),(a=this.emitContexts.pop())==null||a.freeToPool()):assert&&assert(!1,`Unknown reentrantNotificationStrategy: ${this.reentrantNotificationStrategy}`)}}notifyLoop(t,i){const a=t.args;for(const l of i)if(l(...a),t.index++,t.hasListenerArray)break;if(t.hasListenerArray)for(let l=t.index;l<t.listenerArray.length;l++)t.listenerArray[l](...a)}addListener(t){assert&&assert(!this.isDisposed,"Cannot add a listener to a disposed TinyEmitter"),assert&&assert(!this.hasListener(t),"Cannot add the same listener twice"),this.guardListeners(),this.listeners.add(t),this.changeCount&&this.changeCount(1),assert&&go&&isFinite(go)&&au<this.listeners.size&&(au=this.listeners.size,console.log(`Max TinyEmitter listeners: ${au}`),assert(au<=go,`listener count of ${au} above ?listenerLimit=${go}`))}removeListener(t){assert&&!this.isDisposed&&assert(this.listeners.has(t),"tried to removeListener on something that wasn't a listener"),this.guardListeners(),this.listeners.delete(t),this.changeCount&&this.changeCount(-1)}removeAllListeners(){const t=this.listeners.size;this.guardListeners(),this.listeners.clear(),this.changeCount&&this.changeCount(-t)}guardListeners(){for(let t=this.emitContexts.length-1;t>=0;t--){const i=this.emitContexts[t];if(i.hasListenerArray)break;i.listenerArray.push(...this.listeners),i.hasListenerArray=!0}}hasListener(t){return assert&&assert(arguments.length===1,"Emitter.hasListener should be called with 1 argument"),this.listeners.has(t)}hasListeners(){return assert&&assert(arguments.length===0,"Emitter.hasListeners should be called without arguments"),this.listeners.size>0}getListenerCount(){return this.listeners.size}forEachListener(t){this.listeners.forEach(t)}}const Hr=class Hr{constructor(t,i){this.hasListenerArray=!1,this.listenerArray=[],this.initialize(t,i)}initialize(t,i){return this.index=t,this.args=i,this.hasListenerArray=!1,this}freeToPool(){Hr.pool.freeToPool(this),this.args=null,this.listenerArray.length=0}static create(t,i){return Hr.pool.create(t,i)}};Hr.pool=new Gr(Hr,{initialize:Hr.prototype.initialize});let Xl=Hr;as.register("TinyEmitter",Dr);const uf=new Ui;class nh{constructor(t){this.matrix=Ui.IDENTITY.copy(),this.inverse=Ui.IDENTITY.copy(),this.matrixTransposed=Ui.IDENTITY.copy(),this.inverseTransposed=Ui.IDENTITY.copy(),this.inverseValid=!0,this.transposeValid=!0,this.inverseTransposeValid=!0,this.changeEmitter=new Dr,t&&this.setMatrix(t)}setMatrix(t){this.matrix.set(t),this.invalidate()}validateMatrix(t){assert&&assert(t instanceof Ui,"matrix was incorrect type"),assert&&assert(t.isFinite(),"matrix must be finite")}invalidate(){assert&&this.validateMatrix(this.matrix),this.inverseValid=!1,this.transposeValid=!1,this.inverseTransposeValid=!1,this.changeEmitter.emit()}prepend(t){assert&&this.validateMatrix(t),uf.set(this.matrix),this.matrix.set(t),this.matrix.multiplyMatrix(uf),this.invalidate()}prependTranslation(t,i){assert&&assert(typeof t=="number"&&typeof i=="number"&&isFinite(t)&&isFinite(i),"Attempted to prepend non-finite or non-number (x,y) to the transform"),this.matrix.prependTranslation(t,i),this.invalidate()}append(t){assert&&this.validateMatrix(t),this.matrix.multiplyMatrix(t),this.invalidate()}prependTransform(t){this.prepend(t.matrix)}appendTransform(t){this.append(t.matrix)}applyToCanvasContext(t){t.setTransform(this.matrix.m00(),this.matrix.m10(),this.matrix.m01(),this.matrix.m11(),this.matrix.m02(),this.matrix.m12())}copy(){const t=new nh(this.matrix);t.inverse=this.inverse,t.matrixTransposed=this.matrixTransposed,t.inverseTransposed=this.inverseTransposed,t.inverseValid=this.inverseValid,t.transposeValid=this.transposeValid,t.inverseTransposeValid=this.inverseTransposeValid}getMatrix(){return this.matrix}getInverse(){return this.inverseValid||(this.inverseValid=!0,this.inverse.set(this.matrix),this.inverse.invert()),this.inverse}getMatrixTransposed(){return this.transposeValid||(this.transposeValid=!0,this.matrixTransposed.set(this.matrix),this.matrixTransposed.transpose()),this.matrixTransposed}getInverseTransposed(){return this.inverseTransposeValid||(this.inverseTransposeValid=!0,this.inverseTransposed.set(this.getInverse()),this.inverseTransposed.transpose()),this.inverseTransposed}isIdentity(){return this.matrix.isFastIdentity()}isFinite(){return this.matrix.isFinite()}transformPosition2(t){return this.matrix.timesVector2(t)}transformDelta2(t){const i=this.getMatrix();return new ce(i.m00()*t.x+i.m01()*t.y,i.m10()*t.x+i.m11()*t.y)}transformNormal2(t){return this.getInverse().timesTransposeVector2(t).normalize()}transformX(t){const i=this.getMatrix();return assert&&assert(!i.m01(),"Transforming an X value with a rotation/shear is ill-defined"),i.m00()*t+i.m02()}transformY(t){const i=this.getMatrix();return assert&&assert(!i.m10(),"Transforming a Y value with a rotation/shear is ill-defined"),i.m11()*t+i.m12()}transformDeltaX(t){return this.getMatrix().m00()*t}transformDeltaY(t){return this.getMatrix().m11()*t}transformBounds2(t){return t.transformed(this.matrix)}transformShape(t){return t.transformed(this.matrix)}transformRay2(t){return new du(this.transformPosition2(t.position),this.transformDelta2(t.direction).normalized())}inversePosition2(t){return this.getInverse().timesVector2(t)}inverseDelta2(t){const i=this.getInverse();return new ce(i.m00()*t.x+i.m01()*t.y,i.m10()*t.x+i.m11()*t.y)}inverseNormal2(t){return this.matrix.timesTransposeVector2(t).normalize()}inverseX(t){const i=this.getInverse();return assert&&assert(!i.m01(),"Inverting an X value with a rotation/shear is ill-defined"),i.m00()*t+i.m02()}inverseY(t){const i=this.getInverse();return assert&&assert(!i.m10(),"Inverting a Y value with a rotation/shear is ill-defined"),i.m11()*t+i.m12()}inverseDeltaX(t){const i=this.getInverse();return assert&&assert(!i.m01(),"Inverting an X value with a rotation/shear is ill-defined"),i.m00()*t}inverseDeltaY(t){const i=this.getInverse();return assert&&assert(!i.m10(),"Inverting a Y value with a rotation/shear is ill-defined"),i.m11()*t}inverseBounds2(t){return t.transformed(this.getInverse())}inverseShape(t){return t.transformed(this.getInverse())}inverseRay2(t){return new du(this.inversePosition2(t.position),this.inverseDelta2(t.direction).normalized())}}le.register("Transform3",nh);const of=new si;function Ml(A){return A instanceof si&&A.isFinite()}class sh{constructor(t){this.matrix=si.IDENTITY.copy(),this.inverse=si.IDENTITY.copy(),this.matrixTransposed=si.IDENTITY.copy(),this.inverseTransposed=si.IDENTITY.copy(),this.inverseValid=!0,this.transposeValid=!0,this.inverseTransposeValid=!0,this.changeEmitter=new Dr,t&&this.setMatrix(t)}setMatrix(t){assert&&assert(Ml(t),"Matrix has NaNs, non-finite values, or isn't a matrix!"),this.matrix.set(t),this.invalidate()}invalidate(){assert&&assert(this.matrix.isFinite()),this.inverseValid=!1,this.transposeValid=!1,this.inverseTransposeValid=!1,this.changeEmitter.emit()}prepend(t){assert&&assert(Ml(t),"Matrix has NaNs, non-finite values, or isn't a matrix!"),of.set(this.matrix),this.matrix.set(t),this.matrix.multiplyMatrix(of),this.invalidate()}append(t){assert&&assert(Ml(t),"Matrix has NaNs, non-finite values, or isn't a matrix!"),this.matrix.multiplyMatrix(t),this.invalidate()}prependTransform(t){this.prepend(t.matrix)}appendTransform(t){this.append(t.matrix)}applyToCanvasContext(t){t.setTransform(this.matrix.m00(),this.matrix.m10(),this.matrix.m01(),this.matrix.m11(),this.matrix.m03(),this.matrix.m13())}copy(){const t=new sh(this.matrix);t.inverse=this.inverse,t.matrixTransposed=this.matrixTransposed,t.inverseTransposed=this.inverseTransposed,t.inverseValid=this.inverseValid,t.transposeValid=this.transposeValid,t.inverseTransposeValid=this.inverseTransposeValid}getMatrix(){return this.matrix}getInverse(){return this.inverseValid||(this.inverseValid=!0,this.inverse.set(this.matrix),this.inverse.invert()),this.inverse}getMatrixTransposed(){return this.transposeValid||(this.transposeValid=!0,this.matrixTransposed.set(this.matrix),this.matrixTransposed.transpose()),this.matrixTransposed}getInverseTransposed(){return this.inverseTransposeValid||(this.inverseTransposeValid=!0,this.inverseTransposed.set(this.getInverse()),this.inverseTransposed.transpose()),this.inverseTransposed}isIdentity(){return this.matrix.type===si.Types.IDENTITY}isFinite(){return this.matrix.isFinite()}transformPosition3(t){return this.matrix.timesVector3(t)}transformDelta3(t){return this.matrix.timesRelativeVector3(t)}transformNormal3(t){return this.getInverse().timesTransposeVector3(t)}transformDeltaX(t){return this.transformDelta3(new ke(t,0,0)).x}transformDeltaY(t){return this.transformDelta3(new ke(0,t,0)).y}transformDeltaZ(t){return this.transformDelta3(new ke(0,0,t)).z}transformRay(t){return new Ta(this.transformPosition3(t.position),this.transformPosition3(t.position.plus(t.direction)).minus(this.transformPosition3(t.position)))}inversePosition3(t){return this.getInverse().timesVector3(t)}inverseDelta3(t){return this.inversePosition3(t).minus(this.inversePosition3(ke.ZERO))}inverseNormal3(t){return this.matrix.timesTransposeVector3(t)}inverseDeltaX(t){return this.inverseDelta3(new ke(t,0,0)).x}inverseDeltaY(t){return this.inverseDelta3(new ke(0,t,0)).y}inverseDeltaZ(t){return this.inverseDelta3(new ke(0,0,t)).z}inverseRay(t){return new Ta(this.inversePosition3(t.position),this.inversePosition3(t.position.plus(t.direction)).minus(this.inversePosition3(t.position)))}}le.register("Transform4",sh);const vs=class vs{constructor(t){const i=t.slice();for(;i.length&&i[i.length-1]===0;)i.pop();this.coefficients=i}plus(t){const i=[];for(let a=0;a<Math.max(this.coefficients.length,t.coefficients.length);a++)i.push(this.getCoefficient(a)+t.getCoefficient(a));return new vs(i)}minus(t){const i=[];for(let a=0;a<Math.max(this.coefficients.length,t.coefficients.length);a++)i.push(this.getCoefficient(a)-t.getCoefficient(a));return new vs(i)}times(t){const i=[];for(;i.length<this.coefficients.length+t.coefficients.length-1;)i.push(0);for(let a=0;a<this.coefficients.length;a++)for(let l=0;l<t.coefficients.length;l++)i[a+l]+=this.getCoefficient(a)*t.getCoefficient(l);return new vs(i)}dividedBy(t){let i=new vs([]),a=this;const l=t.degree,r=t.coefficients[t.coefficients.length-1];for(;a.degree>=l;){const g=vs.singleCoefficient(a.getCoefficient(a.degree)/r,a.degree-l);i=i.plus(g),a=a.minus(g.times(t))}return{quotient:i,remainder:a}}gcd(t){let i=this,a=t;for(;!a.isZero();){const l=a;a=i.dividedBy(a).remainder,i=l}return i}equals(t){return this.coefficients.length===t.coefficients.length&&this.coefficients.every((i,a)=>i===t.coefficients[a])}getCoefficient(t){return t<this.coefficients.length?this.coefficients[t]:0}get degree(){return this.coefficients.length-1}isZero(){return this.coefficients.length===0}getMonicPolynomial(){if(this.isZero())return this;{const t=this.coefficients[this.coefficients.length-1];return new vs(this.coefficients.map(i=>i/t))}}evaluate(t){let i=this.coefficients[this.coefficients.length-1];for(let a=this.coefficients.length-2;a>=0;a--)i=i*t+this.coefficients[a];return i}evaluateComplex(t){let i=Ji.real(this.coefficients[this.coefficients.length-1]);for(let a=this.coefficients.length-2;a>=0;a--)i=i.times(t).plus(Ji.real(this.coefficients[a]));return i}getRoots(){if(this.isZero()||this.degree===0)return[];if(this.degree===1)return[Ji.real(-this.coefficients[0]/this.coefficients[1])];if(this.coefficients[0]===0){const t=new vs(this.coefficients.slice(1)).getRoots();return t.some(i=>i.equalsEpsilon(Ji.real(0),1e-10))||t.push(Ji.real(0)),t}else{if(this.degree===2)return Ji.solveQuadraticRoots(Ji.real(this.coefficients[2]),Ji.real(this.coefficients[1]),Ji.real(this.coefficients[0]));if(this.degree===3)return Ji.solveCubicRoots(Ji.real(this.coefficients[3]),Ji.real(this.coefficients[2]),Ji.real(this.coefficients[1]),Ji.real(this.coefficients[0]));{const t=new _n(this.degree,this.degree);for(let j=0;j<this.degree;j++)j<this.degree-1&&t.set(j+1,j,1),t.set(j,this.degree-1,-this.coefficients[j]/this.coefficients[this.degree]);console.log(t.toString());let i=t;const a=1e-13;for(let j=0;j<500;j++){const W=new th(i);if(i=W.getR().times(W.getQ()),j%10===0){let G=0;for(let J=0;J<this.degree;J++)for(let R=0;R<J;R++)G=Math.max(G,Math.abs(i.get(J,R)));if(G<a||j>1e3)break}}const l=_.range(0,this.degree).map(j=>Ji.real(i.get(j,j))),r=new Tf(t),g=r.getRealEigenvalues(),S=r.getImagEigenvalues(),B=_.range(0,this.degree).map(j=>new Ji(g[j],S[j]));return l||B}}}static singleCoefficient(t,i){const a=[];for(;a.length<i;)a.push(0);return a.push(t),new vs(a)}};vs.ZERO=new vs([]);let Hl=vs;le.register("UnivariatePolynomial",Hl);class Of extends Dr{setTimeout(t,i){let a=0;const l=r=>{a+=r,a*1e3>=i&&this.hasListener(l)&&(t(),this.removeListener(l))};return this.addListener(l),l}clearTimeout(t){this.hasListener(t)&&this.removeListener(t)}setInterval(t,i){let a=0;const l=r=>{for(a+=r;a*1e3>=i&&this.hasListener(l);)t(),a=a-i/1e3};return this.addListener(l),l}clearInterval(t){this.hasListener(t)&&this.removeListener(t)}runOnNextTick(t){this.setTimeout(t,0)}}as.register("Timer",Of);const Pf=new Of;as.register("animationFrameTimer",Pf);var lf;const Un=class Un extends Xs{};lf=Pn.EVENT_TYPE_MODEL,Un.USER=new Un,Un[lf]=new Un,Un.WRAPPER=new Un,Un.OPT_OUT=new Un,Un.enumeration=new Wr(Un),Un.phetioType=eh(Un);let Er=Un;Ri.register("EventType",Er);const Ul=_.hasIn(window,"phet.chipper.packageObject")?phet.chipper.packageObject:{name:"placeholder"},jr=_.hasIn(window,"phet.preloads.phetio"),jl=jr&&phet.preloads.phetio.queryParameters.phetioPrintMissingTandems,R1=_.hasIn(Ul,"phet.phet-io.validation")?!!Ul.phet["phet-io"].validation:!0,k1=window.QueryStringMachine&&QueryStringMachine.containsKey("phetioValidation"),z1=jr&&k1?!!phet.preloads.phetio.queryParameters.phetioValidation:jr&&R1,hf=jr&&z1&&!jl,q1=["pickableProperty","inputListener","dragHandler"],Zl="requiredTandem",Wl="optionalTandem",Y1=[Zl,Wl],cf="test",X1=phetio.PhetioIDUtils.INTER_TERM_SEPARATOR,Nf=phetio.PhetioIDUtils.ARCHETYPE,Ol={required:[],optional:[]},uu=[],ou=[],he=class he{constructor(t,i,a){this.children={},this.isDisposed=!1,assert&&assert(t===null||t instanceof he,"parentTandem should be null or Tandem"),assert&&assert(i!==he.METADATA_KEY,"name cannot match Tandem.METADATA_KEY"),this.parentTandem=t,this.name=i,this.phetioID=this.parentTandem?window.phetio.PhetioIDUtils.append(this.parentTandem.phetioID,this.name):this.name;const l=wn()({required:!0,supplied:!0,isValidTandemName:r=>he.getRegexFromCharacterClass().test(r)},a);assert&&assert(l.isValidTandemName(i),`invalid tandem name: ${i}`),assert&&assert(!l.supplied||Y1.every(r=>!i.includes(r)),`forbidden supplied tandem name: ${i}. If a tandem is not supplied, its name should not be used to create a supplied tandem.`),this.children={},this.parentTandem&&(assert&&assert(!this.parentTandem.hasChild(i),`parent should not have child: ${i}`),this.parentTandem.addChild(i,this)),this.required=l.required,this.supplied=l.supplied}static getRegexFromCharacterClass(t=Pn.BASE_TANDEM_CHARACTER_CLASS){return new RegExp(`^[${t}]+$`)}static onMissingTandem(t){if(jl&&!t.supplied){const i=he.captureStackTrace();t.required?Ol.required.push({phetioID:t.phetioID,stack:i}):i.includes("Font")||Ol.optional.push({phetioID:t.phetioID,stack:i})}}static captureStackTrace(t=1/0){const i=Object.getOwnPropertyDescriptor(Error,"stackTraceLimit");if(i&&(i.writable||i.set&&typeof i.set=="function")){const l=Error.stackTraceLimit;Error.stackTraceLimit=t;const r=new Error().stack;return Error.stackTraceLimit=l,r}else return new Error().stack}addPhetioObject(t){if(jr){if(assert&&he.VALIDATION&&assert(!(this.required&&!this.supplied),"Tandem was required but not supplied"),!this.required&&!this.supplied)return;if(!he.launched)he.bufferedPhetioObjects.push(t);else for(let i=0;i<uu.length;i++)uu[i].addPhetioObject(t)}}hasAncestor(t){return this.parentTandem===t||!!(this.parentTandem&&this.parentTandem.hasAncestor(t))}removePhetioObject(t){if(this.supplied){if(jr)if(!he.launched)assert&&assert(he.bufferedPhetioObjects.includes(t),"should contain item"),Is(he.bufferedPhetioObjects,t);else for(let i=0;i<uu.length;i++)uu[i].removePhetioObject(t);t.tandem.dispose()}}getExtendedOptions(t){return tn({supplied:this.supplied,required:this.required},t)}createTandem(t,i){if(assert&&he.VALIDATION&&assert(!q1.includes(t),"tandem name is not allowed: "+t),i=this.getExtendedOptions(i),this.hasChild(t)){const a=this.children[t];return assert&&assert(a.required===i.required),assert&&assert(a.supplied===i.supplied),a}else return new he(this,t,i)}createTandem1Indexed(t,i,a){return this.createTandem(`${t}${i+1}`,a)}hasChild(t){return this.children.hasOwnProperty(t)}addChild(t,i){assert&&assert(!this.hasChild(t)),this.children[t]=i}iterateDescendants(t){for(const i in this.children)this.children.hasOwnProperty(i)&&(t(this.children[i]),this.children[i].iterateDescendants(t))}removeChild(t){assert&&assert(this.hasChild(t)),delete this.children[t]}dispose(){assert&&assert(!this.isDisposed,"already disposed"),this.parentTandem.removeChild(this.name),this.parentTandem=null,this.isDisposed=!0}getArchetypalPhetioID(){return window.phetio.PhetioIDUtils.getArchetypalPhetioID(this.phetioID)}createGroupTandem(t){return this.children[t]?this.children[t]:new H1(this,t)}equals(t){return this.phetioID===t.phetioID}static addPhetioObjectListener(t){uu.push(t)}static launch(){for(assert&&assert(!he.launched,"Tandem cannot be launched twice"),he.launched=!0;ou.length>0;)ou.shift()();assert&&assert(ou.length===0)}static unlaunch(){he.launched=!1,he.bufferedPhetioObjects.length=0,ou.length=0}static addLaunchListener(t){assert&&assert(!he.launched,"tandem has already been launched, cannot add listener for that hook."),ou.push(t)}createTandemFromPhetioID(t){return this.createTandem(t.split(window.phetio.PhetioIDUtils.SEPARATOR).join(X1),{isValidTandemName:i=>he.getRegexFromCharacterClass(Pn.BASE_DERIVED_TANDEM_CHARACTER_CLASS).test(i)})}static getStringsTandem(t=he.ROOT.name){return he.STRINGS.createTandem(t)}static getDerivedStringsTandem(t=he.ROOT.name){return he.getStringsTandem(t).createTandem("derivedStrings")}};he.SCREEN_TANDEM_NAME_SUFFIX="Screen",he.missingTandems=Ol,he.PHET_IO_ENABLED=jr,he.API_GENERATION=he.PHET_IO_ENABLED&&(phet.preloads.phetio.queryParameters.phetioPrintAPI||phet.preloads.phetio.queryParameters.phetioCompareAPI),he.VALIDATION=hf,he.METADATA_KEY="_metadata",he.DATA_KEY="_data",he.launched=!1,he.bufferedPhetioObjects=[],he.RootTandem=class extends he{createTandem(i,a){if(he.VALIDATION){const l=i===window.phetio.PhetioIDUtils.GLOBAL_COMPONENT_NAME||i===Zl||i===Wl||i===cf||i===window.phetio.PhetioIDUtils.GENERAL_COMPONENT_NAME||_.endsWith(i,he.SCREEN_TANDEM_NAME_SUFFIX);assert&&assert(l,`tandem name not allowed on root: "${i}"; perhaps try putting it under general or global`)}return super.createTandem(i,a)}},he.ROOT=new he.RootTandem(null,_.camelCase(Ul.name)),he.GENERAL=he.ROOT.createTandem(window.phetio.PhetioIDUtils.GENERAL_COMPONENT_NAME),he.ROOT_TEST=he.ROOT.createTandem(cf),he.GENERAL_MODEL=he.GENERAL.createTandem(window.phetio.PhetioIDUtils.MODEL_COMPONENT_NAME),he.GENERAL_VIEW=he.GENERAL.createTandem(window.phetio.PhetioIDUtils.VIEW_COMPONENT_NAME),he.GENERAL_CONTROLLER=he.GENERAL.createTandem(window.phetio.PhetioIDUtils.CONTROLLER_COMPONENT_NAME),he.GLOBAL=he.ROOT.createTandem(window.phetio.PhetioIDUtils.GLOBAL_COMPONENT_NAME),he.GLOBAL_MODEL=he.GLOBAL.createTandem(window.phetio.PhetioIDUtils.MODEL_COMPONENT_NAME),he.GLOBAL_VIEW=he.GLOBAL.createTandem(window.phetio.PhetioIDUtils.VIEW_COMPONENT_NAME),he.COLORS=he.GLOBAL_VIEW.createTandem(window.phetio.PhetioIDUtils.COLORS_COMPONENT_NAME),he.STRINGS=he.GENERAL_MODEL.createTandem(window.phetio.PhetioIDUtils.STRINGS_COMPONENT_NAME),he.OPTIONAL=he.ROOT.createTandem(Wl,{required:!1,supplied:!1}),he.OPT_OUT=he.OPTIONAL,he.REQUIRED=he.ROOT.createTandem(Zl,{required:hf||jl,supplied:!1}),he.PREFERENCES=he.GLOBAL_MODEL.createTandem("preferences");let di=he;di.addLaunchListener(()=>{for(;di.bufferedPhetioObjects.length>0;){const A=di.bufferedPhetioObjects.shift();A.tandem.addPhetioObject(A)}assert&&assert(di.bufferedPhetioObjects.length===0,"bufferedPhetioObjects should be empty")});class H1 extends di{constructor(t,i){super(t,i),this.groupName=i,this.groupMemberIndex=0}createNextTandem(){const t=this.parentTandem.createTandem(`${this.groupName}${this.groupMemberIndex}`);return this.groupMemberIndex++,t}}Ri.register("Tandem",di);const Ff=new yi("ValueIO",{isValidValue:_.stubTrue,supertype:yi.ObjectIO,toStateObject:A=>A,fromStateObject:A=>A,stateSchema:ys.asValue("*",{isValidValue:_.stubTrue})});Ri.register("ValueIO",Ff);const wa=new yi("StringIO",{supertype:Ff,valueType:"string",documentation:"PhET-iO Type for Javascript's string primitive type",stateSchema:ys.asValue("string",{valueType:"string"}),toStateObject:_.identity});Ri.register("StringIO",wa);const Bf=new yi("LinkedElementIO",{isValidValue:()=>!0,documentation:"A LinkedElement",toStateObject:A=>(assert&&di.VALIDATION&&assert(A.element.isPhetioInstrumented(),"Linked elements must be instrumented"),{elementID:A.element.tandem.phetioID}),applyState:_.noop,stateSchema:{elementID:wa}});Ri.register("LinkedElementIO",Bf);const U1=["phetioDynamicElement","phetioEventType","phetioIsArchetype","phetioPlayback","phetioReadOnly","phetioState","phetioTypeName"];class j1{constructor(){this.apiMismatches=[],this.simHasStarted=!1,this.enabled=!!assert&&di.VALIDATION,this.everyPhetioType={}}onSimStarted(){this.enabled&&phet.joist.sim.allScreensCreated&&(this.validateOverridesFile(),this.validatePreferencesModel()),phet.preloads.phetio.queryParameters.phetioPrintAPIProblems&&this.apiMismatches&&console.log("PhET-iO API problems detected: ",this.apiMismatches),this.simHasStarted=!0}validatePreferencesModel(){Object.keys(phet.phetio.phetioEngine.phetioElementMap).filter(t=>t.includes(".preferencesModel.")).forEach(t=>{let i=phet.phetio.phetioEngine.phetioElementMap[t];for(;i instanceof Gl;)i=i.element;assert&&assert(!i.phetioReadOnly,"preferences model and its descendants should be phetioReadOnly: false, key="+t),assert&&assert(i.phetioState===(i.phetioID.endsWith(".colorProfileProperty")||i.phetioID.endsWith(".audioEnabledProperty")||i.phetioID.endsWith(".localeProperty")||t.includes(".simulationModel.")),"most preferences should be phetioState: false, key="+t)})}onPhetioObjectRemoved(t){if(!this.enabled)return;const i=t.tandem.phetioID;t.phetioDynamicElement||this.assertAPIError({phetioID:i,ruleInViolation:"2. Any static, registered PhetioObject can never be deregistered."})}onPhetioObjectAdded(t){if(!this.enabled)return;const i=t.phetioType;this.everyPhetioType[i.typeName]||(this.everyPhetioType[i.typeName]=i),this.simHasStarted&&phet.axon.animationFrameTimer.runOnNextTick(()=>{if(!t.phetioDynamicElement)this.assertAPIError({phetioID:t.tandem.phetioID,ruleInViolation:"1. After startup, only dynamic instances prescribed by the baseline file can be registered."});else if(phet.preloads.phetio.createArchetypes&&!t.isDisposed){const l=t.tandem.getArchetypalPhetioID(),r=phet.phetio.phetioEngine.getPhetioElement(l).getMetadata();this.checkDynamicInstanceAgainstArchetype(t,r,"simulation archetype")}})}validateOverridesFile(){const t=phet.phetio.phetioEngine.getPhetioElementsBaseline();for(const i in window.phet.preloads.phetio.phetioElementsOverrides){const a=i.includes(Nf);if(!phet.preloads.phetio.createArchetypes&&!t.hasOwnProperty(i))assert&&assert(a,`phetioID missing from the baseline that was not an archetype: ${i}`);else if(!t.hasOwnProperty(i))this.assertAPIError({phetioID:i,ruleInViolation:"3. Any schema entries in the overrides file must exist in the baseline file.",message:"phetioID expected in the baseline file but does not exist"});else{const l=window.phet.preloads.phetio.phetioElementsOverrides[i],r=t[i];Object.keys(l).length===0&&this.assertAPIError({phetioID:i,ruleInViolation:"4. Any schema entries in the overrides file must be different from its baseline counterpart.",message:"no metadata keys found for this override."});for(const g in l)r.hasOwnProperty(g)||this.assertAPIError({phetioID:i,ruleInViolation:"8. Any schema entries in the overrides file must be different from its baseline counterpart.",message:`phetioID metadata key not found in the baseline: ${g}`}),l[g]===r[g]&&this.assertAPIError({phetioID:i,ruleInViolation:"8. Any schema entries in the overrides file must be different from its baseline counterpart.",message:"phetioID metadata override value is the same as the corresponding metadata value in the baseline."})}}}assertAPIError(t){const i=t.phetioID?`${t.phetioID}:  ${t.ruleInViolation}`:`${t.ruleInViolation}`;this.apiMismatches.push(t),(this.simHasStarted||!phet.preloads.phetio.queryParameters.phetioPrintAPIProblems)&&assert&&assert(!1,`PhET-iO API error:
${i}`)}checkDynamicInstanceAgainstArchetype(t,i,a){const l=t.getMetadata();U1.forEach(r=>{r!=="phetioDynamicElement"&&r!=="phetioArchetypePhetioID"&&r!=="phetioIsArchetype"&&i[r]!==l[r]&&t.tandem&&this.assertAPIError({phetioID:t.tandem.phetioID,ruleInViolation:"5. Dynamic element metadata should match the archetype in the API.",source:a,message:`mismatched metadata: ${r}`})})}}const Vf=new j1;Ri.register("phetioAPIValidation",Vf);class Eo{constructor(t){if(this._disposeEmitter=new Dr,this._isDisposable=!0,this._isDisposed=!1,t&&this.initializeDisposable(t),assert){const i=this.dispose;this.dispose=()=>{assert&&assert(!this._isDisposed,"This Disposable has already been disposed, and cannot be disposed again"),i.call(this),assert&&assert(this._isDisposed,"Disposable.dispose() call is missing from an overridden dispose method")}}}getDisposeEmitter(){return this._disposeEmitter}get disposeEmitter(){return this.getDisposeEmitter()}get isDisposed(){return this._isDisposed}get isDisposable(){return this._isDisposable}set isDisposable(t){this._isDisposable=t}initializeDisposable(t){t&&t.hasOwnProperty("isDisposable")&&(this._isDisposable=t.isDisposable)}dispose(){assert&&!this._isDisposable&&Eo.assertNotDisposable(),assert&&assert(!this._isDisposed,"Disposable can only be disposed once"),this._disposeEmitter.emit(),this._disposeEmitter.dispose(),this._isDisposed=!0}static assertNotDisposable(){assert&&assert(!1,"dispose is not supported, exists for the lifetime of the sim")}}as.register("Disposable",Eo);const jn=class jn{static add(t,i){assert&&assert(!jn.map.has(t.phetioID),"TandemID already exists in the DescriptionRegistry"),jn.map.set(t.phetioID,i);const a=t.phetioID.split(".");let l=jn.root;for(let r=0;r<a.length;r++){const g=a[r];l[g]||(l[g]={}),l=l[g]}l._value=i,jn.addedEmitter.emit(t.phetioID,i)}static remove(t){const i=t.phetioID;if(jn.map.has(i)){jn.removedEmitter.emit(i,t),jn.map.delete(i);const a=i.split("."),l=[];let r=jn.root;for(let g=0;g<a.length;g++){const S=a[g];r&&(r=r[S],r&&l.push(r))}l.length===a.length&&delete r._value;for(let g=l.length-1;g>=0;g--){const S=l[g];S&&Object.keys(S).length===0&&delete l[g]}}else assert&&assert(!1,"PhetioObject not found in DescriptionRegistry")}};jn.root={},jn.map=new Map,jn.addedEmitter=new Dr,jn.removedEmitter=new Dr;let mu=jn;Ri.register("DescriptionRegistry",mu);const In=di.PHET_IO_ENABLED,Z1={valueType:yi,validationMessage:"phetioType must be an IOType"},qr={valueType:"boolean"},W1={valueType:"string",isValidValue:A=>!A.includes(`
`),validationMessage:"phetioDocumentation must be provided in the right format"},G1={valueType:Er,validationMessage:"invalid phetioEventType"},$1={valueType:[Object,null]},K1=A=>A.tandem.phetioID,Pl=-1;var mf,pf,gf;const ff=!!((gf=(pf=(mf=window.phet)==null?void 0:mf.chipper)==null?void 0:pf.queryParameters)!=null&&gf.supportsDescriptionPlugin),yo={tandem:di.OPTIONAL,descriptionTandem:di.OPTIONAL,phetioType:yi.ObjectIO,phetioDocumentation:Pn.PHET_IO_OBJECT_METADATA_DEFAULTS.phetioDocumentation,phetioState:Pn.PHET_IO_OBJECT_METADATA_DEFAULTS.phetioState,phetioReadOnly:Pn.PHET_IO_OBJECT_METADATA_DEFAULTS.phetioReadOnly,phetioEventType:Er.MODEL,phetioHighFrequency:Pn.PHET_IO_OBJECT_METADATA_DEFAULTS.phetioHighFrequency,phetioPlayback:Pn.PHET_IO_OBJECT_METADATA_DEFAULTS.phetioPlayback,phetioFeatured:Pn.PHET_IO_OBJECT_METADATA_DEFAULTS.phetioFeatured,phetioDynamicElement:Pn.PHET_IO_OBJECT_METADATA_DEFAULTS.phetioDynamicElement,phetioDesigned:Pn.PHET_IO_OBJECT_METADATA_DEFAULTS.phetioDesigned,phetioEventMetadata:null,tandemNameSuffix:null};assert&&assert(Er.phetioType.toStateObject(yo.phetioEventType)===Pn.PHET_IO_OBJECT_METADATA_DEFAULTS.phetioEventType,"phetioEventType must have the same default as the default metadata values.");const xa=class xa extends Eo{constructor(t){super(),this.tandem=yo.tandem,this.phetioID=this.tandem.phetioID,this.phetioObjectInitialized=!1,t&&this.initializePhetioObject({},t)}initializePhetioObject(t,i){if(assert&&assert(!t.hasOwnProperty("isDisposable"),"baseOptions should not contain isDisposable"),this.initializeDisposable(i),assert&&assert(i,"initializePhetioObject must be called with providedOptions"),i.tandem&&di.onMissingTandem(i.tandem),assert&&di.VALIDATION&&i.tandem&&i.tandem.required&&assert(i.tandem.supplied,"required tandems must be supplied"),ff&&i.tandem&&i.tandem.supplied&&mu.add(i.tandem,this),!(In&&i.tandem&&i.tandem.supplied)){i.tandem&&(this.tandem=i.tandem,this.phetioID=this.tandem.phetioID);return}assert&&assert(!this.phetioObjectInitialized,"cannot initialize twice"),assert&&fn(i.tandem,{valueType:di});const a=s1({},yo,t);let l=wn()(a,i);assert&&fn(l.phetioType,Z1),assert&&fn(l.phetioState,tn({},qr,{validationMessage:"phetioState must be a boolean"})),assert&&fn(l.phetioReadOnly,tn({},qr,{validationMessage:"phetioReadOnly must be a boolean"})),assert&&fn(l.phetioEventType,G1),assert&&fn(l.phetioDocumentation,W1),assert&&fn(l.phetioHighFrequency,tn({},qr,{validationMessage:"phetioHighFrequency must be a boolean"})),assert&&fn(l.phetioPlayback,tn({},qr,{validationMessage:"phetioPlayback must be a boolean"})),assert&&fn(l.phetioFeatured,tn({},qr,{validationMessage:"phetioFeatured must be a boolean"})),assert&&fn(l.phetioEventMetadata,tn({},$1,{validationMessage:"object literal expected"})),assert&&fn(l.phetioDynamicElement,tn({},qr,{validationMessage:"phetioDynamicElement must be a boolean"})),assert&&fn(l.phetioDesigned,tn({},qr,{validationMessage:"phetioDesigned must be a boolean"})),assert&&assert(this.linkedElements!==null,"this means addLinkedElement was called before instrumentation of this PhetioObject"),this.phetioIsArchetype=!1,this.phetioBaselineMetadata=Vf.enabled||phet.preloads.phetio.queryParameters.phetioEmitAPIBaseline?this.getMetadata(tn({phetioIsArchetype:this.phetioIsArchetype,phetioArchetypePhetioID:this.phetioArchetypePhetioID},l)):null;const r=l.tandem.getArchetypalPhetioID();if(window.phet.preloads.phetio.phetioElementsOverrides){const g=window.phet.preloads.phetio.phetioElementsOverrides[r];g&&(l=wn()(l,g))}if(this.tandem=l.tandem,this.phetioID=this.tandem.phetioID,this._phetioType=l.phetioType,this._phetioState=l.phetioState,this._phetioReadOnly=l.phetioReadOnly,this._phetioDocumentation=l.phetioDocumentation,this._phetioEventType=l.phetioEventType,this._phetioHighFrequency=l.phetioHighFrequency,this._phetioPlayback=l.phetioPlayback,this._phetioDynamicElement=l.phetioDynamicElement,this._phetioFeatured=l.phetioFeatured,this._phetioEventMetadata=l.phetioEventMetadata,this._phetioDesigned=l.phetioDesigned,this.phetioArchetypePhetioID=null,this.linkedElements=[],this.phetioNotifiedObjectCreated=!1,this.phetioMessageStack=[],this._phetioPlayback&&(this._phetioEventMetadata=this._phetioEventMetadata||{},assert&&assert(!this._phetioEventMetadata.hasOwnProperty("playback"),"phetioEventMetadata.playback should not already exist"),this._phetioEventMetadata.playback=!0),this.tandem.addPhetioObject(this),this.phetioObjectInitialized=!0,assert&&di.VALIDATION&&this.isPhetioInstrumented()&&l.tandemNameSuffix){const g=Array.isArray(l.tandemNameSuffix)?l.tandemNameSuffix:[l.tandemNameSuffix],S=g.filter(B=>this.tandem.name.endsWith(B)||this.tandem.name.endsWith(xa.swapCaseOfFirstCharacter(B)));assert&&assert(S.length>0,"Incorrect Tandem suffix, expected = "+g.join(", ")+". actual = "+this.tandem.phetioID)}}static swapCaseOfFirstCharacter(t){const i=t[0];return(i===i.toLowerCase()?i.toUpperCase():i.toLowerCase())+t.substring(1)}get phetioType(){return assert&&assert(In&&this.isPhetioInstrumented(),"phetioType only accessible for instrumented objects in PhET-iO brand."),this._phetioType}get phetioState(){return assert&&assert(In&&this.isPhetioInstrumented(),"phetioState only accessible for instrumented objects in PhET-iO brand."),this._phetioState}get phetioReadOnly(){return assert&&assert(In&&this.isPhetioInstrumented(),"phetioReadOnly only accessible for instrumented objects in PhET-iO brand."),this._phetioReadOnly}get phetioDocumentation(){return assert&&assert(In&&this.isPhetioInstrumented(),"phetioDocumentation only accessible for instrumented objects in PhET-iO brand."),this._phetioDocumentation}get phetioEventType(){return assert&&assert(In&&this.isPhetioInstrumented(),"phetioEventType only accessible for instrumented objects in PhET-iO brand."),this._phetioEventType}get phetioHighFrequency(){return assert&&assert(In&&this.isPhetioInstrumented(),"phetioHighFrequency only accessible for instrumented objects in PhET-iO brand."),this._phetioHighFrequency}get phetioPlayback(){return assert&&assert(In&&this.isPhetioInstrumented(),"phetioPlayback only accessible for instrumented objects in PhET-iO brand."),this._phetioPlayback}get phetioDynamicElement(){return assert&&assert(In&&this.isPhetioInstrumented(),"phetioDynamicElement only accessible for instrumented objects in PhET-iO brand."),this._phetioDynamicElement}get phetioFeatured(){return assert&&assert(In&&this.isPhetioInstrumented(),"phetioFeatured only accessible for instrumented objects in PhET-iO brand."),this._phetioFeatured}get phetioEventMetadata(){return assert&&assert(In&&this.isPhetioInstrumented(),"phetioEventMetadata only accessible for instrumented objects in PhET-iO brand."),this._phetioEventMetadata}get phetioDesigned(){return assert&&assert(In&&this.isPhetioInstrumented(),"phetioDesigned only accessible for instrumented objects in PhET-iO brand."),this._phetioDesigned}phetioStartEvent(t,i){if(In&&this.isPhetioInstrumented()){assert&&Kl(i,["data"],["getData"]);const a=wn()({data:null,getData:null},i);if(assert&&assert(this.phetioObjectInitialized,"phetioObject should be initialized"),assert&&a.data&&assert(typeof a.data=="object"),assert&&a.getData&&assert(typeof a.getData=="function"),assert&&assert(arguments.length===1||arguments.length===2,"Prevent usage of incorrect signature"),!_.hasIn(window,"phet.phetio.dataStream")){this.phetioMessageStack.push(Pl);return}const l=this.phetioHighFrequency&&_.hasIn(window,"phet.preloads.phetio.queryParameters")&&!window.phet.preloads.phetio.queryParameters.phetioEmitHighFrequencyEvents&&!phet.phetio.dataStream.isEmittingLowFrequencyEvent(),r=!assert&&!_.hasIn(window,"phet.phetio.dataStream");if(l||this.phetioEventType===Er.OPT_OUT||r){this.phetioMessageStack.push(Pl);return}const g=a.getData?a.getData():a.data;this.phetioMessageStack.push(phet.phetio.dataStream.start(this.phetioEventType,this.tandem.phetioID,this.phetioType,t,g,this.phetioEventMetadata,this.phetioHighFrequency)),this.phetioPlayback&&phet.phetio.dataStream.pushNonPlaybackable()}}phetioEndEvent(){if(In&&this.isPhetioInstrumented()){assert&&assert(this.phetioMessageStack.length>0,"Must have messages to pop");const t=this.phetioMessageStack.pop();if(t===Pl)return;this.phetioPlayback&&phet.phetio.dataStream.popNonPlaybackable(),phet.phetio.dataStream.end(t)}}propagateDynamicFlagsToDescendants(){assert&&assert(di.PHET_IO_ENABLED,"phet-io should be enabled"),assert&&assert(phet.phetio&&phet.phetio.phetioEngine,"Dynamic elements cannot be created statically before phetioEngine exists.");const t=phet.phetio.phetioEngine,i=di.launched?[]:di.bufferedPhetioObjects.map(K1);this.tandem.iterateDescendants(a=>{const l=a.phetioID;if(t.hasPhetioObject(l)||!di.launched&&i.includes(l)){assert&&assert(this.isPhetioInstrumented());const r=t.hasPhetioObject(l)?t.getPhetioElement(l):di.bufferedPhetioObjects[i.indexOf(l)];assert&&assert(r,"should have a phetioObject here"),r.phetioIsArchetype=this.phetioIsArchetype,r.setPhetioDynamicElement(this.phetioDynamicElement),r.phetioBaselineMetadata&&(r.phetioBaselineMetadata.phetioIsArchetype=this.phetioIsArchetype)}})}setPhetioDynamicElement(t){assert&&assert(!this.phetioNotifiedObjectCreated,"should not change dynamic element flags after notifying this PhetioObject's creation."),assert&&assert(this.isPhetioInstrumented()),this._phetioDynamicElement=this.phetioIsArchetype?!1:t,this.phetioArchetypePhetioID=t?this.tandem.getArchetypalPhetioID():null,this.phetioBaselineMetadata&&(this.phetioBaselineMetadata.phetioDynamicElement=this.phetioDynamicElement)}markDynamicElementArchetype(){assert&&assert(!this.phetioNotifiedObjectCreated,"should not change dynamic element flags after notifying this PhetioObject's creation."),this.phetioIsArchetype=!0,this.setPhetioDynamicElement(!1),this.phetioBaselineMetadata&&(this.phetioBaselineMetadata.phetioIsArchetype=this.phetioIsArchetype),di.PHET_IO_ENABLED&&this.propagateDynamicFlagsToDescendants()}isPhetioInstrumented(){return this.tandem&&this.tandem.supplied}addLinkedElement(t,i){if(!this.isPhetioInstrumented()){this.linkedElements=null;return}if(In&&t.isPhetioInstrumented()){const a=wn()({phetioFeatured:this.phetioFeatured&&t.phetioFeatured},i);assert&&assert(Array.isArray(this.linkedElements),"linkedElements should be an array");let l=null;i&&i.tandem?l=i.tandem:i&&i.tandemName?l=this.tandem.createTandem(i.tandemName):!i&&t.tandem&&(l=this.tandem.createTandem(t.tandem.name)),l&&(a.tandem=l),this.linkedElements.push(new Gl(t,a))}}removeLinkedElements(t){this.isPhetioInstrumented()&&this.linkedElements&&(assert&&assert(t.isPhetioInstrumented()),this.linkedElements.filter(a=>a.element===t).forEach(a=>{a.dispose(),Is(this.linkedElements,a)}))}onSimulationConstructionCompleted(){this.phetioBaselineMetadata=null}getPhetioMouseHitTarget(t=!1){if(assert&&assert(phet.tandem.phetioElementSelectionProperty.value!=="none","getPhetioMouseHitTarget should not be called when phetioElementSelectionProperty is none"),!t&&phet.tandem.phetioElementSelectionProperty.value==="linked"){const i=this.getCorrespondingLinkedElement();if(i!=="noCorrespondingLinkedElement")return i.getPhetioMouseHitTarget(!0);if(this.tandem.parentTandem){const a=phet.phetio.phetioEngine.phetioElementMap[this.tandem.parentTandem.phetioID];if(a){const l=a.getCorrespondingLinkedElement();if(l!=="noCorrespondingLinkedElement")return l.getPhetioMouseHitTarget(!0)}}}return phet.tandem.phetioElementSelectionProperty.value==="string"?"phetioNotSelectable":this.getPhetioMouseHitTargetSelf()}getPhetioMouseHitTargetSelf(){return this.isPhetioMouseHitSelectable()?this:"phetioNotSelectable"}isPhetioMouseHitSelectable(){const t=phet.tandem.phetioElementsDisplayProperty.value!=="featured"||this.isDisplayedInFeaturedTree();return this.isPhetioInstrumented()&&t}isDisplayedInFeaturedTree(){if(this.isPhetioInstrumented()&&this.phetioFeatured)return!0;let t=!1;return this.tandem.iterateDescendants(i=>{const a=phet.phetio.phetioEngine.phetioElementMap[i.phetioID];a&&a.isPhetioInstrumented()&&a.phetioFeatured&&(t=!0)}),t}getCorrespondingLinkedElement(){const t=Object.keys(this.tandem.children),i=[];t.forEach(r=>{const g=phetio.PhetioIDUtils.append(this.tandem.phetioID,r),S=phet.phetio.phetioEngine.phetioElementMap[g];S instanceof Gl&&i.push(S)});const a=i.map(r=>phetio.PhetioIDUtils.getComponentName(r.phetioID));let l=null;if(i.length===1)l=i[0];else if(a.includes("property"))l=i[a.indexOf("property")];else if(a.includes("valueProperty"))l=i[a.indexOf("valueProperty")];else return"noCorrespondingLinkedElement";return assert&&assert(l,"phetioElement is needed"),l.element}dispose(){if(assert&&di.PHET_IO_ENABLED&&this.tandem.supplied){const t=[];this.tandem.iterateDescendants(i=>{phet.phetio.phetioEngine.hasPhetioObject(i.phetioID)&&t.push(phet.phetio.phetioEngine.getPhetioElement(i.phetioID))}),Pf.runOnNextTick(()=>{assert&&assert(!this.hasOwnProperty("phetioMessageStack")||this.phetioMessageStack.length===0,"phetioMessageStack should be clear"),t.forEach(i=>{assert&&assert(i.isDisposed,`All descendants must be disposed by the next frame: ${i.tandem.phetioID}`)})})}ff&&this.tandem&&this.tandem.supplied&&mu.remove(this),this.tandem.removePhetioObject(this),this.linkedElements&&(this.linkedElements.forEach(t=>t.dispose()),this.linkedElements.length=0),super.dispose()}getMetadata(t){t=t||this;const i={phetioTypeName:t.phetioType.typeName,phetioDocumentation:t.phetioDocumentation,phetioState:t.phetioState,phetioReadOnly:t.phetioReadOnly,phetioEventType:Er.phetioType.toStateObject(t.phetioEventType),phetioHighFrequency:t.phetioHighFrequency,phetioPlayback:t.phetioPlayback,phetioDynamicElement:t.phetioDynamicElement,phetioIsArchetype:t.phetioIsArchetype,phetioFeatured:t.phetioFeatured,phetioDesigned:t.phetioDesigned};return t.phetioArchetypePhetioID&&(i.phetioArchetypePhetioID=t.phetioArchetypePhetioID),i}static create(t){return new xa(t)}};xa.DEFAULT_OPTIONS=yo,xa.METADATA_DOCUMENTATION=`Get metadata about the PhET-iO Element. This includes the following keys:<ul><li><strong>phetioTypeName:</strong> The name of the PhET-iO Type
</li><li><strong>phetioDocumentation:</strong> default - null. Useful notes about a PhET-iO Element, shown in the PhET-iO Studio Wrapper</li><li><strong>phetioState:</strong> default - true. When true, includes the PhET-iO Element in the PhET-iO state
</li><li><strong>phetioReadOnly:</strong> default - false. When true, you can only get values from the PhET-iO Element; no setting allowed.
</li><li><strong>phetioEventType:</strong> default - MODEL. The category of event that this element emits to the PhET-iO Data Stream.
</li><li><strong>phetioDynamicElement:</strong> default - false. If this element is a "dynamic element" that can be created and destroyed throughout the lifetime of the sim (as opposed to existing forever).
</li><li><strong>phetioIsArchetype:</strong> default - false. If this element is an archetype for a dynamic element.
</li><li><strong>phetioFeatured:</strong> default - false. If this is a featured PhET-iO Element.
</li><li><strong>phetioArchetypePhetioID:</strong> default - ''. If an applicable dynamic element, this is the phetioID of its archetype.
</li></ul>`;let pu=xa;class Gl extends pu{constructor(t,i){assert&&assert(!!t,"coreElement should be defined");const a=wn()({phetioType:Bf,phetioState:!0,phetioFeatured:t.phetioFeatured},i);assert&&assert(!a.hasOwnProperty("phetioReadOnly"),"phetioReadOnly set by LinkedElement"),a.phetioReadOnly=!0,super(a),this.element=t}}Ri.register("PhetioObject",pu);const Nl=new Ar,_o=(A,t)=>{for(let a=0;a<t.length;a++)assert&&assert(t[a],"parameter type was not truthy");assert&&assert(A,"return type was not truthy");const i=`${A.typeName}.${t.map(a=>a.typeName).join(",")}`;if(!Nl.has(i)){let a=t.map(r=>r.typeName).join(", ");a===""&&(a="none");const l=t.map(r=>r.typeName).join(",");Nl.set(i,new yi(`FunctionIO(${l})=>${A.typeName}`,{valueType:"function",isFunctionType:!0,parameterTypes:t.concat([A]),documentation:`Wrapper for the built-in JS function type.<br><strong>Arguments:</strong> ${a}<br><strong>Return Type:</strong> ${A.typeName}`}))}return Nl.get(i)};Ri.register("FunctionIO",_o);const Fl=new Ar,zs=A=>(assert&&assert(A,"NullableIO needs parameterType"),Fl.has(A)||Fl.set(A,new yi(`NullableIO<${A.typeName}>`,{documentation:"A PhET-iO Type adding support for null in addition to the behavior of its parameter.",isValidValue:t=>t===null||Nn.isValueValid(t,A.validator),parameterTypes:[A],toStateObject:t=>t===null?null:A.toStateObject(t),fromStateObject:t=>t===null?null:A.fromStateObject(t),stateSchema:ys.asValue(`null|<${A.typeName}>`,{isValidValue:t=>t===null||A.isStateObjectValid(t)})})),Fl.get(A));Ri.register("NullableIO",zs);const yr=new yi("VoidIO",{isValidValue:()=>!0,documentation:"Type for which there is no instance, usually to mark functions without a return value",toStateObject:()=>{}});Ri.register("VoidIO",yr);const br=class br extends Xs{};br.UNDEFER=new br,br.NOTIFY=new br,br.enumeration=new Wr(br);let Wi=br;as.register("PropertyStatePhase",Wi);class Ca{constructor(){this.initialized=!1,this.phaseCallbackSets=new Q1,this.undeferBeforeUndeferMapPair=new vo(Wi.UNDEFER,Wi.UNDEFER),this.undeferBeforeNotifyMapPair=new vo(Wi.UNDEFER,Wi.NOTIFY),this.notifyBeforeUndeferMapPair=new vo(Wi.NOTIFY,Wi.UNDEFER),this.notifyBeforeNotifyMapPair=new vo(Wi.NOTIFY,Wi.NOTIFY),this.mapPairs=[this.undeferBeforeUndeferMapPair,this.undeferBeforeNotifyMapPair,this.notifyBeforeUndeferMapPair,this.notifyBeforeNotifyMapPair]}initialize(t){assert&&assert(!this.initialized,"cannot initialize twice"),t.onBeforeApplyStateEmitter.addListener(i=>{if(i instanceof Ia&&!i.isDeferred){i.setDeferred(!0);const a=i.tandem.phetioID,l=()=>{const r=i.setDeferred(!1);this.phaseCallbackSets.addNotifyPhaseCallback(new df(a,Wi.NOTIFY,r||_.noop))};this.phaseCallbackSets.addUndeferPhaseCallback(new df(a,Wi.UNDEFER,l))}}),t.undeferEmitter.addListener(i=>{this.undeferAndNotifyProperties(new Set(Object.keys(i)))}),t.isSettingStateProperty.lazyLink(i=>{assert&&!i&&assert(this.phaseCallbackSets.size===0,"PhaseCallbacks should have all been applied")}),this.initialized=!0}static validateInstrumentedProperty(t){assert&&di.VALIDATION&&assert(t instanceof Ia&&t.isPhetioInstrumented(),`must be an instrumented Property: ${t}`)}validatePropertyPhasePair(t,i){Ca.validateInstrumentedProperty(t)}getMapPairFromPhases(t,i){const a=this.mapPairs.filter(l=>t===l.beforePhase&&i===l.afterPhase);return assert&&assert(a.length===1,"one and only one map should match the provided phases"),a[0]}registerPhetioOrderDependency(t,i,a,l){di.PHET_IO_ENABLED&&(this.validatePropertyPhasePair(t,i),this.validatePropertyPhasePair(a,l),assert&&t===a&&assert(i!==l,"cannot set same Property to same phase"),this.getMapPairFromPhases(i,l).addOrderDependency(t.tandem.phetioID,a.tandem.phetioID))}propertyInAnOrderDependency(t){return Ca.validateInstrumentedProperty(t),_.some(this.mapPairs,i=>i.usesPhetioID(t.tandem.phetioID))}unregisterOrderDependenciesForProperty(t){di.PHET_IO_ENABLED&&(Ca.validateInstrumentedProperty(t),this.propertyInAnOrderDependency(t)&&(assert&&assert(this.propertyInAnOrderDependency(t),"Property must be registered in an order dependency to be unregistered"),this.mapPairs.forEach(i=>i.unregisterOrderDependenciesForProperty(t))))}undeferAndNotifyProperties(t){assert&&assert(this.initialized,"must be initialized before getting called");const i={};let a=0;for(;this.phaseCallbackSets.size>0;)a++,a>5e3&&this.errorInUndeferAndNotifyStep(i),this.attemptToApplyPhases(Wi.UNDEFER,i,t),this.attemptToApplyPhases(Wi.NOTIFY,i,t)}errorInUndeferAndNotifyStep(t){const i=[];this.phaseCallbackSets.forEach(g=>i.push(g.getTerm()));const a=[];this.mapPairs.forEach(g=>{const S=g.beforeMap;for(const[B,j]of S)j.forEach(W=>{const G=B+S.beforePhase,J=W+S.afterPhase;(i.includes(G)||i.includes(J))&&a.push({beforeTerm:G,afterTerm:J})})});let l="";console.log("still to be undeferred",this.phaseCallbackSets.undeferSet),console.log("still to be notified",this.phaseCallbackSets.notifySet),console.log("order dependencies that apply to the still todos",a),a.forEach(g=>{l+=`${g.beforeTerm}	${g.afterTerm}
`}),console.log(`

in graphable form:

`,l);const r="Impossible set state: from undeferAndNotifyProperties; ordering constraints cannot be satisfied";if(assert&&assert(!1,r),!assert)throw new Error(r)}getNumberOfOrderDependencies(){let t=0;return this.mapPairs.forEach(i=>{i.afterMap.forEach(a=>{t+=a.size})}),t}attemptToApplyPhases(t,i,a){const l=this.phaseCallbackSets.getSetFromPhase(t);for(const r of l)assert&&assert(r.phase===t,"phaseCallbackSet should only include callbacks for provided phase"),this.phetioIDCanApplyPhase(r.phetioID,t,i,a)&&(r.listener(),l.delete(r),i[r.getTerm()]=!0)}phetioIDCanApplyPhase(t,i,a,l){if(i===Wi.NOTIFY&&!a[t+Wi.UNDEFER])return!1;const r=[];this.mapPairs.forEach(g=>{g.afterPhase===i&&r.push(g.afterMap)});for(let g=0;g<r.length;g++){const S=r[g];if(!S.has(t))return!0;const B=S.get(t);assert&&assert(B,"must have this set");for(const j of B)if(!a[j+S.beforePhase]&&l.has(j)&&l.has(t))return!1}return!0}}class df{constructor(t,i,a=_.noop){this.phetioID=t,this.phase=i,this.listener=a}getTerm(){return this.phetioID+this.phase}}class vo{constructor(t,i){this.beforeMap=new Map,this.beforeMap.beforePhase=t,this.beforeMap.afterPhase=i,this.afterMap=new Map,this.afterMap.beforePhase=t,this.afterMap.afterPhase=i,this.beforeMap.otherMap=this.afterMap,this.afterMap.otherMap=this.beforeMap,this.beforePhase=t,this.afterPhase=i}addOrderDependency(t,i){this.beforeMap.has(t)||this.beforeMap.set(t,new Set),this.beforeMap.get(t).add(i),this.afterMap.has(i)||this.afterMap.set(i,new Set),this.afterMap.get(i).add(t)}unregisterOrderDependenciesForProperty(t){const i=t.tandem.phetioID;[this.beforeMap,this.afterMap].forEach(a=>{a.has(i)&&a.get(i).forEach(l=>{const r=a.otherMap.get(l);r&&r.delete(i),r.size===0&&a.otherMap.delete(l)}),a.delete(i)}),assertSlow&&[this.beforeMap,this.afterMap].forEach(a=>{a.forEach((l,r)=>{assertSlow&&assertSlow(r!==i,"should not be a key"),assertSlow&&assertSlow(!l.has(i),"should not be in a value list")})})}usesPhetioID(t){return this.beforeMap.has(t)||this.afterMap.has(t)}}class Q1{constructor(){this.undeferSet=new Set,this.notifySet=new Set}get size(){return this.undeferSet.size+this.notifySet.size}forEach(t){this.undeferSet.forEach(t),this.notifySet.forEach(t)}addUndeferPhaseCallback(t){this.undeferSet.add(t)}addNotifyPhaseCallback(t){this.notifySet.add(t)}getSetFromPhase(t){return t===Wi.NOTIFY?this.notifySet:this.undeferSet}}as.register("PropertyStateHandler",Ca);const $l=new Ca;as.register("propertyStateHandlerSingleton",$l);class Co extends Dr{constructor(t,i,a,l){super(i,a,l||"queue"),this._value=t}get(){return this._value}get value(){return this.get()}set value(t){this.set(t)}set(t){if(!this.equalsValue(t)){const i=this._value;this.setPropertyValue(t),this.notifyListeners(i)}}setPropertyValue(t){this._value=t}equalsValue(t){return this.areValuesEqual(t,this._value)}areValuesEqual(t,i){return Nn.equalsForValidationStrategy(t,i,this.valueComparisonStrategy)}notifyListeners(t){this.emit(this._value,t,this)}link(t){this.addListener(t),t(this._value,null,this)}lazyLink(t){this.addListener(t)}unlink(t){this.removeListener(t)}unlinkAll(){this.removeAllListeners()}linkAttribute(t,i){const a=l=>{t[i]=l};return this.link(a),a}isSettable(){return!0}get valueComparisonStrategy(){return this._valueComparisonStrategy||"reference"}set valueComparisonStrategy(t){this._valueComparisonStrategy=t}dispose(){this.unlinkAll(),super.dispose()}}as.register("TinyProperty",Co);const rh={values:["1/(cm*M)","%","A","AMU","atm","AU","AU^2","cm","cm^2","C","","C","F","F","g","G","Hz","J","K","kg","kg/m^3","kgm/s","km/s","kPa","L","L/s","m","m^3","m/s","m/s/s","m/s^2","mA","mm","mol","mol/L","mol/s","M","N","N/m","nm","nm/ps","Ns/m","","cm","Pas","particles/ps","pm","pm/ps","pm/s","pm/s^2","pm^3","ps","radians","radians/s","radians/s^2","rpm","s","V","view-coordinates/s","W","Wb","years"],isValidUnits:function(A){return _.includes(rh.values,A)}};as.register("units",rh);const Lf=new Co(!1);Ri.register("isClearingPhetioDynamicElementsProperty",Lf);const Rf=new Co(!1);Ri.register("isPhetioStateEngineManagingPropertyValuesProperty",Rf);const Bl={validateValidator:!1};let J1=0;const Vl=new Ar,tv=_.hasIn(window,"phet.chipper.queryParameters")&&phet.chipper.queryParameters.strictAxonDependencies&&phet.chipper.queryParameters.listenerOrder==="default",Ll=[],ss=class ss extends pu{constructor(t,i){const a=wn()({units:null,reentrant:!1,hasListenerOrderDependencies:!1,reentrantNotificationStrategy:"queue",valueComparisonStrategy:"reference",tandemNameSuffix:["Property",Nf],phetioOuterType:ss.PropertyIO,phetioValueType:yi.ObjectIO},i);assert&&a.units&&assert(rh.isValidUnits(a.units),`invalid units: ${a.units}`),a.units&&(a.phetioEventMetadata=a.phetioEventMetadata||{},assert&&assert(!a.phetioEventMetadata.hasOwnProperty("units"),"units should be supplied by Property, not elsewhere"),a.phetioEventMetadata.units=a.units),assert&&i&&assert&&assert(!i.phetioType,"Set phetioType via phetioValueType"),a.phetioOuterType&&a.phetioValueType&&(a.phetioType=a.phetioOuterType(a.phetioValueType)),Nn.containsValidatorKey(a)||(a.isValidValue=()=>!0),super(a),this.id=J1++,this.units=a.units,this.isPhetioInstrumented()&&(assert&&di.VALIDATION&&assert(this.phetioType,`phetioType passed to Property must be specified. Tandem.phetioID: ${this.tandem.phetioID}`),assert&&di.VALIDATION&&assert(a.phetioType.parameterTypes[0],`phetioType parameter type must be specified (only one). Tandem.phetioID: ${this.tandem.phetioID}`),assert&&assert(a.phetioValueType!==yi.ObjectIO,"PhET-iO Properties must specify a phetioValueType: "+this.phetioID)),this.validValues=a.validValues,this.tinyProperty=new Co(t,null,a.hasListenerOrderDependencies,a.reentrantNotificationStrategy),this.tinyProperty.valueComparisonStrategy=a.valueComparisonStrategy,this.notifying=!1,this.reentrant=a.reentrant,this.isDeferred=!1,this.deferredValue=null,this.hasDeferredValue=!1,this.valueValidator=_.pick(a,Nn.VALIDATOR_KEYS),this.valueValidator.validationMessage=this.valueValidator.validationMessage||"Property value not valid",this.valueValidator.phetioType&&(assert&&assert(!!this.valueValidator.phetioType.parameterTypes[0],"unexpected number of parameters for Property"),this.valueValidator.phetioType=this.valueValidator.phetioType.parameterTypes[0]),assert&&(Nn.validateValidator(this.valueValidator),fn(t,this.valueValidator,Bl))}isSettable(){return!1}get(){return assert&&tv&&Ll.length>0&&(Ll[Ll.length-1].includes(this)||assert&&assert(!1,"accessed value outside of dependency tracking")),this.tinyProperty.get()}set(t){Rf.value&&!Lf.value&&this.isPhetioInstrumented()&&this.phetioState&&this.isSettable()||this.unguardedSet(t)}unguardedSet(t){if(!this.isDisposed){if(this.isDeferred)this.deferredValue=t,this.hasDeferredValue=!0;else if(!this.equalsValue(t)){const i=this.get();this.setPropertyValue(t),this._notifyListeners(i)}}}setPropertyValue(t){this.tinyProperty.setPropertyValue(t)}equalsValue(t){return this.areValuesEqual(t,this.get())}areValuesEqual(t,i){return this.tinyProperty.areValuesEqual(t,i)}_notifyListeners(t){const i=this.get();assert&&fn(i,this.valueValidator,Bl),di.PHET_IO_ENABLED&&this.isPhetioInstrumented()&&this.phetioStartEvent(ss.CHANGED_EVENT_NAME,{getData:()=>{const a=this.phetioType.parameterTypes[0];return{oldValue:zs(a).toStateObject(t),newValue:a.toStateObject(i)}}}),assert&&assert(!this.notifying||this.reentrant,`reentry detected, value=${i}, oldValue=${t}`),this.notifying=!0,this.tinyProperty.emit(i,t,this),this.notifying=!1,di.PHET_IO_ENABLED&&this.isPhetioInstrumented()&&this.phetioEndEvent()}notifyListenersStatic(){this._notifyListeners(null)}setDeferred(t){if(assert&&assert(!this.isDisposed,"cannot defer Property if already disposed."),t)assert&&assert(!this.isDeferred,"Property already deferred"),this.isDeferred=!0;else{assert&&assert(this.isDeferred,"Property wasn't deferred"),this.isDeferred=!1;const i=this.get();if(this.hasDeferredValue&&(this.setPropertyValue(this.deferredValue),this.hasDeferredValue=!1,this.deferredValue=null),!this.equalsValue(i))return()=>!this.isDisposed&&this._notifyListeners(i)}return null}get value(){return this.get()}set value(t){this.set(t)}addPhetioStateDependencies(t){assert&&assert(Array.isArray(t),"Array expected");for(let i=0;i<t.length;i++){const a=t[i];a instanceof ss&&a.isPhetioInstrumented()&&this.isPhetioInstrumented()&&$l.registerPhetioOrderDependency(a,Wi.UNDEFER,this,Wi.NOTIFY)}}link(t,i){i&&i.phetioDependencies&&this.addPhetioStateDependencies(i.phetioDependencies),this.tinyProperty.addListener(t),t(this.get(),null,this)}lazyLink(t,i){i&&i.phetioDependencies&&this.addPhetioStateDependencies(i.phetioDependencies),this.tinyProperty.lazyLink(t)}unlink(t){this.tinyProperty.unlink(t)}unlinkAll(){this.tinyProperty.unlinkAll()}linkAttribute(t,i){const a=l=>{t[i]=l};return this.link(a),a}toString(){return`Property#${this.id}{${this.get()}}`}debug(t){const i=a=>console.log(t,a);return this.link(i),i}isValueValid(t){return this.getValidationError(t)===null}getValidationError(t){return Nn.getValidationError(t,this.valueValidator,Bl)}dispose(){this.isPhetioInstrumented()&&$l.unregisterOrderDependenciesForProperty(this),super.dispose(),this.tinyProperty.dispose()}hasListener(t){return this.tinyProperty.hasListener(t)}getListenerCount(){return this.tinyProperty.getListenerCount()}forEachListener(t){this.tinyProperty.forEachListener(t)}hasListeners(){return assert&&assert(arguments.length===0,"Property.hasListeners should be called without arguments"),this.tinyProperty.hasListeners()}get valueComparisonStrategy(){return this.tinyProperty.valueComparisonStrategy}set valueComparisonStrategy(t){this.tinyProperty.valueComparisonStrategy=t}static PropertyIO(t){return assert&&assert(t,"PropertyIO needs parameterType"),Vl.has(t)||Vl.set(t,new yi(`PropertyIO<${t.typeName}>`,{valueType:ss,documentation:"Observable values that send out notifications when the value changes. This differs from the traditional listener pattern in that added listeners also receive a callback with the current value when the listeners are registered. This is a widely-used pattern in PhET-iO simulations.",methodOrder:["link","lazyLink"],events:[ss.CHANGED_EVENT_NAME],parameterTypes:[t],toStateObject:i=>(assert&&assert(t.toStateObject,`toStateObject doesn't exist for ${t.typeName}`),{value:t.toStateObject(i.value),validValues:zs(xo(t)).toStateObject(i.validValues===void 0?null:i.validValues),units:zs(wa).toStateObject(i.units)}),applyState:(i,a)=>{const l=zs(wa).fromStateObject(a.units);assert&&assert(i.units===l,"Property units do not match"),assert&&assert(i.isSettable(),"Property should be settable"),i.unguardedSet(t.fromStateObject(a.value)),a.validValues&&(i.validValues=a.validValues.map(r=>t.fromStateObject(r)))},stateSchema:{value:t,validValues:zs(xo(t)),units:zs(wa)},methods:{getValue:{returnType:t,parameterTypes:[],implementation:ss.prototype.get,documentation:"Gets the current value."},getValidationError:{returnType:zs(wa),parameterTypes:[t],implementation:ss.prototype.getValidationError,documentation:"Checks to see if a proposed value is valid. Returns the first validation error, or null if the value is valid."},setValue:{returnType:yr,parameterTypes:[t],implementation:function(i){this.set(i)},documentation:"Sets the value of the Property. If the value differs from the previous value, listeners are notified with the new value.",invocableForReadOnlyElements:!1},link:{returnType:yr,parameterTypes:[_o(yr,[t,zs(t)])],implementation:ss.prototype.link,documentation:"Adds a listener which will be called when the value changes. On registration, the listener is also called with the current value. The listener takes two arguments, the new value and the previous value."},lazyLink:{returnType:yr,parameterTypes:[_o(yr,[t,zs(t)])],implementation:ss.prototype.lazyLink,documentation:'Adds a listener which will be called when the value changes. This method is like "link", but without the current-value callback on registration. The listener takes two arguments, the new value and the previous value.'},unlink:{returnType:yr,parameterTypes:[_o(yr,[t])],implementation:ss.prototype.unlink,documentation:"Removes a listener."}}})),Vl.get(t)}getPhetioMouseHitTarget(t=!1){return phet.tandem.phetioElementSelectionProperty.value==="string"?this.getPhetioMouseHitTargetSelf():super.getPhetioMouseHitTarget(t)}};ss.CHANGED_EVENT_NAME="changed";let Ia=ss;as.register("ReadOnlyProperty",Ia);class kf extends Ia{constructor(t,i){super(t,i),this._initialValue=t}getInitialValue(){return this._initialValue}get initialValue(){return this.getInitialValue()}setInitialValue(t){this._initialValue=t}get value(){return super.value}set value(t){super.set(t)}reset(){this.set(this._initialValue)}set(t){super.set(t)}isSettable(){return!0}}as.register("Property",kf);const ev={isValidValue:A=>!isNaN(A.x)&&!isNaN(A.y),validationMessage:"Vector2 x/y should not be NaN"};class iv extends kf{constructor(t,i){const a=wn()({valueType:ce,validBounds:null,validators:[],phetioValueType:ce.Vector2IO},i);a.validators.push(ev),a.validBounds&&a.validators.push({validationMessage:"Vector2 is not within validBounds",isValidValue:l=>a.validBounds.containsPoint(l)}),super(t,a),this.validBounds=a.validBounds}}le.register("Vector2Property",iv);export{gu as $,yr as A,Fn as B,D1 as C,ri as D,Xs as E,_o as F,xo as G,Ar as H,yi as I,wa as J,rs as K,Ia as L,_n as M,zs as N,xr as O,kf as P,tn as Q,Hs as R,Da as S,Co as T,$l as U,ce as V,Wi as W,Ll as X,yf as Y,Sa as Z,eh as _,Is as a,kl as a0,nh as a1,Jl as a2,Ji as a3,ji as a4,du as a5,Gr as a6,Cf as a7,Ts as a8,Er as a9,fu as aa,rr as ab,ke as ac,iv as ad,Pf as ae,te as af,an as ag,sr as ah,T1 as ai,Pn as aj,Nf as ak,Ui as b,s1 as c,Sf as d,Ur as e,sv as f,rv as g,av as h,Wr as i,zl as j,di as k,Dr as l,Yr as m,Eo as n,wn as o,Bn as p,vf as q,Ff as r,ys as s,Ri as t,as as u,Of as v,Nn as w,pu as x,fn as y,Kl as z};
